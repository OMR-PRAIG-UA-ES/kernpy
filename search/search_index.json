{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"kernpy documentation","text":"<p><code>kernpy</code> is a python package that provides utilities for working with kern and mens data. </p>"},{"location":"#useful-links","title":"Useful links:","text":"<p>Installation | Source Repository | Project Website (PRAIG)</p>"},{"location":"#contents","title":"Contents","text":"<ol> <li> <p>Getting started</p> <p>New to <code>kernpy</code>? Check out the getting started guides. They contain an introduction <code>kernpy</code> main concepts and links to additional tutorials.</p> </li> <li> <p>How-To guide</p> <p>The How-To guides provide in-depth information on how to perform specific tasks with <code>kernpy</code> step-by-step.</p> </li> <li> <p>API reference</p> <p>The API reference contains a detailed description of the <code>kernpy</code> API. The reference describes how the methods work and which parameters can be used. It assumes that you are already familiar with the basic concepts of <code>kernpy</code>.</p> </li> <li> <p>About</p> <p>Find out more about the <code>kernpy</code> project, including the team, how to contribute, and the license.</p> </li> </ol> <p></p> <p>Quickly find what you are looking for depending on your use case by looking at the different pages.</p>"},{"location":"#acknowledgements","title":"Acknowledgements","text":"<p>University of Alicante. </p>"},{"location":"about/","title":"Who are we?","text":"<p>We are a research group affiliated with the University of Alicante. </p> <p>To learn more about our work, please visit our website.</p>"},{"location":"get-started/","title":"Getting started","text":""},{"location":"get-started/#installation","title":"Installation","text":"<p>Instructions for installing <code>kernpy</code> are provided below.</p>"},{"location":"get-started/#install-kernpy-using-pip","title":"Install <code>kernpy</code> using <code>pip</code>","text":"<pre><code>pip install kernpy\n</code></pre>"},{"location":"get-started/#install-the-last-version-from-the-repository","title":"Install the last version from the repository","text":"<pre><code>pip install git+https://github.com/OMR-PRAIG-UA-ES/kernpy.git \n</code></pre>"},{"location":"get-started/#install-a-specific-version-from-the-repository","title":"Install a specific version from the repository","text":"<pre><code>pip install git+https://github.com/OMR-PRAIG-UA-ES/kernpy.git@&lt;commit-tag&gt;\n</code></pre>"},{"location":"get-started/#next-steps","title":"Next steps","text":"<ul> <li>Tutorial     Learn how to use <code>kernpy</code> in a few minutes.</li> </ul>"},{"location":"how-to-guides/","title":"Guides: learn what you can do with <code>kernpy</code>","text":"<p>This section contains a series of guides that will help you get started with <code>kernpy</code> and learn how to use it to perform different tasks.</p> <ul> <li>Get started</li> </ul>"},{"location":"reference/","title":"API Reference","text":"<p>Here you can find the API reference for the <code>kernpy</code> package. The reference contains a detailed description of the <code>kernpy</code> API. The reference describes how the methods work and which parameters can be used. </p> <p>Find the basics of the <code>kernpy</code> package in the Tutorial.</p>"},{"location":"reference/#kernpy--kernpy","title":"kernpy","text":"<p>=====</p> <p>Python Humdrum kern and mens utilities package.</p> <p>Execute the following command to run kernpy as a module:</p> <pre><code>python -m kernpy --help\npython -m kernpy &lt;command&gt; &lt;options&gt;\n</code></pre> <p>Run <code>kernpy</code> from your script:</p> <pre><code>import kernpy\n\nhelp(kernpy)\n</code></pre> <p>While the package is not published in <code>pip</code>, the <code>kernpy</code> module must be in the root directory.</p>"},{"location":"reference/#kernpy--kern2ekern-convertir-un-solo-archivo-krn-a-ekern","title":"\ud83c\udfaf kern2ekern: Convertir un solo archivo .krn a .ekern:","text":"<pre><code>python -m kernpy --kern2ekern --input_path &lt;input_file&gt;  &lt;v | --verbose [0-2]&gt;\n</code></pre> <p>The command has the following arguments: * input_path: Ruta del archivo .krn a convertir. * output_path: Ruta del archivo .ekern a generar (opcional). Si no se especifica, se generar\u00e1 en la misma ubicaci\u00f3n. * -r: Recursivo (opcional). * --verbose[0-2]: Nivel de verbosidad (opcional).</p> <p>\ud83d\udccc Basic usage running kernpy as a module:</p> <pre><code>python -m kernpy --input_path /my/path/to/file.krn # New ekern generated in /my/path/to/file.ekern\n</code></pre> <p>\ud83d\udccc Generate an ekrn file in specific location running kernpy as a module:</p> <pre><code>python -m kernpy --input_path /my/path/to/file.krn --output_path /new/output.ekern\n</code></pre> <p>\ud83d\udccc Converting all the .krn files in a directory to .ekern files running kernpy as a module: * Every .krn file in the directory will be converted to .ekern in the same location. * Using, at least, one additional directory level is required.</p> <pre><code>root\n\u251c\u2500 kern-folder\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 1.krn\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 2.krn\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 3.krn\n\u251c\u2500\u2500 more-kerns\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 1.krn\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 ...\n</code></pre> <p>Run:</p> <pre><code>python -m kernpy --input_path /my/path/to/directory/ -r\n</code></pre> <p>\u270f\ufe0f This function is also available as a python function:</p> <pre><code># converter.py\nfrom kernpy import kern_to_ekern\n\nkern_to_ekern('/my/path/to/input.krn', '/to/my/output.ekrn')\n\n# Many files\nfiles = ['file1.krn', 'file2.krn', 'file3.krn']\n[kern_to_ekern(f) for f in files]\n\n# This function raises an exception if the conversion fails.\n# Handle the errors using try-except statement if many files are going to be converted in series.\n</code></pre>"},{"location":"reference/#kernpy--ekern2kern-convertir-un-solo-archivo-ekern-a-krn","title":"\ud83c\udfaf ekern2kern: Convertir un solo archivo .ekern a .krn:","text":"<pre><code>python -m kernpy --ekern2kern --input_path &lt;input_file&gt;  &lt;--verbose [0-2]&gt;\n</code></pre> <p>The command has the following arguments: * input_path: Ruta del archivo .ekern a convertir. * output_path: Ruta del archivo .krn a generar (opcional). Si no se especifica, se generar\u00e1 en la misma ubicaci\u00f3n. * -r: Recursivo (opcional). * --verbose[0-2]: Nivel de verbosidad (opcional).</p> <ul> <li>Basic usage running kernpy as a module:</li> </ul> <pre><code>python -m kernpy --input_path /my/path/to/file.ekern # New krn generated in /my/path/to/file.krn\n</code></pre> <p>\ud83d\udccc Generate a krn file in specific location running kernpy as a module:</p> <pre><code>python -m kernpy --input_path /my/path/to/file.ekern --output_path /new/output.krn\n</code></pre> <p>\ud83d\udccc Converting all the .ekern files in a directory to .krn files running kernpy as a module:</p> <ul> <li>Every .ekrn file in the directory will be converted to .krn in the same location.</li> <li>Using, at least, one additional directory level is required.</li> </ul> <pre><code>root\n\u251c\u2500 ekern-folder\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 1.ekrn\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 2.ekrn\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 3.ekrn\n\u251c\u2500\u2500 more-ekerns\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 1.ekrn\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 ...\n</code></pre> <p>Run:</p> <pre><code>python -m kernpy --input_path /my/path/to/directory/ -r\n</code></pre> <p>\u270f\ufe0f This function is also available as a python function:</p> <pre><code># converter.py\nfrom kernpy import ekern_to_krn\n\n# Only one file\nekern_to_krn('/my/path/to/input.ekrn', '/to/my/output.krn')\n\n# Many files\nfiles = ['file1.ekrn', 'file2.ekrn', 'file3.ekrn']\n[ekern_to_krn(f) for f in files]\n\n# This function raises an exception if the conversion fails.\n# Handle the errors using try-except statement if many files are going to be converted in series.\n</code></pre>"},{"location":"reference/#kernpy--create-fragments","title":"\ud83c\udfaf create fragments","text":"<p>Generate new valid kern files from an original kern file. Every new fragment will be a subset of the original file.</p> <p>Explore the documentation website for more information about the parameters.</p> <p>Use: - create_fragments_from_kern to generate using always the same measure length. - create_fragments_from_directory to generate using a Gaussian distribution for the measure length. Static measure is also available if the standard deviation is set to 0.</p> <p>\ud83d\udccc Create new scores from one original kern directory running kernpy as a module:</p> <pre><code>python -m kernpy --generate_fragments --input_directory /from/my/kerns --output_directory /to/my/fragments --log_file log.csv  --verbose 2 --mean 4.2 --std_dev 1.5 --offset 1 --num_processes 12\n</code></pre> <p>\u270f\ufe0f Create new scores from one original kern file:</p> <pre><code># generator.py\nfrom kernpy import create_fragments_from_kern\n\n# View docs:\nhelp(create_fragments_from_kern)\n\ncreate_fragments_from_kern('/my/path/to/input.krn', '/to/my/output_dir/',\n                           measure_length=4, offset=1,\n                           log_file='/dev/null')\n</code></pre> <p>\u270f\ufe0f Create new scores from one original kern directory: - Using, at least, one additional directory level is required.</p> <pre><code>root\n\u251c\u2500 kern-folder\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 1.krn\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 2.krn\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 3.krn\n\u251c\u2500\u2500 more-kerns\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 1.krn\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 ...\n</code></pre> <p>Run:</p> <pre><code># generator.py\nfrom kernpy import create_fragments_from_directory\n\n# View docs:\nhelp(create_fragments_from_directory)\n\ncreate_fragments_from_directory('/my/path/to/input_dir/', '/to/my/output_dir/',\n                                mean=4.1, std_dev=0.2, offset=2,\n                                log_file='/logs/fragments.csv',\n                                num_processes=12)\n</code></pre>"},{"location":"reference/#modules","title":"Modules","text":"<p>kernpy.core</p> <p>=====</p> <p>This module contains the core functionality of the <code>kernpy</code> package.</p> <p>kernpy.util</p> <p>=====</p> <p>This module contains utility functions for the kernpy package.</p> <p>polish_scores</p> <p>====</p> <p>This module provides a way to download and process the Polish Scores dataset.</p>"},{"location":"reference/#kernpy.core.Document","title":"<code>Document</code>","text":""},{"location":"reference/#kernpy.core.Document.__iter__","title":"<code>__iter__()</code>","text":"<p>Get the indexes to export all the document.</p> <p>Returns: An iterator with the indexes to export the document.</p>"},{"location":"reference/#kernpy.core.Document.__next__","title":"<code>__next__()</code>","text":"<p>Get the next index to export the document.</p> <p>Returns: The next index to export the document.</p>"},{"location":"reference/#kernpy.core.Document.clone","title":"<code>clone()</code>","text":"<p>Create a deep copy of the Document instance.</p> <p>Returns: A new instance of Document with the tree copied.</p>"},{"location":"reference/#kernpy.core.Document.get_all_tokens","title":"<code>get_all_tokens(filter_by_categories=None)</code>","text":"<p>Parameters:</p> Name Type Description Default <code>filter_by_categories</code> <p>A list of categories to filter the tokens. If None, all tokens are returned.</p> <code>None</code> <p>Returns:</p> Type Description <p>list - A list of tokens.</p>"},{"location":"reference/#kernpy.core.Document.get_first_measure","title":"<code>get_first_measure()</code>","text":"<p>Get the index of the first measure of the document.</p> <p>Returns: (Int) The index of the first measure of the document.</p> <p>Raises: Exception - If the document has no measures.</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; document, err = kernpy.read('score.krn')\n&gt;&gt;&gt; document.get_first_measure()\n1\n</code></pre>"},{"location":"reference/#kernpy.core.Document.get_metacomments","title":"<code>get_metacomments(KeyComment=None, clear=False)</code>","text":"<p>Get all metacomments in the document</p> <p>Parameters:</p> Name Type Description Default <code>KeyComment</code> <p>Filter by a specific metacomment key: e.g. Use 'COM' to get only comments starting with                '!!!COM: '. If None, all metacomments are returned.</p> <code>None</code> <code>clear</code> <p>If True, the metacomment key is removed from the comment. E.g. '!!!COM: Coltrane' -&gt; 'Coltrane'.                If False, the metacomment key is kept. E.g. '!!!COM: Coltrane' -&gt; '!!!COM: Coltrane'.                 The clear functionality is equivalent to the following code:</p> <pre><code>comment = '!!!COM: Coltrane'\nclean_comment = comment.replace(f\"!!!{KeyComment}: \", \"\")\n</code></pre> <p>Other formats are not supported.</p> <code>False</code> <p>Returns: A list of metacomments.</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; document.get_metacomments()\n['!!!COM: Coltrane', '!!!voices: 1', '!!!OPR: Blue Train']\n&gt;&gt;&gt; document.get_metacomments(KeyComment='COM')\n['!!!COM: Coltrane']\n&gt;&gt;&gt; document.get_metacomments(KeyComment='COM', clear=True)\n['Coltrane']\n&gt;&gt;&gt; document.get_metacomments(KeyComment='non_existing_key')\n[]\n</code></pre>"},{"location":"reference/#kernpy.core.Document.get_unique_token_encodings","title":"<code>get_unique_token_encodings(filter_by_categories=None)</code>","text":"<p>Get unique token encodings.</p> <p>Parameters:</p> Name Type Description Default <code>filter_by_categories</code> <p>A list of categories to filter the tokens. If None, all tokens are returned.</p> <code>None</code> <p>Returns: list[str] - A list of unique token encodings.</p>"},{"location":"reference/#kernpy.core.Document.get_unique_tokens","title":"<code>get_unique_tokens(filter_by_categories=None)</code>","text":"<p>Get unique tokens.</p> <p>Parameters:</p> Name Type Description Default <code>filter_by_categories</code> <p>A list of categories to filter the tokens. If None, all tokens are returned.</p> <code>None</code> <p>Returns:</p> Type Description <code>list</code> <p>list - A list of unique tokens.</p>"},{"location":"reference/#kernpy.core.Document.get_voices","title":"<code>get_voices(clean=False)</code>","text":"<p>Get the voices of the document.</p> <p>Args     clean: Remove the first '!' from the voice name.</p> <p>Returns: A list of voices.</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; document.get_voices()\n['!sax', '!piano', '!bass']\n&gt;&gt;&gt; document.get_voices(clean=True)\n['sax', 'piano', 'bass']\n&gt;&gt;&gt; document.get_voices(clean=False)\n['!sax', '!piano', '!bass']\n</code></pre>"},{"location":"reference/#kernpy.core.Document.measures_count","title":"<code>measures_count()</code>","text":"<p>Get the index of the last measure of the document.</p> <p>Returns: (Int) The index of the last measure of the document.</p> <p>Raises: Exception - If the document has no measures.</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; document, _ = kernpy.read('score.krn')\n&gt;&gt;&gt; document.measures_count()\n10\n&gt;&gt;&gt; for i in range(document.get_first_measure(), document.measures_count() + 1):\n&gt;&gt;&gt;   options = kernpy.ExportOptions(from_measure=i, to_measure=i+4)\n</code></pre>"},{"location":"reference/#kernpy.core.Document.tokens_to_encodings","title":"<code>tokens_to_encodings(tokens)</code>  <code>staticmethod</code>","text":"<p>Get the encodings of a list of tokens.</p> The method is equivalent to the following code <p>tokens = yourModule.get_all_tokens() [token.encoding for token in tokens if token.encoding is not None]</p> <p>Parameters:</p> Name Type Description Default <code>tokens</code> <code>list</code> <p>list - A list of tokens.</p> required <p>Returns: list[str] - A list of token encodings.</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; tokens = document.get_all_tokens()\n&gt;&gt;&gt; Document.tokens_to_encodings(tokens)\n['!!!COM: Coltrane', '!!!voices: 1', '!!!OPR: Blue Train']\n</code></pre>"},{"location":"reference/#kernpy.core.Duration","title":"<code>Duration</code>","text":"<p>               Bases: <code>ABC</code></p> <p>Represents the duration of a note or a rest.</p> <p>The duration is represented using the Humdrum Kern format. The duration is a number that represents the number of units of the duration.</p> <p>The duration of a whole note is 1, half note is 2, quarter note is 4, eighth note is 8, etc.</p> <p>The duration of a note is represented by a number. The duration of a rest is also represented by a number.</p> <p>This class do not limit the duration ranges.</p> <p>In the following example, the duration is represented by the number '2'.</p> <pre><code>**kern\n*clefG2\n2c          // whole note\n4c          // half note\n8c          // quarter note\n16c         // eighth note\n*-\n</code></pre>"},{"location":"reference/#kernpy.core.DurationClassical","title":"<code>DurationClassical</code>","text":"<p>               Bases: <code>Duration</code></p> <p>Represents the duration in classical notation of a note or a rest.</p>"},{"location":"reference/#kernpy.core.DurationClassical.__eq__","title":"<code>__eq__(other)</code>","text":"<p>Compare two durations.</p> <p>Parameters:</p> Name Type Description Default <code>other</code> <p>The other duration to compare</p> required <p>Returns:</p> Type Description <p>True if the durations are equal, False otherwise</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; duration = DurationClassical(2)\n&gt;&gt;&gt; duration2 = DurationClassical(2)\n&gt;&gt;&gt; duration == duration2\nTrue\n&gt;&gt;&gt; duration = DurationClassical(2)\n&gt;&gt;&gt; duration2 = DurationClassical(4)\n&gt;&gt;&gt; duration == duration2\nFalse\n</code></pre>"},{"location":"reference/#kernpy.core.DurationClassical.__ge__","title":"<code>__ge__(other)</code>","text":"<p>Compare two durations.</p> <p>Parameters:</p> Name Type Description Default <code>other</code> <p>The other duration to compare</p> required <p>Returns:</p> Type Description <p>True if this duration is higher or equal than the other, False otherwise</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; duration = DurationClassical(2)\n&gt;&gt;&gt; duration2 = DurationClassical(4)\n&gt;&gt;&gt; duration &gt;= duration2\nFalse\n&gt;&gt;&gt; duration = DurationClassical(4)\n&gt;&gt;&gt; duration2 = DurationClassical(2)\n&gt;&gt;&gt; duration &gt;= duration2\nTrue\n&gt;&gt;&gt; duration = DurationClassical(4)\n&gt;&gt;&gt; duration2 = DurationClassical(4)\n&gt;&gt;&gt; duration &gt;= duration2\nTrue\n</code></pre>"},{"location":"reference/#kernpy.core.DurationClassical.__gt__","title":"<code>__gt__(other)</code>","text":"<p>Compare two durations.</p> <p>Parameters:</p> Name Type Description Default <code>other</code> <p>The other duration to compare</p> required <p>Returns:</p> Type Description <p>True if this duration is higher than the other, False otherwise</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; duration = DurationClassical(2)\n&gt;&gt;&gt; duration2 = DurationClassical(4)\n&gt;&gt;&gt; duration &gt; duration2\nFalse\n&gt;&gt;&gt; duration = DurationClassical(4)\n&gt;&gt;&gt; duration2 = DurationClassical(2)\n&gt;&gt;&gt; duration &gt; duration2\nTrue\n&gt;&gt;&gt; duration = DurationClassical(4)\n&gt;&gt;&gt; duration2 = DurationClassical(4)\n&gt;&gt;&gt; duration &gt; duration2\nFalse\n</code></pre>"},{"location":"reference/#kernpy.core.DurationClassical.__init__","title":"<code>__init__(duration)</code>","text":"<p>Create a new Duration object.</p> <p>Parameters:</p> Name Type Description Default <code>raw_duration</code> <code>str</code> <p>duration representation in Humdrum Kern format</p> required <p>Examples:</p> <pre><code>&gt;&gt;&gt; duration = DurationClassical(2)\nTrue\n&gt;&gt;&gt; duration = DurationClassical(4)\nTrue\n&gt;&gt;&gt; duration = DurationClassical(32)\nTrue\n&gt;&gt;&gt; duration = DurationClassical(1)\nTrue\n&gt;&gt;&gt; duration = DurationClassical(0)\nFalse\n&gt;&gt;&gt; duration = DurationClassical(-2)\nFalse\n&gt;&gt;&gt; duration = DurationClassical(3)\nFalse\n&gt;&gt;&gt; duration = DurationClassical(7)\nFalse\n</code></pre>"},{"location":"reference/#kernpy.core.DurationClassical.__le__","title":"<code>__le__(other)</code>","text":"<p>Compare two durations.</p> <p>Parameters:</p> Name Type Description Default <code>other</code> <p>The other duration to compare</p> required <p>Returns:</p> Type Description <p>True if this duration is lower or equal than the other, False otherwise</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; duration = DurationClassical(2)\n&gt;&gt;&gt; duration2 = DurationClassical(4)\n&gt;&gt;&gt; duration &lt;= duration2\nTrue\n&gt;&gt;&gt; duration = DurationClassical(4)\n&gt;&gt;&gt; duration2 = DurationClassical(2)\n&gt;&gt;&gt; duration &lt;= duration2\nFalse\n&gt;&gt;&gt; duration = DurationClassical(4)\n&gt;&gt;&gt; duration2 = DurationClassical(4)\n&gt;&gt;&gt; duration &lt;= duration2\nTrue\n</code></pre>"},{"location":"reference/#kernpy.core.DurationClassical.__lt__","title":"<code>__lt__(other)</code>","text":"<p>Compare two durations.</p> <p>Parameters:</p> Name Type Description Default <code>other</code> <p>The other duration to compare</p> required <p>Returns:</p> Type Description <p>True if this duration is lower than the other, False otherwise</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; duration = DurationClassical(2)\n&gt;&gt;&gt; duration2 = DurationClassical(4)\n&gt;&gt;&gt; duration &lt; duration2\nTrue\n&gt;&gt;&gt; duration = DurationClassical(4)\n&gt;&gt;&gt; duration2 = DurationClassical(2)\n&gt;&gt;&gt; duration &lt; duration2\nFalse\n&gt;&gt;&gt; duration = DurationClassical(4)\n&gt;&gt;&gt; duration2 = DurationClassical(4)\n&gt;&gt;&gt; duration &lt; duration2\nFalse\n</code></pre>"},{"location":"reference/#kernpy.core.DurationClassical.__ne__","title":"<code>__ne__(other)</code>","text":"<p>Compare two durations.</p> <p>Parameters:</p> Name Type Description Default <code>other</code> <p>The other duration to compare</p> required <p>Returns:</p> Type Description <p>True if the durations are different, False otherwise</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; duration = DurationClassical(2)\n&gt;&gt;&gt; duration2 = DurationClassical(2)\n&gt;&gt;&gt; duration != duration2\nFalse\n&gt;&gt;&gt; duration = DurationClassical(2)\n&gt;&gt;&gt; duration2 = DurationClassical(4)\n&gt;&gt;&gt; duration != duration2\nTrue\n</code></pre>"},{"location":"reference/#kernpy.core.DurationClassical.modify","title":"<code>modify(ratio)</code>","text":"<p>Modify the duration of a note or a rest of the current object.</p> <p>Parameters:</p> Name Type Description Default <code>ratio</code> <code>int</code> <p>The factor to modify the duration. The factor must be greater than 0.</p> required <p>Returns:</p> Name Type Description <code>DurationClassical</code> <p>The new duration object with the modified duration.</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; duration = DurationClassical(2)\n&gt;&gt;&gt; new_duration = duration.modify(2)\n&gt;&gt;&gt; new_duration.duration\n4\n&gt;&gt;&gt; duration = DurationClassical(2)\n&gt;&gt;&gt; new_duration = duration.modify(0)\nTraceback (most recent call last):\n...\nValueError: Invalid factor provided: 0. The factor must be greater than 0.\n&gt;&gt;&gt; duration = DurationClassical(2)\n&gt;&gt;&gt; new_duration = duration.modify(-2)\nTraceback (most recent call last):\n...\nValueError: Invalid factor provided: -2. The factor must be greater than 0.\n</code></pre>"},{"location":"reference/#kernpy.core.DurationMensural","title":"<code>DurationMensural</code>","text":"<p>               Bases: <code>Duration</code></p> <p>Represents the duration in mensural notation of a note or a rest.</p>"},{"location":"reference/#kernpy.core.ExportOptions","title":"<code>ExportOptions</code>","text":"<p><code>ExportOptions</code> class.</p> <p>Store the options to export a **kern file.</p>"},{"location":"reference/#kernpy.core.ExportOptions.__init__","title":"<code>__init__(spine_types=None, token_categories=None, from_measure=None, to_measure=None, kern_type=KernTypeExporter.normalizedKern, instruments=None)</code>","text":"<p>Create a new ExportOptions object.</p> <p>Parameters:</p> Name Type Description Default <code>spine_types</code> <code>Iterable</code> <p>kern, mens, etc...</p> <code>None</code> <code>token_categories</code> <code>Iterable</code> <p>TokenCategory</p> <code>None</code> <code>from_measure</code> <code>int</code> <p>The measure to start exporting. When None, the exporter will start from the beginning of the file. The first measure is 1</p> <code>None</code> <code>to_measure</code> <code>int</code> <p>The measure to end exporting. When None, the exporter will end at the end of the file.</p> <code>None</code> <code>kern_type</code> <code>KernTypeExporter</code> <p>The type of the kern file to export.</p> <code>normalizedKern</code> <code>instruments</code> <code>Iterable</code> <p>The instruments to export. When None, all the instruments will be exported.</p> <code>None</code> Example <p>import kernpy</p> <p>Create the importer and read the file</p> <p>hi = Importer() document = hi.import_file('file.krn') exporter = Exporter()</p> <p>Export the file with the specified options</p> <p>options = ExportOptions(spine_types=['**kern'], token_categories=BEKERN_CATEGORIES) exported_data = exporter.export_string(document, options)</p> <p>Export only the lyrics</p> <p>options = ExportOptions(spine_types=['**kern'], token_categories=[TokenCategory.LYRICS]) exported_data = exporter.export_string(document, options)</p> <p>Export the comments</p> <p>options = ExportOptions(spine_types=['**kern'], token_categories=[TokenCategory.LINE_COMMENTS, TokenCategory.FIELD_COMMENTS]) exported_data = exporter.export_string(document, options)</p> <p>Export using the eKern version</p> <p>options = ExportOptions(spine_types=['**kern'], token_categories=BEKERN_CATEGORIES, kern_type=KernTypeExporter.eKern) exported_data = exporter.export_string(document, options)</p>"},{"location":"reference/#kernpy.core.Exporter","title":"<code>Exporter</code>","text":""},{"location":"reference/#kernpy.core.Exporter.export_options_validator","title":"<code>export_options_validator(document, options)</code>  <code>staticmethod</code>","text":"<p>Validate the export options. Raise an exception if the options are invalid.</p> <p>Parameters:</p> Name Type Description Default <code>document</code> <code>Document</code> <p><code>Document</code> - The document to export.</p> required <code>options</code> <code>ExportOptions</code> <p><code>ExportOptions</code> - The options to export the document.</p> required <p>Returns: None</p> Example <p>export_options_validator(document, options) ValueError: option from_measure must be &gt;=0 but -1 was found. export_options_validator(document, options2) None</p>"},{"location":"reference/#kernpy.core.Exporter.get_spine_types","title":"<code>get_spine_types(document, spine_types=None)</code>","text":"<p>Get the spine types from the document.</p> <p>Parameters:</p> Name Type Description Default <code>document</code> <code>Document</code> <p>The document with the spines.</p> required <code>spine_types</code> <code>list</code> <p>The spine types to export. If None, all the spine types will be exported.</p> <code>None</code> <p>Returns: A list with the spine types.</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; exporter = Exporter()\n&gt;&gt;&gt; exporter.get_spine_types(document)\n['**kern', '**kern', '**kern', '**kern', '**root', '**harm']\n&gt;&gt;&gt; exporter.get_spine_types(document, None)\n['**kern', '**kern', '**kern', '**kern', '**root', '**harm']\n&gt;&gt;&gt; exporter.get_spine_types(document, ['**kern'])\n['**kern', '**kern', '**kern', '**kern']\n&gt;&gt;&gt; exporter.get_spine_types(document, ['**kern', '**root'])\n['**kern', '**kern', '**kern', '**kern', '**root']\n&gt;&gt;&gt; exporter.get_spine_types(document, ['**kern', '**root', '**harm'])\n['**kern', '**kern', '**kern', '**kern', '**root', '**harm']\n&gt;&gt;&gt; exporter.get_spine_types(document, [])\n[]\n</code></pre>"},{"location":"reference/#kernpy.core.Importer","title":"<code>Importer</code>","text":"<p>Importer class.</p> <p>Use this class to import the content from a file or a string to a <code>Document</code> object.</p>"},{"location":"reference/#kernpy.core.Importer.__init__","title":"<code>__init__()</code>","text":"<pre><code>    Create an instance of the importer.\n\n    Raises:\n        Exception: If the importer content is not a valid **kern file.\n\n    Examples:\n        # Create the importer\n        &gt;&gt;&gt; importer = Importer()\n\n        # Import the content from a file\n        &gt;&gt;&gt; document = importer.import_file('file.krn')\n\n        # Import the content from a string\n        &gt;&gt;&gt; document = importer.import_string(\"**kern\n</code></pre> <p>clefF4 c4 4d 4e 4f -\")</p>"},{"location":"reference/#kernpy.core.Importer.get_error_messages","title":"<code>get_error_messages()</code>","text":"<p>Get the error messages of the importer.</p> <p>Returns: str - The error messages split by a new line character.</p> <p>Examples:</p>"},{"location":"reference/#kernpy.core.Importer.get_error_messages--create-the-importer-and-read-the-file","title":"Create the importer and read the file","text":"<pre><code>&gt;&gt;&gt; importer = Importer()\n&gt;&gt;&gt; importer.import_file('file.krn')\n&gt;&gt;&gt; print(importer.get_error_messages())\n'Error: Invalid token in row 1'\n</code></pre>"},{"location":"reference/#kernpy.core.Importer.has_errors","title":"<code>has_errors()</code>","text":"<p>Check if the importer has any errors.</p> <p>Returns: bool - True if the importer has errors, False otherwise.</p> <p>Examples:</p>"},{"location":"reference/#kernpy.core.Importer.has_errors--create-the-importer-and-read-the-file","title":"Create the importer and read the file","text":"<pre><code>&gt;&gt;&gt; importer = Importer()\n&gt;&gt;&gt; importer.import_file('file.krn')    # file.krn has an error\n&gt;&gt;&gt; print(importer.has_errors())\nTrue\n&gt;&gt;&gt; importer.import_file('file2.krn')   # file2.krn has no errors\n&gt;&gt;&gt; print(importer.has_errors())\nFalse\n</code></pre>"},{"location":"reference/#kernpy.core.Importer.import_file","title":"<code>import_file(file_path)</code>","text":"<p>Import the content from the importer to the file. Args:     file_path: The path to the file.</p> <p>Returns:</p> Type Description <code>Document</code> <p>None</p> <p>Examples:</p>"},{"location":"reference/#kernpy.core.Importer.import_file--create-the-importer-and-read-the-file","title":"Create the importer and read the file","text":"<pre><code>&gt;&gt;&gt; importer = Importer()\n&gt;&gt;&gt; importer.import_file('file.krn')\n</code></pre>"},{"location":"reference/#kernpy.core.KernTypeExporter","title":"<code>KernTypeExporter</code>","text":"<p>               Bases: <code>Enum</code></p> <p>Options for exporting a kern file.</p> Example"},{"location":"reference/#kernpy.core.KernTypeExporter--create-the-importer","title":"Create the importer","text":"<p>hi = Importer()</p>"},{"location":"reference/#kernpy.core.KernTypeExporter--read-the-file","title":"Read the file","text":"<p>document = hi.import_file('file.krn')</p>"},{"location":"reference/#kernpy.core.KernTypeExporter--export-the-file","title":"Export the file","text":"<p>options = ExportOptions(spine_types=['**kern'], token_categories=BEKERN_CATEGORIES, kernType=KernTypeExporter.normalizedKern) exporter = Exporter() exported = exporter.export_string(options)</p>"},{"location":"reference/#kernpy.core.PitchRest","title":"<code>PitchRest</code>","text":"<p>Represents a name or a rest in a note.</p> <p>The name is represented using the International Standard Organization (ISO) name notation. The first line below the staff is the C4 in G clef. The above C is C5, the below C is C3, etc.</p> <p>The Humdrum Kern format uses the following name representation: 'c' = C4 'cc' = C5 'ccc' = C6 'cccc' = C7</p> <p>'C' = C3 'CC' = C2 'CCC' = C1</p> <p>The rests are represented by the letter 'r'. The rests do not have name.</p> <p>This class do not limit the name ranges.</p> <p>In the following example, the name is represented by the letter 'c'. The name of 'c' is C4, 'cc' is C5, 'ccc' is C6.</p> <pre><code>**kern\n*clefG2\n2c          // C4\n2cc         // C5\n2ccc        // C6\n2C          // C3\n2CC         // C2\n2CCC        // C1\n*-\n</code></pre>"},{"location":"reference/#kernpy.core.PitchRest.__eq__","title":"<code>__eq__(other)</code>","text":"<p>Compare two pitches and rests.</p> <p>Parameters:</p> Name Type Description Default <code>other</code> <p>The other name to compare</p> required <p>Returns:</p> Type Description <p>True if the pitches are equal, False otherwise</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; pitch_rest = PitchRest('c')\n&gt;&gt;&gt; pitch_rest2 = PitchRest('c')\n&gt;&gt;&gt; pitch_rest == pitch_rest2\nTrue\n&gt;&gt;&gt; pitch_rest = PitchRest('c')\n&gt;&gt;&gt; pitch_rest2 = PitchRest('ccc')\n&gt;&gt;&gt; pitch_rest == pitch_rest2\nFalse\n&gt;&gt;&gt; pitch_rest = PitchRest('c')\n&gt;&gt;&gt; pitch_rest2 = PitchRest('r')\n&gt;&gt;&gt; pitch_rest == pitch_rest2\nFalse\n&gt;&gt;&gt; pitch_rest = PitchRest('r')\n&gt;&gt;&gt; pitch_rest2 = PitchRest('r')\n&gt;&gt;&gt; pitch_rest == pitch_rest2\nTrue\n</code></pre>"},{"location":"reference/#kernpy.core.PitchRest.__ge__","title":"<code>__ge__(other)</code>","text":"<p>Compare two pitches. If any of the PitchRest is a rest, the comparison raise an exception. Args:     other: The other name to compare</p> <p>Returns:</p> Type Description <p>True if this name is higher or equal than the other, False otherwise</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; pitch_rest = PitchRest('c')\n&gt;&gt;&gt; pitch_rest2 = PitchRest('d')\n&gt;&gt;&gt; pitch_rest &gt;= pitch_rest2\nFalse\n&gt;&gt;&gt; pitch_rest = PitchRest('c')\n&gt;&gt;&gt; pitch_rest2 = PitchRest('c')\n&gt;&gt;&gt; pitch_rest &gt;= pitch_rest2\nTrue\n&gt;&gt;&gt; pitch_rest = PitchRest('c')\n&gt;&gt;&gt; pitch_rest2 = PitchRest('b')\n&gt;&gt;&gt; pitch_rest &gt;= pitch_rest2\nTrue\n&gt;&gt;&gt; pitch_rest = PitchRest('r')\n&gt;&gt;&gt; pitch_rest2 = PitchRest('c')\n&gt;&gt;&gt; pitch_rest &gt;= pitch_rest2\nTraceback (most recent call last):\n...\nValueError: ...\n&gt;&gt;&gt; pitch_rest = PitchRest('r')\n&gt;&gt;&gt; pitch_rest2 = PitchRest('r')\n&gt;&gt;&gt; pitch_rest &gt;= pitch_rest2\nTraceback (most recent call last):\n...\nValueError: ...\n</code></pre>"},{"location":"reference/#kernpy.core.PitchRest.__gt__","title":"<code>__gt__(other)</code>","text":"<p>Compare two pitches.</p> <p>If any of the pitches is a rest, the comparison raise an exception.</p> <p>Parameters:</p> Name Type Description Default <code>other</code> <p>The other name to compare</p> required <p>Returns: True if this name is higher than the other, False otherwise</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; pitch_rest = PitchRest('c')\n&gt;&gt;&gt; pitch_rest2 = PitchRest('d')\n&gt;&gt;&gt; pitch_rest &gt; pitch_rest2\nFalse\n&gt;&gt;&gt; pitch_rest = PitchRest('c')\n&gt;&gt;&gt; pitch_rest2 = PitchRest('c')\n&gt;&gt;&gt; pitch_rest &gt; pitch_rest2\nFalse\n&gt;&gt;&gt; pitch_rest = PitchRest('c')\n&gt;&gt;&gt; pitch_rest2 = PitchRest('b')\n&gt;&gt;&gt; pitch_rest &gt; pitch_rest2\nTrue\n&gt;&gt;&gt; pitch_rest = PitchRest('r')\n&gt;&gt;&gt; pitch_rest2 = PitchRest('c')\n&gt;&gt;&gt; pitch_rest &gt; pitch_rest2\nTraceback (most recent call last):\n...\nValueError: ...\n&gt;&gt;&gt; pitch_rest = PitchRest('r')\n&gt;&gt;&gt; pitch_rest2 = PitchRest('r')\n&gt;&gt;&gt; pitch_rest &gt; pitch_rest2\nTraceback (most recent call last):\nValueError: ...\n</code></pre>"},{"location":"reference/#kernpy.core.PitchRest.__init__","title":"<code>__init__(raw_pitch)</code>","text":"<p>Create a new PitchRest object.</p> <p>Parameters:</p> Name Type Description Default <code>raw_pitch</code> <code>str</code> <p>name representation in Humdrum Kern format</p> required <p>Examples:</p> <pre><code>&gt;&gt;&gt; pitch_rest = PitchRest('c')\n&gt;&gt;&gt; pitch_rest = PitchRest('r')\n&gt;&gt;&gt; pitch_rest = PitchRest('DDD')\n</code></pre>"},{"location":"reference/#kernpy.core.PitchRest.__le__","title":"<code>__le__(other)</code>","text":"<p>Compare two pitches. If any of the PitchRest is a rest, the comparison raise an exception. Args:     other: The other name to compare</p> <p>Returns: True if this name is lower or equal than the other, False otherwise</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; pitch_rest = PitchRest('c')\n&gt;&gt;&gt; pitch_rest2 = PitchRest('d')\n&gt;&gt;&gt; pitch_rest &lt;= pitch_rest2\nTrue\n&gt;&gt;&gt; pitch_rest = PitchRest('c')\n&gt;&gt;&gt; pitch_rest2 = PitchRest('c')\n&gt;&gt;&gt; pitch_rest &lt;= pitch_rest2\nTrue\n&gt;&gt;&gt; pitch_rest = PitchRest('c')\n&gt;&gt;&gt; pitch_rest2 = PitchRest('b')\n&gt;&gt;&gt; pitch_rest &lt;= pitch_rest2\nFalse\n&gt;&gt;&gt; pitch_rest = PitchRest('r')\n&gt;&gt;&gt; pitch_rest2 = PitchRest('c')\n&gt;&gt;&gt; pitch_rest &lt;= pitch_rest2\nTraceback (most recent call last):\n...\nValueError: ...\n&gt;&gt;&gt; pitch_rest = PitchRest('r')\n&gt;&gt;&gt; pitch_rest2 = PitchRest('r')\n&gt;&gt;&gt; pitch_rest &lt;= pitch_rest2\nTraceback (most recent call last):\n...\nValueError: ...\n</code></pre>"},{"location":"reference/#kernpy.core.PitchRest.__lt__","title":"<code>__lt__(other)</code>","text":"<p>Compare two pitches.</p> <p>If any of the pitches is a rest, the comparison raise an exception.</p> <p>Parameters:</p> Name Type Description Default <code>other</code> <p>The other name to compare</p> required <p>Returns:</p> Type Description <p>True if this name is lower than the other, False otherwise</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; pitch_rest = PitchRest('c')\n&gt;&gt;&gt; pitch_rest2 = PitchRest('d')\n&gt;&gt;&gt; pitch_rest &lt; pitch_rest2\nTrue\n&gt;&gt;&gt; pitch_rest = PitchRest('c')\n&gt;&gt;&gt; pitch_rest2 = PitchRest('c')\n&gt;&gt;&gt; pitch_rest &lt; pitch_rest2\nFalse\n&gt;&gt;&gt; pitch_rest = PitchRest('c')\n&gt;&gt;&gt; pitch_rest2 = PitchRest('b')\n&gt;&gt;&gt; pitch_rest &lt; pitch_rest2\nFalse\n&gt;&gt;&gt; pitch_rest = PitchRest('r')\n&gt;&gt;&gt; pitch_rest2 = PitchRest('c')\n&gt;&gt;&gt; pitch_rest &lt; pitch_rest2\nTraceback (most recent call last):\n...\nValueError: ...\n&gt;&gt;&gt; pitch_rest = PitchRest('r')\n&gt;&gt;&gt; pitch_rest2 = PitchRest('r')\n&gt;&gt;&gt; pitch_rest &lt; pitch_rest2\nTraceback (most recent call last):\n...\nValueError: ...\n</code></pre>"},{"location":"reference/#kernpy.core.PitchRest.__ne__","title":"<code>__ne__(other)</code>","text":"<p>Compare two pitches and rests. Args:     other: The other name to compare</p> <p>Returns:</p> Type Description <p>True if the pitches are different, False otherwise</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; pitch_rest = PitchRest('c')\n&gt;&gt;&gt; pitch_rest2 = PitchRest('c')\n&gt;&gt;&gt; pitch_rest != pitch_rest2\nFalse\n&gt;&gt;&gt; pitch_rest = PitchRest('c')\n&gt;&gt;&gt; pitch_rest2 = PitchRest('ccc')\n&gt;&gt;&gt; pitch_rest != pitch_rest2\nTrue\n&gt;&gt;&gt; pitch_rest = PitchRest('c')\n&gt;&gt;&gt; pitch_rest2 = PitchRest('r')\n&gt;&gt;&gt; pitch_rest != pitch_rest2\nTrue\n&gt;&gt;&gt; pitch_rest = PitchRest('r')\n&gt;&gt;&gt; pitch_rest2 = PitchRest('r')\n&gt;&gt;&gt; pitch_rest != pitch_rest2\nFalse\n</code></pre>"},{"location":"reference/#kernpy.core.PitchRest.is_rest","title":"<code>is_rest()</code>","text":"<p>Check if the name is a rest.</p> <p>Returns:</p> Name Type Description <code>bool</code> <code>bool</code> <p>True if the name is a rest, False otherwise.</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; pitch_rest = PitchRest('c')\n&gt;&gt;&gt; pitch_rest.is_rest()\nFalse\n&gt;&gt;&gt; pitch_rest = PitchRest('r')\n&gt;&gt;&gt; pitch_rest.is_rest()\nTrue\n</code></pre>"},{"location":"reference/#kernpy.core.PitchRest.pitch_comparator","title":"<code>pitch_comparator(pitch_a, pitch_b)</code>  <code>staticmethod</code>","text":"<p>Compare two pitches of the same octave.</p> <p>The lower name is 'a'. So 'a' &lt; 'b' &lt; 'c' &lt; 'd' &lt; 'e' &lt; 'f' &lt; 'g'</p> <p>Parameters:</p> Name Type Description Default <code>pitch_a</code> <code>string</code> <p>One name of 'abcdefg'</p> required <code>pitch_b</code> <code>string</code> <p>Another name of 'abcdefg'</p> required <p>Returns:</p> Type Description <code>int</code> <p>-1 if pitch1 is lower than pitch2</p> <code>int</code> <p>0 if pitch1 is equal to pitch2</p> <code>int</code> <p>1 if pitch1 is higher than pitch2</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; PitchRest.pitch_comparator('c', 'c')\n0\n&gt;&gt;&gt; PitchRest.pitch_comparator('c', 'd')\n-1\n&gt;&gt;&gt; PitchRest.pitch_comparator('d', 'c')\n1\n</code></pre>"},{"location":"reference/#kernpy.core.TokenCategory","title":"<code>TokenCategory</code>","text":"<p>               Bases: <code>Enum</code></p> <p>Options for the category of a token.</p> <p>This is used to determine what kind of token should be exported.</p>"},{"location":"reference/#kernpy.core.concat","title":"<code>concat(content_a, content_b, options=None)</code>","text":"<pre><code>Concatenate two **kern strings.\n\nArgs:\n    content_a (str): First **kern string\n    content_b (str): Second **kern string\n    options (ExportOptions): Export options for the concatenated string\n\nReturns: Concatenated **kern string\n\nExamples:\n    &gt;&gt;&gt; import kernpy as kp\n    &gt;&gt;&gt; content_a = '**kern\n</code></pre> <p>4e 4f 4g - '         &gt;&gt;&gt; content_b = 'kern 4a 4b 4c - '         &gt;&gt;&gt; kp.concat(content_a, content_b)         'kern 4e 4f 4g *- kern 4a 4b 4c *-'</p>"},{"location":"reference/#kernpy.core.ekern_to_krn","title":"<code>ekern_to_krn(input_file, output_file)</code>","text":"<p>Convert one .ekrn file to .krn file.</p> <p>Parameters:</p> Name Type Description Default <code>input_file</code> <p>Filepath to the input **ekern</p> required <code>output_file</code> <p>Filepath to the output **kern</p> required <p>Returns:     None</p> Example"},{"location":"reference/#kernpy.core.ekern_to_krn--convert-ekrn-to-krn","title":"Convert .ekrn to .krn","text":"<p>ekern_to_krn('path/to/file.ekrn', 'path/to/file.krn')</p>"},{"location":"reference/#kernpy.core.ekern_to_krn--convert-a-list-of-ekrn-files-to-krn-files","title":"Convert a list of .ekrn files to .krn files","text":"<pre><code>ekrn_files = your_modue.get_files()\n\n# Use the wrapper to avoid stopping the process if an error occurs\ndef ekern_to_krn_wrapper(ekern_file, kern_file):\n    try:\n        ekern_to_krn(ekrn_files, output_folder)\n    except Exception as e:\n        print(f'Error:{e}')\n\n# Convert all the files\nfor ekern_file in ekrn_files:\n    output_file = ekern_file.replace('.ekrn', '.krn')\n    ekern_to_krn_wrapper(ekern_file, output_file)\n</code></pre>"},{"location":"reference/#kernpy.core.export","title":"<code>export(document, options)</code>","text":"<p>Export a Document object to a string.</p> <p>Parameters:</p> Name Type Description Default <code>document</code> <code>Document</code> <p>Document object to export</p> required <code>options</code> <code>ExportOptions</code> <p>Export options</p> required <p>Returns: Exported string</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; import kernpy as kp\n&gt;&gt;&gt; document, errors = kp.read('path/to/file.krn')\n&gt;&gt;&gt; options = kp.ExportOptions()\n&gt;&gt;&gt; content = kp.export(document, options)\n</code></pre>"},{"location":"reference/#kernpy.core.get_kern_from_ekern","title":"<code>get_kern_from_ekern(ekern_content)</code>","text":"<p>Read the content of a ekern file and return the kern content.</p> <p>Parameters:</p> Name Type Description Default <code>ekern_content</code> <code>string</code> <p>The content of the **ekern file.</p> required <p>Returns:     The content of the **kern file.</p> Example <pre><code># Read **ekern file\nekern_file = 'path/to/file.ekrn'\nwith open(ekern_file, 'r') as file:\n    ekern_content = file.read()\n\n# Get **kern content\nkern_content = get_kern_from_ekern(ekern_content)\nwith open('path/to/file.krn', 'w') as file:\n    file.write(kern_content)\n\n</code></pre>"},{"location":"reference/#kernpy.core.get_spine_types","title":"<code>get_spine_types(document, spine_types=None)</code>","text":"<p>Get the spines of a Document object.</p> <p>Parameters:</p> Name Type Description Default <code>document(Document)</code> <p>Document object to get spines from</p> required <code>spine_types(list)</code> <p>List of spine types to get. If None, all spines are returned.</p> required <p>Returns: List of spines</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; import kernpy as kp\n&gt;&gt;&gt; document, _ = kp.read('path/to/file.krn')\n&gt;&gt;&gt; kp.get_spine_types(document)\n['**kern', '**kern', '**kern', '**kern', '**root', '**harm']\n&gt;&gt;&gt; kp.get_spine_types(document, None)\n['**kern', '**kern', '**kern', '**kern', '**root', '**harm']\n&gt;&gt;&gt; kp.get_spine_types(document, ['**kern'])\n['**kern', '**kern', '**kern', '**kern']\n&gt;&gt;&gt; kp.get_spine_types(document, ['**kern', '**root'])\n['**kern', '**kern', '**kern', '**kern', '**root']\n&gt;&gt;&gt; kp.get_spine_types(document, ['**kern', '**root', '**harm'])\n['**kern', '**kern', '**kern', '**kern', '**root', '**harm']\n&gt;&gt;&gt; kp.get_spine_types(document, [])\n[]\n</code></pre>"},{"location":"reference/#kernpy.core.kern_to_ekern","title":"<code>kern_to_ekern(input_file, output_file)</code>","text":"<p>Convert one .krn file to .ekrn file</p> <p>Parameters:</p> Name Type Description Default <code>input_file</code> <p>Filepath to the input **kern</p> required <code>output_file</code> <p>Filepath to the output **ekern</p> required <p>Returns:</p> Type Description <code>None</code> <p>None</p> Example"},{"location":"reference/#kernpy.core.kern_to_ekern--convert-krn-to-ekrn","title":"Convert .krn to .ekrn","text":"<p>kern_to_ekern('path/to/file.krn', 'path/to/file.ekrn')</p>"},{"location":"reference/#kernpy.core.kern_to_ekern--convert-a-list-of-krn-files-to-ekrn-files","title":"Convert a list of .krn files to .ekrn files","text":"<pre><code>krn_files = your_module.get_files()\n\n# Use the wrapper to avoid stopping the process if an error occurs\ndef kern_to_ekern_wrapper(krn_file, ekern_file):\n    try:\n        kern_to_ekern(krn_file, ekern_file)\n    except Exception as e:\n        print(f'Error:{e}')\n\n# Convert all the files\nfor krn_file in krn_files:\n    output_file = krn_file.replace('.krn', '.ekrn')\n    kern_to_ekern_wrapper(krn_file, output_file)\n</code></pre>"},{"location":"reference/#kernpy.core.read","title":"<code>read(path)</code>","text":"<p>Read a Humdrum **kern file.</p> <p>Parameters:</p> Name Type Description Default <code>path</code> <p>File path to read</p> required <p>Returns (Document, list): Document object and list of error messages. Empty list if no errors.</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; import kernpy as kp\n&gt;&gt;&gt; document, _ = kp.read('path/to/file.krn')\n</code></pre> <pre><code>&gt;&gt;&gt; document, errors = kp.read('path/to/file.krn')\n&gt;&gt;&gt; if errors:      # If there are errors (empty list if no errors)\n&gt;&gt;&gt;     print(errors)\n</code></pre>"},{"location":"reference/#kernpy.core.store","title":"<code>store(document, path, options)</code>","text":"<p>Store a Document object to a file.</p> <p>Parameters:</p> Name Type Description Default <code>document</code> <code>Document</code> <p>Document object to store</p> required <code>path</code> <p>File path to store</p> required <code>options</code> <code>ExportOptions</code> <p>Export options</p> required <p>Returns: None</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; import kernpy as kp\n&gt;&gt;&gt; document, errors = kp.read('path/to/file.krn')\n&gt;&gt;&gt; options = kp.ExportOptions()\n&gt;&gt;&gt; kp.store(document, 'path/to/store.krn', options)\n</code></pre>"},{"location":"reference/#kernpy.core.store_graph","title":"<code>store_graph(document, path)</code>","text":"<p>Create a graph representation of a Document object using Graphviz. Save the graph to a file.</p> <p>Parameters:</p> Name Type Description Default <code>document</code> <code>Document</code> <p>Document object to create graph from</p> required <code>path</code> <p>File path to save the graph</p> required <p>Returns: None</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; import kernpy as kp\n&gt;&gt;&gt; document = kp.read('path/to/file.krn')\n&gt;&gt;&gt; kp.store_graph(document, 'path/to/graph.dot')\n</code></pre>"},{"location":"reference/#kernpy.util.create_fragments_from_directory","title":"<code>create_fragments_from_directory(input_directory, output_directory, log_file, check_file_extension=True, offset=0, verbose=1, num_processes=None, mean=DEFAULT_MEAN, std_dev=DEFAULT_STD_DEV)</code>","text":"<p>Create a bunch of little kern files from a directory of kern files.</p> <p>Parameters:</p> Name Type Description Default <code>log_file</code> <code>str</code> <p>The log file to store the results</p> required <code>input_directory</code> <code>str</code> <p>The input directory with the kern files</p> required <code>output_directory</code> <code>str</code> <p>The output directory where the fragments will be stored</p> required <code>check_file_extension</code> <code>bool</code> <p>If True, only files with the extension '.krn' will be processed.         If False, all files will be processed, it could be more time-consuming.</p> <code>True</code> <code>offset</code> <code>int</code> <p>The number of measures between fragments.            If offset is 1, and measure_length is 4, the fragments will be: 1-4, 2-5, 3-6, 4-7, ... If the offset is 2, and measure_length is 4, the fragments will be: 1-4, 3-6, 5-8, 7-10, ... If the offset is 4, and measure_length is 4, the fragments will be: 1-4, 5-8, 9-12, 13-16, ...</p> <code>0</code> <code>verbose</code> <code>int</code> <p>The verbosity level</p> <code>1</code> <code>num_processes</code> <code>int</code> <p>The number of processes to use for parallel processing.            If None, or num_processes &lt;= 1, the processing will be done in a single process.</p> <code>None</code> <code>mean</code> <code>float</code> <p>The mean of the normal distribution to generate the measure length of the new fragments</p> <code>DEFAULT_MEAN</code> <code>std_dev</code> <code>float</code> <p>The standard deviation of the normal distribution to generate the measure length of the new fragments</p> <code>DEFAULT_STD_DEV</code> <p>Returns:</p> Type Description <code>None</code> <p>None</p> <p>Examples:</p> <pre><code># Basic execution\n&gt;&gt;&gt; create_fragments_from_directory('input_directory', 'output_directory', log_file='log.txt')\n\n# Custom mean and std_dev\n&gt;&gt;&gt; create_fragments_from_directory('input_directory', 'output_directory', log_file='log.txt', mean=5.2, std_dev=0.8)\n\n# Parallel processing\n&gt;&gt;&gt; create_fragments_from_directory('input_directory', 'output_directory', log_file='log.txt', offset=4, verbose=1, num_processes=8)\n\n# Single process\n&gt;&gt;&gt; create_fragments_from_directory('input_directory', 'output_directory', log_file='log.txt', offset=4, verbose=1)\n</code></pre>"},{"location":"reference/#kernpy.util.create_fragments_from_kern","title":"<code>create_fragments_from_kern(input_kern_file, output_directory, measure_length, offset, log_file, verbose=1, num_processes=None)</code>","text":"<p>Create a bunch of little kern files from a single kern file.</p> <p>Parameters:</p> Name Type Description Default <code>log_file</code> <code>str</code> <p>The log file to store the results</p> required <code>input_kern_file</code> <code>object</code> <p>The input kern file</p> required <code>output_directory</code> <code>str</code> <p>The output directory where the fragments will be stored</p> required <code>measure_length</code> <code>int</code> <p>The number of measures of the fragments</p> required <code>offset</code> <code>int</code> <p>The number of measures between fragments.            If offset is 1, and measure_length is 4, the fragments will be: 1-4, 2-5, 3-6, 4-7, ... If the offset is 2, and measure_length is 4, the fragments will be: 1-4, 3-6, 5-8, 7-10, ... If the offset is 4, and measure_length is 4, the fragments will be: 1-4, 5-8, 9-12, 13-16, ...</p> required <code>verbose</code> <code>int</code> <p>The verbosity level</p> <code>1</code> <code>num_processes</code> <code>int</code> <p>The number of processes to use for parallel processing.            If None, or num_processes &lt;= 1, the processing will be done in a single process.</p> <code>None</code> <p>Returns:</p> Type Description <code>None</code> <p>None</p> <p>Examples:</p>"},{"location":"reference/#kernpy.util.create_fragments_from_kern--basic-execution","title":"Basic execution","text":"<pre><code>&gt;&gt;&gt; create_fragments_from_kern('input.krn', 'output_directory', measure_length=4)\n</code></pre>"},{"location":"reference/#kernpy.util.create_fragments_from_kern--parallel-processing","title":"Parallel processing","text":"<pre><code>&gt;&gt;&gt; create_fragments_from_kern('input.krn', 'output_directory', measure_length=4, offset=4, log_file='log.txt', verbose=1, num_processes=8)\n&gt;&gt;&gt; create_fragments_from_kern('input.krn', 'output_directory', measure_length=4, offset=4, log_file='log.txt', verbose=1, num_processes=8)\n</code></pre>"},{"location":"reference/#kernpy.util.create_fragments_from_kern--single-process","title":"Single process","text":"<pre><code>&gt;&gt;&gt; create_fragments_from_kern('input.krn', 'output_directory', measure_length=4, offset=4, log_file='log.txt', verbose=1)\n&gt;&gt;&gt; create_fragments_from_kern('input.krn', 'output_directory', measure_length=4, offset=4, log_file='log.txt', verbose=1, num_processes=None)\n</code></pre>"},{"location":"reference/#kernpy.polish_scores.main","title":"<code>main(input_directory, output_directory, remove_empty_directories=True, kern_spines_filter=2)</code>","text":"<p>Process the files in the input_directory and save the results in the output_directory. http requests are made to download the images.</p> <p>Parameters:</p> Name Type Description Default <code>input_directory</code> <p>directory where the input files are found</p> required <code>output_directory</code> <p>directory where the output files are saved</p> required <code>remove_empty_directories</code> <code>bool</code> <p>remove empty directories when finish processing the files</p> <code>True</code> <code>kern_spines_filter</code> <code>int</code> <p>Only process files with the number of **kern spines specified. Use it to export 2-voice files, for example.</p> <code>2</code> <p>Returns:</p> Type Description <code>None</code> <p>None</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; main('/kern_files', '/output_ekern')\nNone\n</code></pre> <pre><code>&gt;&gt;&gt; main('/kern_files', '/output_ekern', remove_empty_directories=False)\nNone\n</code></pre> <pre><code>&gt;&gt;&gt; main('/kern_files', '/output_ekern', kern_spines_filter=2, remove_empty_directories=False)\nNone\n</code></pre>"},{"location":"get-started/tutorial/","title":"Tutorial: Learning <code>kernpy</code> in 5 minutes.","text":"<p>This is a short introduction to <code>kernpy</code>. It will guide you through the main concepts and show you how to use the package in a few minutes.</p> <p>When using <code>kernpy</code>, you should be familiar with the Humdrum **kern encodings. You can easily find information in:</p> <ul> <li>Verovio Humdrum Viewer</li> <li>Verovio Humdrum Viewer Documentation</li> </ul>"},{"location":"get-started/tutorial/#running-the-code","title":"Running the code","text":"<p><code>kernpy</code> is able to be run as a normal snippet of code or as a module by command line interface.</p>  Usually, we recommend the import as:  <pre><code>import kernpy\n</code></pre>  Also, you can run the code as a module by command line interface.  <pre><code>python -m kernpy --help\n</code></pre>"},{"location":"get-started/tutorial/#what-is-humdrum-kern","title":"What is Humdrum **kern?","text":"<p>First of all, let's see what a Humdrum **kern file looks like:</p> <pre><code>**kern\n*clefG2\n*M4/4\n*met(c)\n=1\n4c\n4d\n4e\n4f\n=2\n*M3/2\n2g\n2f\n2d\n=\n*-\n</code></pre> <p></p>"},{"location":"get-started/tutorial/#lets-code","title":"Let's code!","text":"<p>We can do some operations with the score.</p> <p>First of all, let's import the score:</p> <pre><code>import kernpy as kp\ndocument, errors = kp.read('/path/to/file.krn')\n</code></pre> <p>Now, we can access the score attributes:</p> <pre><code>import kernpy as kp\ndocument, _ = kp.read('/path/to/file.krn')\nprint(document.tree)\n# &lt;kernpy.core.document.DocumentTree object at 0x7f8b3b3b3d30&gt;\n</code></pre> <p>Let's dive into the different ways to export the <code>Document</code>.</p> <pre><code>import kernpy as kp\n\n# Select your measures to export\nmiddle_measures_options = kp.ExportOptions(from_measure=4, to_measure=8)\n\n# Select your voices to export\nsaxophone_options = kp.ExportOptions(instruments=['saxophone'])\n\n# Select the token categories to export\ncore_options = kp.ExportOptions(token_categories=[kp.TokenCategory.CORE, kp.TokenCategory.BARLINES, kp.TokenCategory.SIGNATURES])\n\n# Select the token categories to export using the predefined categories\nbekern_options = kp.ExportOptions(token_categories=kp.BEKERN_CATEGORIES)\n\n# Select the encoding to export\nnormalized_kern_options = kp.ExportOptions(kern_type=kp.KernTypeExporter.normalizedKern)\n\n# Select a list of filters to export\nall_options = kp.ExportOptions(\n    kern_type=kp.KernTypeExporter.eKern,\n    instruments=['saxophone'],\n    from_measure=1,\n    to_measure=2,\n    token_categories=kp.BEKERN_CATEGORIES\n)\n</code></pre> <p>Using the <code>Document</code> object, we can export the score:</p> <pre><code>import kernpy as kp\ndocument, errors = kp.read('/path/to/file.krn')\noptions = kp.ExportOptions()\nkp.store(document, '/path/to/export/file.krn', options)\n</code></pre> <p>Or we can export the score as a string for further processing:</p> <pre><code>import kernpy as kp\ndocument, errors = kp.read('/path/to/file.krn')\noptions = kp.ExportOptions()\ncontent = kp.export(document, options)\n...  # you can use the content as you want\nprint(content)\n</code></pre> <p></p>"},{"location":"get-started/tutorial/#lets-use-low-level-functions","title":"Let's use low-level functions:","text":"<p>Load the file directly using the content of the file:   Examples:</p> <pre><code>import kernpy\n\nimporter = kernpy.Importer()\ndocument = importer.import_string('**kern\\n*clefG2\\n*M4/4\\n*met(c)\\n=1\\n4c\\n4d\\n4e\\n4f\\n=2\\n*M3/2\\n2g\\n2f\\n2d\\n=\\n*-')\nprint(document.get_metacomments())\n</code></pre> <p>Or load the file using the path to the file:</p> <pre><code>import kernpy\n\nimporter = kernpy.Importer()\ndocument = importer.import_file('path/to/file.krn')\nprint(document.get_metacomments())\n</code></pre> <p>Then you can access to the score attributes:</p> <pre><code>print(type(document))\n# &lt;class 'kernpy.core.document.Document'&gt;\n\nprint(document.tree)\n# &lt;kernpy.core.document.DocumentTree object at 0x7f8b3b3b3d30&gt;\n\nprint(document.voices)\n# ['saxophone', 'clarinet', 'piano']\n</code></pre> <p>Now, you can export the score using the <code>ExportOptions</code> class:</p> <pre><code>export_options = kernpy.ExportOptions()\nexporter = kernpy.Exporter()\ncontent = exporter.export_string(document, export_options)\nprint(content)\n</code></pre> <p>Save the score to a file:</p> <pre><code>export_options = kernpy.ExportOptions()\nexporter = kernpy.Exporter()\ncontent = exporter.export_string(document, export_options)\nwith open('path/to/file.krn', 'w') as file:\n    file.write(content)\n</code></pre> Let's filter the export options: <p>Select the voices to export:</p> <pre><code>export_options = kernpy.ExportOptions(voices=['saxophone'])\nexporter = kernpy.Exporter()\ncontent = exporter.export_string(document, export_options)\nprint(content)\n</code></pre> <p>Select the measures to export:</p> <pre><code>export_options = kernpy.ExportOptions(from_measure=1, to_measure=2)\nexporter = kernpy.Exporter()\ncontent = exporter.export_string(document, export_options)\nprint(content)\n</code></pre> <p>Select the token categories to export: Let's see the <code>kernpy.TokenCategory</code> enum class to choose the categories:</p> <pre><code>export_options = kernpy.ExportOptions(token_categories=[\n    kernpy.TokenCategory.STRUCTURAL, \n    kernpy.TokenCategory.CORE, \n    kernpy.TokenCategory.EMPTY, \n    kernpy.TokenCategory.SIGNATURES,\n    kernpy.TokenCategory.BARLINES,\n])\nexporter = kernpy.Exporter()\ncontent = exporter.export_string(document, export_options)\nprint(content)\n</code></pre> <p>Actually, you can use the predefined categories:</p> <pre><code>export_options = kernpy.ExportOptions(token_categories=kernpy.BEKERN_CATEGORIES)\nexporter = kernpy.Exporter()\ncontent = exporter.export_string(document, export_options)\nprint(content)\n</code></pre> <p>Select the encoding to export:</p> <pre><code>export_options = kernpy.ExportOptions(kern_type=kernpy.KernTypeExporter.normalizedKern)\nexporter = kernpy.Exporter()\ncontent = exporter.export_string(document, export_options)\nprint(content)\n</code></pre> <p>Select a list of filters to export:</p> <pre><code>export_options = kernpy.ExportOptions(\n    kern_type=kernpy.KernTypeExporter.eKern,\n    instruments=['saxophone'],\n    from_measure=1,\n    to_measure=2\n    token_categories=kernpy.BEKERN_CATEGORIES\n)\n</code></pre> Let's see the score in a graphical representation: <p>Show the graph representation of the score: Use <code>Graphviz</code> to show the score in a graphical representation.</p> <pre><code>import kernpy\n\nimporter = kernpy.Importer()\ndocument = importer.import_string('**kern\\n*clefG2\\n*M4/4\\n*met(c)\\n=1\\n4c\\n4d\\n4e\\n4f\\n=2\\n*M3/2\\n2g\\n2f\\n2d\\n=\\n*-')\ndot_exporter = kernpy.GraphvizExporter()\ndot_exporter.export_to_dot(document.tree, '/tmp/minimal.dot')\n</code></pre> <p>You can use Graphviz Dot Online editors to see the graphical representation of the score: - Graphviz Online</p>"},{"location":"get-started/tutorial/#next-steps","title":"Next steps","text":"<p>Congratulations! You have learned the basics of <code>kernpy</code>. Now you can start using the package in your projects.</p> <p>Go to the API reference to learn more about the <code>kernpy</code> API.</p>"}]}
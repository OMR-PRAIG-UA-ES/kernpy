
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../how-to-guides/">
      
      
        <link rel="next" href="../about/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.14">
    
    
      
        <title>API Reference - kernpy</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.342714a4.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../css/extra.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#api-reference" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="kernpy" class="md-header__button md-logo" aria-label="kernpy" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            kernpy
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              API Reference
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="kernpy" class="md-nav__button md-logo" aria-label="kernpy" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    kernpy
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    kernpy Docs
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../get-started/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Getting Started
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../how-to-guides/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    How-To Guides
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    API Reference
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    API Reference
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#kernpy" class="md-nav__link">
    <span class="md-ellipsis">
      kernpy
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy--kernpy" class="md-nav__link">
    <span class="md-ellipsis">
      kernpy
    </span>
  </a>
  
    <nav class="md-nav" aria-label="kernpy">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy--kern2ekern-convertir-un-solo-archivo-krn-a-ekern" class="md-nav__link">
    <span class="md-ellipsis">
      🎯 kern2ekern: Convertir un solo archivo .krn a .ekern:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy--ekern2kern-convertir-un-solo-archivo-ekern-a-krn" class="md-nav__link">
    <span class="md-ellipsis">
      🎯 ekern2kern: Convertir un solo archivo .ekern a .krn:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy--create-fragments" class="md-nav__link">
    <span class="md-ellipsis">
      🎯 create fragments
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.Intervals" class="md-nav__link">
    <span class="md-ellipsis">
      Intervals
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.AbstractToken" class="md-nav__link">
    <span class="md-ellipsis">
      AbstractToken
    </span>
  </a>
  
    <nav class="md-nav" aria-label="AbstractToken">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.AbstractToken.__eq__" class="md-nav__link">
    <span class="md-ellipsis">
      __eq__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.AbstractToken.__hash__" class="md-nav__link">
    <span class="md-ellipsis">
      __hash__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.AbstractToken.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.AbstractToken.__ne__" class="md-nav__link">
    <span class="md-ellipsis">
      __ne__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.AbstractToken.__str__" class="md-nav__link">
    <span class="md-ellipsis">
      __str__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.AbstractToken.export" class="md-nav__link">
    <span class="md-ellipsis">
      export
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.AgnosticPitch" class="md-nav__link">
    <span class="md-ellipsis">
      AgnosticPitch
    </span>
  </a>
  
    <nav class="md-nav" aria-label="AgnosticPitch">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.AgnosticPitch.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.BasicSpineImporter" class="md-nav__link">
    <span class="md-ellipsis">
      BasicSpineImporter
    </span>
  </a>
  
    <nav class="md-nav" aria-label="BasicSpineImporter">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.BasicSpineImporter.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.BekernTokenizer" class="md-nav__link">
    <span class="md-ellipsis">
      BekernTokenizer
    </span>
  </a>
  
    <nav class="md-nav" aria-label="BekernTokenizer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.BekernTokenizer.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.BekernTokenizer.tokenize" class="md-nav__link">
    <span class="md-ellipsis">
      tokenize
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.BkernTokenizer" class="md-nav__link">
    <span class="md-ellipsis">
      BkernTokenizer
    </span>
  </a>
  
    <nav class="md-nav" aria-label="BkernTokenizer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.BkernTokenizer.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.BkernTokenizer.tokenize" class="md-nav__link">
    <span class="md-ellipsis">
      tokenize
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.C1Clef" class="md-nav__link">
    <span class="md-ellipsis">
      C1Clef
    </span>
  </a>
  
    <nav class="md-nav" aria-label="C1Clef">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.C1Clef.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.C1Clef.bottom_line" class="md-nav__link">
    <span class="md-ellipsis">
      bottom_line
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.C2Clef" class="md-nav__link">
    <span class="md-ellipsis">
      C2Clef
    </span>
  </a>
  
    <nav class="md-nav" aria-label="C2Clef">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.C2Clef.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.C2Clef.bottom_line" class="md-nav__link">
    <span class="md-ellipsis">
      bottom_line
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.C3Clef" class="md-nav__link">
    <span class="md-ellipsis">
      C3Clef
    </span>
  </a>
  
    <nav class="md-nav" aria-label="C3Clef">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.C3Clef.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.C3Clef.bottom_line" class="md-nav__link">
    <span class="md-ellipsis">
      bottom_line
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.C4Clef" class="md-nav__link">
    <span class="md-ellipsis">
      C4Clef
    </span>
  </a>
  
    <nav class="md-nav" aria-label="C4Clef">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.C4Clef.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.C4Clef.bottom_line" class="md-nav__link">
    <span class="md-ellipsis">
      bottom_line
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.Clef" class="md-nav__link">
    <span class="md-ellipsis">
      Clef
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Clef">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.Clef.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.Clef.__str__" class="md-nav__link">
    <span class="md-ellipsis">
      __str__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.Clef.bottom_line" class="md-nav__link">
    <span class="md-ellipsis">
      bottom_line
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.Clef.name" class="md-nav__link">
    <span class="md-ellipsis">
      name
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.Clef.reference_point" class="md-nav__link">
    <span class="md-ellipsis">
      reference_point
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.ClefFactory" class="md-nav__link">
    <span class="md-ellipsis">
      ClefFactory
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ClefFactory">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.ClefFactory.create_clef" class="md-nav__link">
    <span class="md-ellipsis">
      create_clef
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.ComplexToken" class="md-nav__link">
    <span class="md-ellipsis">
      ComplexToken
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ComplexToken">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.ComplexToken.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.ComplexToken.export" class="md-nav__link">
    <span class="md-ellipsis">
      export
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.CompoundToken" class="md-nav__link">
    <span class="md-ellipsis">
      CompoundToken
    </span>
  </a>
  
    <nav class="md-nav" aria-label="CompoundToken">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.CompoundToken.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.CompoundToken.export" class="md-nav__link">
    <span class="md-ellipsis">
      export
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.Document" class="md-nav__link">
    <span class="md-ellipsis">
      Document
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Document">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.Document.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.Document.__iter__" class="md-nav__link">
    <span class="md-ellipsis">
      __iter__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.Document.__next__" class="md-nav__link">
    <span class="md-ellipsis">
      __next__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.Document.add" class="md-nav__link">
    <span class="md-ellipsis">
      add
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.Document.append_spines" class="md-nav__link">
    <span class="md-ellipsis">
      append_spines
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.Document.clone" class="md-nav__link">
    <span class="md-ellipsis">
      clone
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.Document.frequencies" class="md-nav__link">
    <span class="md-ellipsis">
      frequencies
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.Document.get_all_tokens" class="md-nav__link">
    <span class="md-ellipsis">
      get_all_tokens
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.Document.get_all_tokens_encodings" class="md-nav__link">
    <span class="md-ellipsis">
      get_all_tokens_encodings
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.Document.get_first_measure" class="md-nav__link">
    <span class="md-ellipsis">
      get_first_measure
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.Document.get_header_nodes" class="md-nav__link">
    <span class="md-ellipsis">
      get_header_nodes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.Document.get_header_stage" class="md-nav__link">
    <span class="md-ellipsis">
      get_header_stage
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.Document.get_leaves" class="md-nav__link">
    <span class="md-ellipsis">
      get_leaves
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.Document.get_metacomments" class="md-nav__link">
    <span class="md-ellipsis">
      get_metacomments
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.Document.get_spine_count" class="md-nav__link">
    <span class="md-ellipsis">
      get_spine_count
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.Document.get_spine_ids" class="md-nav__link">
    <span class="md-ellipsis">
      get_spine_ids
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.Document.get_unique_token_encodings" class="md-nav__link">
    <span class="md-ellipsis">
      get_unique_token_encodings
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.Document.get_unique_tokens" class="md-nav__link">
    <span class="md-ellipsis">
      get_unique_tokens
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.Document.get_voices" class="md-nav__link">
    <span class="md-ellipsis">
      get_voices
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.Document.match" class="md-nav__link">
    <span class="md-ellipsis">
      match
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.Document.measures_count" class="md-nav__link">
    <span class="md-ellipsis">
      measures_count
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.Document.split" class="md-nav__link">
    <span class="md-ellipsis">
      split
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.Document.to_concat" class="md-nav__link">
    <span class="md-ellipsis">
      to_concat
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.Document.to_transposed" class="md-nav__link">
    <span class="md-ellipsis">
      to_transposed
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.Document.tokens_to_encodings" class="md-nav__link">
    <span class="md-ellipsis">
      tokens_to_encodings
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.Duration" class="md-nav__link">
    <span class="md-ellipsis">
      Duration
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.DurationClassical" class="md-nav__link">
    <span class="md-ellipsis">
      DurationClassical
    </span>
  </a>
  
    <nav class="md-nav" aria-label="DurationClassical">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.DurationClassical.__eq__" class="md-nav__link">
    <span class="md-ellipsis">
      __eq__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.DurationClassical.__ge__" class="md-nav__link">
    <span class="md-ellipsis">
      __ge__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.DurationClassical.__gt__" class="md-nav__link">
    <span class="md-ellipsis">
      __gt__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.DurationClassical.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.DurationClassical.__le__" class="md-nav__link">
    <span class="md-ellipsis">
      __le__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.DurationClassical.__lt__" class="md-nav__link">
    <span class="md-ellipsis">
      __lt__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.DurationClassical.__ne__" class="md-nav__link">
    <span class="md-ellipsis">
      __ne__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.DurationClassical.modify" class="md-nav__link">
    <span class="md-ellipsis">
      modify
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.DurationMensural" class="md-nav__link">
    <span class="md-ellipsis">
      DurationMensural
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.DynSpineImporter" class="md-nav__link">
    <span class="md-ellipsis">
      DynSpineImporter
    </span>
  </a>
  
    <nav class="md-nav" aria-label="DynSpineImporter">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.DynSpineImporter.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.DynamSpineImporter" class="md-nav__link">
    <span class="md-ellipsis">
      DynamSpineImporter
    </span>
  </a>
  
    <nav class="md-nav" aria-label="DynamSpineImporter">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.DynamSpineImporter.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.EkernTokenizer" class="md-nav__link">
    <span class="md-ellipsis">
      EkernTokenizer
    </span>
  </a>
  
    <nav class="md-nav" aria-label="EkernTokenizer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.EkernTokenizer.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.EkernTokenizer.tokenize" class="md-nav__link">
    <span class="md-ellipsis">
      tokenize
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.ExportOptions" class="md-nav__link">
    <span class="md-ellipsis">
      ExportOptions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ExportOptions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.ExportOptions.__eq__" class="md-nav__link">
    <span class="md-ellipsis">
      __eq__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.ExportOptions.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.ExportOptions.__ne__" class="md-nav__link">
    <span class="md-ellipsis">
      __ne__
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.Exporter" class="md-nav__link">
    <span class="md-ellipsis">
      Exporter
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Exporter">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.Exporter.append_row" class="md-nav__link">
    <span class="md-ellipsis">
      append_row
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.Exporter.compute_header_type" class="md-nav__link">
    <span class="md-ellipsis">
      compute_header_type
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.Exporter.export_options_validator" class="md-nav__link">
    <span class="md-ellipsis">
      export_options_validator
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.Exporter.get_spine_types" class="md-nav__link">
    <span class="md-ellipsis">
      get_spine_types
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.F3Clef" class="md-nav__link">
    <span class="md-ellipsis">
      F3Clef
    </span>
  </a>
  
    <nav class="md-nav" aria-label="F3Clef">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.F3Clef.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.F3Clef.bottom_line" class="md-nav__link">
    <span class="md-ellipsis">
      bottom_line
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.F4Clef" class="md-nav__link">
    <span class="md-ellipsis">
      F4Clef
    </span>
  </a>
  
    <nav class="md-nav" aria-label="F4Clef">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.F4Clef.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.F4Clef.bottom_line" class="md-nav__link">
    <span class="md-ellipsis">
      bottom_line
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.FingSpineImporter" class="md-nav__link">
    <span class="md-ellipsis">
      FingSpineImporter
    </span>
  </a>
  
    <nav class="md-nav" aria-label="FingSpineImporter">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.FingSpineImporter.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.GClef" class="md-nav__link">
    <span class="md-ellipsis">
      GClef
    </span>
  </a>
  
    <nav class="md-nav" aria-label="GClef">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.GClef.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.GClef.bottom_line" class="md-nav__link">
    <span class="md-ellipsis">
      bottom_line
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.GraphvizExporter" class="md-nav__link">
    <span class="md-ellipsis">
      GraphvizExporter
    </span>
  </a>
  
    <nav class="md-nav" aria-label="GraphvizExporter">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.GraphvizExporter.export_to_dot" class="md-nav__link">
    <span class="md-ellipsis">
      export_to_dot
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.HarmSpineImporter" class="md-nav__link">
    <span class="md-ellipsis">
      HarmSpineImporter
    </span>
  </a>
  
    <nav class="md-nav" aria-label="HarmSpineImporter">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.HarmSpineImporter.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.HeaderToken" class="md-nav__link">
    <span class="md-ellipsis">
      HeaderToken
    </span>
  </a>
  
    <nav class="md-nav" aria-label="HeaderToken">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.HeaderToken.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.HeaderTokenGenerator" class="md-nav__link">
    <span class="md-ellipsis">
      HeaderTokenGenerator
    </span>
  </a>
  
    <nav class="md-nav" aria-label="HeaderTokenGenerator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.HeaderTokenGenerator.new" class="md-nav__link">
    <span class="md-ellipsis">
      new
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.HumdrumPitchImporter" class="md-nav__link">
    <span class="md-ellipsis">
      HumdrumPitchImporter
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.Importer" class="md-nav__link">
    <span class="md-ellipsis">
      Importer
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Importer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.Importer.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.Importer.get_error_messages" class="md-nav__link">
    <span class="md-ellipsis">
      get_error_messages
    </span>
  </a>
  
    <nav class="md-nav" aria-label="get_error_messages">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.Importer.get_error_messages--create-the-importer-and-read-the-file" class="md-nav__link">
    <span class="md-ellipsis">
      Create the importer and read the file
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.Importer.has_errors" class="md-nav__link">
    <span class="md-ellipsis">
      has_errors
    </span>
  </a>
  
    <nav class="md-nav" aria-label="has_errors">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.Importer.has_errors--create-the-importer-and-read-the-file" class="md-nav__link">
    <span class="md-ellipsis">
      Create the importer and read the file
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.Importer.import_file" class="md-nav__link">
    <span class="md-ellipsis">
      import_file
    </span>
  </a>
  
    <nav class="md-nav" aria-label="import_file">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.Importer.import_file--create-the-importer-and-read-the-file" class="md-nav__link">
    <span class="md-ellipsis">
      Create the importer and read the file
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.Importer.import_string" class="md-nav__link">
    <span class="md-ellipsis">
      import_string
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.KernSpineImporter" class="md-nav__link">
    <span class="md-ellipsis">
      KernSpineImporter
    </span>
  </a>
  
    <nav class="md-nav" aria-label="KernSpineImporter">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.KernSpineImporter.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.KernTokenizer" class="md-nav__link">
    <span class="md-ellipsis">
      KernTokenizer
    </span>
  </a>
  
    <nav class="md-nav" aria-label="KernTokenizer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.KernTokenizer.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.KernTokenizer.tokenize" class="md-nav__link">
    <span class="md-ellipsis">
      tokenize
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.KernTypeExporter" class="md-nav__link">
    <span class="md-ellipsis">
      KernTypeExporter
    </span>
  </a>
  
    <nav class="md-nav" aria-label="KernTypeExporter">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.KernTypeExporter--load-a-file" class="md-nav__link">
    <span class="md-ellipsis">
      Load a file
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.KernTypeExporter--save-the-file-using-the-specified-encoding" class="md-nav__link">
    <span class="md-ellipsis">
      Save the file using the specified encoding
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.KernTypeExporter.prefix" class="md-nav__link">
    <span class="md-ellipsis">
      prefix
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.MensSpineImporter" class="md-nav__link">
    <span class="md-ellipsis">
      MensSpineImporter
    </span>
  </a>
  
    <nav class="md-nav" aria-label="MensSpineImporter">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.MensSpineImporter.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.MxhmSpineImporter" class="md-nav__link">
    <span class="md-ellipsis">
      MxhmSpineImporter
    </span>
  </a>
  
    <nav class="md-nav" aria-label="MxhmSpineImporter">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.MxhmSpineImporter.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.NoteRestToken" class="md-nav__link">
    <span class="md-ellipsis">
      NoteRestToken
    </span>
  </a>
  
    <nav class="md-nav" aria-label="NoteRestToken">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.NoteRestToken.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.NoteRestToken.export" class="md-nav__link">
    <span class="md-ellipsis">
      export
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.PitchPositionReferenceSystem" class="md-nav__link">
    <span class="md-ellipsis">
      PitchPositionReferenceSystem
    </span>
  </a>
  
    <nav class="md-nav" aria-label="PitchPositionReferenceSystem">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.PitchPositionReferenceSystem.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.PitchPositionReferenceSystem.compute_position" class="md-nav__link">
    <span class="md-ellipsis">
      compute_position
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.PitchRest" class="md-nav__link">
    <span class="md-ellipsis">
      PitchRest
    </span>
  </a>
  
    <nav class="md-nav" aria-label="PitchRest">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.PitchRest.__eq__" class="md-nav__link">
    <span class="md-ellipsis">
      __eq__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.PitchRest.__ge__" class="md-nav__link">
    <span class="md-ellipsis">
      __ge__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.PitchRest.__gt__" class="md-nav__link">
    <span class="md-ellipsis">
      __gt__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.PitchRest.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.PitchRest.__le__" class="md-nav__link">
    <span class="md-ellipsis">
      __le__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.PitchRest.__lt__" class="md-nav__link">
    <span class="md-ellipsis">
      __lt__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.PitchRest.__ne__" class="md-nav__link">
    <span class="md-ellipsis">
      __ne__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.PitchRest.is_rest" class="md-nav__link">
    <span class="md-ellipsis">
      is_rest
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.PitchRest.pitch_comparator" class="md-nav__link">
    <span class="md-ellipsis">
      pitch_comparator
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.PositionInStaff" class="md-nav__link">
    <span class="md-ellipsis">
      PositionInStaff
    </span>
  </a>
  
    <nav class="md-nav" aria-label="PositionInStaff">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.PositionInStaff.__eq__" class="md-nav__link">
    <span class="md-ellipsis">
      __eq__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.PositionInStaff.__hash__" class="md-nav__link">
    <span class="md-ellipsis">
      __hash__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.PositionInStaff.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.PositionInStaff.__lt__" class="md-nav__link">
    <span class="md-ellipsis">
      __lt__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.PositionInStaff.__ne__" class="md-nav__link">
    <span class="md-ellipsis">
      __ne__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.PositionInStaff.__repr__" class="md-nav__link">
    <span class="md-ellipsis">
      __repr__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.PositionInStaff.__str__" class="md-nav__link">
    <span class="md-ellipsis">
      __str__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.PositionInStaff.from_encoded" class="md-nav__link">
    <span class="md-ellipsis">
      from_encoded
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.PositionInStaff.from_line" class="md-nav__link">
    <span class="md-ellipsis">
      from_line
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.PositionInStaff.from_space" class="md-nav__link">
    <span class="md-ellipsis">
      from_space
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.PositionInStaff.is_line" class="md-nav__link">
    <span class="md-ellipsis">
      is_line
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.PositionInStaff.line" class="md-nav__link">
    <span class="md-ellipsis">
      line
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.PositionInStaff.move" class="md-nav__link">
    <span class="md-ellipsis">
      move
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.PositionInStaff.position_above" class="md-nav__link">
    <span class="md-ellipsis">
      position_above
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.PositionInStaff.position_below" class="md-nav__link">
    <span class="md-ellipsis">
      position_below
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.PositionInStaff.space" class="md-nav__link">
    <span class="md-ellipsis">
      space
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.RootSpineImporter" class="md-nav__link">
    <span class="md-ellipsis">
      RootSpineImporter
    </span>
  </a>
  
    <nav class="md-nav" aria-label="RootSpineImporter">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.RootSpineImporter.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.SimpleToken" class="md-nav__link">
    <span class="md-ellipsis">
      SimpleToken
    </span>
  </a>
  
    <nav class="md-nav" aria-label="SimpleToken">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.SimpleToken.export" class="md-nav__link">
    <span class="md-ellipsis">
      export
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.SpineOperationToken" class="md-nav__link">
    <span class="md-ellipsis">
      SpineOperationToken
    </span>
  </a>
  
    <nav class="md-nav" aria-label="SpineOperationToken">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.SpineOperationToken.is_cancelled_at" class="md-nav__link">
    <span class="md-ellipsis">
      is_cancelled_at
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.StoreCache" class="md-nav__link">
    <span class="md-ellipsis">
      StoreCache
    </span>
  </a>
  
    <nav class="md-nav" aria-label="StoreCache">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.StoreCache.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.StoreCache.request" class="md-nav__link">
    <span class="md-ellipsis">
      request
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.Subtoken" class="md-nav__link">
    <span class="md-ellipsis">
      Subtoken
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Subtoken">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.Subtoken.__eq__" class="md-nav__link">
    <span class="md-ellipsis">
      __eq__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.Subtoken.__hash__" class="md-nav__link">
    <span class="md-ellipsis">
      __hash__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.Subtoken.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.Subtoken.__ne__" class="md-nav__link">
    <span class="md-ellipsis">
      __ne__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.Subtoken.__str__" class="md-nav__link">
    <span class="md-ellipsis">
      __str__
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.TextSpineImporter" class="md-nav__link">
    <span class="md-ellipsis">
      TextSpineImporter
    </span>
  </a>
  
    <nav class="md-nav" aria-label="TextSpineImporter">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.TextSpineImporter.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.Token" class="md-nav__link">
    <span class="md-ellipsis">
      Token
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.TokenCategory" class="md-nav__link">
    <span class="md-ellipsis">
      TokenCategory
    </span>
  </a>
  
    <nav class="md-nav" aria-label="TokenCategory">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.TokenCategory.__lt__" class="md-nav__link">
    <span class="md-ellipsis">
      __lt__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.TokenCategory.__str__" class="md-nav__link">
    <span class="md-ellipsis">
      __str__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.TokenCategory.children" class="md-nav__link">
    <span class="md-ellipsis">
      children
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.TokenCategory.is_child" class="md-nav__link">
    <span class="md-ellipsis">
      is_child
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.TokenCategory.leaves" class="md-nav__link">
    <span class="md-ellipsis">
      leaves
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.TokenCategory.match" class="md-nav__link">
    <span class="md-ellipsis">
      match
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.TokenCategory.nodes" class="md-nav__link">
    <span class="md-ellipsis">
      nodes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.TokenCategory.tree" class="md-nav__link">
    <span class="md-ellipsis">
      tree
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.TokenCategory.valid" class="md-nav__link">
    <span class="md-ellipsis">
      valid
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.TokenCategoryHierarchyMapper" class="md-nav__link">
    <span class="md-ellipsis">
      TokenCategoryHierarchyMapper
    </span>
  </a>
  
    <nav class="md-nav" aria-label="TokenCategoryHierarchyMapper">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.TokenCategoryHierarchyMapper.all" class="md-nav__link">
    <span class="md-ellipsis">
      all
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.TokenCategoryHierarchyMapper.children" class="md-nav__link">
    <span class="md-ellipsis">
      children
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.TokenCategoryHierarchyMapper.is_child" class="md-nav__link">
    <span class="md-ellipsis">
      is_child
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.TokenCategoryHierarchyMapper.leaves" class="md-nav__link">
    <span class="md-ellipsis">
      leaves
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.TokenCategoryHierarchyMapper.match" class="md-nav__link">
    <span class="md-ellipsis">
      match
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.TokenCategoryHierarchyMapper.nodes" class="md-nav__link">
    <span class="md-ellipsis">
      nodes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.TokenCategoryHierarchyMapper.tree" class="md-nav__link">
    <span class="md-ellipsis">
      tree
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.TokenCategoryHierarchyMapper.valid" class="md-nav__link">
    <span class="md-ellipsis">
      valid
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.Tokenizer" class="md-nav__link">
    <span class="md-ellipsis">
      Tokenizer
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Tokenizer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.Tokenizer.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.Tokenizer.tokenize" class="md-nav__link">
    <span class="md-ellipsis">
      tokenize
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.agnostic_distance" class="md-nav__link">
    <span class="md-ellipsis">
      agnostic_distance
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.concat" class="md-nav__link">
    <span class="md-ellipsis">
      concat
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.create" class="md-nav__link">
    <span class="md-ellipsis">
      create
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.distance" class="md-nav__link">
    <span class="md-ellipsis">
      distance
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.download_polish_scores" class="md-nav__link">
    <span class="md-ellipsis">
      download_polish_scores
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.dump" class="md-nav__link">
    <span class="md-ellipsis">
      dump
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.dumps" class="md-nav__link">
    <span class="md-ellipsis">
      dumps
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.ekern_to_krn" class="md-nav__link">
    <span class="md-ellipsis">
      ekern_to_krn
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ekern_to_krn">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.ekern_to_krn--convert-ekrn-to-krn" class="md-nav__link">
    <span class="md-ellipsis">
      Convert .ekrn to .krn
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.ekern_to_krn--convert-a-list-of-ekrn-files-to-krn-files" class="md-nav__link">
    <span class="md-ellipsis">
      Convert a list of .ekrn files to .krn files
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.export" class="md-nav__link">
    <span class="md-ellipsis">
      export
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.get_kern_from_ekern" class="md-nav__link">
    <span class="md-ellipsis">
      get_kern_from_ekern
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.get_spine_types" class="md-nav__link">
    <span class="md-ellipsis">
      get_spine_types
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.graph" class="md-nav__link">
    <span class="md-ellipsis">
      graph
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.kern_to_ekern" class="md-nav__link">
    <span class="md-ellipsis">
      kern_to_ekern
    </span>
  </a>
  
    <nav class="md-nav" aria-label="kern_to_ekern">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.kern_to_ekern--convert-krn-to-ekrn" class="md-nav__link">
    <span class="md-ellipsis">
      Convert .krn to .ekrn
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.kern_to_ekern--convert-a-list-of-krn-files-to-ekrn-files" class="md-nav__link">
    <span class="md-ellipsis">
      Convert a list of .krn files to .ekrn files
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.load" class="md-nav__link">
    <span class="md-ellipsis">
      load
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.loads" class="md-nav__link">
    <span class="md-ellipsis">
      loads
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.merge" class="md-nav__link">
    <span class="md-ellipsis">
      merge
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.read" class="md-nav__link">
    <span class="md-ellipsis">
      read
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.spine_types" class="md-nav__link">
    <span class="md-ellipsis">
      spine_types
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.store" class="md-nav__link">
    <span class="md-ellipsis">
      store
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.store_graph" class="md-nav__link">
    <span class="md-ellipsis">
      store_graph
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.transpose" class="md-nav__link">
    <span class="md-ellipsis">
      transpose
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.transpose_agnostic_to_encoding" class="md-nav__link">
    <span class="md-ellipsis">
      transpose_agnostic_to_encoding
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.transpose_agnostics" class="md-nav__link">
    <span class="md-ellipsis">
      transpose_agnostics
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.transpose_encoding_to_agnostic" class="md-nav__link">
    <span class="md-ellipsis">
      transpose_encoding_to_agnostic
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modules" class="md-nav__link">
    <span class="md-ellipsis">
      Modules
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core" class="md-nav__link">
    <span class="md-ellipsis">
      core
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.Intervals" class="md-nav__link">
    <span class="md-ellipsis">
      Intervals
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.AbstractToken" class="md-nav__link">
    <span class="md-ellipsis">
      AbstractToken
    </span>
  </a>
  
    <nav class="md-nav" aria-label="AbstractToken">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.AbstractToken.__eq__" class="md-nav__link">
    <span class="md-ellipsis">
      __eq__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.AbstractToken.__hash__" class="md-nav__link">
    <span class="md-ellipsis">
      __hash__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.AbstractToken.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.AbstractToken.__ne__" class="md-nav__link">
    <span class="md-ellipsis">
      __ne__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.AbstractToken.__str__" class="md-nav__link">
    <span class="md-ellipsis">
      __str__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.AbstractToken.export" class="md-nav__link">
    <span class="md-ellipsis">
      export
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.AgnosticPitch" class="md-nav__link">
    <span class="md-ellipsis">
      AgnosticPitch
    </span>
  </a>
  
    <nav class="md-nav" aria-label="AgnosticPitch">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.AgnosticPitch.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.Alteration" class="md-nav__link">
    <span class="md-ellipsis">
      Alteration
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.BarToken" class="md-nav__link">
    <span class="md-ellipsis">
      BarToken
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.BasicSpineImporter" class="md-nav__link">
    <span class="md-ellipsis">
      BasicSpineImporter
    </span>
  </a>
  
    <nav class="md-nav" aria-label="BasicSpineImporter">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.BasicSpineImporter.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.BekernTokenizer" class="md-nav__link">
    <span class="md-ellipsis">
      BekernTokenizer
    </span>
  </a>
  
    <nav class="md-nav" aria-label="BekernTokenizer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.BekernTokenizer.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.BekernTokenizer.tokenize" class="md-nav__link">
    <span class="md-ellipsis">
      tokenize
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.BkernTokenizer" class="md-nav__link">
    <span class="md-ellipsis">
      BkernTokenizer
    </span>
  </a>
  
    <nav class="md-nav" aria-label="BkernTokenizer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.BkernTokenizer.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.BkernTokenizer.tokenize" class="md-nav__link">
    <span class="md-ellipsis">
      tokenize
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.BoundingBox" class="md-nav__link">
    <span class="md-ellipsis">
      BoundingBox
    </span>
  </a>
  
    <nav class="md-nav" aria-label="BoundingBox">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.BoundingBox.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.BoundingBox.__str__" class="md-nav__link">
    <span class="md-ellipsis">
      __str__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.BoundingBox.extend" class="md-nav__link">
    <span class="md-ellipsis">
      extend
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.BoundingBox.h" class="md-nav__link">
    <span class="md-ellipsis">
      h
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.BoundingBox.w" class="md-nav__link">
    <span class="md-ellipsis">
      w
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.BoundingBox.xywh" class="md-nav__link">
    <span class="md-ellipsis">
      xywh
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.BoundingBoxMeasures" class="md-nav__link">
    <span class="md-ellipsis">
      BoundingBoxMeasures
    </span>
  </a>
  
    <nav class="md-nav" aria-label="BoundingBoxMeasures">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.BoundingBoxMeasures.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.BoundingBoxToken" class="md-nav__link">
    <span class="md-ellipsis">
      BoundingBoxToken
    </span>
  </a>
  
    <nav class="md-nav" aria-label="BoundingBoxToken">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.BoundingBoxToken.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.C1Clef" class="md-nav__link">
    <span class="md-ellipsis">
      C1Clef
    </span>
  </a>
  
    <nav class="md-nav" aria-label="C1Clef">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.C1Clef.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.C1Clef.bottom_line" class="md-nav__link">
    <span class="md-ellipsis">
      bottom_line
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.C2Clef" class="md-nav__link">
    <span class="md-ellipsis">
      C2Clef
    </span>
  </a>
  
    <nav class="md-nav" aria-label="C2Clef">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.C2Clef.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.C2Clef.bottom_line" class="md-nav__link">
    <span class="md-ellipsis">
      bottom_line
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.C3Clef" class="md-nav__link">
    <span class="md-ellipsis">
      C3Clef
    </span>
  </a>
  
    <nav class="md-nav" aria-label="C3Clef">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.C3Clef.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.C3Clef.bottom_line" class="md-nav__link">
    <span class="md-ellipsis">
      bottom_line
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.C4Clef" class="md-nav__link">
    <span class="md-ellipsis">
      C4Clef
    </span>
  </a>
  
    <nav class="md-nav" aria-label="C4Clef">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.C4Clef.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.C4Clef.bottom_line" class="md-nav__link">
    <span class="md-ellipsis">
      bottom_line
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.ChordToken" class="md-nav__link">
    <span class="md-ellipsis">
      ChordToken
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ChordToken">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.ChordToken.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.Clef" class="md-nav__link">
    <span class="md-ellipsis">
      Clef
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Clef">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Clef.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Clef.__str__" class="md-nav__link">
    <span class="md-ellipsis">
      __str__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Clef.bottom_line" class="md-nav__link">
    <span class="md-ellipsis">
      bottom_line
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Clef.name" class="md-nav__link">
    <span class="md-ellipsis">
      name
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Clef.reference_point" class="md-nav__link">
    <span class="md-ellipsis">
      reference_point
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.ClefFactory" class="md-nav__link">
    <span class="md-ellipsis">
      ClefFactory
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ClefFactory">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.ClefFactory.create_clef" class="md-nav__link">
    <span class="md-ellipsis">
      create_clef
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.ClefToken" class="md-nav__link">
    <span class="md-ellipsis">
      ClefToken
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.ComplexToken" class="md-nav__link">
    <span class="md-ellipsis">
      ComplexToken
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ComplexToken">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.ComplexToken.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.ComplexToken.export" class="md-nav__link">
    <span class="md-ellipsis">
      export
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.CompoundToken" class="md-nav__link">
    <span class="md-ellipsis">
      CompoundToken
    </span>
  </a>
  
    <nav class="md-nav" aria-label="CompoundToken">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.CompoundToken.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.CompoundToken.export" class="md-nav__link">
    <span class="md-ellipsis">
      export
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.Document" class="md-nav__link">
    <span class="md-ellipsis">
      Document
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Document">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Document.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Document.__iter__" class="md-nav__link">
    <span class="md-ellipsis">
      __iter__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Document.__next__" class="md-nav__link">
    <span class="md-ellipsis">
      __next__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Document.add" class="md-nav__link">
    <span class="md-ellipsis">
      add
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Document.append_spines" class="md-nav__link">
    <span class="md-ellipsis">
      append_spines
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Document.clone" class="md-nav__link">
    <span class="md-ellipsis">
      clone
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Document.frequencies" class="md-nav__link">
    <span class="md-ellipsis">
      frequencies
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Document.get_all_tokens" class="md-nav__link">
    <span class="md-ellipsis">
      get_all_tokens
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Document.get_all_tokens_encodings" class="md-nav__link">
    <span class="md-ellipsis">
      get_all_tokens_encodings
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Document.get_first_measure" class="md-nav__link">
    <span class="md-ellipsis">
      get_first_measure
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Document.get_header_nodes" class="md-nav__link">
    <span class="md-ellipsis">
      get_header_nodes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Document.get_header_stage" class="md-nav__link">
    <span class="md-ellipsis">
      get_header_stage
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Document.get_leaves" class="md-nav__link">
    <span class="md-ellipsis">
      get_leaves
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Document.get_metacomments" class="md-nav__link">
    <span class="md-ellipsis">
      get_metacomments
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Document.get_spine_count" class="md-nav__link">
    <span class="md-ellipsis">
      get_spine_count
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Document.get_spine_ids" class="md-nav__link">
    <span class="md-ellipsis">
      get_spine_ids
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Document.get_unique_token_encodings" class="md-nav__link">
    <span class="md-ellipsis">
      get_unique_token_encodings
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Document.get_unique_tokens" class="md-nav__link">
    <span class="md-ellipsis">
      get_unique_tokens
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Document.get_voices" class="md-nav__link">
    <span class="md-ellipsis">
      get_voices
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Document.match" class="md-nav__link">
    <span class="md-ellipsis">
      match
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Document.measures_count" class="md-nav__link">
    <span class="md-ellipsis">
      measures_count
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Document.split" class="md-nav__link">
    <span class="md-ellipsis">
      split
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Document.to_concat" class="md-nav__link">
    <span class="md-ellipsis">
      to_concat
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Document.to_transposed" class="md-nav__link">
    <span class="md-ellipsis">
      to_transposed
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Document.tokens_to_encodings" class="md-nav__link">
    <span class="md-ellipsis">
      tokens_to_encodings
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.Duration" class="md-nav__link">
    <span class="md-ellipsis">
      Duration
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.DurationClassical" class="md-nav__link">
    <span class="md-ellipsis">
      DurationClassical
    </span>
  </a>
  
    <nav class="md-nav" aria-label="DurationClassical">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.DurationClassical.__eq__" class="md-nav__link">
    <span class="md-ellipsis">
      __eq__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.DurationClassical.__ge__" class="md-nav__link">
    <span class="md-ellipsis">
      __ge__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.DurationClassical.__gt__" class="md-nav__link">
    <span class="md-ellipsis">
      __gt__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.DurationClassical.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.DurationClassical.__le__" class="md-nav__link">
    <span class="md-ellipsis">
      __le__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.DurationClassical.__lt__" class="md-nav__link">
    <span class="md-ellipsis">
      __lt__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.DurationClassical.__ne__" class="md-nav__link">
    <span class="md-ellipsis">
      __ne__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.DurationClassical.modify" class="md-nav__link">
    <span class="md-ellipsis">
      modify
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.DurationMensural" class="md-nav__link">
    <span class="md-ellipsis">
      DurationMensural
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.DynSpineImporter" class="md-nav__link">
    <span class="md-ellipsis">
      DynSpineImporter
    </span>
  </a>
  
    <nav class="md-nav" aria-label="DynSpineImporter">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.DynSpineImporter.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.DynamSpineImporter" class="md-nav__link">
    <span class="md-ellipsis">
      DynamSpineImporter
    </span>
  </a>
  
    <nav class="md-nav" aria-label="DynamSpineImporter">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.DynamSpineImporter.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.EkernTokenizer" class="md-nav__link">
    <span class="md-ellipsis">
      EkernTokenizer
    </span>
  </a>
  
    <nav class="md-nav" aria-label="EkernTokenizer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.EkernTokenizer.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.EkernTokenizer.tokenize" class="md-nav__link">
    <span class="md-ellipsis">
      tokenize
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.ErrorListener" class="md-nav__link">
    <span class="md-ellipsis">
      ErrorListener
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ErrorListener">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.ErrorListener.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.ErrorToken" class="md-nav__link">
    <span class="md-ellipsis">
      ErrorToken
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ErrorToken">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.ErrorToken.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.ErrorToken.__str__" class="md-nav__link">
    <span class="md-ellipsis">
      __str__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.ErrorToken.export" class="md-nav__link">
    <span class="md-ellipsis">
      export
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.ExportOptions" class="md-nav__link">
    <span class="md-ellipsis">
      ExportOptions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ExportOptions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.ExportOptions.__eq__" class="md-nav__link">
    <span class="md-ellipsis">
      __eq__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.ExportOptions.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.ExportOptions.__ne__" class="md-nav__link">
    <span class="md-ellipsis">
      __ne__
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.Exporter" class="md-nav__link">
    <span class="md-ellipsis">
      Exporter
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Exporter">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Exporter.append_row" class="md-nav__link">
    <span class="md-ellipsis">
      append_row
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Exporter.compute_header_type" class="md-nav__link">
    <span class="md-ellipsis">
      compute_header_type
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Exporter.export_options_validator" class="md-nav__link">
    <span class="md-ellipsis">
      export_options_validator
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Exporter.get_spine_types" class="md-nav__link">
    <span class="md-ellipsis">
      get_spine_types
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.F3Clef" class="md-nav__link">
    <span class="md-ellipsis">
      F3Clef
    </span>
  </a>
  
    <nav class="md-nav" aria-label="F3Clef">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.F3Clef.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.F3Clef.bottom_line" class="md-nav__link">
    <span class="md-ellipsis">
      bottom_line
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.F4Clef" class="md-nav__link">
    <span class="md-ellipsis">
      F4Clef
    </span>
  </a>
  
    <nav class="md-nav" aria-label="F4Clef">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.F4Clef.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.F4Clef.bottom_line" class="md-nav__link">
    <span class="md-ellipsis">
      bottom_line
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.FieldCommentToken" class="md-nav__link">
    <span class="md-ellipsis">
      FieldCommentToken
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.FingSpineImporter" class="md-nav__link">
    <span class="md-ellipsis">
      FingSpineImporter
    </span>
  </a>
  
    <nav class="md-nav" aria-label="FingSpineImporter">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.FingSpineImporter.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.GClef" class="md-nav__link">
    <span class="md-ellipsis">
      GClef
    </span>
  </a>
  
    <nav class="md-nav" aria-label="GClef">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.GClef.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.GClef.bottom_line" class="md-nav__link">
    <span class="md-ellipsis">
      bottom_line
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.GKernExporter" class="md-nav__link">
    <span class="md-ellipsis">
      GKernExporter
    </span>
  </a>
  
    <nav class="md-nav" aria-label="GKernExporter">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.GKernExporter.agnostic_position" class="md-nav__link">
    <span class="md-ellipsis">
      agnostic_position
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.GKernExporter.export" class="md-nav__link">
    <span class="md-ellipsis">
      export
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.Generic" class="md-nav__link">
    <span class="md-ellipsis">
      Generic
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Generic">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Generic.concat" class="md-nav__link">
    <span class="md-ellipsis">
      concat
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Generic.create" class="md-nav__link">
    <span class="md-ellipsis">
      create
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Generic.export" class="md-nav__link">
    <span class="md-ellipsis">
      export
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Generic.get_spine_types" class="md-nav__link">
    <span class="md-ellipsis">
      get_spine_types
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Generic.merge" class="md-nav__link">
    <span class="md-ellipsis">
      merge
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Generic.parse_options_to_ExportOptions" class="md-nav__link">
    <span class="md-ellipsis">
      parse_options_to_ExportOptions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Generic.read" class="md-nav__link">
    <span class="md-ellipsis">
      read
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Generic.store" class="md-nav__link">
    <span class="md-ellipsis">
      store
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Generic.store_graph" class="md-nav__link">
    <span class="md-ellipsis">
      store_graph
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.GraphvizExporter" class="md-nav__link">
    <span class="md-ellipsis">
      GraphvizExporter
    </span>
  </a>
  
    <nav class="md-nav" aria-label="GraphvizExporter">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.GraphvizExporter.export_to_dot" class="md-nav__link">
    <span class="md-ellipsis">
      export_to_dot
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.HarmSpineImporter" class="md-nav__link">
    <span class="md-ellipsis">
      HarmSpineImporter
    </span>
  </a>
  
    <nav class="md-nav" aria-label="HarmSpineImporter">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.HarmSpineImporter.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.HeaderToken" class="md-nav__link">
    <span class="md-ellipsis">
      HeaderToken
    </span>
  </a>
  
    <nav class="md-nav" aria-label="HeaderToken">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.HeaderToken.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.HeaderTokenGenerator" class="md-nav__link">
    <span class="md-ellipsis">
      HeaderTokenGenerator
    </span>
  </a>
  
    <nav class="md-nav" aria-label="HeaderTokenGenerator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.HeaderTokenGenerator.new" class="md-nav__link">
    <span class="md-ellipsis">
      new
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.HumdrumPitchImporter" class="md-nav__link">
    <span class="md-ellipsis">
      HumdrumPitchImporter
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.Importer" class="md-nav__link">
    <span class="md-ellipsis">
      Importer
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Importer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Importer.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Importer.get_error_messages" class="md-nav__link">
    <span class="md-ellipsis">
      get_error_messages
    </span>
  </a>
  
    <nav class="md-nav" aria-label="get_error_messages">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Importer.get_error_messages--create-the-importer-and-read-the-file" class="md-nav__link">
    <span class="md-ellipsis">
      Create the importer and read the file
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Importer.has_errors" class="md-nav__link">
    <span class="md-ellipsis">
      has_errors
    </span>
  </a>
  
    <nav class="md-nav" aria-label="has_errors">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Importer.has_errors--create-the-importer-and-read-the-file" class="md-nav__link">
    <span class="md-ellipsis">
      Create the importer and read the file
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Importer.import_file" class="md-nav__link">
    <span class="md-ellipsis">
      import_file
    </span>
  </a>
  
    <nav class="md-nav" aria-label="import_file">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Importer.import_file--create-the-importer-and-read-the-file" class="md-nav__link">
    <span class="md-ellipsis">
      Create the importer and read the file
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Importer.import_string" class="md-nav__link">
    <span class="md-ellipsis">
      import_string
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.InstrumentToken" class="md-nav__link">
    <span class="md-ellipsis">
      InstrumentToken
    </span>
  </a>
  
    <nav class="md-nav" aria-label="InstrumentToken">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.InstrumentToken.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.KernSpineImporter" class="md-nav__link">
    <span class="md-ellipsis">
      KernSpineImporter
    </span>
  </a>
  
    <nav class="md-nav" aria-label="KernSpineImporter">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.KernSpineImporter.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.KernTokenizer" class="md-nav__link">
    <span class="md-ellipsis">
      KernTokenizer
    </span>
  </a>
  
    <nav class="md-nav" aria-label="KernTokenizer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.KernTokenizer.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.KernTokenizer.tokenize" class="md-nav__link">
    <span class="md-ellipsis">
      tokenize
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.KernTypeExporter" class="md-nav__link">
    <span class="md-ellipsis">
      KernTypeExporter
    </span>
  </a>
  
    <nav class="md-nav" aria-label="KernTypeExporter">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.KernTypeExporter--load-a-file" class="md-nav__link">
    <span class="md-ellipsis">
      Load a file
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.KernTypeExporter--save-the-file-using-the-specified-encoding" class="md-nav__link">
    <span class="md-ellipsis">
      Save the file using the specified encoding
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.KernTypeExporter.prefix" class="md-nav__link">
    <span class="md-ellipsis">
      prefix
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.KeySignatureToken" class="md-nav__link">
    <span class="md-ellipsis">
      KeySignatureToken
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.KeyToken" class="md-nav__link">
    <span class="md-ellipsis">
      KeyToken
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.MHXMToken" class="md-nav__link">
    <span class="md-ellipsis">
      MHXMToken
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.MensSpineImporter" class="md-nav__link">
    <span class="md-ellipsis">
      MensSpineImporter
    </span>
  </a>
  
    <nav class="md-nav" aria-label="MensSpineImporter">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.MensSpineImporter.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.MetacommentToken" class="md-nav__link">
    <span class="md-ellipsis">
      MetacommentToken
    </span>
  </a>
  
    <nav class="md-nav" aria-label="MetacommentToken">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.MetacommentToken.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.MeterSymbolToken" class="md-nav__link">
    <span class="md-ellipsis">
      MeterSymbolToken
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.MultistageTree" class="md-nav__link">
    <span class="md-ellipsis">
      MultistageTree
    </span>
  </a>
  
    <nav class="md-nav" aria-label="MultistageTree">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.MultistageTree.__deepcopy__" class="md-nav__link">
    <span class="md-ellipsis">
      __deepcopy__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.MultistageTree.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.MultistageTree.add_node" class="md-nav__link">
    <span class="md-ellipsis">
      add_node
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.MultistageTree.dfs" class="md-nav__link">
    <span class="md-ellipsis">
      dfs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.MultistageTree.dfs_iterative" class="md-nav__link">
    <span class="md-ellipsis">
      dfs_iterative
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.MxhmSpineImporter" class="md-nav__link">
    <span class="md-ellipsis">
      MxhmSpineImporter
    </span>
  </a>
  
    <nav class="md-nav" aria-label="MxhmSpineImporter">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.MxhmSpineImporter.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.Node" class="md-nav__link">
    <span class="md-ellipsis">
      Node
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Node">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Node.__eq__" class="md-nav__link">
    <span class="md-ellipsis">
      __eq__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Node.__hash__" class="md-nav__link">
    <span class="md-ellipsis">
      __hash__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Node.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Node.__ne__" class="md-nav__link">
    <span class="md-ellipsis">
      __ne__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Node.__str__" class="md-nav__link">
    <span class="md-ellipsis">
      __str__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Node.count_nodes_by_stage" class="md-nav__link">
    <span class="md-ellipsis">
      count_nodes_by_stage
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Node.dfs" class="md-nav__link">
    <span class="md-ellipsis">
      dfs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Node.dfs_iterative" class="md-nav__link">
    <span class="md-ellipsis">
      dfs_iterative
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.NoteRestToken" class="md-nav__link">
    <span class="md-ellipsis">
      NoteRestToken
    </span>
  </a>
  
    <nav class="md-nav" aria-label="NoteRestToken">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.NoteRestToken.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.NoteRestToken.export" class="md-nav__link">
    <span class="md-ellipsis">
      export
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.PitchPositionReferenceSystem" class="md-nav__link">
    <span class="md-ellipsis">
      PitchPositionReferenceSystem
    </span>
  </a>
  
    <nav class="md-nav" aria-label="PitchPositionReferenceSystem">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.PitchPositionReferenceSystem.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.PitchPositionReferenceSystem.compute_position" class="md-nav__link">
    <span class="md-ellipsis">
      compute_position
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.PitchRest" class="md-nav__link">
    <span class="md-ellipsis">
      PitchRest
    </span>
  </a>
  
    <nav class="md-nav" aria-label="PitchRest">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.PitchRest.__eq__" class="md-nav__link">
    <span class="md-ellipsis">
      __eq__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.PitchRest.__ge__" class="md-nav__link">
    <span class="md-ellipsis">
      __ge__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.PitchRest.__gt__" class="md-nav__link">
    <span class="md-ellipsis">
      __gt__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.PitchRest.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.PitchRest.__le__" class="md-nav__link">
    <span class="md-ellipsis">
      __le__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.PitchRest.__lt__" class="md-nav__link">
    <span class="md-ellipsis">
      __lt__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.PitchRest.__ne__" class="md-nav__link">
    <span class="md-ellipsis">
      __ne__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.PitchRest.is_rest" class="md-nav__link">
    <span class="md-ellipsis">
      is_rest
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.PitchRest.pitch_comparator" class="md-nav__link">
    <span class="md-ellipsis">
      pitch_comparator
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.PositionInStaff" class="md-nav__link">
    <span class="md-ellipsis">
      PositionInStaff
    </span>
  </a>
  
    <nav class="md-nav" aria-label="PositionInStaff">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.PositionInStaff.__eq__" class="md-nav__link">
    <span class="md-ellipsis">
      __eq__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.PositionInStaff.__hash__" class="md-nav__link">
    <span class="md-ellipsis">
      __hash__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.PositionInStaff.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.PositionInStaff.__lt__" class="md-nav__link">
    <span class="md-ellipsis">
      __lt__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.PositionInStaff.__ne__" class="md-nav__link">
    <span class="md-ellipsis">
      __ne__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.PositionInStaff.__repr__" class="md-nav__link">
    <span class="md-ellipsis">
      __repr__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.PositionInStaff.__str__" class="md-nav__link">
    <span class="md-ellipsis">
      __str__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.PositionInStaff.from_encoded" class="md-nav__link">
    <span class="md-ellipsis">
      from_encoded
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.PositionInStaff.from_line" class="md-nav__link">
    <span class="md-ellipsis">
      from_line
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.PositionInStaff.from_space" class="md-nav__link">
    <span class="md-ellipsis">
      from_space
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.PositionInStaff.is_line" class="md-nav__link">
    <span class="md-ellipsis">
      is_line
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.PositionInStaff.line" class="md-nav__link">
    <span class="md-ellipsis">
      line
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.PositionInStaff.move" class="md-nav__link">
    <span class="md-ellipsis">
      move
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.PositionInStaff.position_above" class="md-nav__link">
    <span class="md-ellipsis">
      position_above
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.PositionInStaff.position_below" class="md-nav__link">
    <span class="md-ellipsis">
      position_below
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.PositionInStaff.space" class="md-nav__link">
    <span class="md-ellipsis">
      space
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.RootSpineImporter" class="md-nav__link">
    <span class="md-ellipsis">
      RootSpineImporter
    </span>
  </a>
  
    <nav class="md-nav" aria-label="RootSpineImporter">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.RootSpineImporter.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.SignatureNodes" class="md-nav__link">
    <span class="md-ellipsis">
      SignatureNodes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="SignatureNodes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.SignatureNodes.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.SignatureNodes.clone" class="md-nav__link">
    <span class="md-ellipsis">
      clone
    </span>
  </a>
  
    <nav class="md-nav" aria-label="clone">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.SignatureNodes.clone--todo-this-method-is-equivalent-to-the-following-code" class="md-nav__link">
    <span class="md-ellipsis">
      TODO: This method is equivalent to the following code:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.SignatureNodes.clone--from-copy-import-deepcopy" class="md-nav__link">
    <span class="md-ellipsis">
      from copy import deepcopy
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.SignatureNodes.clone--signature_nodes_to_copy-signaturenodes" class="md-nav__link">
    <span class="md-ellipsis">
      signature_nodes_to_copy = SignatureNodes()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.SignatureNodes.clone--_1" class="md-nav__link">
    <span class="md-ellipsis">
      ...
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.SignatureNodes.clone--result-deepcopysignature_nodes_to_copy" class="md-nav__link">
    <span class="md-ellipsis">
      result = deepcopy(signature_nodes_to_copy)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.SignatureNodes.clone--it-should-be-tested" class="md-nav__link">
    <span class="md-ellipsis">
      It should be tested.
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.SignatureToken" class="md-nav__link">
    <span class="md-ellipsis">
      SignatureToken
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.SimpleToken" class="md-nav__link">
    <span class="md-ellipsis">
      SimpleToken
    </span>
  </a>
  
    <nav class="md-nav" aria-label="SimpleToken">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.SimpleToken.export" class="md-nav__link">
    <span class="md-ellipsis">
      export
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.SpineImporter" class="md-nav__link">
    <span class="md-ellipsis">
      SpineImporter
    </span>
  </a>
  
    <nav class="md-nav" aria-label="SpineImporter">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.SpineImporter.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.SpineOperationToken" class="md-nav__link">
    <span class="md-ellipsis">
      SpineOperationToken
    </span>
  </a>
  
    <nav class="md-nav" aria-label="SpineOperationToken">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.SpineOperationToken.is_cancelled_at" class="md-nav__link">
    <span class="md-ellipsis">
      is_cancelled_at
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.Staff" class="md-nav__link">
    <span class="md-ellipsis">
      Staff
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Staff">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Staff.position_in_staff" class="md-nav__link">
    <span class="md-ellipsis">
      position_in_staff
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.Subtoken" class="md-nav__link">
    <span class="md-ellipsis">
      Subtoken
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Subtoken">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Subtoken.__eq__" class="md-nav__link">
    <span class="md-ellipsis">
      __eq__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Subtoken.__hash__" class="md-nav__link">
    <span class="md-ellipsis">
      __hash__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Subtoken.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Subtoken.__ne__" class="md-nav__link">
    <span class="md-ellipsis">
      __ne__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Subtoken.__str__" class="md-nav__link">
    <span class="md-ellipsis">
      __str__
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.TextSpineImporter" class="md-nav__link">
    <span class="md-ellipsis">
      TextSpineImporter
    </span>
  </a>
  
    <nav class="md-nav" aria-label="TextSpineImporter">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.TextSpineImporter.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.TimeSignatureToken" class="md-nav__link">
    <span class="md-ellipsis">
      TimeSignatureToken
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.Token" class="md-nav__link">
    <span class="md-ellipsis">
      Token
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.TokenCategory" class="md-nav__link">
    <span class="md-ellipsis">
      TokenCategory
    </span>
  </a>
  
    <nav class="md-nav" aria-label="TokenCategory">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.TokenCategory.__lt__" class="md-nav__link">
    <span class="md-ellipsis">
      __lt__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.TokenCategory.__str__" class="md-nav__link">
    <span class="md-ellipsis">
      __str__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.TokenCategory.children" class="md-nav__link">
    <span class="md-ellipsis">
      children
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.TokenCategory.is_child" class="md-nav__link">
    <span class="md-ellipsis">
      is_child
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.TokenCategory.leaves" class="md-nav__link">
    <span class="md-ellipsis">
      leaves
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.TokenCategory.match" class="md-nav__link">
    <span class="md-ellipsis">
      match
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.TokenCategory.nodes" class="md-nav__link">
    <span class="md-ellipsis">
      nodes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.TokenCategory.tree" class="md-nav__link">
    <span class="md-ellipsis">
      tree
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.TokenCategory.valid" class="md-nav__link">
    <span class="md-ellipsis">
      valid
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.TokenCategoryHierarchyMapper" class="md-nav__link">
    <span class="md-ellipsis">
      TokenCategoryHierarchyMapper
    </span>
  </a>
  
    <nav class="md-nav" aria-label="TokenCategoryHierarchyMapper">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.TokenCategoryHierarchyMapper.all" class="md-nav__link">
    <span class="md-ellipsis">
      all
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.TokenCategoryHierarchyMapper.children" class="md-nav__link">
    <span class="md-ellipsis">
      children
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.TokenCategoryHierarchyMapper.is_child" class="md-nav__link">
    <span class="md-ellipsis">
      is_child
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.TokenCategoryHierarchyMapper.leaves" class="md-nav__link">
    <span class="md-ellipsis">
      leaves
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.TokenCategoryHierarchyMapper.match" class="md-nav__link">
    <span class="md-ellipsis">
      match
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.TokenCategoryHierarchyMapper.nodes" class="md-nav__link">
    <span class="md-ellipsis">
      nodes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.TokenCategoryHierarchyMapper.tree" class="md-nav__link">
    <span class="md-ellipsis">
      tree
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.TokenCategoryHierarchyMapper.valid" class="md-nav__link">
    <span class="md-ellipsis">
      valid
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.Tokenizer" class="md-nav__link">
    <span class="md-ellipsis">
      Tokenizer
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Tokenizer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Tokenizer.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Tokenizer.tokenize" class="md-nav__link">
    <span class="md-ellipsis">
      tokenize
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.TokensTraversal" class="md-nav__link">
    <span class="md-ellipsis">
      TokensTraversal
    </span>
  </a>
  
    <nav class="md-nav" aria-label="TokensTraversal">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.TokensTraversal.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.TraversalFactory" class="md-nav__link">
    <span class="md-ellipsis">
      TraversalFactory
    </span>
  </a>
  
    <nav class="md-nav" aria-label="TraversalFactory">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.TraversalFactory.create" class="md-nav__link">
    <span class="md-ellipsis">
      create
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.TreeTraversalInterface" class="md-nav__link">
    <span class="md-ellipsis">
      TreeTraversalInterface
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.agnostic_distance" class="md-nav__link">
    <span class="md-ellipsis">
      agnostic_distance
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.create" class="md-nav__link">
    <span class="md-ellipsis">
      create
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.deprecated" class="md-nav__link">
    <span class="md-ellipsis">
      deprecated
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.distance" class="md-nav__link">
    <span class="md-ellipsis">
      distance
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.ekern_to_krn" class="md-nav__link">
    <span class="md-ellipsis">
      ekern_to_krn
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ekern_to_krn">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.ekern_to_krn--convert-ekrn-to-krn" class="md-nav__link">
    <span class="md-ellipsis">
      Convert .ekrn to .krn
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.ekern_to_krn--convert-a-list-of-ekrn-files-to-krn-files" class="md-nav__link">
    <span class="md-ellipsis">
      Convert a list of .ekrn files to .krn files
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.export" class="md-nav__link">
    <span class="md-ellipsis">
      export
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.get_kern_from_ekern" class="md-nav__link">
    <span class="md-ellipsis">
      get_kern_from_ekern
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.get_spine_types" class="md-nav__link">
    <span class="md-ellipsis">
      get_spine_types
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.kern_to_ekern" class="md-nav__link">
    <span class="md-ellipsis">
      kern_to_ekern
    </span>
  </a>
  
    <nav class="md-nav" aria-label="kern_to_ekern">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.kern_to_ekern--convert-krn-to-ekrn" class="md-nav__link">
    <span class="md-ellipsis">
      Convert .krn to .ekrn
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.kern_to_ekern--convert-a-list-of-krn-files-to-ekrn-files" class="md-nav__link">
    <span class="md-ellipsis">
      Convert a list of .krn files to .ekrn files
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.read" class="md-nav__link">
    <span class="md-ellipsis">
      read
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.store" class="md-nav__link">
    <span class="md-ellipsis">
      store
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.store_graph" class="md-nav__link">
    <span class="md-ellipsis">
      store_graph
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.transpose" class="md-nav__link">
    <span class="md-ellipsis">
      transpose
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.transpose_agnostic_to_encoding" class="md-nav__link">
    <span class="md-ellipsis">
      transpose_agnostic_to_encoding
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.transpose_agnostics" class="md-nav__link">
    <span class="md-ellipsis">
      transpose_agnostics
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.transpose_encoding_to_agnostic" class="md-nav__link">
    <span class="md-ellipsis">
      transpose_encoding_to_agnostic
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.util" class="md-nav__link">
    <span class="md-ellipsis">
      util
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.util.StoreCache" class="md-nav__link">
    <span class="md-ellipsis">
      StoreCache
    </span>
  </a>
  
    <nav class="md-nav" aria-label="StoreCache">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.util.StoreCache.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.util.StoreCache.request" class="md-nav__link">
    <span class="md-ellipsis">
      request
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../about/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    About
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../get-started/tutorial/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Tutorial
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#kernpy" class="md-nav__link">
    <span class="md-ellipsis">
      kernpy
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy--kernpy" class="md-nav__link">
    <span class="md-ellipsis">
      kernpy
    </span>
  </a>
  
    <nav class="md-nav" aria-label="kernpy">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy--kern2ekern-convertir-un-solo-archivo-krn-a-ekern" class="md-nav__link">
    <span class="md-ellipsis">
      🎯 kern2ekern: Convertir un solo archivo .krn a .ekern:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy--ekern2kern-convertir-un-solo-archivo-ekern-a-krn" class="md-nav__link">
    <span class="md-ellipsis">
      🎯 ekern2kern: Convertir un solo archivo .ekern a .krn:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy--create-fragments" class="md-nav__link">
    <span class="md-ellipsis">
      🎯 create fragments
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.Intervals" class="md-nav__link">
    <span class="md-ellipsis">
      Intervals
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.AbstractToken" class="md-nav__link">
    <span class="md-ellipsis">
      AbstractToken
    </span>
  </a>
  
    <nav class="md-nav" aria-label="AbstractToken">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.AbstractToken.__eq__" class="md-nav__link">
    <span class="md-ellipsis">
      __eq__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.AbstractToken.__hash__" class="md-nav__link">
    <span class="md-ellipsis">
      __hash__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.AbstractToken.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.AbstractToken.__ne__" class="md-nav__link">
    <span class="md-ellipsis">
      __ne__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.AbstractToken.__str__" class="md-nav__link">
    <span class="md-ellipsis">
      __str__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.AbstractToken.export" class="md-nav__link">
    <span class="md-ellipsis">
      export
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.AgnosticPitch" class="md-nav__link">
    <span class="md-ellipsis">
      AgnosticPitch
    </span>
  </a>
  
    <nav class="md-nav" aria-label="AgnosticPitch">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.AgnosticPitch.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.BasicSpineImporter" class="md-nav__link">
    <span class="md-ellipsis">
      BasicSpineImporter
    </span>
  </a>
  
    <nav class="md-nav" aria-label="BasicSpineImporter">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.BasicSpineImporter.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.BekernTokenizer" class="md-nav__link">
    <span class="md-ellipsis">
      BekernTokenizer
    </span>
  </a>
  
    <nav class="md-nav" aria-label="BekernTokenizer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.BekernTokenizer.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.BekernTokenizer.tokenize" class="md-nav__link">
    <span class="md-ellipsis">
      tokenize
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.BkernTokenizer" class="md-nav__link">
    <span class="md-ellipsis">
      BkernTokenizer
    </span>
  </a>
  
    <nav class="md-nav" aria-label="BkernTokenizer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.BkernTokenizer.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.BkernTokenizer.tokenize" class="md-nav__link">
    <span class="md-ellipsis">
      tokenize
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.C1Clef" class="md-nav__link">
    <span class="md-ellipsis">
      C1Clef
    </span>
  </a>
  
    <nav class="md-nav" aria-label="C1Clef">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.C1Clef.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.C1Clef.bottom_line" class="md-nav__link">
    <span class="md-ellipsis">
      bottom_line
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.C2Clef" class="md-nav__link">
    <span class="md-ellipsis">
      C2Clef
    </span>
  </a>
  
    <nav class="md-nav" aria-label="C2Clef">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.C2Clef.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.C2Clef.bottom_line" class="md-nav__link">
    <span class="md-ellipsis">
      bottom_line
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.C3Clef" class="md-nav__link">
    <span class="md-ellipsis">
      C3Clef
    </span>
  </a>
  
    <nav class="md-nav" aria-label="C3Clef">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.C3Clef.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.C3Clef.bottom_line" class="md-nav__link">
    <span class="md-ellipsis">
      bottom_line
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.C4Clef" class="md-nav__link">
    <span class="md-ellipsis">
      C4Clef
    </span>
  </a>
  
    <nav class="md-nav" aria-label="C4Clef">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.C4Clef.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.C4Clef.bottom_line" class="md-nav__link">
    <span class="md-ellipsis">
      bottom_line
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.Clef" class="md-nav__link">
    <span class="md-ellipsis">
      Clef
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Clef">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.Clef.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.Clef.__str__" class="md-nav__link">
    <span class="md-ellipsis">
      __str__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.Clef.bottom_line" class="md-nav__link">
    <span class="md-ellipsis">
      bottom_line
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.Clef.name" class="md-nav__link">
    <span class="md-ellipsis">
      name
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.Clef.reference_point" class="md-nav__link">
    <span class="md-ellipsis">
      reference_point
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.ClefFactory" class="md-nav__link">
    <span class="md-ellipsis">
      ClefFactory
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ClefFactory">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.ClefFactory.create_clef" class="md-nav__link">
    <span class="md-ellipsis">
      create_clef
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.ComplexToken" class="md-nav__link">
    <span class="md-ellipsis">
      ComplexToken
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ComplexToken">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.ComplexToken.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.ComplexToken.export" class="md-nav__link">
    <span class="md-ellipsis">
      export
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.CompoundToken" class="md-nav__link">
    <span class="md-ellipsis">
      CompoundToken
    </span>
  </a>
  
    <nav class="md-nav" aria-label="CompoundToken">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.CompoundToken.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.CompoundToken.export" class="md-nav__link">
    <span class="md-ellipsis">
      export
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.Document" class="md-nav__link">
    <span class="md-ellipsis">
      Document
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Document">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.Document.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.Document.__iter__" class="md-nav__link">
    <span class="md-ellipsis">
      __iter__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.Document.__next__" class="md-nav__link">
    <span class="md-ellipsis">
      __next__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.Document.add" class="md-nav__link">
    <span class="md-ellipsis">
      add
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.Document.append_spines" class="md-nav__link">
    <span class="md-ellipsis">
      append_spines
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.Document.clone" class="md-nav__link">
    <span class="md-ellipsis">
      clone
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.Document.frequencies" class="md-nav__link">
    <span class="md-ellipsis">
      frequencies
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.Document.get_all_tokens" class="md-nav__link">
    <span class="md-ellipsis">
      get_all_tokens
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.Document.get_all_tokens_encodings" class="md-nav__link">
    <span class="md-ellipsis">
      get_all_tokens_encodings
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.Document.get_first_measure" class="md-nav__link">
    <span class="md-ellipsis">
      get_first_measure
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.Document.get_header_nodes" class="md-nav__link">
    <span class="md-ellipsis">
      get_header_nodes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.Document.get_header_stage" class="md-nav__link">
    <span class="md-ellipsis">
      get_header_stage
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.Document.get_leaves" class="md-nav__link">
    <span class="md-ellipsis">
      get_leaves
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.Document.get_metacomments" class="md-nav__link">
    <span class="md-ellipsis">
      get_metacomments
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.Document.get_spine_count" class="md-nav__link">
    <span class="md-ellipsis">
      get_spine_count
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.Document.get_spine_ids" class="md-nav__link">
    <span class="md-ellipsis">
      get_spine_ids
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.Document.get_unique_token_encodings" class="md-nav__link">
    <span class="md-ellipsis">
      get_unique_token_encodings
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.Document.get_unique_tokens" class="md-nav__link">
    <span class="md-ellipsis">
      get_unique_tokens
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.Document.get_voices" class="md-nav__link">
    <span class="md-ellipsis">
      get_voices
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.Document.match" class="md-nav__link">
    <span class="md-ellipsis">
      match
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.Document.measures_count" class="md-nav__link">
    <span class="md-ellipsis">
      measures_count
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.Document.split" class="md-nav__link">
    <span class="md-ellipsis">
      split
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.Document.to_concat" class="md-nav__link">
    <span class="md-ellipsis">
      to_concat
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.Document.to_transposed" class="md-nav__link">
    <span class="md-ellipsis">
      to_transposed
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.Document.tokens_to_encodings" class="md-nav__link">
    <span class="md-ellipsis">
      tokens_to_encodings
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.Duration" class="md-nav__link">
    <span class="md-ellipsis">
      Duration
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.DurationClassical" class="md-nav__link">
    <span class="md-ellipsis">
      DurationClassical
    </span>
  </a>
  
    <nav class="md-nav" aria-label="DurationClassical">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.DurationClassical.__eq__" class="md-nav__link">
    <span class="md-ellipsis">
      __eq__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.DurationClassical.__ge__" class="md-nav__link">
    <span class="md-ellipsis">
      __ge__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.DurationClassical.__gt__" class="md-nav__link">
    <span class="md-ellipsis">
      __gt__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.DurationClassical.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.DurationClassical.__le__" class="md-nav__link">
    <span class="md-ellipsis">
      __le__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.DurationClassical.__lt__" class="md-nav__link">
    <span class="md-ellipsis">
      __lt__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.DurationClassical.__ne__" class="md-nav__link">
    <span class="md-ellipsis">
      __ne__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.DurationClassical.modify" class="md-nav__link">
    <span class="md-ellipsis">
      modify
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.DurationMensural" class="md-nav__link">
    <span class="md-ellipsis">
      DurationMensural
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.DynSpineImporter" class="md-nav__link">
    <span class="md-ellipsis">
      DynSpineImporter
    </span>
  </a>
  
    <nav class="md-nav" aria-label="DynSpineImporter">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.DynSpineImporter.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.DynamSpineImporter" class="md-nav__link">
    <span class="md-ellipsis">
      DynamSpineImporter
    </span>
  </a>
  
    <nav class="md-nav" aria-label="DynamSpineImporter">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.DynamSpineImporter.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.EkernTokenizer" class="md-nav__link">
    <span class="md-ellipsis">
      EkernTokenizer
    </span>
  </a>
  
    <nav class="md-nav" aria-label="EkernTokenizer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.EkernTokenizer.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.EkernTokenizer.tokenize" class="md-nav__link">
    <span class="md-ellipsis">
      tokenize
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.ExportOptions" class="md-nav__link">
    <span class="md-ellipsis">
      ExportOptions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ExportOptions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.ExportOptions.__eq__" class="md-nav__link">
    <span class="md-ellipsis">
      __eq__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.ExportOptions.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.ExportOptions.__ne__" class="md-nav__link">
    <span class="md-ellipsis">
      __ne__
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.Exporter" class="md-nav__link">
    <span class="md-ellipsis">
      Exporter
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Exporter">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.Exporter.append_row" class="md-nav__link">
    <span class="md-ellipsis">
      append_row
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.Exporter.compute_header_type" class="md-nav__link">
    <span class="md-ellipsis">
      compute_header_type
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.Exporter.export_options_validator" class="md-nav__link">
    <span class="md-ellipsis">
      export_options_validator
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.Exporter.get_spine_types" class="md-nav__link">
    <span class="md-ellipsis">
      get_spine_types
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.F3Clef" class="md-nav__link">
    <span class="md-ellipsis">
      F3Clef
    </span>
  </a>
  
    <nav class="md-nav" aria-label="F3Clef">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.F3Clef.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.F3Clef.bottom_line" class="md-nav__link">
    <span class="md-ellipsis">
      bottom_line
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.F4Clef" class="md-nav__link">
    <span class="md-ellipsis">
      F4Clef
    </span>
  </a>
  
    <nav class="md-nav" aria-label="F4Clef">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.F4Clef.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.F4Clef.bottom_line" class="md-nav__link">
    <span class="md-ellipsis">
      bottom_line
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.FingSpineImporter" class="md-nav__link">
    <span class="md-ellipsis">
      FingSpineImporter
    </span>
  </a>
  
    <nav class="md-nav" aria-label="FingSpineImporter">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.FingSpineImporter.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.GClef" class="md-nav__link">
    <span class="md-ellipsis">
      GClef
    </span>
  </a>
  
    <nav class="md-nav" aria-label="GClef">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.GClef.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.GClef.bottom_line" class="md-nav__link">
    <span class="md-ellipsis">
      bottom_line
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.GraphvizExporter" class="md-nav__link">
    <span class="md-ellipsis">
      GraphvizExporter
    </span>
  </a>
  
    <nav class="md-nav" aria-label="GraphvizExporter">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.GraphvizExporter.export_to_dot" class="md-nav__link">
    <span class="md-ellipsis">
      export_to_dot
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.HarmSpineImporter" class="md-nav__link">
    <span class="md-ellipsis">
      HarmSpineImporter
    </span>
  </a>
  
    <nav class="md-nav" aria-label="HarmSpineImporter">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.HarmSpineImporter.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.HeaderToken" class="md-nav__link">
    <span class="md-ellipsis">
      HeaderToken
    </span>
  </a>
  
    <nav class="md-nav" aria-label="HeaderToken">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.HeaderToken.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.HeaderTokenGenerator" class="md-nav__link">
    <span class="md-ellipsis">
      HeaderTokenGenerator
    </span>
  </a>
  
    <nav class="md-nav" aria-label="HeaderTokenGenerator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.HeaderTokenGenerator.new" class="md-nav__link">
    <span class="md-ellipsis">
      new
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.HumdrumPitchImporter" class="md-nav__link">
    <span class="md-ellipsis">
      HumdrumPitchImporter
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.Importer" class="md-nav__link">
    <span class="md-ellipsis">
      Importer
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Importer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.Importer.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.Importer.get_error_messages" class="md-nav__link">
    <span class="md-ellipsis">
      get_error_messages
    </span>
  </a>
  
    <nav class="md-nav" aria-label="get_error_messages">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.Importer.get_error_messages--create-the-importer-and-read-the-file" class="md-nav__link">
    <span class="md-ellipsis">
      Create the importer and read the file
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.Importer.has_errors" class="md-nav__link">
    <span class="md-ellipsis">
      has_errors
    </span>
  </a>
  
    <nav class="md-nav" aria-label="has_errors">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.Importer.has_errors--create-the-importer-and-read-the-file" class="md-nav__link">
    <span class="md-ellipsis">
      Create the importer and read the file
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.Importer.import_file" class="md-nav__link">
    <span class="md-ellipsis">
      import_file
    </span>
  </a>
  
    <nav class="md-nav" aria-label="import_file">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.Importer.import_file--create-the-importer-and-read-the-file" class="md-nav__link">
    <span class="md-ellipsis">
      Create the importer and read the file
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.Importer.import_string" class="md-nav__link">
    <span class="md-ellipsis">
      import_string
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.KernSpineImporter" class="md-nav__link">
    <span class="md-ellipsis">
      KernSpineImporter
    </span>
  </a>
  
    <nav class="md-nav" aria-label="KernSpineImporter">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.KernSpineImporter.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.KernTokenizer" class="md-nav__link">
    <span class="md-ellipsis">
      KernTokenizer
    </span>
  </a>
  
    <nav class="md-nav" aria-label="KernTokenizer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.KernTokenizer.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.KernTokenizer.tokenize" class="md-nav__link">
    <span class="md-ellipsis">
      tokenize
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.KernTypeExporter" class="md-nav__link">
    <span class="md-ellipsis">
      KernTypeExporter
    </span>
  </a>
  
    <nav class="md-nav" aria-label="KernTypeExporter">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.KernTypeExporter--load-a-file" class="md-nav__link">
    <span class="md-ellipsis">
      Load a file
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.KernTypeExporter--save-the-file-using-the-specified-encoding" class="md-nav__link">
    <span class="md-ellipsis">
      Save the file using the specified encoding
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.KernTypeExporter.prefix" class="md-nav__link">
    <span class="md-ellipsis">
      prefix
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.MensSpineImporter" class="md-nav__link">
    <span class="md-ellipsis">
      MensSpineImporter
    </span>
  </a>
  
    <nav class="md-nav" aria-label="MensSpineImporter">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.MensSpineImporter.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.MxhmSpineImporter" class="md-nav__link">
    <span class="md-ellipsis">
      MxhmSpineImporter
    </span>
  </a>
  
    <nav class="md-nav" aria-label="MxhmSpineImporter">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.MxhmSpineImporter.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.NoteRestToken" class="md-nav__link">
    <span class="md-ellipsis">
      NoteRestToken
    </span>
  </a>
  
    <nav class="md-nav" aria-label="NoteRestToken">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.NoteRestToken.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.NoteRestToken.export" class="md-nav__link">
    <span class="md-ellipsis">
      export
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.PitchPositionReferenceSystem" class="md-nav__link">
    <span class="md-ellipsis">
      PitchPositionReferenceSystem
    </span>
  </a>
  
    <nav class="md-nav" aria-label="PitchPositionReferenceSystem">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.PitchPositionReferenceSystem.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.PitchPositionReferenceSystem.compute_position" class="md-nav__link">
    <span class="md-ellipsis">
      compute_position
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.PitchRest" class="md-nav__link">
    <span class="md-ellipsis">
      PitchRest
    </span>
  </a>
  
    <nav class="md-nav" aria-label="PitchRest">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.PitchRest.__eq__" class="md-nav__link">
    <span class="md-ellipsis">
      __eq__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.PitchRest.__ge__" class="md-nav__link">
    <span class="md-ellipsis">
      __ge__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.PitchRest.__gt__" class="md-nav__link">
    <span class="md-ellipsis">
      __gt__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.PitchRest.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.PitchRest.__le__" class="md-nav__link">
    <span class="md-ellipsis">
      __le__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.PitchRest.__lt__" class="md-nav__link">
    <span class="md-ellipsis">
      __lt__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.PitchRest.__ne__" class="md-nav__link">
    <span class="md-ellipsis">
      __ne__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.PitchRest.is_rest" class="md-nav__link">
    <span class="md-ellipsis">
      is_rest
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.PitchRest.pitch_comparator" class="md-nav__link">
    <span class="md-ellipsis">
      pitch_comparator
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.PositionInStaff" class="md-nav__link">
    <span class="md-ellipsis">
      PositionInStaff
    </span>
  </a>
  
    <nav class="md-nav" aria-label="PositionInStaff">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.PositionInStaff.__eq__" class="md-nav__link">
    <span class="md-ellipsis">
      __eq__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.PositionInStaff.__hash__" class="md-nav__link">
    <span class="md-ellipsis">
      __hash__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.PositionInStaff.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.PositionInStaff.__lt__" class="md-nav__link">
    <span class="md-ellipsis">
      __lt__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.PositionInStaff.__ne__" class="md-nav__link">
    <span class="md-ellipsis">
      __ne__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.PositionInStaff.__repr__" class="md-nav__link">
    <span class="md-ellipsis">
      __repr__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.PositionInStaff.__str__" class="md-nav__link">
    <span class="md-ellipsis">
      __str__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.PositionInStaff.from_encoded" class="md-nav__link">
    <span class="md-ellipsis">
      from_encoded
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.PositionInStaff.from_line" class="md-nav__link">
    <span class="md-ellipsis">
      from_line
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.PositionInStaff.from_space" class="md-nav__link">
    <span class="md-ellipsis">
      from_space
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.PositionInStaff.is_line" class="md-nav__link">
    <span class="md-ellipsis">
      is_line
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.PositionInStaff.line" class="md-nav__link">
    <span class="md-ellipsis">
      line
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.PositionInStaff.move" class="md-nav__link">
    <span class="md-ellipsis">
      move
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.PositionInStaff.position_above" class="md-nav__link">
    <span class="md-ellipsis">
      position_above
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.PositionInStaff.position_below" class="md-nav__link">
    <span class="md-ellipsis">
      position_below
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.PositionInStaff.space" class="md-nav__link">
    <span class="md-ellipsis">
      space
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.RootSpineImporter" class="md-nav__link">
    <span class="md-ellipsis">
      RootSpineImporter
    </span>
  </a>
  
    <nav class="md-nav" aria-label="RootSpineImporter">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.RootSpineImporter.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.SimpleToken" class="md-nav__link">
    <span class="md-ellipsis">
      SimpleToken
    </span>
  </a>
  
    <nav class="md-nav" aria-label="SimpleToken">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.SimpleToken.export" class="md-nav__link">
    <span class="md-ellipsis">
      export
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.SpineOperationToken" class="md-nav__link">
    <span class="md-ellipsis">
      SpineOperationToken
    </span>
  </a>
  
    <nav class="md-nav" aria-label="SpineOperationToken">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.SpineOperationToken.is_cancelled_at" class="md-nav__link">
    <span class="md-ellipsis">
      is_cancelled_at
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.StoreCache" class="md-nav__link">
    <span class="md-ellipsis">
      StoreCache
    </span>
  </a>
  
    <nav class="md-nav" aria-label="StoreCache">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.StoreCache.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.StoreCache.request" class="md-nav__link">
    <span class="md-ellipsis">
      request
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.Subtoken" class="md-nav__link">
    <span class="md-ellipsis">
      Subtoken
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Subtoken">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.Subtoken.__eq__" class="md-nav__link">
    <span class="md-ellipsis">
      __eq__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.Subtoken.__hash__" class="md-nav__link">
    <span class="md-ellipsis">
      __hash__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.Subtoken.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.Subtoken.__ne__" class="md-nav__link">
    <span class="md-ellipsis">
      __ne__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.Subtoken.__str__" class="md-nav__link">
    <span class="md-ellipsis">
      __str__
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.TextSpineImporter" class="md-nav__link">
    <span class="md-ellipsis">
      TextSpineImporter
    </span>
  </a>
  
    <nav class="md-nav" aria-label="TextSpineImporter">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.TextSpineImporter.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.Token" class="md-nav__link">
    <span class="md-ellipsis">
      Token
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.TokenCategory" class="md-nav__link">
    <span class="md-ellipsis">
      TokenCategory
    </span>
  </a>
  
    <nav class="md-nav" aria-label="TokenCategory">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.TokenCategory.__lt__" class="md-nav__link">
    <span class="md-ellipsis">
      __lt__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.TokenCategory.__str__" class="md-nav__link">
    <span class="md-ellipsis">
      __str__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.TokenCategory.children" class="md-nav__link">
    <span class="md-ellipsis">
      children
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.TokenCategory.is_child" class="md-nav__link">
    <span class="md-ellipsis">
      is_child
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.TokenCategory.leaves" class="md-nav__link">
    <span class="md-ellipsis">
      leaves
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.TokenCategory.match" class="md-nav__link">
    <span class="md-ellipsis">
      match
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.TokenCategory.nodes" class="md-nav__link">
    <span class="md-ellipsis">
      nodes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.TokenCategory.tree" class="md-nav__link">
    <span class="md-ellipsis">
      tree
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.TokenCategory.valid" class="md-nav__link">
    <span class="md-ellipsis">
      valid
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.TokenCategoryHierarchyMapper" class="md-nav__link">
    <span class="md-ellipsis">
      TokenCategoryHierarchyMapper
    </span>
  </a>
  
    <nav class="md-nav" aria-label="TokenCategoryHierarchyMapper">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.TokenCategoryHierarchyMapper.all" class="md-nav__link">
    <span class="md-ellipsis">
      all
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.TokenCategoryHierarchyMapper.children" class="md-nav__link">
    <span class="md-ellipsis">
      children
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.TokenCategoryHierarchyMapper.is_child" class="md-nav__link">
    <span class="md-ellipsis">
      is_child
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.TokenCategoryHierarchyMapper.leaves" class="md-nav__link">
    <span class="md-ellipsis">
      leaves
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.TokenCategoryHierarchyMapper.match" class="md-nav__link">
    <span class="md-ellipsis">
      match
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.TokenCategoryHierarchyMapper.nodes" class="md-nav__link">
    <span class="md-ellipsis">
      nodes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.TokenCategoryHierarchyMapper.tree" class="md-nav__link">
    <span class="md-ellipsis">
      tree
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.TokenCategoryHierarchyMapper.valid" class="md-nav__link">
    <span class="md-ellipsis">
      valid
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.Tokenizer" class="md-nav__link">
    <span class="md-ellipsis">
      Tokenizer
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Tokenizer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.Tokenizer.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.Tokenizer.tokenize" class="md-nav__link">
    <span class="md-ellipsis">
      tokenize
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.agnostic_distance" class="md-nav__link">
    <span class="md-ellipsis">
      agnostic_distance
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.concat" class="md-nav__link">
    <span class="md-ellipsis">
      concat
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.create" class="md-nav__link">
    <span class="md-ellipsis">
      create
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.distance" class="md-nav__link">
    <span class="md-ellipsis">
      distance
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.download_polish_scores" class="md-nav__link">
    <span class="md-ellipsis">
      download_polish_scores
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.dump" class="md-nav__link">
    <span class="md-ellipsis">
      dump
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.dumps" class="md-nav__link">
    <span class="md-ellipsis">
      dumps
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.ekern_to_krn" class="md-nav__link">
    <span class="md-ellipsis">
      ekern_to_krn
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ekern_to_krn">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.ekern_to_krn--convert-ekrn-to-krn" class="md-nav__link">
    <span class="md-ellipsis">
      Convert .ekrn to .krn
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.ekern_to_krn--convert-a-list-of-ekrn-files-to-krn-files" class="md-nav__link">
    <span class="md-ellipsis">
      Convert a list of .ekrn files to .krn files
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.export" class="md-nav__link">
    <span class="md-ellipsis">
      export
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.get_kern_from_ekern" class="md-nav__link">
    <span class="md-ellipsis">
      get_kern_from_ekern
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.get_spine_types" class="md-nav__link">
    <span class="md-ellipsis">
      get_spine_types
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.graph" class="md-nav__link">
    <span class="md-ellipsis">
      graph
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.kern_to_ekern" class="md-nav__link">
    <span class="md-ellipsis">
      kern_to_ekern
    </span>
  </a>
  
    <nav class="md-nav" aria-label="kern_to_ekern">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.kern_to_ekern--convert-krn-to-ekrn" class="md-nav__link">
    <span class="md-ellipsis">
      Convert .krn to .ekrn
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.kern_to_ekern--convert-a-list-of-krn-files-to-ekrn-files" class="md-nav__link">
    <span class="md-ellipsis">
      Convert a list of .krn files to .ekrn files
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.load" class="md-nav__link">
    <span class="md-ellipsis">
      load
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.loads" class="md-nav__link">
    <span class="md-ellipsis">
      loads
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.merge" class="md-nav__link">
    <span class="md-ellipsis">
      merge
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.read" class="md-nav__link">
    <span class="md-ellipsis">
      read
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.spine_types" class="md-nav__link">
    <span class="md-ellipsis">
      spine_types
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.store" class="md-nav__link">
    <span class="md-ellipsis">
      store
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.store_graph" class="md-nav__link">
    <span class="md-ellipsis">
      store_graph
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.transpose" class="md-nav__link">
    <span class="md-ellipsis">
      transpose
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.transpose_agnostic_to_encoding" class="md-nav__link">
    <span class="md-ellipsis">
      transpose_agnostic_to_encoding
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.transpose_agnostics" class="md-nav__link">
    <span class="md-ellipsis">
      transpose_agnostics
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.transpose_encoding_to_agnostic" class="md-nav__link">
    <span class="md-ellipsis">
      transpose_encoding_to_agnostic
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modules" class="md-nav__link">
    <span class="md-ellipsis">
      Modules
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core" class="md-nav__link">
    <span class="md-ellipsis">
      core
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.Intervals" class="md-nav__link">
    <span class="md-ellipsis">
      Intervals
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.AbstractToken" class="md-nav__link">
    <span class="md-ellipsis">
      AbstractToken
    </span>
  </a>
  
    <nav class="md-nav" aria-label="AbstractToken">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.AbstractToken.__eq__" class="md-nav__link">
    <span class="md-ellipsis">
      __eq__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.AbstractToken.__hash__" class="md-nav__link">
    <span class="md-ellipsis">
      __hash__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.AbstractToken.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.AbstractToken.__ne__" class="md-nav__link">
    <span class="md-ellipsis">
      __ne__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.AbstractToken.__str__" class="md-nav__link">
    <span class="md-ellipsis">
      __str__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.AbstractToken.export" class="md-nav__link">
    <span class="md-ellipsis">
      export
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.AgnosticPitch" class="md-nav__link">
    <span class="md-ellipsis">
      AgnosticPitch
    </span>
  </a>
  
    <nav class="md-nav" aria-label="AgnosticPitch">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.AgnosticPitch.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.Alteration" class="md-nav__link">
    <span class="md-ellipsis">
      Alteration
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.BarToken" class="md-nav__link">
    <span class="md-ellipsis">
      BarToken
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.BasicSpineImporter" class="md-nav__link">
    <span class="md-ellipsis">
      BasicSpineImporter
    </span>
  </a>
  
    <nav class="md-nav" aria-label="BasicSpineImporter">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.BasicSpineImporter.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.BekernTokenizer" class="md-nav__link">
    <span class="md-ellipsis">
      BekernTokenizer
    </span>
  </a>
  
    <nav class="md-nav" aria-label="BekernTokenizer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.BekernTokenizer.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.BekernTokenizer.tokenize" class="md-nav__link">
    <span class="md-ellipsis">
      tokenize
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.BkernTokenizer" class="md-nav__link">
    <span class="md-ellipsis">
      BkernTokenizer
    </span>
  </a>
  
    <nav class="md-nav" aria-label="BkernTokenizer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.BkernTokenizer.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.BkernTokenizer.tokenize" class="md-nav__link">
    <span class="md-ellipsis">
      tokenize
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.BoundingBox" class="md-nav__link">
    <span class="md-ellipsis">
      BoundingBox
    </span>
  </a>
  
    <nav class="md-nav" aria-label="BoundingBox">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.BoundingBox.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.BoundingBox.__str__" class="md-nav__link">
    <span class="md-ellipsis">
      __str__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.BoundingBox.extend" class="md-nav__link">
    <span class="md-ellipsis">
      extend
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.BoundingBox.h" class="md-nav__link">
    <span class="md-ellipsis">
      h
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.BoundingBox.w" class="md-nav__link">
    <span class="md-ellipsis">
      w
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.BoundingBox.xywh" class="md-nav__link">
    <span class="md-ellipsis">
      xywh
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.BoundingBoxMeasures" class="md-nav__link">
    <span class="md-ellipsis">
      BoundingBoxMeasures
    </span>
  </a>
  
    <nav class="md-nav" aria-label="BoundingBoxMeasures">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.BoundingBoxMeasures.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.BoundingBoxToken" class="md-nav__link">
    <span class="md-ellipsis">
      BoundingBoxToken
    </span>
  </a>
  
    <nav class="md-nav" aria-label="BoundingBoxToken">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.BoundingBoxToken.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.C1Clef" class="md-nav__link">
    <span class="md-ellipsis">
      C1Clef
    </span>
  </a>
  
    <nav class="md-nav" aria-label="C1Clef">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.C1Clef.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.C1Clef.bottom_line" class="md-nav__link">
    <span class="md-ellipsis">
      bottom_line
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.C2Clef" class="md-nav__link">
    <span class="md-ellipsis">
      C2Clef
    </span>
  </a>
  
    <nav class="md-nav" aria-label="C2Clef">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.C2Clef.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.C2Clef.bottom_line" class="md-nav__link">
    <span class="md-ellipsis">
      bottom_line
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.C3Clef" class="md-nav__link">
    <span class="md-ellipsis">
      C3Clef
    </span>
  </a>
  
    <nav class="md-nav" aria-label="C3Clef">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.C3Clef.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.C3Clef.bottom_line" class="md-nav__link">
    <span class="md-ellipsis">
      bottom_line
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.C4Clef" class="md-nav__link">
    <span class="md-ellipsis">
      C4Clef
    </span>
  </a>
  
    <nav class="md-nav" aria-label="C4Clef">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.C4Clef.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.C4Clef.bottom_line" class="md-nav__link">
    <span class="md-ellipsis">
      bottom_line
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.ChordToken" class="md-nav__link">
    <span class="md-ellipsis">
      ChordToken
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ChordToken">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.ChordToken.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.Clef" class="md-nav__link">
    <span class="md-ellipsis">
      Clef
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Clef">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Clef.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Clef.__str__" class="md-nav__link">
    <span class="md-ellipsis">
      __str__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Clef.bottom_line" class="md-nav__link">
    <span class="md-ellipsis">
      bottom_line
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Clef.name" class="md-nav__link">
    <span class="md-ellipsis">
      name
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Clef.reference_point" class="md-nav__link">
    <span class="md-ellipsis">
      reference_point
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.ClefFactory" class="md-nav__link">
    <span class="md-ellipsis">
      ClefFactory
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ClefFactory">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.ClefFactory.create_clef" class="md-nav__link">
    <span class="md-ellipsis">
      create_clef
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.ClefToken" class="md-nav__link">
    <span class="md-ellipsis">
      ClefToken
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.ComplexToken" class="md-nav__link">
    <span class="md-ellipsis">
      ComplexToken
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ComplexToken">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.ComplexToken.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.ComplexToken.export" class="md-nav__link">
    <span class="md-ellipsis">
      export
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.CompoundToken" class="md-nav__link">
    <span class="md-ellipsis">
      CompoundToken
    </span>
  </a>
  
    <nav class="md-nav" aria-label="CompoundToken">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.CompoundToken.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.CompoundToken.export" class="md-nav__link">
    <span class="md-ellipsis">
      export
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.Document" class="md-nav__link">
    <span class="md-ellipsis">
      Document
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Document">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Document.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Document.__iter__" class="md-nav__link">
    <span class="md-ellipsis">
      __iter__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Document.__next__" class="md-nav__link">
    <span class="md-ellipsis">
      __next__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Document.add" class="md-nav__link">
    <span class="md-ellipsis">
      add
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Document.append_spines" class="md-nav__link">
    <span class="md-ellipsis">
      append_spines
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Document.clone" class="md-nav__link">
    <span class="md-ellipsis">
      clone
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Document.frequencies" class="md-nav__link">
    <span class="md-ellipsis">
      frequencies
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Document.get_all_tokens" class="md-nav__link">
    <span class="md-ellipsis">
      get_all_tokens
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Document.get_all_tokens_encodings" class="md-nav__link">
    <span class="md-ellipsis">
      get_all_tokens_encodings
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Document.get_first_measure" class="md-nav__link">
    <span class="md-ellipsis">
      get_first_measure
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Document.get_header_nodes" class="md-nav__link">
    <span class="md-ellipsis">
      get_header_nodes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Document.get_header_stage" class="md-nav__link">
    <span class="md-ellipsis">
      get_header_stage
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Document.get_leaves" class="md-nav__link">
    <span class="md-ellipsis">
      get_leaves
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Document.get_metacomments" class="md-nav__link">
    <span class="md-ellipsis">
      get_metacomments
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Document.get_spine_count" class="md-nav__link">
    <span class="md-ellipsis">
      get_spine_count
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Document.get_spine_ids" class="md-nav__link">
    <span class="md-ellipsis">
      get_spine_ids
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Document.get_unique_token_encodings" class="md-nav__link">
    <span class="md-ellipsis">
      get_unique_token_encodings
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Document.get_unique_tokens" class="md-nav__link">
    <span class="md-ellipsis">
      get_unique_tokens
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Document.get_voices" class="md-nav__link">
    <span class="md-ellipsis">
      get_voices
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Document.match" class="md-nav__link">
    <span class="md-ellipsis">
      match
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Document.measures_count" class="md-nav__link">
    <span class="md-ellipsis">
      measures_count
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Document.split" class="md-nav__link">
    <span class="md-ellipsis">
      split
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Document.to_concat" class="md-nav__link">
    <span class="md-ellipsis">
      to_concat
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Document.to_transposed" class="md-nav__link">
    <span class="md-ellipsis">
      to_transposed
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Document.tokens_to_encodings" class="md-nav__link">
    <span class="md-ellipsis">
      tokens_to_encodings
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.Duration" class="md-nav__link">
    <span class="md-ellipsis">
      Duration
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.DurationClassical" class="md-nav__link">
    <span class="md-ellipsis">
      DurationClassical
    </span>
  </a>
  
    <nav class="md-nav" aria-label="DurationClassical">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.DurationClassical.__eq__" class="md-nav__link">
    <span class="md-ellipsis">
      __eq__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.DurationClassical.__ge__" class="md-nav__link">
    <span class="md-ellipsis">
      __ge__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.DurationClassical.__gt__" class="md-nav__link">
    <span class="md-ellipsis">
      __gt__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.DurationClassical.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.DurationClassical.__le__" class="md-nav__link">
    <span class="md-ellipsis">
      __le__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.DurationClassical.__lt__" class="md-nav__link">
    <span class="md-ellipsis">
      __lt__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.DurationClassical.__ne__" class="md-nav__link">
    <span class="md-ellipsis">
      __ne__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.DurationClassical.modify" class="md-nav__link">
    <span class="md-ellipsis">
      modify
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.DurationMensural" class="md-nav__link">
    <span class="md-ellipsis">
      DurationMensural
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.DynSpineImporter" class="md-nav__link">
    <span class="md-ellipsis">
      DynSpineImporter
    </span>
  </a>
  
    <nav class="md-nav" aria-label="DynSpineImporter">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.DynSpineImporter.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.DynamSpineImporter" class="md-nav__link">
    <span class="md-ellipsis">
      DynamSpineImporter
    </span>
  </a>
  
    <nav class="md-nav" aria-label="DynamSpineImporter">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.DynamSpineImporter.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.EkernTokenizer" class="md-nav__link">
    <span class="md-ellipsis">
      EkernTokenizer
    </span>
  </a>
  
    <nav class="md-nav" aria-label="EkernTokenizer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.EkernTokenizer.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.EkernTokenizer.tokenize" class="md-nav__link">
    <span class="md-ellipsis">
      tokenize
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.ErrorListener" class="md-nav__link">
    <span class="md-ellipsis">
      ErrorListener
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ErrorListener">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.ErrorListener.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.ErrorToken" class="md-nav__link">
    <span class="md-ellipsis">
      ErrorToken
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ErrorToken">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.ErrorToken.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.ErrorToken.__str__" class="md-nav__link">
    <span class="md-ellipsis">
      __str__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.ErrorToken.export" class="md-nav__link">
    <span class="md-ellipsis">
      export
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.ExportOptions" class="md-nav__link">
    <span class="md-ellipsis">
      ExportOptions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ExportOptions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.ExportOptions.__eq__" class="md-nav__link">
    <span class="md-ellipsis">
      __eq__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.ExportOptions.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.ExportOptions.__ne__" class="md-nav__link">
    <span class="md-ellipsis">
      __ne__
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.Exporter" class="md-nav__link">
    <span class="md-ellipsis">
      Exporter
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Exporter">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Exporter.append_row" class="md-nav__link">
    <span class="md-ellipsis">
      append_row
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Exporter.compute_header_type" class="md-nav__link">
    <span class="md-ellipsis">
      compute_header_type
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Exporter.export_options_validator" class="md-nav__link">
    <span class="md-ellipsis">
      export_options_validator
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Exporter.get_spine_types" class="md-nav__link">
    <span class="md-ellipsis">
      get_spine_types
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.F3Clef" class="md-nav__link">
    <span class="md-ellipsis">
      F3Clef
    </span>
  </a>
  
    <nav class="md-nav" aria-label="F3Clef">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.F3Clef.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.F3Clef.bottom_line" class="md-nav__link">
    <span class="md-ellipsis">
      bottom_line
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.F4Clef" class="md-nav__link">
    <span class="md-ellipsis">
      F4Clef
    </span>
  </a>
  
    <nav class="md-nav" aria-label="F4Clef">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.F4Clef.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.F4Clef.bottom_line" class="md-nav__link">
    <span class="md-ellipsis">
      bottom_line
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.FieldCommentToken" class="md-nav__link">
    <span class="md-ellipsis">
      FieldCommentToken
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.FingSpineImporter" class="md-nav__link">
    <span class="md-ellipsis">
      FingSpineImporter
    </span>
  </a>
  
    <nav class="md-nav" aria-label="FingSpineImporter">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.FingSpineImporter.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.GClef" class="md-nav__link">
    <span class="md-ellipsis">
      GClef
    </span>
  </a>
  
    <nav class="md-nav" aria-label="GClef">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.GClef.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.GClef.bottom_line" class="md-nav__link">
    <span class="md-ellipsis">
      bottom_line
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.GKernExporter" class="md-nav__link">
    <span class="md-ellipsis">
      GKernExporter
    </span>
  </a>
  
    <nav class="md-nav" aria-label="GKernExporter">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.GKernExporter.agnostic_position" class="md-nav__link">
    <span class="md-ellipsis">
      agnostic_position
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.GKernExporter.export" class="md-nav__link">
    <span class="md-ellipsis">
      export
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.Generic" class="md-nav__link">
    <span class="md-ellipsis">
      Generic
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Generic">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Generic.concat" class="md-nav__link">
    <span class="md-ellipsis">
      concat
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Generic.create" class="md-nav__link">
    <span class="md-ellipsis">
      create
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Generic.export" class="md-nav__link">
    <span class="md-ellipsis">
      export
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Generic.get_spine_types" class="md-nav__link">
    <span class="md-ellipsis">
      get_spine_types
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Generic.merge" class="md-nav__link">
    <span class="md-ellipsis">
      merge
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Generic.parse_options_to_ExportOptions" class="md-nav__link">
    <span class="md-ellipsis">
      parse_options_to_ExportOptions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Generic.read" class="md-nav__link">
    <span class="md-ellipsis">
      read
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Generic.store" class="md-nav__link">
    <span class="md-ellipsis">
      store
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Generic.store_graph" class="md-nav__link">
    <span class="md-ellipsis">
      store_graph
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.GraphvizExporter" class="md-nav__link">
    <span class="md-ellipsis">
      GraphvizExporter
    </span>
  </a>
  
    <nav class="md-nav" aria-label="GraphvizExporter">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.GraphvizExporter.export_to_dot" class="md-nav__link">
    <span class="md-ellipsis">
      export_to_dot
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.HarmSpineImporter" class="md-nav__link">
    <span class="md-ellipsis">
      HarmSpineImporter
    </span>
  </a>
  
    <nav class="md-nav" aria-label="HarmSpineImporter">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.HarmSpineImporter.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.HeaderToken" class="md-nav__link">
    <span class="md-ellipsis">
      HeaderToken
    </span>
  </a>
  
    <nav class="md-nav" aria-label="HeaderToken">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.HeaderToken.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.HeaderTokenGenerator" class="md-nav__link">
    <span class="md-ellipsis">
      HeaderTokenGenerator
    </span>
  </a>
  
    <nav class="md-nav" aria-label="HeaderTokenGenerator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.HeaderTokenGenerator.new" class="md-nav__link">
    <span class="md-ellipsis">
      new
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.HumdrumPitchImporter" class="md-nav__link">
    <span class="md-ellipsis">
      HumdrumPitchImporter
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.Importer" class="md-nav__link">
    <span class="md-ellipsis">
      Importer
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Importer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Importer.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Importer.get_error_messages" class="md-nav__link">
    <span class="md-ellipsis">
      get_error_messages
    </span>
  </a>
  
    <nav class="md-nav" aria-label="get_error_messages">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Importer.get_error_messages--create-the-importer-and-read-the-file" class="md-nav__link">
    <span class="md-ellipsis">
      Create the importer and read the file
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Importer.has_errors" class="md-nav__link">
    <span class="md-ellipsis">
      has_errors
    </span>
  </a>
  
    <nav class="md-nav" aria-label="has_errors">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Importer.has_errors--create-the-importer-and-read-the-file" class="md-nav__link">
    <span class="md-ellipsis">
      Create the importer and read the file
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Importer.import_file" class="md-nav__link">
    <span class="md-ellipsis">
      import_file
    </span>
  </a>
  
    <nav class="md-nav" aria-label="import_file">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Importer.import_file--create-the-importer-and-read-the-file" class="md-nav__link">
    <span class="md-ellipsis">
      Create the importer and read the file
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Importer.import_string" class="md-nav__link">
    <span class="md-ellipsis">
      import_string
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.InstrumentToken" class="md-nav__link">
    <span class="md-ellipsis">
      InstrumentToken
    </span>
  </a>
  
    <nav class="md-nav" aria-label="InstrumentToken">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.InstrumentToken.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.KernSpineImporter" class="md-nav__link">
    <span class="md-ellipsis">
      KernSpineImporter
    </span>
  </a>
  
    <nav class="md-nav" aria-label="KernSpineImporter">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.KernSpineImporter.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.KernTokenizer" class="md-nav__link">
    <span class="md-ellipsis">
      KernTokenizer
    </span>
  </a>
  
    <nav class="md-nav" aria-label="KernTokenizer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.KernTokenizer.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.KernTokenizer.tokenize" class="md-nav__link">
    <span class="md-ellipsis">
      tokenize
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.KernTypeExporter" class="md-nav__link">
    <span class="md-ellipsis">
      KernTypeExporter
    </span>
  </a>
  
    <nav class="md-nav" aria-label="KernTypeExporter">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.KernTypeExporter--load-a-file" class="md-nav__link">
    <span class="md-ellipsis">
      Load a file
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.KernTypeExporter--save-the-file-using-the-specified-encoding" class="md-nav__link">
    <span class="md-ellipsis">
      Save the file using the specified encoding
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.KernTypeExporter.prefix" class="md-nav__link">
    <span class="md-ellipsis">
      prefix
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.KeySignatureToken" class="md-nav__link">
    <span class="md-ellipsis">
      KeySignatureToken
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.KeyToken" class="md-nav__link">
    <span class="md-ellipsis">
      KeyToken
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.MHXMToken" class="md-nav__link">
    <span class="md-ellipsis">
      MHXMToken
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.MensSpineImporter" class="md-nav__link">
    <span class="md-ellipsis">
      MensSpineImporter
    </span>
  </a>
  
    <nav class="md-nav" aria-label="MensSpineImporter">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.MensSpineImporter.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.MetacommentToken" class="md-nav__link">
    <span class="md-ellipsis">
      MetacommentToken
    </span>
  </a>
  
    <nav class="md-nav" aria-label="MetacommentToken">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.MetacommentToken.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.MeterSymbolToken" class="md-nav__link">
    <span class="md-ellipsis">
      MeterSymbolToken
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.MultistageTree" class="md-nav__link">
    <span class="md-ellipsis">
      MultistageTree
    </span>
  </a>
  
    <nav class="md-nav" aria-label="MultistageTree">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.MultistageTree.__deepcopy__" class="md-nav__link">
    <span class="md-ellipsis">
      __deepcopy__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.MultistageTree.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.MultistageTree.add_node" class="md-nav__link">
    <span class="md-ellipsis">
      add_node
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.MultistageTree.dfs" class="md-nav__link">
    <span class="md-ellipsis">
      dfs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.MultistageTree.dfs_iterative" class="md-nav__link">
    <span class="md-ellipsis">
      dfs_iterative
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.MxhmSpineImporter" class="md-nav__link">
    <span class="md-ellipsis">
      MxhmSpineImporter
    </span>
  </a>
  
    <nav class="md-nav" aria-label="MxhmSpineImporter">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.MxhmSpineImporter.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.Node" class="md-nav__link">
    <span class="md-ellipsis">
      Node
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Node">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Node.__eq__" class="md-nav__link">
    <span class="md-ellipsis">
      __eq__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Node.__hash__" class="md-nav__link">
    <span class="md-ellipsis">
      __hash__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Node.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Node.__ne__" class="md-nav__link">
    <span class="md-ellipsis">
      __ne__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Node.__str__" class="md-nav__link">
    <span class="md-ellipsis">
      __str__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Node.count_nodes_by_stage" class="md-nav__link">
    <span class="md-ellipsis">
      count_nodes_by_stage
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Node.dfs" class="md-nav__link">
    <span class="md-ellipsis">
      dfs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Node.dfs_iterative" class="md-nav__link">
    <span class="md-ellipsis">
      dfs_iterative
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.NoteRestToken" class="md-nav__link">
    <span class="md-ellipsis">
      NoteRestToken
    </span>
  </a>
  
    <nav class="md-nav" aria-label="NoteRestToken">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.NoteRestToken.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.NoteRestToken.export" class="md-nav__link">
    <span class="md-ellipsis">
      export
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.PitchPositionReferenceSystem" class="md-nav__link">
    <span class="md-ellipsis">
      PitchPositionReferenceSystem
    </span>
  </a>
  
    <nav class="md-nav" aria-label="PitchPositionReferenceSystem">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.PitchPositionReferenceSystem.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.PitchPositionReferenceSystem.compute_position" class="md-nav__link">
    <span class="md-ellipsis">
      compute_position
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.PitchRest" class="md-nav__link">
    <span class="md-ellipsis">
      PitchRest
    </span>
  </a>
  
    <nav class="md-nav" aria-label="PitchRest">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.PitchRest.__eq__" class="md-nav__link">
    <span class="md-ellipsis">
      __eq__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.PitchRest.__ge__" class="md-nav__link">
    <span class="md-ellipsis">
      __ge__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.PitchRest.__gt__" class="md-nav__link">
    <span class="md-ellipsis">
      __gt__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.PitchRest.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.PitchRest.__le__" class="md-nav__link">
    <span class="md-ellipsis">
      __le__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.PitchRest.__lt__" class="md-nav__link">
    <span class="md-ellipsis">
      __lt__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.PitchRest.__ne__" class="md-nav__link">
    <span class="md-ellipsis">
      __ne__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.PitchRest.is_rest" class="md-nav__link">
    <span class="md-ellipsis">
      is_rest
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.PitchRest.pitch_comparator" class="md-nav__link">
    <span class="md-ellipsis">
      pitch_comparator
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.PositionInStaff" class="md-nav__link">
    <span class="md-ellipsis">
      PositionInStaff
    </span>
  </a>
  
    <nav class="md-nav" aria-label="PositionInStaff">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.PositionInStaff.__eq__" class="md-nav__link">
    <span class="md-ellipsis">
      __eq__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.PositionInStaff.__hash__" class="md-nav__link">
    <span class="md-ellipsis">
      __hash__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.PositionInStaff.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.PositionInStaff.__lt__" class="md-nav__link">
    <span class="md-ellipsis">
      __lt__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.PositionInStaff.__ne__" class="md-nav__link">
    <span class="md-ellipsis">
      __ne__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.PositionInStaff.__repr__" class="md-nav__link">
    <span class="md-ellipsis">
      __repr__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.PositionInStaff.__str__" class="md-nav__link">
    <span class="md-ellipsis">
      __str__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.PositionInStaff.from_encoded" class="md-nav__link">
    <span class="md-ellipsis">
      from_encoded
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.PositionInStaff.from_line" class="md-nav__link">
    <span class="md-ellipsis">
      from_line
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.PositionInStaff.from_space" class="md-nav__link">
    <span class="md-ellipsis">
      from_space
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.PositionInStaff.is_line" class="md-nav__link">
    <span class="md-ellipsis">
      is_line
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.PositionInStaff.line" class="md-nav__link">
    <span class="md-ellipsis">
      line
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.PositionInStaff.move" class="md-nav__link">
    <span class="md-ellipsis">
      move
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.PositionInStaff.position_above" class="md-nav__link">
    <span class="md-ellipsis">
      position_above
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.PositionInStaff.position_below" class="md-nav__link">
    <span class="md-ellipsis">
      position_below
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.PositionInStaff.space" class="md-nav__link">
    <span class="md-ellipsis">
      space
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.RootSpineImporter" class="md-nav__link">
    <span class="md-ellipsis">
      RootSpineImporter
    </span>
  </a>
  
    <nav class="md-nav" aria-label="RootSpineImporter">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.RootSpineImporter.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.SignatureNodes" class="md-nav__link">
    <span class="md-ellipsis">
      SignatureNodes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="SignatureNodes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.SignatureNodes.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.SignatureNodes.clone" class="md-nav__link">
    <span class="md-ellipsis">
      clone
    </span>
  </a>
  
    <nav class="md-nav" aria-label="clone">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.SignatureNodes.clone--todo-this-method-is-equivalent-to-the-following-code" class="md-nav__link">
    <span class="md-ellipsis">
      TODO: This method is equivalent to the following code:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.SignatureNodes.clone--from-copy-import-deepcopy" class="md-nav__link">
    <span class="md-ellipsis">
      from copy import deepcopy
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.SignatureNodes.clone--signature_nodes_to_copy-signaturenodes" class="md-nav__link">
    <span class="md-ellipsis">
      signature_nodes_to_copy = SignatureNodes()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.SignatureNodes.clone--_1" class="md-nav__link">
    <span class="md-ellipsis">
      ...
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.SignatureNodes.clone--result-deepcopysignature_nodes_to_copy" class="md-nav__link">
    <span class="md-ellipsis">
      result = deepcopy(signature_nodes_to_copy)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.SignatureNodes.clone--it-should-be-tested" class="md-nav__link">
    <span class="md-ellipsis">
      It should be tested.
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.SignatureToken" class="md-nav__link">
    <span class="md-ellipsis">
      SignatureToken
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.SimpleToken" class="md-nav__link">
    <span class="md-ellipsis">
      SimpleToken
    </span>
  </a>
  
    <nav class="md-nav" aria-label="SimpleToken">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.SimpleToken.export" class="md-nav__link">
    <span class="md-ellipsis">
      export
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.SpineImporter" class="md-nav__link">
    <span class="md-ellipsis">
      SpineImporter
    </span>
  </a>
  
    <nav class="md-nav" aria-label="SpineImporter">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.SpineImporter.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.SpineOperationToken" class="md-nav__link">
    <span class="md-ellipsis">
      SpineOperationToken
    </span>
  </a>
  
    <nav class="md-nav" aria-label="SpineOperationToken">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.SpineOperationToken.is_cancelled_at" class="md-nav__link">
    <span class="md-ellipsis">
      is_cancelled_at
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.Staff" class="md-nav__link">
    <span class="md-ellipsis">
      Staff
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Staff">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Staff.position_in_staff" class="md-nav__link">
    <span class="md-ellipsis">
      position_in_staff
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.Subtoken" class="md-nav__link">
    <span class="md-ellipsis">
      Subtoken
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Subtoken">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Subtoken.__eq__" class="md-nav__link">
    <span class="md-ellipsis">
      __eq__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Subtoken.__hash__" class="md-nav__link">
    <span class="md-ellipsis">
      __hash__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Subtoken.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Subtoken.__ne__" class="md-nav__link">
    <span class="md-ellipsis">
      __ne__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Subtoken.__str__" class="md-nav__link">
    <span class="md-ellipsis">
      __str__
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.TextSpineImporter" class="md-nav__link">
    <span class="md-ellipsis">
      TextSpineImporter
    </span>
  </a>
  
    <nav class="md-nav" aria-label="TextSpineImporter">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.TextSpineImporter.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.TimeSignatureToken" class="md-nav__link">
    <span class="md-ellipsis">
      TimeSignatureToken
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.Token" class="md-nav__link">
    <span class="md-ellipsis">
      Token
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.TokenCategory" class="md-nav__link">
    <span class="md-ellipsis">
      TokenCategory
    </span>
  </a>
  
    <nav class="md-nav" aria-label="TokenCategory">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.TokenCategory.__lt__" class="md-nav__link">
    <span class="md-ellipsis">
      __lt__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.TokenCategory.__str__" class="md-nav__link">
    <span class="md-ellipsis">
      __str__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.TokenCategory.children" class="md-nav__link">
    <span class="md-ellipsis">
      children
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.TokenCategory.is_child" class="md-nav__link">
    <span class="md-ellipsis">
      is_child
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.TokenCategory.leaves" class="md-nav__link">
    <span class="md-ellipsis">
      leaves
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.TokenCategory.match" class="md-nav__link">
    <span class="md-ellipsis">
      match
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.TokenCategory.nodes" class="md-nav__link">
    <span class="md-ellipsis">
      nodes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.TokenCategory.tree" class="md-nav__link">
    <span class="md-ellipsis">
      tree
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.TokenCategory.valid" class="md-nav__link">
    <span class="md-ellipsis">
      valid
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.TokenCategoryHierarchyMapper" class="md-nav__link">
    <span class="md-ellipsis">
      TokenCategoryHierarchyMapper
    </span>
  </a>
  
    <nav class="md-nav" aria-label="TokenCategoryHierarchyMapper">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.TokenCategoryHierarchyMapper.all" class="md-nav__link">
    <span class="md-ellipsis">
      all
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.TokenCategoryHierarchyMapper.children" class="md-nav__link">
    <span class="md-ellipsis">
      children
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.TokenCategoryHierarchyMapper.is_child" class="md-nav__link">
    <span class="md-ellipsis">
      is_child
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.TokenCategoryHierarchyMapper.leaves" class="md-nav__link">
    <span class="md-ellipsis">
      leaves
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.TokenCategoryHierarchyMapper.match" class="md-nav__link">
    <span class="md-ellipsis">
      match
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.TokenCategoryHierarchyMapper.nodes" class="md-nav__link">
    <span class="md-ellipsis">
      nodes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.TokenCategoryHierarchyMapper.tree" class="md-nav__link">
    <span class="md-ellipsis">
      tree
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.TokenCategoryHierarchyMapper.valid" class="md-nav__link">
    <span class="md-ellipsis">
      valid
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.Tokenizer" class="md-nav__link">
    <span class="md-ellipsis">
      Tokenizer
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Tokenizer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Tokenizer.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.Tokenizer.tokenize" class="md-nav__link">
    <span class="md-ellipsis">
      tokenize
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.TokensTraversal" class="md-nav__link">
    <span class="md-ellipsis">
      TokensTraversal
    </span>
  </a>
  
    <nav class="md-nav" aria-label="TokensTraversal">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.TokensTraversal.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.TraversalFactory" class="md-nav__link">
    <span class="md-ellipsis">
      TraversalFactory
    </span>
  </a>
  
    <nav class="md-nav" aria-label="TraversalFactory">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.TraversalFactory.create" class="md-nav__link">
    <span class="md-ellipsis">
      create
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.TreeTraversalInterface" class="md-nav__link">
    <span class="md-ellipsis">
      TreeTraversalInterface
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.agnostic_distance" class="md-nav__link">
    <span class="md-ellipsis">
      agnostic_distance
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.create" class="md-nav__link">
    <span class="md-ellipsis">
      create
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.deprecated" class="md-nav__link">
    <span class="md-ellipsis">
      deprecated
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.distance" class="md-nav__link">
    <span class="md-ellipsis">
      distance
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.ekern_to_krn" class="md-nav__link">
    <span class="md-ellipsis">
      ekern_to_krn
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ekern_to_krn">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.ekern_to_krn--convert-ekrn-to-krn" class="md-nav__link">
    <span class="md-ellipsis">
      Convert .ekrn to .krn
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.ekern_to_krn--convert-a-list-of-ekrn-files-to-krn-files" class="md-nav__link">
    <span class="md-ellipsis">
      Convert a list of .ekrn files to .krn files
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.export" class="md-nav__link">
    <span class="md-ellipsis">
      export
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.get_kern_from_ekern" class="md-nav__link">
    <span class="md-ellipsis">
      get_kern_from_ekern
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.get_spine_types" class="md-nav__link">
    <span class="md-ellipsis">
      get_spine_types
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.kern_to_ekern" class="md-nav__link">
    <span class="md-ellipsis">
      kern_to_ekern
    </span>
  </a>
  
    <nav class="md-nav" aria-label="kern_to_ekern">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.core.kern_to_ekern--convert-krn-to-ekrn" class="md-nav__link">
    <span class="md-ellipsis">
      Convert .krn to .ekrn
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.core.kern_to_ekern--convert-a-list-of-krn-files-to-ekrn-files" class="md-nav__link">
    <span class="md-ellipsis">
      Convert a list of .krn files to .ekrn files
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.read" class="md-nav__link">
    <span class="md-ellipsis">
      read
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.store" class="md-nav__link">
    <span class="md-ellipsis">
      store
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.store_graph" class="md-nav__link">
    <span class="md-ellipsis">
      store_graph
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.transpose" class="md-nav__link">
    <span class="md-ellipsis">
      transpose
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.transpose_agnostic_to_encoding" class="md-nav__link">
    <span class="md-ellipsis">
      transpose_agnostic_to_encoding
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.transpose_agnostics" class="md-nav__link">
    <span class="md-ellipsis">
      transpose_agnostics
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.core.transpose_encoding_to_agnostic" class="md-nav__link">
    <span class="md-ellipsis">
      transpose_encoding_to_agnostic
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.util" class="md-nav__link">
    <span class="md-ellipsis">
      util
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kernpy.util.StoreCache" class="md-nav__link">
    <span class="md-ellipsis">
      StoreCache
    </span>
  </a>
  
    <nav class="md-nav" aria-label="StoreCache">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kernpy.util.StoreCache.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kernpy.util.StoreCache.request" class="md-nav__link">
    <span class="md-ellipsis">
      request
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="api-reference">API Reference</h1>
<p>Here you can find the API reference for the <code>kernpy</code> package. The reference contains a detailed description of the <code>kernpy</code> API. The reference describes how the methods work and which parameters can be used. </p>
<p>Find the basics of the <code>kernpy</code> package in the <a href="../get-started/tutorial/">Tutorial</a>.</p>


<div class="doc doc-object doc-module">



<a id="kernpy"></a>
    <div class="doc doc-contents first">

        <h2 id="kernpy--kernpy">kernpy</h2>
<p>=====</p>
<p>Python Humdrum kern and mens utilities package.</p>
<p>Execute the following command to run <strong>kernpy</strong> as a module:</p>
<pre><code class="language-shell">python -m kernpy --help
python -m kernpy &lt;command&gt; &lt;options&gt;
</code></pre>
<p>Run <code>kernpy</code> from your script:</p>
<pre><code class="language-python">import kernpy

help(kernpy)
</code></pre>
<p>While the package is not published in <code>pip</code>, the <code>kernpy</code> module must be in the root directory.</p>
<h3 id="kernpy--kern2ekern-convertir-un-solo-archivo-krn-a-ekern">🎯 <strong>kern2ekern</strong>: Convertir un solo archivo .krn a .ekern:</h3>
<pre><code class="language-bash">python -m kernpy --kern2ekern --input_path &lt;input_file&gt;  &lt;v | --verbose [0-2]&gt;
</code></pre>
<p>The command has the following arguments:
* <strong>input_path</strong>: Ruta del archivo .krn a convertir.
* <strong>output_path</strong>: Ruta del archivo .ekern a generar (opcional). Si no se especifica, se generará en la misma ubicación.
* <strong>-r</strong>: Recursivo (opcional).
* <strong>--verbose[0-2]</strong>: Nivel de verbosidad (opcional).</p>
<p>📌 Basic usage running <strong>kernpy</strong> as a module:</p>
<pre><code class="language-shell">python -m kernpy --input_path /my/path/to/file.krn # New ekern generated in /my/path/to/file.ekern
</code></pre>
<p>📌 Generate an <em>ekrn</em> file in specific location running <strong>kernpy</strong> as a module:</p>
<pre><code class="language-shell">python -m kernpy --input_path /my/path/to/file.krn --output_path /new/output.ekern
</code></pre>
<p>📌 Converting all the .krn files in a directory to .ekern files running <strong>kernpy</strong> as a module:
* Every .krn file in the directory will be converted to .ekern in the same location.
* Using, at least, one additional directory level is required.</p>
<pre><code>root
├─ kern-folder
│   ├── 1.krn
│   ├── 2.krn
│   └── 3.krn
├── more-kerns
│   ├── 1.krn
│   ├── ...
</code></pre>
<p>Run:</p>
<pre><code class="language-shell">python -m kernpy --input_path /my/path/to/directory/ -r
</code></pre>
<p>✏️ This function is also available as a python function:</p>
<pre><code class="language-python"># converter.py
from kernpy import kern_to_ekern

kern_to_ekern('/my/path/to/input.krn', '/to/my/output.ekrn')

# Many files
files = ['file1.krn', 'file2.krn', 'file3.krn']
[kern_to_ekern(f) for f in files]

# This function raises an exception if the conversion fails.
# Handle the errors using try-except statement if many files are going to be converted in series.
</code></pre>
<hr />
<h3 id="kernpy--ekern2kern-convertir-un-solo-archivo-ekern-a-krn">🎯 <strong>ekern2kern</strong>: Convertir un solo archivo .ekern a .krn:</h3>
<pre><code class="language-bash">python -m kernpy --ekern2kern --input_path &lt;input_file&gt;  &lt;--verbose [0-2]&gt;
</code></pre>
<p>The command has the following arguments:
* <strong>input_path</strong>: Ruta del archivo .ekern a convertir.
* <strong>output_path</strong>: Ruta del archivo .krn a generar (opcional). Si no se especifica, se generará en la misma ubicación.
* <strong>-r</strong>: Recursivo (opcional).
* <strong>--verbose[0-2]</strong>: Nivel de verbosidad (opcional).</p>
<ul>
<li>Basic usage running <strong>kernpy</strong> as a module:</li>
</ul>
<pre><code class="language-shell">python -m kernpy --input_path /my/path/to/file.ekern # New krn generated in /my/path/to/file.krn
</code></pre>
<p>📌 Generate a <em>krn</em> file in specific location running <strong>kernpy</strong> as a module:</p>
<pre><code class="language-shell">python -m kernpy --input_path /my/path/to/file.ekern --output_path /new/output.krn
</code></pre>
<p>📌 Converting <strong>all</strong> the .ekern files in a directory to .krn files running <strong>kernpy</strong> as a module:</p>
<ul>
<li>Every .ekrn file in the directory will be converted to .krn in the same location.</li>
<li>Using, at least, one additional directory level is required.</li>
</ul>
<pre><code>root
├─ ekern-folder
│   ├── 1.ekrn
│   ├── 2.ekrn
│   └── 3.ekrn
├── more-ekerns
│   ├── 1.ekrn
│   ├── ...
</code></pre>
<p>Run:</p>
<pre><code class="language-shell">python -m kernpy --input_path /my/path/to/directory/ -r
</code></pre>
<p>✏️ This function is also available as a python function:</p>
<pre><code class="language-python"># converter.py
from kernpy import ekern_to_krn

# Only one file
ekern_to_krn('/my/path/to/input.ekrn', '/to/my/output.krn')

# Many files
files = ['file1.ekrn', 'file2.ekrn', 'file3.ekrn']
[ekern_to_krn(f) for f in files]

# This function raises an exception if the conversion fails.
# Handle the errors using try-except statement if many files are going to be converted in series.
</code></pre>
<hr />
<h3 id="kernpy--create-fragments">🎯 <strong>create fragments</strong></h3>
<p>Generate new valid <em>kern</em> files from an original <em>kern</em> file. Every new fragment will be a subset of the original file.</p>
<p>Explore the documentation website for more information about the parameters.</p>
<p>Use:
- <strong>create_fragments_from_kern</strong> to generate using always the same measure length.
- <strong>create_fragments_from_directory</strong> to generate using a Gaussian distribution for the measure length. Static measure is also available if the standard deviation is set to 0.</p>
<p>📌 Create new scores from one original <em>kern</em> directory running <strong>kernpy</strong> as a module:</p>
<pre><code class="language-shell">python -m kernpy --generate_fragments --input_directory /from/my/kerns --output_directory /to/my/fragments --log_file log.csv  --verbose 2 --mean 4.2 --std_dev 1.5 --offset 1 --num_processes 12
</code></pre>
<p>✏️ Create new scores from one original <em>kern</em> file:</p>
<pre><code class="language-python"># generator.py
from kernpy import create_fragments_from_kern

# View docs:
help(create_fragments_from_kern)

create_fragments_from_kern('/my/path/to/input.krn', '/to/my/output_dir/',
                           measure_length=4, offset=1,
                           log_file='/dev/null')
</code></pre>
<p>✏️ Create new scores from one original <em>kern</em> directory:
- Using, at least, one additional directory level is required.</p>
<pre><code>root
├─ kern-folder
│   ├── 1.krn
│   ├── 2.krn
│   └── 3.krn
├── more-kerns
│   ├── 1.krn
│   ├── ...
</code></pre>
<p>Run:</p>
<pre><code class="language-python"># generator.py
from kernpy import create_fragments_from_directory

# View docs:
help(create_fragments_from_directory)

create_fragments_from_directory('/my/path/to/input_dir/', '/to/my/output_dir/',
                                mean=4.1, std_dev=0.2, offset=2,
                                log_file='/logs/fragments.csv',
                                num_processes=12)
</code></pre>



  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h2 id="kernpy.Intervals" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">Intervals</span> <span class="o">=</span> <span class="p">{</span><span class="o">-</span><span class="mi">2</span><span class="p">:</span> <span class="s1">&#39;dd1&#39;</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span> <span class="s1">&#39;d1&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">:</span> <span class="s1">&#39;P1&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">:</span> <span class="s1">&#39;A1&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span> <span class="s1">&#39;AA1&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="s1">&#39;dd2&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">:</span> <span class="s1">&#39;d2&#39;</span><span class="p">,</span> <span class="mi">5</span><span class="p">:</span> <span class="s1">&#39;m2&#39;</span><span class="p">,</span> <span class="mi">6</span><span class="p">:</span> <span class="s1">&#39;M2&#39;</span><span class="p">,</span> <span class="mi">7</span><span class="p">:</span> <span class="s1">&#39;A2&#39;</span><span class="p">,</span> <span class="mi">8</span><span class="p">:</span> <span class="s1">&#39;AA2&#39;</span><span class="p">,</span> <span class="mi">9</span><span class="p">:</span> <span class="s1">&#39;dd3&#39;</span><span class="p">,</span> <span class="mi">10</span><span class="p">:</span> <span class="s1">&#39;d3&#39;</span><span class="p">,</span> <span class="mi">11</span><span class="p">:</span> <span class="s1">&#39;m3&#39;</span><span class="p">,</span> <span class="mi">12</span><span class="p">:</span> <span class="s1">&#39;M3&#39;</span><span class="p">,</span> <span class="mi">13</span><span class="p">:</span> <span class="s1">&#39;A3&#39;</span><span class="p">,</span> <span class="mi">14</span><span class="p">:</span> <span class="s1">&#39;AA3&#39;</span><span class="p">,</span> <span class="mi">15</span><span class="p">:</span> <span class="s1">&#39;dd4&#39;</span><span class="p">,</span> <span class="mi">16</span><span class="p">:</span> <span class="s1">&#39;d4&#39;</span><span class="p">,</span> <span class="mi">17</span><span class="p">:</span> <span class="s1">&#39;P4&#39;</span><span class="p">,</span> <span class="mi">18</span><span class="p">:</span> <span class="s1">&#39;A4&#39;</span><span class="p">,</span> <span class="mi">19</span><span class="p">:</span> <span class="s1">&#39;AA4&#39;</span><span class="p">,</span> <span class="mi">21</span><span class="p">:</span> <span class="s1">&#39;dd5&#39;</span><span class="p">,</span> <span class="mi">22</span><span class="p">:</span> <span class="s1">&#39;d5&#39;</span><span class="p">,</span> <span class="mi">23</span><span class="p">:</span> <span class="s1">&#39;P5&#39;</span><span class="p">,</span> <span class="mi">24</span><span class="p">:</span> <span class="s1">&#39;A5&#39;</span><span class="p">,</span> <span class="mi">25</span><span class="p">:</span> <span class="s1">&#39;AA5&#39;</span><span class="p">,</span> <span class="mi">26</span><span class="p">:</span> <span class="s1">&#39;dd6&#39;</span><span class="p">,</span> <span class="mi">27</span><span class="p">:</span> <span class="s1">&#39;d6&#39;</span><span class="p">,</span> <span class="mi">28</span><span class="p">:</span> <span class="s1">&#39;m6&#39;</span><span class="p">,</span> <span class="mi">29</span><span class="p">:</span> <span class="s1">&#39;M6&#39;</span><span class="p">,</span> <span class="mi">30</span><span class="p">:</span> <span class="s1">&#39;A6&#39;</span><span class="p">,</span> <span class="mi">31</span><span class="p">:</span> <span class="s1">&#39;AA6&#39;</span><span class="p">,</span> <span class="mi">32</span><span class="p">:</span> <span class="s1">&#39;dd7&#39;</span><span class="p">,</span> <span class="mi">33</span><span class="p">:</span> <span class="s1">&#39;d7&#39;</span><span class="p">,</span> <span class="mi">34</span><span class="p">:</span> <span class="s1">&#39;m7&#39;</span><span class="p">,</span> <span class="mi">35</span><span class="p">:</span> <span class="s1">&#39;M7&#39;</span><span class="p">,</span> <span class="mi">36</span><span class="p">:</span> <span class="s1">&#39;A7&#39;</span><span class="p">,</span> <span class="mi">37</span><span class="p">:</span> <span class="s1">&#39;AA7&#39;</span><span class="p">,</span> <span class="mi">40</span><span class="p">:</span> <span class="s1">&#39;octave&#39;</span><span class="p">}</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Base-40 interval classes (d=diminished, m=minor, M=major, P=perfect, A=augmented)</p>
    </div>

</div>


<div class="doc doc-object doc-class">



<h2 id="kernpy.AbstractToken" class="doc doc-heading">
            <code>AbstractToken</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="abc.ABC">ABC</span></code></p>


        <p>An abstract base class representing a token.</p>
<p>This class serves as a blueprint for creating various types of tokens, which are
categorized based on their TokenCategory.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="kernpy.AbstractToken.encoding">encoding</span></code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The original representation of the token.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="kernpy.AbstractToken.category">category</span></code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.tokens.TokenCategory" href="#kernpy.core.TokenCategory">TokenCategory</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The category of the token.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="kernpy.AbstractToken.hidden">hidden</span></code></td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A flag indicating whether the token is hidden. Defaults to False.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

              <details class="quote">
                <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1384</span>
<span class="normal">1385</span>
<span class="normal">1386</span>
<span class="normal">1387</span>
<span class="normal">1388</span>
<span class="normal">1389</span>
<span class="normal">1390</span>
<span class="normal">1391</span>
<span class="normal">1392</span>
<span class="normal">1393</span>
<span class="normal">1394</span>
<span class="normal">1395</span>
<span class="normal">1396</span>
<span class="normal">1397</span>
<span class="normal">1398</span>
<span class="normal">1399</span>
<span class="normal">1400</span>
<span class="normal">1401</span>
<span class="normal">1402</span>
<span class="normal">1403</span>
<span class="normal">1404</span>
<span class="normal">1405</span>
<span class="normal">1406</span>
<span class="normal">1407</span>
<span class="normal">1408</span>
<span class="normal">1409</span>
<span class="normal">1410</span>
<span class="normal">1411</span>
<span class="normal">1412</span>
<span class="normal">1413</span>
<span class="normal">1414</span>
<span class="normal">1415</span>
<span class="normal">1416</span>
<span class="normal">1417</span>
<span class="normal">1418</span>
<span class="normal">1419</span>
<span class="normal">1420</span>
<span class="normal">1421</span>
<span class="normal">1422</span>
<span class="normal">1423</span>
<span class="normal">1424</span>
<span class="normal">1425</span>
<span class="normal">1426</span>
<span class="normal">1427</span>
<span class="normal">1428</span>
<span class="normal">1429</span>
<span class="normal">1430</span>
<span class="normal">1431</span>
<span class="normal">1432</span>
<span class="normal">1433</span>
<span class="normal">1434</span>
<span class="normal">1435</span>
<span class="normal">1436</span>
<span class="normal">1437</span>
<span class="normal">1438</span>
<span class="normal">1439</span>
<span class="normal">1440</span>
<span class="normal">1441</span>
<span class="normal">1442</span>
<span class="normal">1443</span>
<span class="normal">1444</span>
<span class="normal">1445</span>
<span class="normal">1446</span>
<span class="normal">1447</span>
<span class="normal">1448</span>
<span class="normal">1449</span>
<span class="normal">1450</span>
<span class="normal">1451</span>
<span class="normal">1452</span>
<span class="normal">1453</span>
<span class="normal">1454</span>
<span class="normal">1455</span>
<span class="normal">1456</span>
<span class="normal">1457</span>
<span class="normal">1458</span>
<span class="normal">1459</span>
<span class="normal">1460</span>
<span class="normal">1461</span>
<span class="normal">1462</span>
<span class="normal">1463</span>
<span class="normal">1464</span>
<span class="normal">1465</span>
<span class="normal">1466</span>
<span class="normal">1467</span>
<span class="normal">1468</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">AbstractToken</span><span class="p">(</span><span class="n">ABC</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    An abstract base class representing a token.</span>

<span class="sd">    This class serves as a blueprint for creating various types of tokens, which are</span>
<span class="sd">    categorized based on their TokenCategory.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        encoding (str): The original representation of the token.</span>
<span class="sd">        category (TokenCategory): The category of the token.</span>
<span class="sd">        hidden (bool): A flag indicating whether the token is hidden. Defaults to False.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">encoding</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">category</span><span class="p">:</span> <span class="n">TokenCategory</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        AbstractToken constructor</span>

<span class="sd">        Args:</span>
<span class="sd">            encoding (str): The original representation of the token.</span>
<span class="sd">            category (TokenCategory): The category of the token.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">encoding</span> <span class="o">=</span> <span class="n">encoding</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">category</span> <span class="o">=</span> <span class="n">category</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">hidden</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">export</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Exports the token.</span>

<span class="sd">        Keyword Arguments:</span>
<span class="sd">            filter_categories (Optional[Callable[[TokenCategory], bool]]): A function that takes a TokenCategory and returns a boolean</span>
<span class="sd">                indicating whether the token should be included in the export. If provided, only tokens for which the</span>
<span class="sd">                function returns True will be exported. Defaults to None. If None, all tokens will be exported.</span>

<span class="sd">        Returns:</span>
<span class="sd">            str: The encoded token representation, potentially filtered if a filter_categories function is provided.</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; token = AbstractToken(&#39;*clefF4&#39;, TokenCategory.SIGNATURES)</span>
<span class="sd">            &gt;&gt;&gt; token.export()</span>
<span class="sd">            &#39;*clefF4&#39;</span>
<span class="sd">            &gt;&gt;&gt; token.export(filter_categories=lambda cat: cat in {TokenCategory.SIGNATURES, TokenCategory.SIGNATURES.DURATION})</span>
<span class="sd">            &#39;*clefF4&#39;</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">pass</span>


    <span class="k">def</span><span class="w"> </span><span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the string representation of the token.</span>

<span class="sd">        Returns (str): The string representation of the token without processing.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">export</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Compare two tokens.</span>

<span class="sd">        Args:</span>
<span class="sd">            other (AbstractToken): The other token to compare.</span>
<span class="sd">        Returns (bool): True if the tokens are equal, False otherwise.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">AbstractToken</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">encoding</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">encoding</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">category</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">category</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__ne__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Compare two tokens.</span>

<span class="sd">        Args:</span>
<span class="sd">            other (AbstractToken): The other token to compare.</span>
<span class="sd">        Returns (bool): True if the tokens are different, False otherwise.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__eq__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__hash__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the hash of the token.</span>

<span class="sd">        Returns (int): The hash of the token.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">hash</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">export</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">category</span><span class="p">))</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="kernpy.AbstractToken.__eq__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__eq__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Compare two tokens.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>other</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.tokens.AbstractToken" href="#kernpy.core.AbstractToken">AbstractToken</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The other token to compare.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns (bool): True if the tokens are equal, False otherwise.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1440</span>
<span class="normal">1441</span>
<span class="normal">1442</span>
<span class="normal">1443</span>
<span class="normal">1444</span>
<span class="normal">1445</span>
<span class="normal">1446</span>
<span class="normal">1447</span>
<span class="normal">1448</span>
<span class="normal">1449</span>
<span class="normal">1450</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Compare two tokens.</span>

<span class="sd">    Args:</span>
<span class="sd">        other (AbstractToken): The other token to compare.</span>
<span class="sd">    Returns (bool): True if the tokens are equal, False otherwise.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">AbstractToken</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">encoding</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">encoding</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">category</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">category</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.AbstractToken.__hash__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__hash__</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Returns the hash of the token.</p>
<p>Returns (int): The hash of the token.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1462</span>
<span class="normal">1463</span>
<span class="normal">1464</span>
<span class="normal">1465</span>
<span class="normal">1466</span>
<span class="normal">1467</span>
<span class="normal">1468</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__hash__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns the hash of the token.</span>

<span class="sd">    Returns (int): The hash of the token.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="nb">hash</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">export</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">category</span><span class="p">))</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.AbstractToken.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">encoding</span><span class="p">,</span> <span class="n">category</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>AbstractToken constructor</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>encoding</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The original representation of the token.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>category</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.tokens.TokenCategory" href="#kernpy.core.TokenCategory">TokenCategory</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The category of the token.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1397</span>
<span class="normal">1398</span>
<span class="normal">1399</span>
<span class="normal">1400</span>
<span class="normal">1401</span>
<span class="normal">1402</span>
<span class="normal">1403</span>
<span class="normal">1404</span>
<span class="normal">1405</span>
<span class="normal">1406</span>
<span class="normal">1407</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">encoding</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">category</span><span class="p">:</span> <span class="n">TokenCategory</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    AbstractToken constructor</span>

<span class="sd">    Args:</span>
<span class="sd">        encoding (str): The original representation of the token.</span>
<span class="sd">        category (TokenCategory): The category of the token.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">encoding</span> <span class="o">=</span> <span class="n">encoding</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">category</span> <span class="o">=</span> <span class="n">category</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">hidden</span> <span class="o">=</span> <span class="kc">False</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.AbstractToken.__ne__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__ne__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Compare two tokens.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>other</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.tokens.AbstractToken" href="#kernpy.core.AbstractToken">AbstractToken</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The other token to compare.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns (bool): True if the tokens are different, False otherwise.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1452</span>
<span class="normal">1453</span>
<span class="normal">1454</span>
<span class="normal">1455</span>
<span class="normal">1456</span>
<span class="normal">1457</span>
<span class="normal">1458</span>
<span class="normal">1459</span>
<span class="normal">1460</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__ne__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Compare two tokens.</span>

<span class="sd">    Args:</span>
<span class="sd">        other (AbstractToken): The other token to compare.</span>
<span class="sd">    Returns (bool): True if the tokens are different, False otherwise.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__eq__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.AbstractToken.__str__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__str__</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Returns the string representation of the token.</p>
<p>Returns (str): The string representation of the token without processing.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1432</span>
<span class="normal">1433</span>
<span class="normal">1434</span>
<span class="normal">1435</span>
<span class="normal">1436</span>
<span class="normal">1437</span>
<span class="normal">1438</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns the string representation of the token.</span>

<span class="sd">    Returns (str): The string representation of the token without processing.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">export</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.AbstractToken.export" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">export</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-abstractmethod"><code>abstractmethod</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>Exports the token.</p>


<p><span class="doc-section-title">Other Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>filter_categories</code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[Callable[[<a class="autorefs autorefs-internal" title="kernpy.core.tokens.TokenCategory" href="#kernpy.core.TokenCategory">TokenCategory</a>], bool]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A function that takes a TokenCategory and returns a boolean
indicating whether the token should be included in the export. If provided, only tokens for which the
function returns True will be exported. Defaults to None. If None, all tokens will be exported.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>str</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The encoded token representation, potentially filtered if a filter_categories function is provided.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">token</span> <span class="o">=</span> <span class="n">AbstractToken</span><span class="p">(</span><span class="s1">&#39;*clefF4&#39;</span><span class="p">,</span> <span class="n">TokenCategory</span><span class="o">.</span><span class="n">SIGNATURES</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">token</span><span class="o">.</span><span class="n">export</span><span class="p">()</span>
<span class="go">&#39;*clefF4&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">token</span><span class="o">.</span><span class="n">export</span><span class="p">(</span><span class="n">filter_categories</span><span class="o">=</span><span class="k">lambda</span> <span class="n">cat</span><span class="p">:</span> <span class="n">cat</span> <span class="ow">in</span> <span class="p">{</span><span class="n">TokenCategory</span><span class="o">.</span><span class="n">SIGNATURES</span><span class="p">,</span> <span class="n">TokenCategory</span><span class="o">.</span><span class="n">SIGNATURES</span><span class="o">.</span><span class="n">DURATION</span><span class="p">})</span>
<span class="go">&#39;*clefF4&#39;</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1409</span>
<span class="normal">1410</span>
<span class="normal">1411</span>
<span class="normal">1412</span>
<span class="normal">1413</span>
<span class="normal">1414</span>
<span class="normal">1415</span>
<span class="normal">1416</span>
<span class="normal">1417</span>
<span class="normal">1418</span>
<span class="normal">1419</span>
<span class="normal">1420</span>
<span class="normal">1421</span>
<span class="normal">1422</span>
<span class="normal">1423</span>
<span class="normal">1424</span>
<span class="normal">1425</span>
<span class="normal">1426</span>
<span class="normal">1427</span>
<span class="normal">1428</span>
<span class="normal">1429</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">export</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Exports the token.</span>

<span class="sd">    Keyword Arguments:</span>
<span class="sd">        filter_categories (Optional[Callable[[TokenCategory], bool]]): A function that takes a TokenCategory and returns a boolean</span>
<span class="sd">            indicating whether the token should be included in the export. If provided, only tokens for which the</span>
<span class="sd">            function returns True will be exported. Defaults to None. If None, all tokens will be exported.</span>

<span class="sd">    Returns:</span>
<span class="sd">        str: The encoded token representation, potentially filtered if a filter_categories function is provided.</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; token = AbstractToken(&#39;*clefF4&#39;, TokenCategory.SIGNATURES)</span>
<span class="sd">        &gt;&gt;&gt; token.export()</span>
<span class="sd">        &#39;*clefF4&#39;</span>
<span class="sd">        &gt;&gt;&gt; token.export(filter_categories=lambda cat: cat in {TokenCategory.SIGNATURES, TokenCategory.SIGNATURES.DURATION})</span>
<span class="sd">        &#39;*clefF4&#39;</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">pass</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="kernpy.AgnosticPitch" class="doc doc-heading">
            <code>AgnosticPitch</code>


</h2>


    <div class="doc doc-contents ">


        <p>Represents a pitch in a generic way, independent of the notation system used.</p>

              <details class="quote">
                <summary>Source code in <code>kernpy/core/pitch_models.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">AgnosticPitch</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Represents a pitch in a generic way, independent of the notation system used.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">ASCENDANT_ACCIDENTAL_ALTERATION</span> <span class="o">=</span> <span class="s1">&#39;+&#39;</span>
    <span class="n">DESCENDENT_ACCIDENTAL_ALTERATION</span> <span class="o">=</span> <span class="s1">&#39;-&#39;</span>
    <span class="n">ACCIDENTAL_ALTERATIONS</span> <span class="o">=</span> <span class="p">{</span>
        <span class="n">ASCENDANT_ACCIDENTAL_ALTERATION</span><span class="p">,</span>
        <span class="n">DESCENDENT_ACCIDENTAL_ALTERATION</span>
    <span class="p">}</span>


    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">octave</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initialize the AgnosticPitch object.</span>

<span class="sd">        Args:</span>
<span class="sd">            name (str): The name of the pitch (e.g., &#39;C&#39;, &#39;D#&#39;, &#39;Bb&#39;).</span>
<span class="sd">            octave (int): The octave of the pitch (e.g., 4 for middle C).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">octave</span> <span class="o">=</span> <span class="n">octave</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">name</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__name</span>

    <span class="nd">@name</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="n">accidentals</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">c</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">name</span> <span class="k">if</span> <span class="n">c</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="s1">&#39;+&#39;</span><span class="p">]])</span>
        <span class="n">name</span> <span class="o">=</span> <span class="n">name</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span>
        <span class="n">name</span> <span class="o">=</span> <span class="n">name</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;#&#39;</span><span class="p">,</span> <span class="s1">&#39;+&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;-&#39;</span><span class="p">)</span>

        <span class="n">check_name</span> <span class="o">=</span> <span class="n">name</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;+&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">check_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">pitches</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Invalid pitch: </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">accidentals</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">3</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Invalid pitch: </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">. Maximum of 3 accidentals allowed. &quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__name</span> <span class="o">=</span> <span class="n">name</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">octave</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__octave</span>

    <span class="nd">@octave</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">octave</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">octave</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">octave</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Invalid octave: </span><span class="si">{</span><span class="n">octave</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__octave</span> <span class="o">=</span> <span class="n">octave</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_chroma</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="mi">40</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">octave</span> <span class="o">+</span> <span class="n">Chromas</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">]</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">to_transposed</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">agnostic_pitch</span><span class="p">:</span> <span class="s1">&#39;AgnosticPitch&#39;</span><span class="p">,</span> <span class="n">raw_interval</span><span class="p">,</span> <span class="n">direction</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Direction</span><span class="o">.</span><span class="n">UP</span><span class="o">.</span><span class="n">value</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s1">&#39;AgnosticPitch&#39;</span><span class="p">:</span>
        <span class="n">delta</span> <span class="o">=</span> <span class="n">raw_interval</span> <span class="k">if</span> <span class="n">direction</span> <span class="o">==</span> <span class="n">Direction</span><span class="o">.</span><span class="n">UP</span><span class="o">.</span><span class="n">value</span> <span class="k">else</span> <span class="o">-</span> <span class="n">raw_interval</span>
        <span class="n">chroma</span> <span class="o">=</span> <span class="n">agnostic_pitch</span><span class="o">.</span><span class="n">get_chroma</span><span class="p">()</span> <span class="o">+</span> <span class="n">delta</span>
        <span class="n">name</span> <span class="o">=</span> <span class="n">ChromasByValue</span><span class="p">[</span><span class="n">chroma</span> <span class="o">%</span> <span class="mi">40</span><span class="p">]</span>
        <span class="n">octave</span> <span class="o">=</span> <span class="n">chroma</span> <span class="o">//</span> <span class="mi">40</span>
        <span class="k">return</span> <span class="n">AgnosticPitch</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">octave</span><span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">get_chroma_from_interval</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">pitch_a</span><span class="p">:</span> <span class="s1">&#39;AgnosticPitch&#39;</span><span class="p">,</span> <span class="n">pitch_b</span><span class="p">:</span> <span class="s1">&#39;AgnosticPitch&#39;</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">pitch_b</span><span class="o">.</span><span class="n">get_chroma</span><span class="p">()</span> <span class="o">-</span> <span class="n">pitch_a</span><span class="o">.</span><span class="n">get_chroma</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;&lt;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">, </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">octave</span><span class="si">}</span><span class="s2">&gt;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">__name</span><span class="si">}</span><span class="s2">(name=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">, octave=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">octave</span><span class="si">}</span><span class="s2">)&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">AgnosticPitch</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">name</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">octave</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">octave</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__ne__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">AgnosticPitch</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">True</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">!=</span> <span class="n">other</span><span class="o">.</span><span class="n">name</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">octave</span> <span class="o">!=</span> <span class="n">other</span><span class="o">.</span><span class="n">octave</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__hash__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">hash</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">octave</span><span class="p">))</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__lt__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">AgnosticPitch</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">NotImplemented</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">octave</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">octave</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">Chromas</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">Chromas</span><span class="p">[</span><span class="n">other</span><span class="o">.</span><span class="n">name</span><span class="p">]</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">octave</span> <span class="o">&lt;</span> <span class="n">other</span><span class="o">.</span><span class="n">octave</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__gt__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">AgnosticPitch</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">NotImplemented</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">octave</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">octave</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">Chromas</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">Chromas</span><span class="p">[</span><span class="n">other</span><span class="o">.</span><span class="n">name</span><span class="p">]</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">octave</span> <span class="o">&gt;</span> <span class="n">other</span><span class="o">.</span><span class="n">octave</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="kernpy.AgnosticPitch.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">octave</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Initialize the AgnosticPitch object.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>name</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the pitch (e.g., 'C', 'D#', 'Bb').</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>octave</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The octave of the pitch (e.g., 4 for middle C).</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/pitch_models.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span>
<span class="normal">90</span>
<span class="normal">91</span>
<span class="normal">92</span>
<span class="normal">93</span>
<span class="normal">94</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">octave</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Initialize the AgnosticPitch object.</span>

<span class="sd">    Args:</span>
<span class="sd">        name (str): The name of the pitch (e.g., &#39;C&#39;, &#39;D#&#39;, &#39;Bb&#39;).</span>
<span class="sd">        octave (int): The octave of the pitch (e.g., 4 for middle C).</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">octave</span> <span class="o">=</span> <span class="n">octave</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="kernpy.BasicSpineImporter" class="doc doc-heading">
            <code>BasicSpineImporter</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="kernpy.core.spine_importer.SpineImporter" href="#kernpy.core.SpineImporter">SpineImporter</a></code></p>


              <details class="quote">
                <summary>Source code in <code>kernpy/core/basic_spine_importer.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">BasicSpineImporter</span><span class="p">(</span><span class="n">SpineImporter</span><span class="p">):</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">verbose</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        KernSpineImporter constructor.</span>

<span class="sd">        Args:</span>
<span class="sd">            verbose (Optional[bool]): Level of verbosity for error messages.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="n">verbose</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">import_listener</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BaseANTLRSpineParserListener</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">KernSpineListener</span><span class="p">()</span>  <span class="c1"># TODO: Create a custom functional listener for BasicSpineImporter</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">import_token</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">encoding</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Token</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_raise_error_if_wrong_input</span><span class="p">(</span><span class="n">encoding</span><span class="p">)</span>

        <span class="n">kern_spine_importer</span> <span class="o">=</span> <span class="n">KernSpineImporter</span><span class="p">()</span>
        <span class="n">token</span> <span class="o">=</span> <span class="n">kern_spine_importer</span><span class="o">.</span><span class="n">import_token</span><span class="p">(</span><span class="n">encoding</span><span class="p">)</span>

        <span class="n">ACCEPTED_CATEGORIES</span> <span class="o">=</span> <span class="p">{</span>
            <span class="n">TokenCategory</span><span class="o">.</span><span class="n">STRUCTURAL</span><span class="p">,</span>
            <span class="n">TokenCategory</span><span class="o">.</span><span class="n">SIGNATURES</span><span class="p">,</span>
            <span class="n">TokenCategory</span><span class="o">.</span><span class="n">EMPTY</span><span class="p">,</span>
            <span class="n">TokenCategory</span><span class="o">.</span><span class="n">BARLINES</span><span class="p">,</span>
            <span class="n">TokenCategory</span><span class="o">.</span><span class="n">IMAGE_ANNOTATIONS</span><span class="p">,</span>
            <span class="n">TokenCategory</span><span class="o">.</span><span class="n">BARLINES</span><span class="p">,</span>
            <span class="n">TokenCategory</span><span class="o">.</span><span class="n">COMMENTS</span><span class="p">,</span>
        <span class="p">}</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="nb">any</span><span class="p">(</span><span class="n">TokenCategory</span><span class="o">.</span><span class="n">is_child</span><span class="p">(</span><span class="n">child</span><span class="o">=</span><span class="n">token</span><span class="o">.</span><span class="n">category</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="n">cat</span><span class="p">)</span> <span class="k">for</span> <span class="n">cat</span> <span class="ow">in</span> <span class="n">ACCEPTED_CATEGORIES</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">SimpleToken</span><span class="p">(</span><span class="n">encoding</span><span class="p">,</span> <span class="n">TokenCategory</span><span class="o">.</span><span class="n">OTHER</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">token</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="kernpy.BasicSpineImporter.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>KernSpineImporter constructor.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>verbose</code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[bool]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Level of verbosity for error messages.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/basic_spine_importer.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">verbose</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    KernSpineImporter constructor.</span>

<span class="sd">    Args:</span>
<span class="sd">        verbose (Optional[bool]): Level of verbosity for error messages.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="n">verbose</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="kernpy.BekernTokenizer" class="doc doc-heading">
            <code>BekernTokenizer</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="kernpy.core.tokenizers.Tokenizer" href="#kernpy.core.Tokenizer">Tokenizer</a></code></p>


        <p>BekernTokenizer converts a Token into a bekern (Basic Extended **kern) string representation. This format use a '@' separator for the     main tokens but discards all the decorations tokens.</p>

              <details class="quote">
                <summary>Source code in <code>kernpy/core/tokenizers.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">BekernTokenizer</span><span class="p">(</span><span class="n">Tokenizer</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    BekernTokenizer converts a Token into a bekern (Basic Extended **kern) string representation. This format use a &#39;@&#39; separator for the \</span>
<span class="sd">    main tokens but discards all the decorations tokens.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">token_categories</span><span class="p">:</span> <span class="n">Set</span><span class="p">[</span><span class="s1">&#39;TokenCategory&#39;</span><span class="p">]):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Create a new BekernTokenizer</span>

<span class="sd">        Args:</span>
<span class="sd">            token_categories (Set[TokenCategory]): List of categories to be tokenized. If None will raise an exception.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">token_categories</span><span class="o">=</span><span class="n">token_categories</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">tokenize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">token</span><span class="p">:</span> <span class="n">Token</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Tokenize a token into a bekern string representation.</span>
<span class="sd">        Args:</span>
<span class="sd">            token (Token): Token to be tokenized.</span>

<span class="sd">        Returns (str): bekern string representation.</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; token.encoding</span>
<span class="sd">            &#39;2@.@bb@-·_·L&#39;</span>
<span class="sd">            &gt;&gt;&gt; BekernTokenizer().tokenize(token)</span>
<span class="sd">            &#39;2@.@bb@-&#39;</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">ekern_content</span> <span class="o">=</span> <span class="n">token</span><span class="o">.</span><span class="n">export</span><span class="p">(</span><span class="n">filter_categories</span><span class="o">=</span><span class="k">lambda</span> <span class="n">cat</span><span class="p">:</span> <span class="n">cat</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">token_categories</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">DECORATION_SEPARATOR</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">ekern_content</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">ekern_content</span>

        <span class="n">reduced_content</span> <span class="o">=</span> <span class="n">ekern_content</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">DECORATION_SEPARATOR</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">reduced_content</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">TOKEN_SEPARATOR</span><span class="p">):</span>
            <span class="n">reduced_content</span> <span class="o">=</span> <span class="n">reduced_content</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

        <span class="k">return</span> <span class="n">reduced_content</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="kernpy.BekernTokenizer.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="p">,</span> <span class="n">token_categories</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Create a new BekernTokenizer</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>token_categories</code></td>
            <td>
                  <code><span title="typing.Set">Set</span>[<a class="autorefs autorefs-internal" title="kernpy.core.gkern.TokenCategory" href="#kernpy.core.TokenCategory">TokenCategory</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List of categories to be tokenized. If None will raise an exception.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokenizers.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">token_categories</span><span class="p">:</span> <span class="n">Set</span><span class="p">[</span><span class="s1">&#39;TokenCategory&#39;</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Create a new BekernTokenizer</span>

<span class="sd">    Args:</span>
<span class="sd">        token_categories (Set[TokenCategory]): List of categories to be tokenized. If None will raise an exception.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">token_categories</span><span class="o">=</span><span class="n">token_categories</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.BekernTokenizer.tokenize" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">tokenize</span><span class="p">(</span><span class="n">token</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Tokenize a token into a bekern string representation.
Args:
    token (Token): Token to be tokenized.</p>
<p>Returns (str): bekern string representation.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">token</span><span class="o">.</span><span class="n">encoding</span>
<span class="go">&#39;2@.@bb@-·_·L&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">BekernTokenizer</span><span class="p">()</span><span class="o">.</span><span class="n">tokenize</span><span class="p">(</span><span class="n">token</span><span class="p">)</span>
<span class="go">&#39;2@.@bb@-&#39;</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokenizers.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">tokenize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">token</span><span class="p">:</span> <span class="n">Token</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Tokenize a token into a bekern string representation.</span>
<span class="sd">    Args:</span>
<span class="sd">        token (Token): Token to be tokenized.</span>

<span class="sd">    Returns (str): bekern string representation.</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; token.encoding</span>
<span class="sd">        &#39;2@.@bb@-·_·L&#39;</span>
<span class="sd">        &gt;&gt;&gt; BekernTokenizer().tokenize(token)</span>
<span class="sd">        &#39;2@.@bb@-&#39;</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">ekern_content</span> <span class="o">=</span> <span class="n">token</span><span class="o">.</span><span class="n">export</span><span class="p">(</span><span class="n">filter_categories</span><span class="o">=</span><span class="k">lambda</span> <span class="n">cat</span><span class="p">:</span> <span class="n">cat</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">token_categories</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">DECORATION_SEPARATOR</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">ekern_content</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">ekern_content</span>

    <span class="n">reduced_content</span> <span class="o">=</span> <span class="n">ekern_content</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">DECORATION_SEPARATOR</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">reduced_content</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">TOKEN_SEPARATOR</span><span class="p">):</span>
        <span class="n">reduced_content</span> <span class="o">=</span> <span class="n">reduced_content</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

    <span class="k">return</span> <span class="n">reduced_content</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="kernpy.BkernTokenizer" class="doc doc-heading">
            <code>BkernTokenizer</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="kernpy.core.tokenizers.Tokenizer" href="#kernpy.core.Tokenizer">Tokenizer</a></code></p>


        <p>BkernTokenizer converts a Token into a bkern (Basic <strong>kern) string representation. This format use     the main tokens but not the decorations tokens. This format is a lightweight version of the classic
Humdrum </strong>kern format.</p>

              <details class="quote">
                <summary>Source code in <code>kernpy/core/tokenizers.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">BkernTokenizer</span><span class="p">(</span><span class="n">Tokenizer</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    BkernTokenizer converts a Token into a bkern (Basic **kern) string representation. This format use \</span>
<span class="sd">    the main tokens but not the decorations tokens. This format is a lightweight version of the classic</span>
<span class="sd">    Humdrum **kern format.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">token_categories</span><span class="p">:</span> <span class="n">Set</span><span class="p">[</span><span class="s1">&#39;TokenCategory&#39;</span><span class="p">]):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Create a new BkernTokenizer</span>

<span class="sd">        Args:</span>
<span class="sd">            token_categories (Set[TokenCategory]): List of categories to be tokenized. If None will raise an exception.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">token_categories</span><span class="o">=</span><span class="n">token_categories</span><span class="p">)</span>


    <span class="k">def</span><span class="w"> </span><span class="nf">tokenize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">token</span><span class="p">:</span> <span class="n">Token</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Tokenize a token into a bkern string representation.</span>
<span class="sd">        Args:</span>
<span class="sd">            token (Token): Token to be tokenized.</span>

<span class="sd">        Returns (str): bkern string representation.</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; token.encoding</span>
<span class="sd">            &#39;2@.@bb@-·_·L&#39;</span>
<span class="sd">            &gt;&gt;&gt; BkernTokenizer().tokenize(token)</span>
<span class="sd">            &#39;2.bb-&#39;</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">BekernTokenizer</span><span class="p">(</span><span class="n">token_categories</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">token_categories</span><span class="p">)</span><span class="o">.</span><span class="n">tokenize</span><span class="p">(</span><span class="n">token</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">TOKEN_SEPARATOR</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="kernpy.BkernTokenizer.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="p">,</span> <span class="n">token_categories</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Create a new BkernTokenizer</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>token_categories</code></td>
            <td>
                  <code><span title="typing.Set">Set</span>[<a class="autorefs autorefs-internal" title="kernpy.core.gkern.TokenCategory" href="#kernpy.core.TokenCategory">TokenCategory</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List of categories to be tokenized. If None will raise an exception.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokenizers.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">token_categories</span><span class="p">:</span> <span class="n">Set</span><span class="p">[</span><span class="s1">&#39;TokenCategory&#39;</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Create a new BkernTokenizer</span>

<span class="sd">    Args:</span>
<span class="sd">        token_categories (Set[TokenCategory]): List of categories to be tokenized. If None will raise an exception.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">token_categories</span><span class="o">=</span><span class="n">token_categories</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.BkernTokenizer.tokenize" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">tokenize</span><span class="p">(</span><span class="n">token</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Tokenize a token into a bkern string representation.
Args:
    token (Token): Token to be tokenized.</p>
<p>Returns (str): bkern string representation.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">token</span><span class="o">.</span><span class="n">encoding</span>
<span class="go">&#39;2@.@bb@-·_·L&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">BkernTokenizer</span><span class="p">()</span><span class="o">.</span><span class="n">tokenize</span><span class="p">(</span><span class="n">token</span><span class="p">)</span>
<span class="go">&#39;2.bb-&#39;</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokenizers.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">tokenize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">token</span><span class="p">:</span> <span class="n">Token</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Tokenize a token into a bkern string representation.</span>
<span class="sd">    Args:</span>
<span class="sd">        token (Token): Token to be tokenized.</span>

<span class="sd">    Returns (str): bkern string representation.</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; token.encoding</span>
<span class="sd">        &#39;2@.@bb@-·_·L&#39;</span>
<span class="sd">        &gt;&gt;&gt; BkernTokenizer().tokenize(token)</span>
<span class="sd">        &#39;2.bb-&#39;</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">BekernTokenizer</span><span class="p">(</span><span class="n">token_categories</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">token_categories</span><span class="p">)</span><span class="o">.</span><span class="n">tokenize</span><span class="p">(</span><span class="n">token</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">TOKEN_SEPARATOR</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="kernpy.C1Clef" class="doc doc-heading">
            <code>C1Clef</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="kernpy.core.gkern.Clef" href="#kernpy.core.Clef">Clef</a></code></p>


              <details class="quote">
                <summary>Source code in <code>kernpy/core/gkern.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">C1Clef</span><span class="p">(</span><span class="n">Clef</span><span class="p">):</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initializes the C Clef object.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">DiatonicPitch</span><span class="p">(</span><span class="s1">&#39;C&#39;</span><span class="p">),</span> <span class="mi">1</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">bottom_line</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AgnosticPitch</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the pitch of the bottom line of the staff.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">AgnosticPitch</span><span class="p">(</span><span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="kernpy.C1Clef.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Initializes the C Clef object.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/gkern.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Initializes the C Clef object.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">DiatonicPitch</span><span class="p">(</span><span class="s1">&#39;C&#39;</span><span class="p">),</span> <span class="mi">1</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.C1Clef.bottom_line" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">bottom_line</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Returns the pitch of the bottom line of the staff.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/gkern.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">bottom_line</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AgnosticPitch</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns the pitch of the bottom line of the staff.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">AgnosticPitch</span><span class="p">(</span><span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="kernpy.C2Clef" class="doc doc-heading">
            <code>C2Clef</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="kernpy.core.gkern.Clef" href="#kernpy.core.Clef">Clef</a></code></p>


              <details class="quote">
                <summary>Source code in <code>kernpy/core/gkern.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">C2Clef</span><span class="p">(</span><span class="n">Clef</span><span class="p">):</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initializes the C Clef object.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">DiatonicPitch</span><span class="p">(</span><span class="s1">&#39;A&#39;</span><span class="p">),</span> <span class="mi">2</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">bottom_line</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AgnosticPitch</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the pitch of the bottom line of the staff.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">AgnosticPitch</span><span class="p">(</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="kernpy.C2Clef.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Initializes the C Clef object.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/gkern.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Initializes the C Clef object.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">DiatonicPitch</span><span class="p">(</span><span class="s1">&#39;A&#39;</span><span class="p">),</span> <span class="mi">2</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.C2Clef.bottom_line" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">bottom_line</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Returns the pitch of the bottom line of the staff.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/gkern.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">bottom_line</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AgnosticPitch</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns the pitch of the bottom line of the staff.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">AgnosticPitch</span><span class="p">(</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="kernpy.C3Clef" class="doc doc-heading">
            <code>C3Clef</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="kernpy.core.gkern.Clef" href="#kernpy.core.Clef">Clef</a></code></p>


              <details class="quote">
                <summary>Source code in <code>kernpy/core/gkern.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">C3Clef</span><span class="p">(</span><span class="n">Clef</span><span class="p">):</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initializes the C Clef object.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">DiatonicPitch</span><span class="p">(</span><span class="s1">&#39;C&#39;</span><span class="p">),</span> <span class="mi">3</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">bottom_line</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AgnosticPitch</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the pitch of the bottom line of the staff.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">AgnosticPitch</span><span class="p">(</span><span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="kernpy.C3Clef.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Initializes the C Clef object.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/gkern.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Initializes the C Clef object.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">DiatonicPitch</span><span class="p">(</span><span class="s1">&#39;C&#39;</span><span class="p">),</span> <span class="mi">3</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.C3Clef.bottom_line" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">bottom_line</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Returns the pitch of the bottom line of the staff.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/gkern.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">bottom_line</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AgnosticPitch</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns the pitch of the bottom line of the staff.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">AgnosticPitch</span><span class="p">(</span><span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="kernpy.C4Clef" class="doc doc-heading">
            <code>C4Clef</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="kernpy.core.gkern.Clef" href="#kernpy.core.Clef">Clef</a></code></p>


              <details class="quote">
                <summary>Source code in <code>kernpy/core/gkern.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">C4Clef</span><span class="p">(</span><span class="n">Clef</span><span class="p">):</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initializes the C Clef object.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">DiatonicPitch</span><span class="p">(</span><span class="s1">&#39;C&#39;</span><span class="p">),</span> <span class="mi">4</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">bottom_line</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AgnosticPitch</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the pitch of the bottom line of the staff.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">AgnosticPitch</span><span class="p">(</span><span class="s1">&#39;D&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="kernpy.C4Clef.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Initializes the C Clef object.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/gkern.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Initializes the C Clef object.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">DiatonicPitch</span><span class="p">(</span><span class="s1">&#39;C&#39;</span><span class="p">),</span> <span class="mi">4</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.C4Clef.bottom_line" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">bottom_line</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Returns the pitch of the bottom line of the staff.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/gkern.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">bottom_line</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AgnosticPitch</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns the pitch of the bottom line of the staff.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">AgnosticPitch</span><span class="p">(</span><span class="s1">&#39;D&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="kernpy.Clef" class="doc doc-heading">
            <code>Clef</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="abc.ABC">ABC</span></code></p>


        <p>Abstract class representing a clef.</p>

              <details class="quote">
                <summary>Source code in <code>kernpy/core/gkern.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">Clef</span><span class="p">(</span><span class="n">ABC</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Abstract class representing a clef.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">diatonic_pitch</span><span class="p">:</span> <span class="n">DiatonicPitch</span><span class="p">,</span> <span class="n">on_line</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initializes the Clef object.</span>
<span class="sd">        Args:</span>
<span class="sd">            diatonic_pitch (DiatonicPitch): The diatonic pitch of the clef (e.g., &#39;C&#39;, &#39;G&#39;, &#39;F&#39;). This value is used as a decorator.</span>
<span class="sd">            on_line (int): The line number on which the clef is placed (1 for bottom line, 2 for 1st line from bottom, etc.). This value is used as a decorator.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">diatonic_pitch</span> <span class="o">=</span> <span class="n">diatonic_pitch</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">on_line</span> <span class="o">=</span> <span class="n">on_line</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">bottom_line</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AgnosticPitch</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the pitch of the bottom line of the staff.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="o">...</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">name</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the name of the clef.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">diatonic_pitch</span><span class="si">}</span><span class="s2"> on line </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">on_line</span><span class="si">}</span><span class="s2">&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">reference_point</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PitchPositionReferenceSystem</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the reference point for the clef.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">PitchPositionReferenceSystem</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">bottom_line</span><span class="p">())</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns:</span>
<span class="sd">            str: The string representation of the clef.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">diatonic_pitch</span><span class="o">.</span><span class="n">encoding</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span><span class="si">}</span><span class="s1"> on the </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">on_line</span><span class="si">}{</span><span class="bp">self</span><span class="o">.</span><span class="n">_ordinal_suffix</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">on_line</span><span class="p">)</span><span class="si">}</span><span class="s1"> line&#39;</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_ordinal_suffix</span><span class="p">(</span><span class="n">number</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the ordinal suffix for a given integer (e.g. &#39;st&#39;, &#39;nd&#39;, &#39;rd&#39;, &#39;th&#39;).</span>

<span class="sd">        Args:</span>
<span class="sd">            number (int): The number to get the suffix for.</span>

<span class="sd">        Returns:</span>
<span class="sd">            str: The ordinal suffix.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># 11, 12, 13 always take “th”</span>
        <span class="k">if</span> <span class="mi">11</span> <span class="o">&lt;=</span> <span class="p">(</span><span class="n">number</span> <span class="o">%</span> <span class="mi">100</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mi">13</span><span class="p">:</span>
            <span class="k">return</span> <span class="s1">&#39;th&#39;</span>
        <span class="c1"># otherwise use last digit</span>
        <span class="n">last</span> <span class="o">=</span> <span class="n">number</span> <span class="o">%</span> <span class="mi">10</span>
        <span class="k">if</span> <span class="n">last</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">return</span> <span class="s1">&#39;st&#39;</span>
        <span class="k">elif</span> <span class="n">last</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
            <span class="k">return</span> <span class="s1">&#39;nd&#39;</span>
        <span class="k">elif</span> <span class="n">last</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
            <span class="k">return</span> <span class="s1">&#39;rd&#39;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="s1">&#39;th&#39;</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="kernpy.Clef.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">diatonic_pitch</span><span class="p">,</span> <span class="n">on_line</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Initializes the Clef object.
Args:
    diatonic_pitch (DiatonicPitch): The diatonic pitch of the clef (e.g., 'C', 'G', 'F'). This value is used as a decorator.
    on_line (int): The line number on which the clef is placed (1 for bottom line, 2 for 1st line from bottom, etc.). This value is used as a decorator.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/gkern.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">diatonic_pitch</span><span class="p">:</span> <span class="n">DiatonicPitch</span><span class="p">,</span> <span class="n">on_line</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Initializes the Clef object.</span>
<span class="sd">    Args:</span>
<span class="sd">        diatonic_pitch (DiatonicPitch): The diatonic pitch of the clef (e.g., &#39;C&#39;, &#39;G&#39;, &#39;F&#39;). This value is used as a decorator.</span>
<span class="sd">        on_line (int): The line number on which the clef is placed (1 for bottom line, 2 for 1st line from bottom, etc.). This value is used as a decorator.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">diatonic_pitch</span> <span class="o">=</span> <span class="n">diatonic_pitch</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">on_line</span> <span class="o">=</span> <span class="n">on_line</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.Clef.__str__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__str__</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">



    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>str</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The string representation of the clef.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/gkern.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns:</span>
<span class="sd">        str: The string representation of the clef.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">diatonic_pitch</span><span class="o">.</span><span class="n">encoding</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span><span class="si">}</span><span class="s1"> on the </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">on_line</span><span class="si">}{</span><span class="bp">self</span><span class="o">.</span><span class="n">_ordinal_suffix</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">on_line</span><span class="p">)</span><span class="si">}</span><span class="s1"> line&#39;</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.Clef.bottom_line" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">bottom_line</span><span class="p">()</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-abstractmethod"><code>abstractmethod</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>Returns the pitch of the bottom line of the staff.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/gkern.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">bottom_line</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AgnosticPitch</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns the pitch of the bottom line of the staff.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="o">...</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.Clef.name" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">name</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Returns the name of the clef.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/gkern.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">name</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns the name of the clef.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">diatonic_pitch</span><span class="si">}</span><span class="s2"> on line </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">on_line</span><span class="si">}</span><span class="s2">&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.Clef.reference_point" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">reference_point</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Returns the reference point for the clef.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/gkern.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">reference_point</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PitchPositionReferenceSystem</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns the reference point for the clef.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">PitchPositionReferenceSystem</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">bottom_line</span><span class="p">())</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="kernpy.ClefFactory" class="doc doc-heading">
            <code>ClefFactory</code>


</h2>


    <div class="doc doc-contents ">


              <details class="quote">
                <summary>Source code in <code>kernpy/core/gkern.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span>
<span class="normal">475</span>
<span class="normal">476</span>
<span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span>
<span class="normal">485</span>
<span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span>
<span class="normal">489</span>
<span class="normal">490</span>
<span class="normal">491</span>
<span class="normal">492</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">ClefFactory</span><span class="p">:</span>
    <span class="n">CLEF_NAMES</span> <span class="o">=</span> <span class="p">{</span> <span class="s1">&#39;G&#39;</span><span class="p">,</span> <span class="s1">&#39;F&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span> <span class="p">}</span>
    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">create_clef</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">encoding</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Clef</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates a Clef object based on the given token.</span>

<span class="sd">        Clefs are encoded in interpretation tokens that start with a single * followed by the string clef and then the shape and line position of the clef. For example, a treble clef is *clefG2, with G meaning a G-clef, and 2 meaning that the clef is centered on the second line up from the bottom of the staff. The bass clef is *clefF4 since it is an F-clef on the fourth line of the staff.</span>
<span class="sd">        A vocal tenor clef is represented by *clefGv2, where the v means the music should be played an octave lower than the regular clef’s sounding pitches. Try creating a vocal tenor clef in the above interactive example. The v operator also works on the other clefs (but these sorts of clefs are very rare). Another rare clef is *clefG^2 which is the opposite of *clefGv2, where the music is written an octave lower than actually sounding pitch for the normal form of the clef. You can also try to create exotic two-octave clefs by doubling the ^^ and vv markers.</span>

<span class="sd">        Args:</span>
<span class="sd">            encoding (str): The encoding of the clef token.</span>

<span class="sd">        Returns:</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">encoding</span> <span class="o">=</span> <span class="n">encoding</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;*clef&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>

        <span class="c1"># at this point the encoding is like G2, F4,... or Gv2, F^4,... or G^^2, Fvv4,... or G^^...^^2, Fvvv4,...</span>
        <span class="n">name</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="ow">in</span> <span class="bp">cls</span><span class="o">.</span><span class="n">CLEF_NAMES</span><span class="p">,</span> <span class="n">encoding</span><span class="p">))[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">line</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">isdigit</span><span class="p">(),</span> <span class="n">encoding</span><span class="p">))[</span><span class="mi">0</span><span class="p">])</span>
        <span class="n">decorators</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;^&#39;</span><span class="p">,</span> <span class="s1">&#39;v&#39;</span><span class="p">],</span> <span class="n">encoding</span><span class="p">))</span>

        <span class="k">if</span> <span class="n">name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">cls</span><span class="o">.</span><span class="n">CLEF_NAMES</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Invalid clef name: </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">. Expected one of </span><span class="si">{</span><span class="bp">cls</span><span class="o">.</span><span class="n">CLEF_NAMES</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">name</span> <span class="o">==</span> <span class="s1">&#39;G&#39;</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">GClef</span><span class="p">()</span>
        <span class="k">elif</span> <span class="n">name</span> <span class="o">==</span> <span class="s1">&#39;F&#39;</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">line</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">F3Clef</span><span class="p">()</span>
            <span class="k">elif</span> <span class="n">line</span> <span class="o">==</span> <span class="mi">4</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">F4Clef</span><span class="p">()</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Invalid F clef line: </span><span class="si">{</span><span class="n">line</span><span class="si">}</span><span class="s2">. Expected 3 or 4.&quot;</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">name</span> <span class="o">==</span> <span class="s1">&#39;C&#39;</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">line</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">C1Clef</span><span class="p">()</span>
            <span class="k">elif</span> <span class="n">line</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">C2Clef</span><span class="p">()</span>
            <span class="k">elif</span> <span class="n">line</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">C3Clef</span><span class="p">()</span>
            <span class="k">elif</span> <span class="n">line</span> <span class="o">==</span> <span class="mi">4</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">C4Clef</span><span class="p">()</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Invalid C clef line: </span><span class="si">{</span><span class="n">line</span><span class="si">}</span><span class="s2">. Expected 1, 2, 3 or 4.&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Invalid clef name: </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">. Expected one of </span><span class="si">{</span><span class="bp">cls</span><span class="o">.</span><span class="n">CLEF_NAMES</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="kernpy.ClefFactory.create_clef" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">create_clef</span><span class="p">(</span><span class="n">encoding</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>Creates a Clef object based on the given token.</p>
<p>Clefs are encoded in interpretation tokens that start with a single * followed by the string clef and then the shape and line position of the clef. For example, a treble clef is <em>clefG2, with G meaning a G-clef, and 2 meaning that the clef is centered on the second line up from the bottom of the staff. The bass clef is </em>clefF4 since it is an F-clef on the fourth line of the staff.
A vocal tenor clef is represented by <em>clefGv2, where the v means the music should be played an octave lower than the regular clef’s sounding pitches. Try creating a vocal tenor clef in the above interactive example. The v operator also works on the other clefs (but these sorts of clefs are very rare). Another rare clef is </em>clefG^2 which is the opposite of *clefGv2, where the music is written an octave lower than actually sounding pitch for the normal form of the clef. You can also try to create exotic two-octave clefs by doubling the ^^ and vv markers.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>encoding</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The encoding of the clef token.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns:</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/gkern.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span>
<span class="normal">475</span>
<span class="normal">476</span>
<span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span>
<span class="normal">485</span>
<span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span>
<span class="normal">489</span>
<span class="normal">490</span>
<span class="normal">491</span>
<span class="normal">492</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">create_clef</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">encoding</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Clef</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Creates a Clef object based on the given token.</span>

<span class="sd">    Clefs are encoded in interpretation tokens that start with a single * followed by the string clef and then the shape and line position of the clef. For example, a treble clef is *clefG2, with G meaning a G-clef, and 2 meaning that the clef is centered on the second line up from the bottom of the staff. The bass clef is *clefF4 since it is an F-clef on the fourth line of the staff.</span>
<span class="sd">    A vocal tenor clef is represented by *clefGv2, where the v means the music should be played an octave lower than the regular clef’s sounding pitches. Try creating a vocal tenor clef in the above interactive example. The v operator also works on the other clefs (but these sorts of clefs are very rare). Another rare clef is *clefG^2 which is the opposite of *clefGv2, where the music is written an octave lower than actually sounding pitch for the normal form of the clef. You can also try to create exotic two-octave clefs by doubling the ^^ and vv markers.</span>

<span class="sd">    Args:</span>
<span class="sd">        encoding (str): The encoding of the clef token.</span>

<span class="sd">    Returns:</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">encoding</span> <span class="o">=</span> <span class="n">encoding</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;*clef&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>

    <span class="c1"># at this point the encoding is like G2, F4,... or Gv2, F^4,... or G^^2, Fvv4,... or G^^...^^2, Fvvv4,...</span>
    <span class="n">name</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="ow">in</span> <span class="bp">cls</span><span class="o">.</span><span class="n">CLEF_NAMES</span><span class="p">,</span> <span class="n">encoding</span><span class="p">))[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">line</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">isdigit</span><span class="p">(),</span> <span class="n">encoding</span><span class="p">))[</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">decorators</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;^&#39;</span><span class="p">,</span> <span class="s1">&#39;v&#39;</span><span class="p">],</span> <span class="n">encoding</span><span class="p">))</span>

    <span class="k">if</span> <span class="n">name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">cls</span><span class="o">.</span><span class="n">CLEF_NAMES</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Invalid clef name: </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">. Expected one of </span><span class="si">{</span><span class="bp">cls</span><span class="o">.</span><span class="n">CLEF_NAMES</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">name</span> <span class="o">==</span> <span class="s1">&#39;G&#39;</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">GClef</span><span class="p">()</span>
    <span class="k">elif</span> <span class="n">name</span> <span class="o">==</span> <span class="s1">&#39;F&#39;</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">line</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">F3Clef</span><span class="p">()</span>
        <span class="k">elif</span> <span class="n">line</span> <span class="o">==</span> <span class="mi">4</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">F4Clef</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Invalid F clef line: </span><span class="si">{</span><span class="n">line</span><span class="si">}</span><span class="s2">. Expected 3 or 4.&quot;</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">name</span> <span class="o">==</span> <span class="s1">&#39;C&#39;</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">line</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">C1Clef</span><span class="p">()</span>
        <span class="k">elif</span> <span class="n">line</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">C2Clef</span><span class="p">()</span>
        <span class="k">elif</span> <span class="n">line</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">C3Clef</span><span class="p">()</span>
        <span class="k">elif</span> <span class="n">line</span> <span class="o">==</span> <span class="mi">4</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">C4Clef</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Invalid C clef line: </span><span class="si">{</span><span class="n">line</span><span class="si">}</span><span class="s2">. Expected 1, 2, 3 or 4.&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Invalid clef name: </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">. Expected one of </span><span class="si">{</span><span class="bp">cls</span><span class="o">.</span><span class="n">CLEF_NAMES</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="kernpy.ComplexToken" class="doc doc-heading">
            <code>ComplexToken</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="kernpy.core.tokens.Token" href="#kernpy.core.Token">Token</a></code>, <code><span title="abc.ABC">ABC</span></code></p>


        <p>Abstract ComplexToken class. This abstract class ensures that the subclasses implement the export method using     the 'filter_categories' parameter to filter the subtokens.</p>
<p>Passing the argument 'filter_categories' by **kwargs don't break the compatibility with parent classes.</p>
<p>Here we're trying to get the Liskov substitution principle done...</p>

              <details class="quote">
                <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1708</span>
<span class="normal">1709</span>
<span class="normal">1710</span>
<span class="normal">1711</span>
<span class="normal">1712</span>
<span class="normal">1713</span>
<span class="normal">1714</span>
<span class="normal">1715</span>
<span class="normal">1716</span>
<span class="normal">1717</span>
<span class="normal">1718</span>
<span class="normal">1719</span>
<span class="normal">1720</span>
<span class="normal">1721</span>
<span class="normal">1722</span>
<span class="normal">1723</span>
<span class="normal">1724</span>
<span class="normal">1725</span>
<span class="normal">1726</span>
<span class="normal">1727</span>
<span class="normal">1728</span>
<span class="normal">1729</span>
<span class="normal">1730</span>
<span class="normal">1731</span>
<span class="normal">1732</span>
<span class="normal">1733</span>
<span class="normal">1734</span>
<span class="normal">1735</span>
<span class="normal">1736</span>
<span class="normal">1737</span>
<span class="normal">1738</span>
<span class="normal">1739</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">ComplexToken</span><span class="p">(</span><span class="n">Token</span><span class="p">,</span> <span class="n">ABC</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Abstract ComplexToken class. This abstract class ensures that the subclasses implement the export method using\</span>
<span class="sd">     the &#39;filter_categories&#39; parameter to filter the subtokens.</span>

<span class="sd">     Passing the argument &#39;filter_categories&#39; by **kwargs don&#39;t break the compatibility with parent classes.</span>

<span class="sd">     Here we&#39;re trying to get the Liskov substitution principle done...</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">encoding</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">category</span><span class="p">:</span> <span class="n">TokenCategory</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Constructor for the ComplexToken</span>

<span class="sd">        Args:</span>
<span class="sd">            encoding (str): The original representation of the token.</span>
<span class="sd">            category (TokenCategory) : The category of the token.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">encoding</span><span class="p">,</span> <span class="n">category</span><span class="p">)</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">export</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Exports the token.</span>

<span class="sd">        Keyword Arguments:</span>
<span class="sd">            filter_categories (Optional[Callable[[TokenCategory], bool]]): A function that takes a TokenCategory and returns a boolean</span>
<span class="sd">                indicating whether the token should be included in the export. If provided, only tokens for which the</span>
<span class="sd">                function returns True will be exported. Defaults to None. If None, all tokens will be exported.</span>

<span class="sd">        Returns (str): The exported token.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">pass</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="kernpy.ComplexToken.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">encoding</span><span class="p">,</span> <span class="n">category</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Constructor for the ComplexToken</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>encoding</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The original representation of the token.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>category</code></td>
            <td>
                  <code>TokenCategory) </code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The category of the token.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1717</span>
<span class="normal">1718</span>
<span class="normal">1719</span>
<span class="normal">1720</span>
<span class="normal">1721</span>
<span class="normal">1722</span>
<span class="normal">1723</span>
<span class="normal">1724</span>
<span class="normal">1725</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">encoding</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">category</span><span class="p">:</span> <span class="n">TokenCategory</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Constructor for the ComplexToken</span>

<span class="sd">    Args:</span>
<span class="sd">        encoding (str): The original representation of the token.</span>
<span class="sd">        category (TokenCategory) : The category of the token.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">encoding</span><span class="p">,</span> <span class="n">category</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.ComplexToken.export" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">export</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-abstractmethod"><code>abstractmethod</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>Exports the token.</p>


<p><span class="doc-section-title">Other Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>filter_categories</code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[Callable[[<a class="autorefs autorefs-internal" title="kernpy.core.tokens.TokenCategory" href="#kernpy.core.TokenCategory">TokenCategory</a>], bool]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A function that takes a TokenCategory and returns a boolean
indicating whether the token should be included in the export. If provided, only tokens for which the
function returns True will be exported. Defaults to None. If None, all tokens will be exported.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns (str): The exported token.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1727</span>
<span class="normal">1728</span>
<span class="normal">1729</span>
<span class="normal">1730</span>
<span class="normal">1731</span>
<span class="normal">1732</span>
<span class="normal">1733</span>
<span class="normal">1734</span>
<span class="normal">1735</span>
<span class="normal">1736</span>
<span class="normal">1737</span>
<span class="normal">1738</span>
<span class="normal">1739</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">export</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Exports the token.</span>

<span class="sd">    Keyword Arguments:</span>
<span class="sd">        filter_categories (Optional[Callable[[TokenCategory], bool]]): A function that takes a TokenCategory and returns a boolean</span>
<span class="sd">            indicating whether the token should be included in the export. If provided, only tokens for which the</span>
<span class="sd">            function returns True will be exported. Defaults to None. If None, all tokens will be exported.</span>

<span class="sd">    Returns (str): The exported token.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">pass</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="kernpy.CompoundToken" class="doc doc-heading">
            <code>CompoundToken</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="kernpy.core.tokens.ComplexToken" href="#kernpy.core.ComplexToken">ComplexToken</a></code></p>


              <details class="quote">
                <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1742</span>
<span class="normal">1743</span>
<span class="normal">1744</span>
<span class="normal">1745</span>
<span class="normal">1746</span>
<span class="normal">1747</span>
<span class="normal">1748</span>
<span class="normal">1749</span>
<span class="normal">1750</span>
<span class="normal">1751</span>
<span class="normal">1752</span>
<span class="normal">1753</span>
<span class="normal">1754</span>
<span class="normal">1755</span>
<span class="normal">1756</span>
<span class="normal">1757</span>
<span class="normal">1758</span>
<span class="normal">1759</span>
<span class="normal">1760</span>
<span class="normal">1761</span>
<span class="normal">1762</span>
<span class="normal">1763</span>
<span class="normal">1764</span>
<span class="normal">1765</span>
<span class="normal">1766</span>
<span class="normal">1767</span>
<span class="normal">1768</span>
<span class="normal">1769</span>
<span class="normal">1770</span>
<span class="normal">1771</span>
<span class="normal">1772</span>
<span class="normal">1773</span>
<span class="normal">1774</span>
<span class="normal">1775</span>
<span class="normal">1776</span>
<span class="normal">1777</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">CompoundToken</span><span class="p">(</span><span class="n">ComplexToken</span><span class="p">):</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">encoding</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">category</span><span class="p">:</span> <span class="n">TokenCategory</span><span class="p">,</span> <span class="n">subtokens</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Subtoken</span><span class="p">]):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Args:</span>
<span class="sd">            encoding (str): The complete unprocessed encoding</span>
<span class="sd">            category (TokenCategory): The token category, one of &#39;TokenCategory&#39;</span>
<span class="sd">            subtokens (List[Subtoken]): The individual elements of the token. Also of type &#39;TokenCategory&#39; but \</span>
<span class="sd">                in the hierarchy they must be children of the current token.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">encoding</span><span class="p">,</span> <span class="n">category</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">subtoken</span> <span class="ow">in</span> <span class="n">subtokens</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">subtoken</span><span class="p">,</span> <span class="n">Subtoken</span><span class="p">):</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;All subtokens must be instances of Subtoken. Found </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">subtoken</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">subtokens</span> <span class="o">=</span> <span class="n">subtokens</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">export</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Exports the token.</span>

<span class="sd">        Keyword Arguments:</span>
<span class="sd">            filter_categories (Optional[Callable[[TokenCategory], bool]]): A function that takes a TokenCategory and returns a boolean</span>
<span class="sd">                indicating whether the token should be included in the export. If provided, only tokens for which the</span>
<span class="sd">                function returns True will be exported. Defaults to None. If None, all tokens will be exported.</span>

<span class="sd">        Returns (str): The exported token.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">filter_categories_fn</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;filter_categories&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="n">parts</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">subtoken</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">subtokens</span><span class="p">:</span>
            <span class="c1"># Only export the subtoken if it passes the filter_categories (if provided)</span>
            <span class="k">if</span> <span class="n">filter_categories_fn</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">filter_categories_fn</span><span class="p">(</span><span class="n">subtoken</span><span class="o">.</span><span class="n">category</span><span class="p">):</span>
                <span class="c1"># parts.append(subtoken.export(**kwargs)) in the future when SubTokens will be Tokens</span>
                <span class="n">parts</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">subtoken</span><span class="o">.</span><span class="n">encoding</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">TOKEN_SEPARATOR</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">parts</span><span class="p">)</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">parts</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="k">else</span> <span class="n">EMPTY_TOKEN</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="kernpy.CompoundToken.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">encoding</span><span class="p">,</span> <span class="n">category</span><span class="p">,</span> <span class="n">subtokens</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">



<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>encoding</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The complete unprocessed encoding</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>category</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.tokens.TokenCategory" href="#kernpy.core.TokenCategory">TokenCategory</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The token category, one of 'TokenCategory'</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>subtokens</code></td>
            <td>
                  <code><span title="typing.List">List</span>[<a class="autorefs autorefs-internal" title="kernpy.core.tokens.Subtoken" href="#kernpy.core.Subtoken">Subtoken</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The individual elements of the token. Also of type 'TokenCategory' but                 in the hierarchy they must be children of the current token.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1743</span>
<span class="normal">1744</span>
<span class="normal">1745</span>
<span class="normal">1746</span>
<span class="normal">1747</span>
<span class="normal">1748</span>
<span class="normal">1749</span>
<span class="normal">1750</span>
<span class="normal">1751</span>
<span class="normal">1752</span>
<span class="normal">1753</span>
<span class="normal">1754</span>
<span class="normal">1755</span>
<span class="normal">1756</span>
<span class="normal">1757</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">encoding</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">category</span><span class="p">:</span> <span class="n">TokenCategory</span><span class="p">,</span> <span class="n">subtokens</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Subtoken</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Args:</span>
<span class="sd">        encoding (str): The complete unprocessed encoding</span>
<span class="sd">        category (TokenCategory): The token category, one of &#39;TokenCategory&#39;</span>
<span class="sd">        subtokens (List[Subtoken]): The individual elements of the token. Also of type &#39;TokenCategory&#39; but \</span>
<span class="sd">            in the hierarchy they must be children of the current token.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">encoding</span><span class="p">,</span> <span class="n">category</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">subtoken</span> <span class="ow">in</span> <span class="n">subtokens</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">subtoken</span><span class="p">,</span> <span class="n">Subtoken</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;All subtokens must be instances of Subtoken. Found </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">subtoken</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">subtokens</span> <span class="o">=</span> <span class="n">subtokens</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.CompoundToken.export" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">export</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Exports the token.</p>


<p><span class="doc-section-title">Other Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>filter_categories</code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[Callable[[<a class="autorefs autorefs-internal" title="kernpy.core.tokens.TokenCategory" href="#kernpy.core.TokenCategory">TokenCategory</a>], bool]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A function that takes a TokenCategory and returns a boolean
indicating whether the token should be included in the export. If provided, only tokens for which the
function returns True will be exported. Defaults to None. If None, all tokens will be exported.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns (str): The exported token.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1759</span>
<span class="normal">1760</span>
<span class="normal">1761</span>
<span class="normal">1762</span>
<span class="normal">1763</span>
<span class="normal">1764</span>
<span class="normal">1765</span>
<span class="normal">1766</span>
<span class="normal">1767</span>
<span class="normal">1768</span>
<span class="normal">1769</span>
<span class="normal">1770</span>
<span class="normal">1771</span>
<span class="normal">1772</span>
<span class="normal">1773</span>
<span class="normal">1774</span>
<span class="normal">1775</span>
<span class="normal">1776</span>
<span class="normal">1777</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">export</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Exports the token.</span>

<span class="sd">    Keyword Arguments:</span>
<span class="sd">        filter_categories (Optional[Callable[[TokenCategory], bool]]): A function that takes a TokenCategory and returns a boolean</span>
<span class="sd">            indicating whether the token should be included in the export. If provided, only tokens for which the</span>
<span class="sd">            function returns True will be exported. Defaults to None. If None, all tokens will be exported.</span>

<span class="sd">    Returns (str): The exported token.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">filter_categories_fn</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;filter_categories&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="n">parts</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">subtoken</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">subtokens</span><span class="p">:</span>
        <span class="c1"># Only export the subtoken if it passes the filter_categories (if provided)</span>
        <span class="k">if</span> <span class="n">filter_categories_fn</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">filter_categories_fn</span><span class="p">(</span><span class="n">subtoken</span><span class="o">.</span><span class="n">category</span><span class="p">):</span>
            <span class="c1"># parts.append(subtoken.export(**kwargs)) in the future when SubTokens will be Tokens</span>
            <span class="n">parts</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">subtoken</span><span class="o">.</span><span class="n">encoding</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">TOKEN_SEPARATOR</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">parts</span><span class="p">)</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">parts</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="k">else</span> <span class="n">EMPTY_TOKEN</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="kernpy.Document" class="doc doc-heading">
            <code>Document</code>


</h2>


    <div class="doc doc-contents ">


        <p>Document class.</p>
<p>This class store the score content using an agnostic tree structure.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="kernpy.Document.tree">tree</span></code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.document.MultistageTree" href="#kernpy.core.MultistageTree">MultistageTree</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The tree structure of the document where all the nodes are stored.             Each stage of the tree corresponds to a row in the Humdrum **kern file encoding.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="kernpy.Document.measure_start_tree_stages">measure_start_tree_stages</span></code></td>
            <td>
                  <code><span title="typing.List">List</span>[<span title="typing.List">List</span>[<a class="autorefs autorefs-internal" title="kernpy.core.document.Node" href="#kernpy.core.Node">Node</a>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The list of nodes that corresponds to the measures.             Empty list by default.
The index of the list is starting from 1. Rows after removing empty lines and line comments</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="kernpy.Document.page_bounding_boxes">page_bounding_boxes</span></code></td>
            <td>
                  <code><span title="typing.Dict">Dict</span>[int, <a class="autorefs autorefs-internal" title="kernpy.core.document.BoundingBoxMeasures" href="#kernpy.core.BoundingBoxMeasures">BoundingBoxMeasures</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The dictionary of page bounding boxes.             - key: page number
- value: BoundingBoxMeasures object</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="kernpy.Document.header_stage">header_stage</span></code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The index of the stage that contains the headers. None by default.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

              <details class="quote">
                <summary>Source code in <code>kernpy/core/document.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span>
<span class="normal">475</span>
<span class="normal">476</span>
<span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span>
<span class="normal">485</span>
<span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span>
<span class="normal">489</span>
<span class="normal">490</span>
<span class="normal">491</span>
<span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span>
<span class="normal">496</span>
<span class="normal">497</span>
<span class="normal">498</span>
<span class="normal">499</span>
<span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span>
<span class="normal">507</span>
<span class="normal">508</span>
<span class="normal">509</span>
<span class="normal">510</span>
<span class="normal">511</span>
<span class="normal">512</span>
<span class="normal">513</span>
<span class="normal">514</span>
<span class="normal">515</span>
<span class="normal">516</span>
<span class="normal">517</span>
<span class="normal">518</span>
<span class="normal">519</span>
<span class="normal">520</span>
<span class="normal">521</span>
<span class="normal">522</span>
<span class="normal">523</span>
<span class="normal">524</span>
<span class="normal">525</span>
<span class="normal">526</span>
<span class="normal">527</span>
<span class="normal">528</span>
<span class="normal">529</span>
<span class="normal">530</span>
<span class="normal">531</span>
<span class="normal">532</span>
<span class="normal">533</span>
<span class="normal">534</span>
<span class="normal">535</span>
<span class="normal">536</span>
<span class="normal">537</span>
<span class="normal">538</span>
<span class="normal">539</span>
<span class="normal">540</span>
<span class="normal">541</span>
<span class="normal">542</span>
<span class="normal">543</span>
<span class="normal">544</span>
<span class="normal">545</span>
<span class="normal">546</span>
<span class="normal">547</span>
<span class="normal">548</span>
<span class="normal">549</span>
<span class="normal">550</span>
<span class="normal">551</span>
<span class="normal">552</span>
<span class="normal">553</span>
<span class="normal">554</span>
<span class="normal">555</span>
<span class="normal">556</span>
<span class="normal">557</span>
<span class="normal">558</span>
<span class="normal">559</span>
<span class="normal">560</span>
<span class="normal">561</span>
<span class="normal">562</span>
<span class="normal">563</span>
<span class="normal">564</span>
<span class="normal">565</span>
<span class="normal">566</span>
<span class="normal">567</span>
<span class="normal">568</span>
<span class="normal">569</span>
<span class="normal">570</span>
<span class="normal">571</span>
<span class="normal">572</span>
<span class="normal">573</span>
<span class="normal">574</span>
<span class="normal">575</span>
<span class="normal">576</span>
<span class="normal">577</span>
<span class="normal">578</span>
<span class="normal">579</span>
<span class="normal">580</span>
<span class="normal">581</span>
<span class="normal">582</span>
<span class="normal">583</span>
<span class="normal">584</span>
<span class="normal">585</span>
<span class="normal">586</span>
<span class="normal">587</span>
<span class="normal">588</span>
<span class="normal">589</span>
<span class="normal">590</span>
<span class="normal">591</span>
<span class="normal">592</span>
<span class="normal">593</span>
<span class="normal">594</span>
<span class="normal">595</span>
<span class="normal">596</span>
<span class="normal">597</span>
<span class="normal">598</span>
<span class="normal">599</span>
<span class="normal">600</span>
<span class="normal">601</span>
<span class="normal">602</span>
<span class="normal">603</span>
<span class="normal">604</span>
<span class="normal">605</span>
<span class="normal">606</span>
<span class="normal">607</span>
<span class="normal">608</span>
<span class="normal">609</span>
<span class="normal">610</span>
<span class="normal">611</span>
<span class="normal">612</span>
<span class="normal">613</span>
<span class="normal">614</span>
<span class="normal">615</span>
<span class="normal">616</span>
<span class="normal">617</span>
<span class="normal">618</span>
<span class="normal">619</span>
<span class="normal">620</span>
<span class="normal">621</span>
<span class="normal">622</span>
<span class="normal">623</span>
<span class="normal">624</span>
<span class="normal">625</span>
<span class="normal">626</span>
<span class="normal">627</span>
<span class="normal">628</span>
<span class="normal">629</span>
<span class="normal">630</span>
<span class="normal">631</span>
<span class="normal">632</span>
<span class="normal">633</span>
<span class="normal">634</span>
<span class="normal">635</span>
<span class="normal">636</span>
<span class="normal">637</span>
<span class="normal">638</span>
<span class="normal">639</span>
<span class="normal">640</span>
<span class="normal">641</span>
<span class="normal">642</span>
<span class="normal">643</span>
<span class="normal">644</span>
<span class="normal">645</span>
<span class="normal">646</span>
<span class="normal">647</span>
<span class="normal">648</span>
<span class="normal">649</span>
<span class="normal">650</span>
<span class="normal">651</span>
<span class="normal">652</span>
<span class="normal">653</span>
<span class="normal">654</span>
<span class="normal">655</span>
<span class="normal">656</span>
<span class="normal">657</span>
<span class="normal">658</span>
<span class="normal">659</span>
<span class="normal">660</span>
<span class="normal">661</span>
<span class="normal">662</span>
<span class="normal">663</span>
<span class="normal">664</span>
<span class="normal">665</span>
<span class="normal">666</span>
<span class="normal">667</span>
<span class="normal">668</span>
<span class="normal">669</span>
<span class="normal">670</span>
<span class="normal">671</span>
<span class="normal">672</span>
<span class="normal">673</span>
<span class="normal">674</span>
<span class="normal">675</span>
<span class="normal">676</span>
<span class="normal">677</span>
<span class="normal">678</span>
<span class="normal">679</span>
<span class="normal">680</span>
<span class="normal">681</span>
<span class="normal">682</span>
<span class="normal">683</span>
<span class="normal">684</span>
<span class="normal">685</span>
<span class="normal">686</span>
<span class="normal">687</span>
<span class="normal">688</span>
<span class="normal">689</span>
<span class="normal">690</span>
<span class="normal">691</span>
<span class="normal">692</span>
<span class="normal">693</span>
<span class="normal">694</span>
<span class="normal">695</span>
<span class="normal">696</span>
<span class="normal">697</span>
<span class="normal">698</span>
<span class="normal">699</span>
<span class="normal">700</span>
<span class="normal">701</span>
<span class="normal">702</span>
<span class="normal">703</span>
<span class="normal">704</span>
<span class="normal">705</span>
<span class="normal">706</span>
<span class="normal">707</span>
<span class="normal">708</span>
<span class="normal">709</span>
<span class="normal">710</span>
<span class="normal">711</span>
<span class="normal">712</span>
<span class="normal">713</span>
<span class="normal">714</span>
<span class="normal">715</span>
<span class="normal">716</span>
<span class="normal">717</span>
<span class="normal">718</span>
<span class="normal">719</span>
<span class="normal">720</span>
<span class="normal">721</span>
<span class="normal">722</span>
<span class="normal">723</span>
<span class="normal">724</span>
<span class="normal">725</span>
<span class="normal">726</span>
<span class="normal">727</span>
<span class="normal">728</span>
<span class="normal">729</span>
<span class="normal">730</span>
<span class="normal">731</span>
<span class="normal">732</span>
<span class="normal">733</span>
<span class="normal">734</span>
<span class="normal">735</span>
<span class="normal">736</span>
<span class="normal">737</span>
<span class="normal">738</span>
<span class="normal">739</span>
<span class="normal">740</span>
<span class="normal">741</span>
<span class="normal">742</span>
<span class="normal">743</span>
<span class="normal">744</span>
<span class="normal">745</span>
<span class="normal">746</span>
<span class="normal">747</span>
<span class="normal">748</span>
<span class="normal">749</span>
<span class="normal">750</span>
<span class="normal">751</span>
<span class="normal">752</span>
<span class="normal">753</span>
<span class="normal">754</span>
<span class="normal">755</span>
<span class="normal">756</span>
<span class="normal">757</span>
<span class="normal">758</span>
<span class="normal">759</span>
<span class="normal">760</span>
<span class="normal">761</span>
<span class="normal">762</span>
<span class="normal">763</span>
<span class="normal">764</span>
<span class="normal">765</span>
<span class="normal">766</span>
<span class="normal">767</span>
<span class="normal">768</span>
<span class="normal">769</span>
<span class="normal">770</span>
<span class="normal">771</span>
<span class="normal">772</span>
<span class="normal">773</span>
<span class="normal">774</span>
<span class="normal">775</span>
<span class="normal">776</span>
<span class="normal">777</span>
<span class="normal">778</span>
<span class="normal">779</span>
<span class="normal">780</span>
<span class="normal">781</span>
<span class="normal">782</span>
<span class="normal">783</span>
<span class="normal">784</span>
<span class="normal">785</span>
<span class="normal">786</span>
<span class="normal">787</span>
<span class="normal">788</span>
<span class="normal">789</span>
<span class="normal">790</span>
<span class="normal">791</span>
<span class="normal">792</span>
<span class="normal">793</span>
<span class="normal">794</span>
<span class="normal">795</span>
<span class="normal">796</span>
<span class="normal">797</span>
<span class="normal">798</span>
<span class="normal">799</span>
<span class="normal">800</span>
<span class="normal">801</span>
<span class="normal">802</span>
<span class="normal">803</span>
<span class="normal">804</span>
<span class="normal">805</span>
<span class="normal">806</span>
<span class="normal">807</span>
<span class="normal">808</span>
<span class="normal">809</span>
<span class="normal">810</span>
<span class="normal">811</span>
<span class="normal">812</span>
<span class="normal">813</span>
<span class="normal">814</span>
<span class="normal">815</span>
<span class="normal">816</span>
<span class="normal">817</span>
<span class="normal">818</span>
<span class="normal">819</span>
<span class="normal">820</span>
<span class="normal">821</span>
<span class="normal">822</span>
<span class="normal">823</span>
<span class="normal">824</span>
<span class="normal">825</span>
<span class="normal">826</span>
<span class="normal">827</span>
<span class="normal">828</span>
<span class="normal">829</span>
<span class="normal">830</span>
<span class="normal">831</span>
<span class="normal">832</span>
<span class="normal">833</span>
<span class="normal">834</span>
<span class="normal">835</span>
<span class="normal">836</span>
<span class="normal">837</span>
<span class="normal">838</span>
<span class="normal">839</span>
<span class="normal">840</span>
<span class="normal">841</span>
<span class="normal">842</span>
<span class="normal">843</span>
<span class="normal">844</span>
<span class="normal">845</span>
<span class="normal">846</span>
<span class="normal">847</span>
<span class="normal">848</span>
<span class="normal">849</span>
<span class="normal">850</span>
<span class="normal">851</span>
<span class="normal">852</span>
<span class="normal">853</span>
<span class="normal">854</span>
<span class="normal">855</span>
<span class="normal">856</span>
<span class="normal">857</span>
<span class="normal">858</span>
<span class="normal">859</span>
<span class="normal">860</span>
<span class="normal">861</span>
<span class="normal">862</span>
<span class="normal">863</span>
<span class="normal">864</span>
<span class="normal">865</span>
<span class="normal">866</span>
<span class="normal">867</span>
<span class="normal">868</span>
<span class="normal">869</span>
<span class="normal">870</span>
<span class="normal">871</span>
<span class="normal">872</span>
<span class="normal">873</span>
<span class="normal">874</span>
<span class="normal">875</span>
<span class="normal">876</span>
<span class="normal">877</span>
<span class="normal">878</span>
<span class="normal">879</span>
<span class="normal">880</span>
<span class="normal">881</span>
<span class="normal">882</span>
<span class="normal">883</span>
<span class="normal">884</span>
<span class="normal">885</span>
<span class="normal">886</span>
<span class="normal">887</span>
<span class="normal">888</span>
<span class="normal">889</span>
<span class="normal">890</span>
<span class="normal">891</span>
<span class="normal">892</span>
<span class="normal">893</span>
<span class="normal">894</span>
<span class="normal">895</span>
<span class="normal">896</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">Document</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Document class.</span>

<span class="sd">    This class store the score content using an agnostic tree structure.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        tree (MultistageTree): The tree structure of the document where all the nodes are stored. \</span>
<span class="sd">            Each stage of the tree corresponds to a row in the Humdrum **kern file encoding.</span>
<span class="sd">        measure_start_tree_stages (List[List[Node]]): The list of nodes that corresponds to the measures. \</span>
<span class="sd">            Empty list by default.</span>
<span class="sd">            The index of the list is starting from 1. Rows after removing empty lines and line comments</span>
<span class="sd">        page_bounding_boxes (Dict[int, BoundingBoxMeasures]): The dictionary of page bounding boxes. \</span>
<span class="sd">            - key: page number</span>
<span class="sd">            - value: BoundingBoxMeasures object</span>
<span class="sd">        header_stage (int): The index of the stage that contains the headers. None by default.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tree</span><span class="p">:</span> <span class="n">MultistageTree</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Constructor for Document class.</span>

<span class="sd">        Args:</span>
<span class="sd">            tree (MultistageTree): The tree structure of the document where all the nodes are stored.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tree</span> <span class="o">=</span> <span class="n">tree</span>  <span class="c1"># TODO: ? Should we use copy.deepcopy() here?</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">measure_start_tree_stages</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">page_bounding_boxes</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">header_stage</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="n">FIRST_MEASURE</span> <span class="o">=</span> <span class="mi">1</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_header_stage</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">Node</span><span class="p">],</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">Node</span><span class="p">]]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the Node list of the header stage.</span>

<span class="sd">        Returns: (Union[List[Node], List[List[Node]]]) The Node list of the header stage.</span>

<span class="sd">        Raises: Exception - If the document has no header stage.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">header_stage</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tree</span><span class="o">.</span><span class="n">stages</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">header_stage</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;No header stage found&#39;</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_leaves</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Node</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the leaves of the tree.</span>

<span class="sd">        Returns: (List[Node]) The leaves of the tree.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tree</span><span class="o">.</span><span class="n">stages</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tree</span><span class="o">.</span><span class="n">stages</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_spine_count</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the number of spines in the document.</span>

<span class="sd">        Returns (int): The number of spines in the document.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_header_stage</span><span class="p">())</span>  <span class="c1"># TODO: test refactor</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_first_measure</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the index of the first measure of the document.</span>

<span class="sd">        Returns: (Int) The index of the first measure of the document.</span>

<span class="sd">        Raises: Exception - If the document has no measures.</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; import kernpy as kp</span>
<span class="sd">            &gt;&gt;&gt; document, err = kp.read(&#39;score.krn&#39;)</span>
<span class="sd">            &gt;&gt;&gt; document.get_first_measure()</span>
<span class="sd">            1</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">measure_start_tree_stages</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;No measures found&#39;</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">FIRST_MEASURE</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">measures_count</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the index of the last measure of the document.</span>

<span class="sd">        Returns: (Int) The index of the last measure of the document.</span>

<span class="sd">        Raises: Exception - If the document has no measures.</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; document, _ = kernpy.read(&#39;score.krn&#39;)</span>
<span class="sd">            &gt;&gt;&gt; document.measures_count()</span>
<span class="sd">            10</span>
<span class="sd">            &gt;&gt;&gt; for i in range(document.get_first_measure(), document.measures_count() + 1):</span>
<span class="sd">            &gt;&gt;&gt;   options = kernpy.ExportOptions(from_measure=i, to_measure=i+4)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">measure_start_tree_stages</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;No measures found&#39;</span><span class="p">)</span>

        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">measure_start_tree_stages</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_metacomments</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">KeyComment</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">clear</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get all metacomments in the document</span>

<span class="sd">        Args:</span>
<span class="sd">            KeyComment: Filter by a specific metacomment key: e.g. Use &#39;COM&#39; to get only comments starting with\</span>
<span class="sd">                &#39;!!!COM: &#39;. If None, all metacomments are returned.</span>
<span class="sd">            clear: If True, the metacomment key is removed from the comment. E.g. &#39;!!!COM: Coltrane&#39; -&gt; &#39;Coltrane&#39;.\</span>
<span class="sd">                If False, the metacomment key is kept. E.g. &#39;!!!COM: Coltrane&#39; -&gt; &#39;!!!COM: Coltrane&#39;. \</span>
<span class="sd">                The clear functionality is equivalent to the following code:</span>
<span class="sd">                ```python</span>
<span class="sd">                comment = &#39;!!!COM: Coltrane&#39;</span>
<span class="sd">                clean_comment = comment.replace(f&quot;!!!{KeyComment}: &quot;, &quot;&quot;)</span>
<span class="sd">                ```</span>
<span class="sd">                Other formats are not supported.</span>

<span class="sd">        Returns: A list of metacomments.</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; document.get_metacomments()</span>
<span class="sd">            [&#39;!!!COM: Coltrane&#39;, &#39;!!!voices: 1&#39;, &#39;!!!OPR: Blue Train&#39;]</span>
<span class="sd">            &gt;&gt;&gt; document.get_metacomments(KeyComment=&#39;COM&#39;)</span>
<span class="sd">            [&#39;!!!COM: Coltrane&#39;]</span>
<span class="sd">            &gt;&gt;&gt; document.get_metacomments(KeyComment=&#39;COM&#39;, clear=True)</span>
<span class="sd">            [&#39;Coltrane&#39;]</span>
<span class="sd">            &gt;&gt;&gt; document.get_metacomments(KeyComment=&#39;non_existing_key&#39;)</span>
<span class="sd">            []</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">traversal</span> <span class="o">=</span> <span class="n">MetacommentsTraversal</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tree</span><span class="o">.</span><span class="n">dfs_iterative</span><span class="p">(</span><span class="n">traversal</span><span class="p">)</span>
        <span class="n">result</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">metacomment</span> <span class="ow">in</span> <span class="n">traversal</span><span class="o">.</span><span class="n">metacomments</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">KeyComment</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">metacomment</span><span class="o">.</span><span class="n">encoding</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;!!!</span><span class="si">{</span><span class="n">KeyComment</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">):</span>
                <span class="n">new_comment</span> <span class="o">=</span> <span class="n">metacomment</span><span class="o">.</span><span class="n">encoding</span>
                <span class="k">if</span> <span class="n">clear</span><span class="p">:</span>
                    <span class="n">new_comment</span> <span class="o">=</span> <span class="n">metacomment</span><span class="o">.</span><span class="n">encoding</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;!!!</span><span class="si">{</span><span class="n">KeyComment</span><span class="si">}</span><span class="s2">: &quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
                <span class="n">result</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">new_comment</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">result</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">tokens_to_encodings</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">tokens</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">AbstractToken</span><span class="p">]):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the encodings of a list of tokens.</span>

<span class="sd">        The method is equivalent to the following code:</span>
<span class="sd">            &gt;&gt;&gt; tokens = kp.get_all_tokens()</span>
<span class="sd">            &gt;&gt;&gt; [token.encoding for token in tokens if token.encoding is not None]</span>

<span class="sd">        Args:</span>
<span class="sd">            tokens (Sequence[AbstractToken]): list - A list of tokens.</span>

<span class="sd">        Returns: List[str] - A list of token encodings.</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; tokens = document.get_all_tokens()</span>
<span class="sd">            &gt;&gt;&gt; Document.tokens_to_encodings(tokens)</span>
<span class="sd">            [&#39;!!!COM: Coltrane&#39;, &#39;!!!voices: 1&#39;, &#39;!!!OPR: Blue Train&#39;]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">encodings</span> <span class="o">=</span> <span class="p">[</span><span class="n">token</span><span class="o">.</span><span class="n">encoding</span> <span class="k">for</span> <span class="n">token</span> <span class="ow">in</span> <span class="n">tokens</span> <span class="k">if</span> <span class="n">token</span><span class="o">.</span><span class="n">encoding</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">encodings</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_all_tokens</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filter_by_categories</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Sequence</span><span class="p">[</span><span class="n">TokenCategory</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">AbstractToken</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Args:</span>
<span class="sd">            filter_by_categories (Optional[Sequence[TokenCategory]]): A list of categories to filter the tokens. If None, all tokens are returned.</span>

<span class="sd">        Returns:</span>
<span class="sd">            List[AbstractToken] - A list of all tokens.</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; tokens = document.get_all_tokens()</span>
<span class="sd">            &gt;&gt;&gt; Document.tokens_to_encodings(tokens)</span>
<span class="sd">            &gt;&gt;&gt; [type(t) for t in tokens]</span>
<span class="sd">            [&lt;class &#39;kernpy.core.token.Token&#39;&gt;, &lt;class &#39;kernpy.core.token.Token&#39;&gt;, &lt;class &#39;kernpy.core.token.Token&#39;&gt;]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">computed_categories</span> <span class="o">=</span> <span class="n">TokenCategory</span><span class="o">.</span><span class="n">valid</span><span class="p">(</span><span class="n">include</span><span class="o">=</span><span class="n">filter_by_categories</span><span class="p">)</span>
        <span class="n">traversal</span> <span class="o">=</span> <span class="n">TokensTraversal</span><span class="p">(</span><span class="kc">False</span><span class="p">,</span> <span class="n">computed_categories</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tree</span><span class="o">.</span><span class="n">dfs_iterative</span><span class="p">(</span><span class="n">traversal</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">traversal</span><span class="o">.</span><span class="n">tokens</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_all_tokens_encodings</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span>
            <span class="n">filter_by_categories</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Sequence</span><span class="p">[</span><span class="n">TokenCategory</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Args:</span>
<span class="sd">            filter_by_categories (Optional[Sequence[TokenCategory]]): A list of categories to filter the tokens. If None, all tokens are returned.</span>


<span class="sd">        Returns:</span>
<span class="sd">            list[str] - A list of all token encodings.</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; tokens = document.get_all_tokens_encodings()</span>
<span class="sd">            &gt;&gt;&gt; Document.tokens_to_encodings(tokens)</span>
<span class="sd">            [&#39;!!!COM: Coltrane&#39;, &#39;!!!voices: 1&#39;, &#39;!!!OPR: Blue Train&#39;]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">tokens</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_all_tokens</span><span class="p">(</span><span class="n">filter_by_categories</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">Document</span><span class="o">.</span><span class="n">tokens_to_encodings</span><span class="p">(</span><span class="n">tokens</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_unique_tokens</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span>
            <span class="n">filter_by_categories</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Sequence</span><span class="p">[</span><span class="n">TokenCategory</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">AbstractToken</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get unique tokens.</span>

<span class="sd">        Args:</span>
<span class="sd">            filter_by_categories (Optional[Sequence[TokenCategory]]): A list of categories to filter the tokens. If None, all tokens are returned.</span>

<span class="sd">        Returns:</span>
<span class="sd">            List[AbstractToken] - A list of unique tokens.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">computed_categories</span> <span class="o">=</span> <span class="n">TokenCategory</span><span class="o">.</span><span class="n">valid</span><span class="p">(</span><span class="n">include</span><span class="o">=</span><span class="n">filter_by_categories</span><span class="p">)</span>
        <span class="n">traversal</span> <span class="o">=</span> <span class="n">TokensTraversal</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="n">computed_categories</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tree</span><span class="o">.</span><span class="n">dfs_iterative</span><span class="p">(</span><span class="n">traversal</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">traversal</span><span class="o">.</span><span class="n">tokens</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_unique_token_encodings</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span>
            <span class="n">filter_by_categories</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Sequence</span><span class="p">[</span><span class="n">TokenCategory</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get unique token encodings.</span>

<span class="sd">        Args:</span>
<span class="sd">            filter_by_categories (Optional[Sequence[TokenCategory]]): A list of categories to filter the tokens. If None, all tokens are returned.</span>

<span class="sd">        Returns: List[str] - A list of unique token encodings.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">tokens</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_unique_tokens</span><span class="p">(</span><span class="n">filter_by_categories</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">Document</span><span class="o">.</span><span class="n">tokens_to_encodings</span><span class="p">(</span><span class="n">tokens</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_voices</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">clean</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the voices of the document.</span>

<span class="sd">        Args</span>
<span class="sd">            clean (bool): Remove the first &#39;!&#39; from the voice name.</span>

<span class="sd">        Returns: A list of voices.</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; document.get_voices()</span>
<span class="sd">            [&#39;!sax&#39;, &#39;!piano&#39;, &#39;!bass&#39;]</span>
<span class="sd">            &gt;&gt;&gt; document.get_voices(clean=True)</span>
<span class="sd">            [&#39;sax&#39;, &#39;piano&#39;, &#39;bass&#39;]</span>
<span class="sd">            &gt;&gt;&gt; document.get_voices(clean=False)</span>
<span class="sd">            [&#39;!sax&#39;, &#39;!piano&#39;, &#39;!bass&#39;]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span><span class="w"> </span><span class="nn">kernpy.core</span><span class="w"> </span><span class="kn">import</span> <span class="n">TokenCategory</span>
        <span class="n">voices</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_all_tokens</span><span class="p">(</span><span class="n">filter_by_categories</span><span class="o">=</span><span class="p">[</span><span class="n">TokenCategory</span><span class="o">.</span><span class="n">INSTRUMENTS</span><span class="p">])</span>

        <span class="k">if</span> <span class="n">clean</span><span class="p">:</span>
            <span class="n">voices</span> <span class="o">=</span> <span class="p">[</span><span class="n">voice</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span> <span class="k">for</span> <span class="n">voice</span> <span class="ow">in</span> <span class="n">voices</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">voices</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">clone</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Create a deep copy of the Document instance.</span>

<span class="sd">        Returns: A new instance of Document with the tree copied.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">Document</span><span class="p">(</span><span class="n">copy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tree</span><span class="p">))</span>
        <span class="n">result</span><span class="o">.</span><span class="n">measure_start_tree_stages</span> <span class="o">=</span> <span class="n">copy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">measure_start_tree_stages</span><span class="p">)</span>
        <span class="n">result</span><span class="o">.</span><span class="n">page_bounding_boxes</span> <span class="o">=</span> <span class="n">copy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">page_bounding_boxes</span><span class="p">)</span>
        <span class="n">result</span><span class="o">.</span><span class="n">header_stage</span> <span class="o">=</span> <span class="n">copy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">header_stage</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">append_spines</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">spines</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Append the spines directly to current document tree.</span>

<span class="sd">        Args:</span>
<span class="sd">            spines(list): A list of spines to append.</span>

<span class="sd">        Returns: None</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; import kernpy as kp</span>
<span class="sd">            &gt;&gt;&gt; doc, _ = kp.read(&#39;score.krn&#39;)</span>
<span class="sd">            &gt;&gt;&gt; spines = [</span>
<span class="sd">            &gt;&gt;&gt; &#39;4e\t4f\t4g\t4a\n4b\t4c\t4d\t4e\n=\t=\t=\t=\n&#39;,</span>
<span class="sd">            &gt;&gt;&gt; &#39;4c\t4d\t4e\t4f\n4g\t4a\t4b\t4c\n=\t=\t=\t=\n&#39;,</span>
<span class="sd">           &gt;&gt;&gt; ]</span>
<span class="sd">           &gt;&gt;&gt; doc.append_spines(spines)</span>
<span class="sd">           None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">spines</span><span class="p">)</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_spine_count</span><span class="p">():</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Spines count mismatch: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">spines</span><span class="p">)</span><span class="si">}</span><span class="s2"> != </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">get_spine_count</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">spine</span> <span class="ow">in</span> <span class="n">spines</span><span class="p">:</span>
            <span class="k">return</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">add</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="s1">&#39;Document&#39;</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">check_core_spines_only</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s1">&#39;Document&#39;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Concatenate one document to the current document: Modify the current object!</span>

<span class="sd">        Args:</span>
<span class="sd">            other: The document to concatenate.</span>
<span class="sd">            check_core_spines_only: If True, only the core spines (**kern and **mens) are checked. If False, all spines are checked.</span>

<span class="sd">        Returns (&#39;Document&#39;): The current document (self) with the other document concatenated.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">Document</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">,</span> <span class="n">check_core_spines_only</span><span class="o">=</span><span class="n">check_core_spines_only</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Documents are not compatible for addition. &#39;</span>
                            <span class="sa">f</span><span class="s1">&#39;Headers do not match with check_core_spines_only=</span><span class="si">{</span><span class="n">check_core_spines_only</span><span class="si">}</span><span class="s1">. &#39;</span>
                            <span class="sa">f</span><span class="s1">&#39;self: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">get_header_nodes</span><span class="p">()</span><span class="si">}</span><span class="s1">, other: </span><span class="si">{</span><span class="n">other</span><span class="o">.</span><span class="n">get_header_nodes</span><span class="p">()</span><span class="si">}</span><span class="s1">. &#39;</span><span class="p">)</span>

        <span class="n">current_header_nodes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_header_stage</span><span class="p">()</span>
        <span class="n">other_header_nodes</span> <span class="o">=</span> <span class="n">other</span><span class="o">.</span><span class="n">get_header_stage</span><span class="p">()</span>

        <span class="n">current_leaf_nodes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_leaves</span><span class="p">()</span>
        <span class="n">flatten</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">lst</span><span class="p">:</span> <span class="p">[</span><span class="n">item</span> <span class="k">for</span> <span class="n">sublist</span> <span class="ow">in</span> <span class="n">lst</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">sublist</span><span class="p">]</span>
        <span class="n">other_first_level_children</span> <span class="o">=</span> <span class="p">[</span><span class="n">flatten</span><span class="p">(</span><span class="n">c</span><span class="o">.</span><span class="n">children</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">other_header_nodes</span><span class="p">]</span>  <span class="c1"># avoid header stage</span>

        <span class="k">for</span> <span class="n">current_leaf</span><span class="p">,</span> <span class="n">other_first_level_child</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">current_leaf_nodes</span><span class="p">,</span> <span class="n">other_first_level_children</span><span class="p">,</span> <span class="n">strict</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
            <span class="c1"># Ignore extra spines from other document.</span>
            <span class="c1"># But if there are extra spines in the current document, it will raise an exception.</span>
            <span class="k">if</span> <span class="n">current_leaf</span><span class="o">.</span><span class="n">token</span><span class="o">.</span><span class="n">encoding</span> <span class="o">==</span> <span class="n">TERMINATOR</span><span class="p">:</span>
                <span class="c1"># remove the &#39;*-&#39; token from the current document</span>
                <span class="n">current_leaf_index</span> <span class="o">=</span> <span class="n">current_leaf</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">children</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">current_leaf</span><span class="p">)</span>
                <span class="n">current_leaf</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">children</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">current_leaf_index</span><span class="p">)</span>
                <span class="n">current_leaf</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">children</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">current_leaf_index</span><span class="p">,</span> <span class="n">other_first_level_child</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">tree</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span>
                <span class="n">stage</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tree</span><span class="o">.</span><span class="n">stages</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span>  <span class="c1"># TODO: check offset 0, +1, -1 ????</span>
                <span class="n">parent</span><span class="o">=</span><span class="n">current_leaf</span><span class="p">,</span>
                <span class="n">token</span><span class="o">=</span><span class="n">other_first_level_child</span><span class="o">.</span><span class="n">token</span><span class="p">,</span>
                <span class="n">last_spine_operator_node</span><span class="o">=</span><span class="n">other_first_level_child</span><span class="o">.</span><span class="n">last_spine_operator_node</span><span class="p">,</span>
                <span class="n">previous_signature_nodes</span><span class="o">=</span><span class="n">other_first_level_child</span><span class="o">.</span><span class="n">last_signature_nodes</span><span class="p">,</span>
                <span class="n">header_node</span><span class="o">=</span><span class="n">other_first_level_child</span><span class="o">.</span><span class="n">header_node</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_header_nodes</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">HeaderToken</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the header nodes of the current document.</span>

<span class="sd">        Returns: List[HeaderToken]: A list with the header nodes of the current document.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">token</span> <span class="k">for</span> <span class="n">token</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_all_tokens</span><span class="p">(</span><span class="n">filter_by_categories</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">token</span><span class="p">,</span> <span class="n">HeaderToken</span><span class="p">)]</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_spine_ids</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">                Get the indexes of the current document.</span>

<span class="sd">                Returns List[int]: A list with the indexes of the current document.</span>

<span class="sd">                Examples:</span>
<span class="sd">                    &gt;&gt;&gt; document.get_all_spine_indexes()</span>
<span class="sd">                    [0, 1, 2, 3, 4]</span>
<span class="sd">                &quot;&quot;&quot;</span>
        <span class="n">header_nodes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_header_nodes</span><span class="p">()</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">node</span><span class="o">.</span><span class="n">spine_id</span> <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">header_nodes</span><span class="p">]</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">frequencies</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">token_categories</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Sequence</span><span class="p">[</span><span class="n">TokenCategory</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Frequency of tokens in the document.</span>


<span class="sd">        Args:</span>
<span class="sd">            token_categories (Optional[Sequence[TokenCategory]]): If None, all tokens are considered.</span>
<span class="sd">        Returns (Dict):</span>
<span class="sd">            A dictionary with the category and the number of occurrences of each token.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">tokens</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_all_tokens</span><span class="p">(</span><span class="n">filter_by_categories</span><span class="o">=</span><span class="n">token_categories</span><span class="p">)</span>
        <span class="n">frequencies</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">tokens</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">t</span><span class="o">.</span><span class="n">encoding</span> <span class="ow">in</span> <span class="n">frequencies</span><span class="p">:</span>
                <span class="n">frequencies</span><span class="p">[</span><span class="n">t</span><span class="o">.</span><span class="n">encoding</span><span class="p">][</span><span class="s1">&#39;occurrences&#39;</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">frequencies</span><span class="p">[</span><span class="n">t</span><span class="o">.</span><span class="n">encoding</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
                    <span class="s1">&#39;occurrences&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                    <span class="s1">&#39;category&#39;</span><span class="p">:</span> <span class="n">t</span><span class="o">.</span><span class="n">category</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                <span class="p">}</span>

        <span class="k">return</span> <span class="n">frequencies</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">split</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="s1">&#39;Document&#39;</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Split the current document into a list of documents, one for each **kern spine.</span>
<span class="sd">        Each resulting document will contain one **kern spine along with all non-kern spines.</span>

<span class="sd">        Returns:</span>
<span class="sd">            List[&#39;Document&#39;]: A list of documents, where each document contains one **kern spine</span>
<span class="sd">            and all non-kern spines from the original document.</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; document.split()</span>
<span class="sd">            [&lt;Document: score.krn&gt;, &lt;Document: score.krn&gt;, &lt;Document: score.krn&gt;]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span>
        <span class="n">new_documents</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">self_document_copy</span> <span class="o">=</span> <span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="n">kern_header_nodes</span> <span class="o">=</span> <span class="p">[</span><span class="n">node</span> <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">self_document_copy</span><span class="o">.</span><span class="n">get_header_nodes</span><span class="p">()</span> <span class="k">if</span> <span class="n">node</span><span class="o">.</span><span class="n">encoding</span> <span class="o">==</span> <span class="s1">&#39;**kern&#39;</span><span class="p">]</span>
        <span class="n">other_header_nodes</span> <span class="o">=</span> <span class="p">[</span><span class="n">node</span> <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">self_document_copy</span><span class="o">.</span><span class="n">get_header_nodes</span><span class="p">()</span> <span class="k">if</span> <span class="n">node</span><span class="o">.</span><span class="n">encoding</span> <span class="o">!=</span> <span class="s1">&#39;**kern&#39;</span><span class="p">]</span>
        <span class="n">spine_ids</span> <span class="o">=</span> <span class="n">self_document_copy</span><span class="o">.</span><span class="n">get_spine_ids</span><span class="p">()</span>

        <span class="k">for</span> <span class="n">header_node</span> <span class="ow">in</span> <span class="n">kern_header_nodes</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">header_node</span><span class="o">.</span><span class="n">spine_id</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">spine_ids</span><span class="p">:</span>
                <span class="k">continue</span>

            <span class="n">spine_ids</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">header_node</span><span class="o">.</span><span class="n">spine_id</span><span class="p">)</span>

            <span class="n">new_tree</span> <span class="o">=</span> <span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tree</span><span class="p">)</span>
            <span class="n">prev_node</span> <span class="o">=</span> <span class="n">new_tree</span><span class="o">.</span><span class="n">root</span>
            <span class="k">while</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">prev_node</span><span class="p">,</span> <span class="n">HeaderToken</span><span class="p">):</span>
                <span class="n">prev_node</span> <span class="o">=</span> <span class="n">prev_node</span><span class="o">.</span><span class="n">children</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

            <span class="k">if</span> <span class="ow">not</span> <span class="n">prev_node</span> <span class="ow">or</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">prev_node</span><span class="p">,</span> <span class="n">HeaderToken</span><span class="p">):</span>
                <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Header node not found: </span><span class="si">{</span><span class="n">prev_node</span><span class="si">}</span><span class="s1"> in </span><span class="si">{</span><span class="n">header_node</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

            <span class="n">new_children</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">spine_id</span> <span class="o">==</span> <span class="n">header_node</span><span class="o">.</span><span class="n">spine_id</span><span class="p">,</span> <span class="n">prev_node</span><span class="o">.</span><span class="n">children</span><span class="p">))</span>
            <span class="n">new_tree</span><span class="o">.</span><span class="n">root</span> <span class="o">=</span> <span class="n">new_children</span>

            <span class="n">new_document</span> <span class="o">=</span> <span class="n">Document</span><span class="p">(</span><span class="n">new_tree</span><span class="p">)</span>

            <span class="n">new_documents</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">new_document</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">new_documents</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">to_concat</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">first_doc</span><span class="p">:</span> <span class="s1">&#39;Document&#39;</span><span class="p">,</span> <span class="n">second_doc</span><span class="p">:</span> <span class="s1">&#39;Document&#39;</span><span class="p">,</span> <span class="n">deep_copy</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s1">&#39;Document&#39;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Concatenate two documents.</span>

<span class="sd">        Args:</span>
<span class="sd">            first_doc (Document): The first document.</span>
<span class="sd">            second_doc (Document: The second document.</span>
<span class="sd">            deep_copy (bool): If True, the documents are deep copied. If False, the documents are shallow copied.</span>

<span class="sd">        Returns: A new instance of Document with the documents concatenated.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">first_doc</span> <span class="o">=</span> <span class="n">first_doc</span><span class="o">.</span><span class="n">clone</span><span class="p">()</span> <span class="k">if</span> <span class="n">deep_copy</span> <span class="k">else</span> <span class="n">first_doc</span>
        <span class="n">second_doc</span> <span class="o">=</span> <span class="n">second_doc</span><span class="o">.</span><span class="n">clone</span><span class="p">()</span> <span class="k">if</span> <span class="n">deep_copy</span> <span class="k">else</span> <span class="n">second_doc</span>
        <span class="n">first_doc</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">second_doc</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">first_doc</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">match</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">a</span><span class="p">:</span> <span class="s1">&#39;Document&#39;</span><span class="p">,</span> <span class="n">b</span><span class="p">:</span> <span class="s1">&#39;Document&#39;</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">check_core_spines_only</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Match two documents. Two documents match if they have the same spine structure.</span>

<span class="sd">        Args:</span>
<span class="sd">            a (Document): The first document.</span>
<span class="sd">            b (Document): The second document.</span>
<span class="sd">            check_core_spines_only (Optional[bool]): If True, only the core spines (**kern and **mens) are checked. If False, all spines are checked.</span>

<span class="sd">        Returns: True if the documents match, False otherwise.</span>

<span class="sd">        Examples:</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">check_core_spines_only</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">[</span><span class="n">token</span><span class="o">.</span><span class="n">encoding</span> <span class="k">for</span> <span class="n">token</span> <span class="ow">in</span> <span class="n">a</span><span class="o">.</span><span class="n">get_header_nodes</span><span class="p">()</span> <span class="k">if</span> <span class="n">token</span><span class="o">.</span><span class="n">encoding</span> <span class="ow">in</span> <span class="n">CORE_HEADERS</span><span class="p">]</span> \
                <span class="o">==</span> <span class="p">[</span><span class="n">token</span><span class="o">.</span><span class="n">encoding</span> <span class="k">for</span> <span class="n">token</span> <span class="ow">in</span> <span class="n">b</span><span class="o">.</span><span class="n">get_header_nodes</span><span class="p">()</span> <span class="k">if</span> <span class="n">token</span><span class="o">.</span><span class="n">encoding</span> <span class="ow">in</span> <span class="n">CORE_HEADERS</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">[</span><span class="n">token</span><span class="o">.</span><span class="n">encoding</span> <span class="k">for</span> <span class="n">token</span> <span class="ow">in</span> <span class="n">a</span><span class="o">.</span><span class="n">get_header_nodes</span><span class="p">()]</span> \
                <span class="o">==</span> <span class="p">[</span><span class="n">token</span><span class="o">.</span><span class="n">encoding</span> <span class="k">for</span> <span class="n">token</span> <span class="ow">in</span> <span class="n">b</span><span class="o">.</span><span class="n">get_header_nodes</span><span class="p">()]</span>


    <span class="k">def</span><span class="w"> </span><span class="nf">to_transposed</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">interval</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">direction</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Direction</span><span class="o">.</span><span class="n">UP</span><span class="o">.</span><span class="n">value</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s1">&#39;Document&#39;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Create a new document with the transposed notes without modifying the original document.</span>

<span class="sd">        Args:</span>
<span class="sd">            interval (str): The name of the interval to transpose. It can be &#39;P4&#39;, &#39;P5&#39;, &#39;M2&#39;, etc. Check the \</span>
<span class="sd">             kp.AVAILABLE_INTERVALS for the available intervals.</span>
<span class="sd">            direction (str): The direction to transpose. It can be &#39;up&#39; or &#39;down&#39;.</span>

<span class="sd">        Returns:</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">interval</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">AVAILABLE_INTERVALS</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Interval </span><span class="si">{</span><span class="n">interval</span><span class="si">!r}</span><span class="s2"> is not available. &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;Available intervals are: </span><span class="si">{</span><span class="n">AVAILABLE_INTERVALS</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="n">direction</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">(</span><span class="n">Direction</span><span class="o">.</span><span class="n">UP</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">Direction</span><span class="o">.</span><span class="n">DOWN</span><span class="o">.</span><span class="n">value</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Direction </span><span class="si">{</span><span class="n">direction</span><span class="si">!r}</span><span class="s2"> is not available. &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;Available directions are: &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">Direction</span><span class="o">.</span><span class="n">UP</span><span class="o">.</span><span class="n">value</span><span class="si">!r}</span><span class="s2">, </span><span class="si">{</span><span class="n">Direction</span><span class="o">.</span><span class="n">DOWN</span><span class="o">.</span><span class="n">value</span><span class="si">!r}</span><span class="s2">&quot;</span>
            <span class="p">)</span>

        <span class="n">new_document</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">clone</span><span class="p">()</span>

        <span class="c1"># BFS through the tree</span>
        <span class="n">root</span> <span class="o">=</span> <span class="n">new_document</span><span class="o">.</span><span class="n">tree</span><span class="o">.</span><span class="n">root</span>
        <span class="n">queue</span> <span class="o">=</span> <span class="n">Queue</span><span class="p">()</span>
        <span class="n">queue</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">root</span><span class="p">)</span>

        <span class="k">while</span> <span class="ow">not</span> <span class="n">queue</span><span class="o">.</span><span class="n">empty</span><span class="p">():</span>
            <span class="n">node</span> <span class="o">=</span> <span class="n">queue</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>

            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">token</span><span class="p">,</span> <span class="n">NoteRestToken</span><span class="p">):</span>
                <span class="n">orig_token</span> <span class="o">=</span> <span class="n">node</span><span class="o">.</span><span class="n">token</span>

                <span class="n">new_subtokens</span> <span class="o">=</span> <span class="p">[]</span>
                <span class="n">transposed_pitch_encoding</span> <span class="o">=</span> <span class="kc">None</span>

                <span class="c1"># Transpose each pitch subtoken in the pitch–duration list</span>
                <span class="k">for</span> <span class="n">subtoken</span> <span class="ow">in</span> <span class="n">orig_token</span><span class="o">.</span><span class="n">pitch_duration_subtokens</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">subtoken</span><span class="o">.</span><span class="n">category</span> <span class="o">==</span> <span class="n">TokenCategory</span><span class="o">.</span><span class="n">PITCH</span><span class="p">:</span>
                        <span class="c1"># transpose() returns a new pitch subtoken</span>
                        <span class="n">tp</span> <span class="o">=</span> <span class="n">transpose</span><span class="p">(</span>
                            <span class="n">input_encoding</span><span class="o">=</span><span class="n">subtoken</span><span class="o">.</span><span class="n">encoding</span><span class="p">,</span>
                            <span class="n">interval</span><span class="o">=</span><span class="n">IntervalsByName</span><span class="p">[</span><span class="n">interval</span><span class="p">],</span>
                            <span class="n">direction</span><span class="o">=</span><span class="n">direction</span><span class="p">,</span>
                            <span class="n">input_format</span><span class="o">=</span><span class="n">NotationEncoding</span><span class="o">.</span><span class="n">HUMDRUM</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
                            <span class="n">output_format</span><span class="o">=</span><span class="n">NotationEncoding</span><span class="o">.</span><span class="n">HUMDRUM</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
                        <span class="p">)</span>
                        <span class="n">new_subtokens</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Subtoken</span><span class="p">(</span><span class="n">tp</span><span class="p">,</span> <span class="n">subtoken</span><span class="o">.</span><span class="n">category</span><span class="p">))</span>
                        <span class="n">transposed_pitch_encoding</span> <span class="o">=</span> <span class="n">tp</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="c1"># leave duration subtokens untouched</span>
                        <span class="n">new_subtokens</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Subtoken</span><span class="p">(</span><span class="n">subtoken</span><span class="o">.</span><span class="n">encoding</span><span class="p">,</span> <span class="n">subtoken</span><span class="o">.</span><span class="n">category</span><span class="p">))</span>

                <span class="c1"># Replace the node’s token with a new NoteRestToken</span>
                <span class="n">node</span><span class="o">.</span><span class="n">token</span> <span class="o">=</span> <span class="n">NoteRestToken</span><span class="p">(</span>
                    <span class="n">encoding</span><span class="o">=</span><span class="n">transposed_pitch_encoding</span><span class="p">,</span>
                    <span class="n">pitch_duration_subtokens</span><span class="o">=</span><span class="n">new_subtokens</span><span class="p">,</span>
                    <span class="n">decoration_subtokens</span><span class="o">=</span><span class="n">orig_token</span><span class="o">.</span><span class="n">decoration_subtokens</span><span class="p">,</span>
                <span class="p">)</span>

            <span class="c1"># enqueue children</span>
            <span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="n">node</span><span class="o">.</span><span class="n">children</span><span class="p">:</span>
                <span class="n">queue</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">child</span><span class="p">)</span>

        <span class="c1"># Return the transposed clone</span>
        <span class="k">return</span> <span class="n">new_document</span>


    <span class="k">def</span><span class="w"> </span><span class="fm">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the indexes to export all the document.</span>

<span class="sd">        Returns: An iterator with the indexes to export the document.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">iter</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_first_measure</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">measures_count</span><span class="p">()</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__next__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the next index to export the document.</span>

<span class="sd">        Returns: The next index to export the document.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">next</span><span class="p">(</span><span class="nb">iter</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_first_measure</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">measures_count</span><span class="p">()</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)))</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="kernpy.Document.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">tree</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Constructor for Document class.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>tree</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.document.MultistageTree" href="#kernpy.core.MultistageTree">MultistageTree</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The tree structure of the document where all the nodes are stored.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/document.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tree</span><span class="p">:</span> <span class="n">MultistageTree</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Constructor for Document class.</span>

<span class="sd">    Args:</span>
<span class="sd">        tree (MultistageTree): The tree structure of the document where all the nodes are stored.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">tree</span> <span class="o">=</span> <span class="n">tree</span>  <span class="c1"># TODO: ? Should we use copy.deepcopy() here?</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">measure_start_tree_stages</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">page_bounding_boxes</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">header_stage</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.Document.__iter__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__iter__</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Get the indexes to export all the document.</p>
<p>Returns: An iterator with the indexes to export the document.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/document.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">882</span>
<span class="normal">883</span>
<span class="normal">884</span>
<span class="normal">885</span>
<span class="normal">886</span>
<span class="normal">887</span>
<span class="normal">888</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get the indexes to export all the document.</span>

<span class="sd">    Returns: An iterator with the indexes to export the document.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="nb">iter</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_first_measure</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">measures_count</span><span class="p">()</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.Document.__next__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__next__</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Get the next index to export the document.</p>
<p>Returns: The next index to export the document.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/document.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">890</span>
<span class="normal">891</span>
<span class="normal">892</span>
<span class="normal">893</span>
<span class="normal">894</span>
<span class="normal">895</span>
<span class="normal">896</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__next__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get the next index to export the document.</span>

<span class="sd">    Returns: The next index to export the document.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="nb">next</span><span class="p">(</span><span class="nb">iter</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_first_measure</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">measures_count</span><span class="p">()</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)))</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.Document.add" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">add</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">check_core_spines_only</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Concatenate one document to the current document: Modify the current object!</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>other</code></td>
            <td>
                  <code>&#39;Document&#39;</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The document to concatenate.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>check_core_spines_only</code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[bool]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If True, only the core spines (<strong>kern and </strong>mens) are checked. If False, all spines are checked.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns ('Document'): The current document (self) with the other document concatenated.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/document.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">638</span>
<span class="normal">639</span>
<span class="normal">640</span>
<span class="normal">641</span>
<span class="normal">642</span>
<span class="normal">643</span>
<span class="normal">644</span>
<span class="normal">645</span>
<span class="normal">646</span>
<span class="normal">647</span>
<span class="normal">648</span>
<span class="normal">649</span>
<span class="normal">650</span>
<span class="normal">651</span>
<span class="normal">652</span>
<span class="normal">653</span>
<span class="normal">654</span>
<span class="normal">655</span>
<span class="normal">656</span>
<span class="normal">657</span>
<span class="normal">658</span>
<span class="normal">659</span>
<span class="normal">660</span>
<span class="normal">661</span>
<span class="normal">662</span>
<span class="normal">663</span>
<span class="normal">664</span>
<span class="normal">665</span>
<span class="normal">666</span>
<span class="normal">667</span>
<span class="normal">668</span>
<span class="normal">669</span>
<span class="normal">670</span>
<span class="normal">671</span>
<span class="normal">672</span>
<span class="normal">673</span>
<span class="normal">674</span>
<span class="normal">675</span>
<span class="normal">676</span>
<span class="normal">677</span>
<span class="normal">678</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">add</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="s1">&#39;Document&#39;</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">check_core_spines_only</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s1">&#39;Document&#39;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Concatenate one document to the current document: Modify the current object!</span>

<span class="sd">    Args:</span>
<span class="sd">        other: The document to concatenate.</span>
<span class="sd">        check_core_spines_only: If True, only the core spines (**kern and **mens) are checked. If False, all spines are checked.</span>

<span class="sd">    Returns (&#39;Document&#39;): The current document (self) with the other document concatenated.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">Document</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">,</span> <span class="n">check_core_spines_only</span><span class="o">=</span><span class="n">check_core_spines_only</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Documents are not compatible for addition. &#39;</span>
                        <span class="sa">f</span><span class="s1">&#39;Headers do not match with check_core_spines_only=</span><span class="si">{</span><span class="n">check_core_spines_only</span><span class="si">}</span><span class="s1">. &#39;</span>
                        <span class="sa">f</span><span class="s1">&#39;self: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">get_header_nodes</span><span class="p">()</span><span class="si">}</span><span class="s1">, other: </span><span class="si">{</span><span class="n">other</span><span class="o">.</span><span class="n">get_header_nodes</span><span class="p">()</span><span class="si">}</span><span class="s1">. &#39;</span><span class="p">)</span>

    <span class="n">current_header_nodes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_header_stage</span><span class="p">()</span>
    <span class="n">other_header_nodes</span> <span class="o">=</span> <span class="n">other</span><span class="o">.</span><span class="n">get_header_stage</span><span class="p">()</span>

    <span class="n">current_leaf_nodes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_leaves</span><span class="p">()</span>
    <span class="n">flatten</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">lst</span><span class="p">:</span> <span class="p">[</span><span class="n">item</span> <span class="k">for</span> <span class="n">sublist</span> <span class="ow">in</span> <span class="n">lst</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">sublist</span><span class="p">]</span>
    <span class="n">other_first_level_children</span> <span class="o">=</span> <span class="p">[</span><span class="n">flatten</span><span class="p">(</span><span class="n">c</span><span class="o">.</span><span class="n">children</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">other_header_nodes</span><span class="p">]</span>  <span class="c1"># avoid header stage</span>

    <span class="k">for</span> <span class="n">current_leaf</span><span class="p">,</span> <span class="n">other_first_level_child</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">current_leaf_nodes</span><span class="p">,</span> <span class="n">other_first_level_children</span><span class="p">,</span> <span class="n">strict</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="c1"># Ignore extra spines from other document.</span>
        <span class="c1"># But if there are extra spines in the current document, it will raise an exception.</span>
        <span class="k">if</span> <span class="n">current_leaf</span><span class="o">.</span><span class="n">token</span><span class="o">.</span><span class="n">encoding</span> <span class="o">==</span> <span class="n">TERMINATOR</span><span class="p">:</span>
            <span class="c1"># remove the &#39;*-&#39; token from the current document</span>
            <span class="n">current_leaf_index</span> <span class="o">=</span> <span class="n">current_leaf</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">children</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">current_leaf</span><span class="p">)</span>
            <span class="n">current_leaf</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">children</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">current_leaf_index</span><span class="p">)</span>
            <span class="n">current_leaf</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">children</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">current_leaf_index</span><span class="p">,</span> <span class="n">other_first_level_child</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">tree</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span>
            <span class="n">stage</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tree</span><span class="o">.</span><span class="n">stages</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span>  <span class="c1"># TODO: check offset 0, +1, -1 ????</span>
            <span class="n">parent</span><span class="o">=</span><span class="n">current_leaf</span><span class="p">,</span>
            <span class="n">token</span><span class="o">=</span><span class="n">other_first_level_child</span><span class="o">.</span><span class="n">token</span><span class="p">,</span>
            <span class="n">last_spine_operator_node</span><span class="o">=</span><span class="n">other_first_level_child</span><span class="o">.</span><span class="n">last_spine_operator_node</span><span class="p">,</span>
            <span class="n">previous_signature_nodes</span><span class="o">=</span><span class="n">other_first_level_child</span><span class="o">.</span><span class="n">last_signature_nodes</span><span class="p">,</span>
            <span class="n">header_node</span><span class="o">=</span><span class="n">other_first_level_child</span><span class="o">.</span><span class="n">header_node</span>
        <span class="p">)</span>

    <span class="k">return</span> <span class="bp">self</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.Document.append_spines" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">append_spines</span><span class="p">(</span><span class="n">spines</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <pre><code>    Append the spines directly to current document tree.

    Args:
        spines(list): A list of spines to append.

    Returns: None

    Examples:
        &gt;&gt;&gt; import kernpy as kp
        &gt;&gt;&gt; doc, _ = kp.read('score.krn')
        &gt;&gt;&gt; spines = [
        &gt;&gt;&gt; '4e     4f      4g      4a
</code></pre>
<p>4b      4c      4d      4e
=       =       =       =
',
            &gt;&gt;&gt; '4c     4d      4e      4f
4g      4a      4b      4c
=       =       =       =
',
           &gt;&gt;&gt; ]
           &gt;&gt;&gt; doc.append_spines(spines)
           None</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/document.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">612</span>
<span class="normal">613</span>
<span class="normal">614</span>
<span class="normal">615</span>
<span class="normal">616</span>
<span class="normal">617</span>
<span class="normal">618</span>
<span class="normal">619</span>
<span class="normal">620</span>
<span class="normal">621</span>
<span class="normal">622</span>
<span class="normal">623</span>
<span class="normal">624</span>
<span class="normal">625</span>
<span class="normal">626</span>
<span class="normal">627</span>
<span class="normal">628</span>
<span class="normal">629</span>
<span class="normal">630</span>
<span class="normal">631</span>
<span class="normal">632</span>
<span class="normal">633</span>
<span class="normal">634</span>
<span class="normal">635</span>
<span class="normal">636</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">append_spines</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">spines</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Append the spines directly to current document tree.</span>

<span class="sd">    Args:</span>
<span class="sd">        spines(list): A list of spines to append.</span>

<span class="sd">    Returns: None</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; import kernpy as kp</span>
<span class="sd">        &gt;&gt;&gt; doc, _ = kp.read(&#39;score.krn&#39;)</span>
<span class="sd">        &gt;&gt;&gt; spines = [</span>
<span class="sd">        &gt;&gt;&gt; &#39;4e\t4f\t4g\t4a\n4b\t4c\t4d\t4e\n=\t=\t=\t=\n&#39;,</span>
<span class="sd">        &gt;&gt;&gt; &#39;4c\t4d\t4e\t4f\n4g\t4a\t4b\t4c\n=\t=\t=\t=\n&#39;,</span>
<span class="sd">       &gt;&gt;&gt; ]</span>
<span class="sd">       &gt;&gt;&gt; doc.append_spines(spines)</span>
<span class="sd">       None</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">spines</span><span class="p">)</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_spine_count</span><span class="p">():</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Spines count mismatch: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">spines</span><span class="p">)</span><span class="si">}</span><span class="s2"> != </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">get_spine_count</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">spine</span> <span class="ow">in</span> <span class="n">spines</span><span class="p">:</span>
        <span class="k">return</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.Document.clone" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">clone</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Create a deep copy of the Document instance.</p>
<p>Returns: A new instance of Document with the tree copied.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/document.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">598</span>
<span class="normal">599</span>
<span class="normal">600</span>
<span class="normal">601</span>
<span class="normal">602</span>
<span class="normal">603</span>
<span class="normal">604</span>
<span class="normal">605</span>
<span class="normal">606</span>
<span class="normal">607</span>
<span class="normal">608</span>
<span class="normal">609</span>
<span class="normal">610</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">clone</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Create a deep copy of the Document instance.</span>

<span class="sd">    Returns: A new instance of Document with the tree copied.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">Document</span><span class="p">(</span><span class="n">copy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tree</span><span class="p">))</span>
    <span class="n">result</span><span class="o">.</span><span class="n">measure_start_tree_stages</span> <span class="o">=</span> <span class="n">copy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">measure_start_tree_stages</span><span class="p">)</span>
    <span class="n">result</span><span class="o">.</span><span class="n">page_bounding_boxes</span> <span class="o">=</span> <span class="n">copy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">page_bounding_boxes</span><span class="p">)</span>
    <span class="n">result</span><span class="o">.</span><span class="n">header_stage</span> <span class="o">=</span> <span class="n">copy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">header_stage</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">result</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.Document.frequencies" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">frequencies</span><span class="p">(</span><span class="n">token_categories</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Frequency of tokens in the document.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>token_categories</code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="collections.abc.Sequence">Sequence</span>[<a class="autorefs autorefs-internal" title="kernpy.core.TokenCategory" href="#kernpy.core.TokenCategory">TokenCategory</a>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If None, all tokens are considered.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns (Dict):
    A dictionary with the category and the number of occurrences of each token.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/document.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">701</span>
<span class="normal">702</span>
<span class="normal">703</span>
<span class="normal">704</span>
<span class="normal">705</span>
<span class="normal">706</span>
<span class="normal">707</span>
<span class="normal">708</span>
<span class="normal">709</span>
<span class="normal">710</span>
<span class="normal">711</span>
<span class="normal">712</span>
<span class="normal">713</span>
<span class="normal">714</span>
<span class="normal">715</span>
<span class="normal">716</span>
<span class="normal">717</span>
<span class="normal">718</span>
<span class="normal">719</span>
<span class="normal">720</span>
<span class="normal">721</span>
<span class="normal">722</span>
<span class="normal">723</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">frequencies</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">token_categories</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Sequence</span><span class="p">[</span><span class="n">TokenCategory</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Frequency of tokens in the document.</span>


<span class="sd">    Args:</span>
<span class="sd">        token_categories (Optional[Sequence[TokenCategory]]): If None, all tokens are considered.</span>
<span class="sd">    Returns (Dict):</span>
<span class="sd">        A dictionary with the category and the number of occurrences of each token.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">tokens</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_all_tokens</span><span class="p">(</span><span class="n">filter_by_categories</span><span class="o">=</span><span class="n">token_categories</span><span class="p">)</span>
    <span class="n">frequencies</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">tokens</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">t</span><span class="o">.</span><span class="n">encoding</span> <span class="ow">in</span> <span class="n">frequencies</span><span class="p">:</span>
            <span class="n">frequencies</span><span class="p">[</span><span class="n">t</span><span class="o">.</span><span class="n">encoding</span><span class="p">][</span><span class="s1">&#39;occurrences&#39;</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">frequencies</span><span class="p">[</span><span class="n">t</span><span class="o">.</span><span class="n">encoding</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s1">&#39;occurrences&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                <span class="s1">&#39;category&#39;</span><span class="p">:</span> <span class="n">t</span><span class="o">.</span><span class="n">category</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="p">}</span>

    <span class="k">return</span> <span class="n">frequencies</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.Document.get_all_tokens" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_all_tokens</span><span class="p">(</span><span class="n">filter_by_categories</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">



<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>filter_by_categories</code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="collections.abc.Sequence">Sequence</span>[<a class="autorefs autorefs-internal" title="kernpy.core.TokenCategory" href="#kernpy.core.TokenCategory">TokenCategory</a>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of categories to filter the tokens. If None, all tokens are returned.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.List">List</span>[<a class="autorefs autorefs-internal" title="kernpy.core.AbstractToken" href="#kernpy.core.AbstractToken">AbstractToken</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List[AbstractToken] - A list of all tokens.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">tokens</span> <span class="o">=</span> <span class="n">document</span><span class="o">.</span><span class="n">get_all_tokens</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Document</span><span class="o">.</span><span class="n">tokens_to_encodings</span><span class="p">(</span><span class="n">tokens</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="nb">type</span><span class="p">(</span><span class="n">t</span><span class="p">)</span> <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">tokens</span><span class="p">]</span>
<span class="go">[&lt;class &#39;kernpy.core.token.Token&#39;&gt;, &lt;class &#39;kernpy.core.token.Token&#39;&gt;, &lt;class &#39;kernpy.core.token.Token&#39;&gt;]</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/document.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span>
<span class="normal">507</span>
<span class="normal">508</span>
<span class="normal">509</span>
<span class="normal">510</span>
<span class="normal">511</span>
<span class="normal">512</span>
<span class="normal">513</span>
<span class="normal">514</span>
<span class="normal">515</span>
<span class="normal">516</span>
<span class="normal">517</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_all_tokens</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filter_by_categories</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Sequence</span><span class="p">[</span><span class="n">TokenCategory</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">AbstractToken</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Args:</span>
<span class="sd">        filter_by_categories (Optional[Sequence[TokenCategory]]): A list of categories to filter the tokens. If None, all tokens are returned.</span>

<span class="sd">    Returns:</span>
<span class="sd">        List[AbstractToken] - A list of all tokens.</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; tokens = document.get_all_tokens()</span>
<span class="sd">        &gt;&gt;&gt; Document.tokens_to_encodings(tokens)</span>
<span class="sd">        &gt;&gt;&gt; [type(t) for t in tokens]</span>
<span class="sd">        [&lt;class &#39;kernpy.core.token.Token&#39;&gt;, &lt;class &#39;kernpy.core.token.Token&#39;&gt;, &lt;class &#39;kernpy.core.token.Token&#39;&gt;]</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">computed_categories</span> <span class="o">=</span> <span class="n">TokenCategory</span><span class="o">.</span><span class="n">valid</span><span class="p">(</span><span class="n">include</span><span class="o">=</span><span class="n">filter_by_categories</span><span class="p">)</span>
    <span class="n">traversal</span> <span class="o">=</span> <span class="n">TokensTraversal</span><span class="p">(</span><span class="kc">False</span><span class="p">,</span> <span class="n">computed_categories</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">tree</span><span class="o">.</span><span class="n">dfs_iterative</span><span class="p">(</span><span class="n">traversal</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">traversal</span><span class="o">.</span><span class="n">tokens</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.Document.get_all_tokens_encodings" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_all_tokens_encodings</span><span class="p">(</span><span class="n">filter_by_categories</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">



<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>filter_by_categories</code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="collections.abc.Sequence">Sequence</span>[<a class="autorefs autorefs-internal" title="kernpy.core.TokenCategory" href="#kernpy.core.TokenCategory">TokenCategory</a>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of categories to filter the tokens. If None, all tokens are returned.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.List">List</span>[str]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>list[str] - A list of all token encodings.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">tokens</span> <span class="o">=</span> <span class="n">document</span><span class="o">.</span><span class="n">get_all_tokens_encodings</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Document</span><span class="o">.</span><span class="n">tokens_to_encodings</span><span class="p">(</span><span class="n">tokens</span><span class="p">)</span>
<span class="go">[&#39;!!!COM: Coltrane&#39;, &#39;!!!voices: 1&#39;, &#39;!!!OPR: Blue Train&#39;]</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/document.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">519</span>
<span class="normal">520</span>
<span class="normal">521</span>
<span class="normal">522</span>
<span class="normal">523</span>
<span class="normal">524</span>
<span class="normal">525</span>
<span class="normal">526</span>
<span class="normal">527</span>
<span class="normal">528</span>
<span class="normal">529</span>
<span class="normal">530</span>
<span class="normal">531</span>
<span class="normal">532</span>
<span class="normal">533</span>
<span class="normal">534</span>
<span class="normal">535</span>
<span class="normal">536</span>
<span class="normal">537</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_all_tokens_encodings</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">filter_by_categories</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Sequence</span><span class="p">[</span><span class="n">TokenCategory</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Args:</span>
<span class="sd">        filter_by_categories (Optional[Sequence[TokenCategory]]): A list of categories to filter the tokens. If None, all tokens are returned.</span>


<span class="sd">    Returns:</span>
<span class="sd">        list[str] - A list of all token encodings.</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; tokens = document.get_all_tokens_encodings()</span>
<span class="sd">        &gt;&gt;&gt; Document.tokens_to_encodings(tokens)</span>
<span class="sd">        [&#39;!!!COM: Coltrane&#39;, &#39;!!!voices: 1&#39;, &#39;!!!OPR: Blue Train&#39;]</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">tokens</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_all_tokens</span><span class="p">(</span><span class="n">filter_by_categories</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">Document</span><span class="o">.</span><span class="n">tokens_to_encodings</span><span class="p">(</span><span class="n">tokens</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.Document.get_first_measure" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_first_measure</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Get the index of the first measure of the document.</p>
<p>Returns: (Int) The index of the first measure of the document.</p>
<p>Raises: Exception - If the document has no measures.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">kernpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">kp</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">document</span><span class="p">,</span> <span class="n">err</span> <span class="o">=</span> <span class="n">kp</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s1">&#39;score.krn&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">document</span><span class="o">.</span><span class="n">get_first_measure</span><span class="p">()</span>
<span class="go">1</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/document.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_first_measure</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get the index of the first measure of the document.</span>

<span class="sd">    Returns: (Int) The index of the first measure of the document.</span>

<span class="sd">    Raises: Exception - If the document has no measures.</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; import kernpy as kp</span>
<span class="sd">        &gt;&gt;&gt; document, err = kp.read(&#39;score.krn&#39;)</span>
<span class="sd">        &gt;&gt;&gt; document.get_first_measure()</span>
<span class="sd">        1</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">measure_start_tree_stages</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;No measures found&#39;</span><span class="p">)</span>

    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">FIRST_MEASURE</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.Document.get_header_nodes" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_header_nodes</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Get the header nodes of the current document.</p>
<p>Returns: List[HeaderToken]: A list with the header nodes of the current document.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/document.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">680</span>
<span class="normal">681</span>
<span class="normal">682</span>
<span class="normal">683</span>
<span class="normal">684</span>
<span class="normal">685</span>
<span class="normal">686</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_header_nodes</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">HeaderToken</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get the header nodes of the current document.</span>

<span class="sd">    Returns: List[HeaderToken]: A list with the header nodes of the current document.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">token</span> <span class="k">for</span> <span class="n">token</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_all_tokens</span><span class="p">(</span><span class="n">filter_by_categories</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">token</span><span class="p">,</span> <span class="n">HeaderToken</span><span class="p">)]</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.Document.get_header_stage" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_header_stage</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Get the Node list of the header stage.</p>
<p>Returns: (Union[List[Node], List[List[Node]]]) The Node list of the header stage.</p>
<p>Raises: Exception - If the document has no header stage.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/document.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_header_stage</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">Node</span><span class="p">],</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">Node</span><span class="p">]]]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get the Node list of the header stage.</span>

<span class="sd">    Returns: (Union[List[Node], List[List[Node]]]) The Node list of the header stage.</span>

<span class="sd">    Raises: Exception - If the document has no header stage.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">header_stage</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tree</span><span class="o">.</span><span class="n">stages</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">header_stage</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;No header stage found&#39;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.Document.get_leaves" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_leaves</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Get the leaves of the tree.</p>
<p>Returns: (List[Node]) The leaves of the tree.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/document.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_leaves</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Node</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get the leaves of the tree.</span>

<span class="sd">    Returns: (List[Node]) The leaves of the tree.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tree</span><span class="o">.</span><span class="n">stages</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tree</span><span class="o">.</span><span class="n">stages</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.Document.get_metacomments" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_metacomments</span><span class="p">(</span><span class="n">KeyComment</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">clear</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Get all metacomments in the document</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>KeyComment</code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[str]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Filter by a specific metacomment key: e.g. Use 'COM' to get only comments starting with                '!!!COM: '. If None, all metacomments are returned.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>clear</code></td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If True, the metacomment key is removed from the comment. E.g. '!!!COM: Coltrane' -&gt; 'Coltrane'.                If False, the metacomment key is kept. E.g. '!!!COM: Coltrane' -&gt; '!!!COM: Coltrane'.                 The clear functionality is equivalent to the following code:</p>
<pre><code class="language-python">comment = '!!!COM: Coltrane'
clean_comment = comment.replace(f&quot;!!!{KeyComment}: &quot;, &quot;&quot;)
</code></pre>
<p>Other formats are not supported.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns: A list of metacomments.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">document</span><span class="o">.</span><span class="n">get_metacomments</span><span class="p">()</span>
<span class="go">[&#39;!!!COM: Coltrane&#39;, &#39;!!!voices: 1&#39;, &#39;!!!OPR: Blue Train&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">document</span><span class="o">.</span><span class="n">get_metacomments</span><span class="p">(</span><span class="n">KeyComment</span><span class="o">=</span><span class="s1">&#39;COM&#39;</span><span class="p">)</span>
<span class="go">[&#39;!!!COM: Coltrane&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">document</span><span class="o">.</span><span class="n">get_metacomments</span><span class="p">(</span><span class="n">KeyComment</span><span class="o">=</span><span class="s1">&#39;COM&#39;</span><span class="p">,</span> <span class="n">clear</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">[&#39;Coltrane&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">document</span><span class="o">.</span><span class="n">get_metacomments</span><span class="p">(</span><span class="n">KeyComment</span><span class="o">=</span><span class="s1">&#39;non_existing_key&#39;</span><span class="p">)</span>
<span class="go">[]</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/document.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span>
<span class="normal">475</span>
<span class="normal">476</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_metacomments</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">KeyComment</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">clear</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get all metacomments in the document</span>

<span class="sd">    Args:</span>
<span class="sd">        KeyComment: Filter by a specific metacomment key: e.g. Use &#39;COM&#39; to get only comments starting with\</span>
<span class="sd">            &#39;!!!COM: &#39;. If None, all metacomments are returned.</span>
<span class="sd">        clear: If True, the metacomment key is removed from the comment. E.g. &#39;!!!COM: Coltrane&#39; -&gt; &#39;Coltrane&#39;.\</span>
<span class="sd">            If False, the metacomment key is kept. E.g. &#39;!!!COM: Coltrane&#39; -&gt; &#39;!!!COM: Coltrane&#39;. \</span>
<span class="sd">            The clear functionality is equivalent to the following code:</span>
<span class="sd">            ```python</span>
<span class="sd">            comment = &#39;!!!COM: Coltrane&#39;</span>
<span class="sd">            clean_comment = comment.replace(f&quot;!!!{KeyComment}: &quot;, &quot;&quot;)</span>
<span class="sd">            ```</span>
<span class="sd">            Other formats are not supported.</span>

<span class="sd">    Returns: A list of metacomments.</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; document.get_metacomments()</span>
<span class="sd">        [&#39;!!!COM: Coltrane&#39;, &#39;!!!voices: 1&#39;, &#39;!!!OPR: Blue Train&#39;]</span>
<span class="sd">        &gt;&gt;&gt; document.get_metacomments(KeyComment=&#39;COM&#39;)</span>
<span class="sd">        [&#39;!!!COM: Coltrane&#39;]</span>
<span class="sd">        &gt;&gt;&gt; document.get_metacomments(KeyComment=&#39;COM&#39;, clear=True)</span>
<span class="sd">        [&#39;Coltrane&#39;]</span>
<span class="sd">        &gt;&gt;&gt; document.get_metacomments(KeyComment=&#39;non_existing_key&#39;)</span>
<span class="sd">        []</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">traversal</span> <span class="o">=</span> <span class="n">MetacommentsTraversal</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">tree</span><span class="o">.</span><span class="n">dfs_iterative</span><span class="p">(</span><span class="n">traversal</span><span class="p">)</span>
    <span class="n">result</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">metacomment</span> <span class="ow">in</span> <span class="n">traversal</span><span class="o">.</span><span class="n">metacomments</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">KeyComment</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">metacomment</span><span class="o">.</span><span class="n">encoding</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;!!!</span><span class="si">{</span><span class="n">KeyComment</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">):</span>
            <span class="n">new_comment</span> <span class="o">=</span> <span class="n">metacomment</span><span class="o">.</span><span class="n">encoding</span>
            <span class="k">if</span> <span class="n">clear</span><span class="p">:</span>
                <span class="n">new_comment</span> <span class="o">=</span> <span class="n">metacomment</span><span class="o">.</span><span class="n">encoding</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;!!!</span><span class="si">{</span><span class="n">KeyComment</span><span class="si">}</span><span class="s2">: &quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
            <span class="n">result</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">new_comment</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">result</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.Document.get_spine_count" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_spine_count</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Get the number of spines in the document.</p>
<p>Returns (int): The number of spines in the document.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/document.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_spine_count</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get the number of spines in the document.</span>

<span class="sd">    Returns (int): The number of spines in the document.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_header_stage</span><span class="p">())</span>  <span class="c1"># TODO: test refactor</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.Document.get_spine_ids" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_spine_ids</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Get the indexes of the current document.</p>
<p>Returns List[int]: A list with the indexes of the current document.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">document</span><span class="o">.</span><span class="n">get_all_spine_indexes</span><span class="p">()</span>
<span class="go">[0, 1, 2, 3, 4]</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/document.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">688</span>
<span class="normal">689</span>
<span class="normal">690</span>
<span class="normal">691</span>
<span class="normal">692</span>
<span class="normal">693</span>
<span class="normal">694</span>
<span class="normal">695</span>
<span class="normal">696</span>
<span class="normal">697</span>
<span class="normal">698</span>
<span class="normal">699</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_spine_ids</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Get the indexes of the current document.</span>

<span class="sd">            Returns List[int]: A list with the indexes of the current document.</span>

<span class="sd">            Examples:</span>
<span class="sd">                &gt;&gt;&gt; document.get_all_spine_indexes()</span>
<span class="sd">                [0, 1, 2, 3, 4]</span>
<span class="sd">            &quot;&quot;&quot;</span>
    <span class="n">header_nodes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_header_nodes</span><span class="p">()</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">node</span><span class="o">.</span><span class="n">spine_id</span> <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">header_nodes</span><span class="p">]</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.Document.get_unique_token_encodings" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_unique_token_encodings</span><span class="p">(</span><span class="n">filter_by_categories</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Get unique token encodings.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>filter_by_categories</code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="collections.abc.Sequence">Sequence</span>[<a class="autorefs autorefs-internal" title="kernpy.core.TokenCategory" href="#kernpy.core.TokenCategory">TokenCategory</a>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of categories to filter the tokens. If None, all tokens are returned.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns: List[str] - A list of unique token encodings.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/document.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">558</span>
<span class="normal">559</span>
<span class="normal">560</span>
<span class="normal">561</span>
<span class="normal">562</span>
<span class="normal">563</span>
<span class="normal">564</span>
<span class="normal">565</span>
<span class="normal">566</span>
<span class="normal">567</span>
<span class="normal">568</span>
<span class="normal">569</span>
<span class="normal">570</span>
<span class="normal">571</span>
<span class="normal">572</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_unique_token_encodings</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">filter_by_categories</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Sequence</span><span class="p">[</span><span class="n">TokenCategory</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get unique token encodings.</span>

<span class="sd">    Args:</span>
<span class="sd">        filter_by_categories (Optional[Sequence[TokenCategory]]): A list of categories to filter the tokens. If None, all tokens are returned.</span>

<span class="sd">    Returns: List[str] - A list of unique token encodings.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">tokens</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_unique_tokens</span><span class="p">(</span><span class="n">filter_by_categories</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">Document</span><span class="o">.</span><span class="n">tokens_to_encodings</span><span class="p">(</span><span class="n">tokens</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.Document.get_unique_tokens" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_unique_tokens</span><span class="p">(</span><span class="n">filter_by_categories</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Get unique tokens.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>filter_by_categories</code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="collections.abc.Sequence">Sequence</span>[<a class="autorefs autorefs-internal" title="kernpy.core.TokenCategory" href="#kernpy.core.TokenCategory">TokenCategory</a>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of categories to filter the tokens. If None, all tokens are returned.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.List">List</span>[<a class="autorefs autorefs-internal" title="kernpy.core.AbstractToken" href="#kernpy.core.AbstractToken">AbstractToken</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List[AbstractToken] - A list of unique tokens.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/document.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">539</span>
<span class="normal">540</span>
<span class="normal">541</span>
<span class="normal">542</span>
<span class="normal">543</span>
<span class="normal">544</span>
<span class="normal">545</span>
<span class="normal">546</span>
<span class="normal">547</span>
<span class="normal">548</span>
<span class="normal">549</span>
<span class="normal">550</span>
<span class="normal">551</span>
<span class="normal">552</span>
<span class="normal">553</span>
<span class="normal">554</span>
<span class="normal">555</span>
<span class="normal">556</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_unique_tokens</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">filter_by_categories</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Sequence</span><span class="p">[</span><span class="n">TokenCategory</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">AbstractToken</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get unique tokens.</span>

<span class="sd">    Args:</span>
<span class="sd">        filter_by_categories (Optional[Sequence[TokenCategory]]): A list of categories to filter the tokens. If None, all tokens are returned.</span>

<span class="sd">    Returns:</span>
<span class="sd">        List[AbstractToken] - A list of unique tokens.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">computed_categories</span> <span class="o">=</span> <span class="n">TokenCategory</span><span class="o">.</span><span class="n">valid</span><span class="p">(</span><span class="n">include</span><span class="o">=</span><span class="n">filter_by_categories</span><span class="p">)</span>
    <span class="n">traversal</span> <span class="o">=</span> <span class="n">TokensTraversal</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="n">computed_categories</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">tree</span><span class="o">.</span><span class="n">dfs_iterative</span><span class="p">(</span><span class="n">traversal</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">traversal</span><span class="o">.</span><span class="n">tokens</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.Document.get_voices" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_voices</span><span class="p">(</span><span class="n">clean</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Get the voices of the document.</p>
<p>Args
    clean (bool): Remove the first '!' from the voice name.</p>
<p>Returns: A list of voices.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">document</span><span class="o">.</span><span class="n">get_voices</span><span class="p">()</span>
<span class="go">[&#39;!sax&#39;, &#39;!piano&#39;, &#39;!bass&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">document</span><span class="o">.</span><span class="n">get_voices</span><span class="p">(</span><span class="n">clean</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">[&#39;sax&#39;, &#39;piano&#39;, &#39;bass&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">document</span><span class="o">.</span><span class="n">get_voices</span><span class="p">(</span><span class="n">clean</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="go">[&#39;!sax&#39;, &#39;!piano&#39;, &#39;!bass&#39;]</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/document.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">574</span>
<span class="normal">575</span>
<span class="normal">576</span>
<span class="normal">577</span>
<span class="normal">578</span>
<span class="normal">579</span>
<span class="normal">580</span>
<span class="normal">581</span>
<span class="normal">582</span>
<span class="normal">583</span>
<span class="normal">584</span>
<span class="normal">585</span>
<span class="normal">586</span>
<span class="normal">587</span>
<span class="normal">588</span>
<span class="normal">589</span>
<span class="normal">590</span>
<span class="normal">591</span>
<span class="normal">592</span>
<span class="normal">593</span>
<span class="normal">594</span>
<span class="normal">595</span>
<span class="normal">596</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_voices</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">clean</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get the voices of the document.</span>

<span class="sd">    Args</span>
<span class="sd">        clean (bool): Remove the first &#39;!&#39; from the voice name.</span>

<span class="sd">    Returns: A list of voices.</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; document.get_voices()</span>
<span class="sd">        [&#39;!sax&#39;, &#39;!piano&#39;, &#39;!bass&#39;]</span>
<span class="sd">        &gt;&gt;&gt; document.get_voices(clean=True)</span>
<span class="sd">        [&#39;sax&#39;, &#39;piano&#39;, &#39;bass&#39;]</span>
<span class="sd">        &gt;&gt;&gt; document.get_voices(clean=False)</span>
<span class="sd">        [&#39;!sax&#39;, &#39;!piano&#39;, &#39;!bass&#39;]</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="kn">from</span><span class="w"> </span><span class="nn">kernpy.core</span><span class="w"> </span><span class="kn">import</span> <span class="n">TokenCategory</span>
    <span class="n">voices</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_all_tokens</span><span class="p">(</span><span class="n">filter_by_categories</span><span class="o">=</span><span class="p">[</span><span class="n">TokenCategory</span><span class="o">.</span><span class="n">INSTRUMENTS</span><span class="p">])</span>

    <span class="k">if</span> <span class="n">clean</span><span class="p">:</span>
        <span class="n">voices</span> <span class="o">=</span> <span class="p">[</span><span class="n">voice</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span> <span class="k">for</span> <span class="n">voice</span> <span class="ow">in</span> <span class="n">voices</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">voices</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.Document.match" class="doc doc-heading">
            <code class="highlight language-python"><span class="k">match</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">check_core_spines_only</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>Match two documents. Two documents match if they have the same spine structure.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>a</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.document.Document" href="#kernpy.core.Document">Document</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The first document.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>b</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.document.Document" href="#kernpy.core.Document">Document</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The second document.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>check_core_spines_only</code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[bool]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If True, only the core spines (<strong>kern and </strong>mens) are checked. If False, all spines are checked.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns: True if the documents match, False otherwise.</p>
<p>Examples:</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/document.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">786</span>
<span class="normal">787</span>
<span class="normal">788</span>
<span class="normal">789</span>
<span class="normal">790</span>
<span class="normal">791</span>
<span class="normal">792</span>
<span class="normal">793</span>
<span class="normal">794</span>
<span class="normal">795</span>
<span class="normal">796</span>
<span class="normal">797</span>
<span class="normal">798</span>
<span class="normal">799</span>
<span class="normal">800</span>
<span class="normal">801</span>
<span class="normal">802</span>
<span class="normal">803</span>
<span class="normal">804</span>
<span class="normal">805</span>
<span class="normal">806</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">match</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">a</span><span class="p">:</span> <span class="s1">&#39;Document&#39;</span><span class="p">,</span> <span class="n">b</span><span class="p">:</span> <span class="s1">&#39;Document&#39;</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">check_core_spines_only</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Match two documents. Two documents match if they have the same spine structure.</span>

<span class="sd">    Args:</span>
<span class="sd">        a (Document): The first document.</span>
<span class="sd">        b (Document): The second document.</span>
<span class="sd">        check_core_spines_only (Optional[bool]): If True, only the core spines (**kern and **mens) are checked. If False, all spines are checked.</span>

<span class="sd">    Returns: True if the documents match, False otherwise.</span>

<span class="sd">    Examples:</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">check_core_spines_only</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">token</span><span class="o">.</span><span class="n">encoding</span> <span class="k">for</span> <span class="n">token</span> <span class="ow">in</span> <span class="n">a</span><span class="o">.</span><span class="n">get_header_nodes</span><span class="p">()</span> <span class="k">if</span> <span class="n">token</span><span class="o">.</span><span class="n">encoding</span> <span class="ow">in</span> <span class="n">CORE_HEADERS</span><span class="p">]</span> \
            <span class="o">==</span> <span class="p">[</span><span class="n">token</span><span class="o">.</span><span class="n">encoding</span> <span class="k">for</span> <span class="n">token</span> <span class="ow">in</span> <span class="n">b</span><span class="o">.</span><span class="n">get_header_nodes</span><span class="p">()</span> <span class="k">if</span> <span class="n">token</span><span class="o">.</span><span class="n">encoding</span> <span class="ow">in</span> <span class="n">CORE_HEADERS</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">token</span><span class="o">.</span><span class="n">encoding</span> <span class="k">for</span> <span class="n">token</span> <span class="ow">in</span> <span class="n">a</span><span class="o">.</span><span class="n">get_header_nodes</span><span class="p">()]</span> \
            <span class="o">==</span> <span class="p">[</span><span class="n">token</span><span class="o">.</span><span class="n">encoding</span> <span class="k">for</span> <span class="n">token</span> <span class="ow">in</span> <span class="n">b</span><span class="o">.</span><span class="n">get_header_nodes</span><span class="p">()]</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.Document.measures_count" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">measures_count</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Get the index of the last measure of the document.</p>
<p>Returns: (Int) The index of the last measure of the document.</p>
<p>Raises: Exception - If the document has no measures.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">document</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">kernpy</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s1">&#39;score.krn&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">document</span><span class="o">.</span><span class="n">measures_count</span><span class="p">()</span>
<span class="go">10</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">document</span><span class="o">.</span><span class="n">get_first_measure</span><span class="p">(),</span> <span class="n">document</span><span class="o">.</span><span class="n">measures_count</span><span class="p">()</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>  <span class="n">options</span> <span class="o">=</span> <span class="n">kernpy</span><span class="o">.</span><span class="n">ExportOptions</span><span class="p">(</span><span class="n">from_measure</span><span class="o">=</span><span class="n">i</span><span class="p">,</span> <span class="n">to_measure</span><span class="o">=</span><span class="n">i</span><span class="o">+</span><span class="mi">4</span><span class="p">)</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/document.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">measures_count</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get the index of the last measure of the document.</span>

<span class="sd">    Returns: (Int) The index of the last measure of the document.</span>

<span class="sd">    Raises: Exception - If the document has no measures.</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; document, _ = kernpy.read(&#39;score.krn&#39;)</span>
<span class="sd">        &gt;&gt;&gt; document.measures_count()</span>
<span class="sd">        10</span>
<span class="sd">        &gt;&gt;&gt; for i in range(document.get_first_measure(), document.measures_count() + 1):</span>
<span class="sd">        &gt;&gt;&gt;   options = kernpy.ExportOptions(from_measure=i, to_measure=i+4)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">measure_start_tree_stages</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;No measures found&#39;</span><span class="p">)</span>

    <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">measure_start_tree_stages</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.Document.split" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">split</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Split the current document into a list of documents, one for each <strong>kern spine.
Each resulting document will contain one </strong>kern spine along with all non-kern spines.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.List">List</span>[&#39;Document&#39;]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List['Document']: A list of documents, where each document contains one **kern spine</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.List">List</span>[&#39;Document&#39;]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>and all non-kern spines from the original document.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">document</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
<span class="go">[&lt;Document: score.krn&gt;, &lt;Document: score.krn&gt;, &lt;Document: score.krn&gt;]</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/document.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">725</span>
<span class="normal">726</span>
<span class="normal">727</span>
<span class="normal">728</span>
<span class="normal">729</span>
<span class="normal">730</span>
<span class="normal">731</span>
<span class="normal">732</span>
<span class="normal">733</span>
<span class="normal">734</span>
<span class="normal">735</span>
<span class="normal">736</span>
<span class="normal">737</span>
<span class="normal">738</span>
<span class="normal">739</span>
<span class="normal">740</span>
<span class="normal">741</span>
<span class="normal">742</span>
<span class="normal">743</span>
<span class="normal">744</span>
<span class="normal">745</span>
<span class="normal">746</span>
<span class="normal">747</span>
<span class="normal">748</span>
<span class="normal">749</span>
<span class="normal">750</span>
<span class="normal">751</span>
<span class="normal">752</span>
<span class="normal">753</span>
<span class="normal">754</span>
<span class="normal">755</span>
<span class="normal">756</span>
<span class="normal">757</span>
<span class="normal">758</span>
<span class="normal">759</span>
<span class="normal">760</span>
<span class="normal">761</span>
<span class="normal">762</span>
<span class="normal">763</span>
<span class="normal">764</span>
<span class="normal">765</span>
<span class="normal">766</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">split</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="s1">&#39;Document&#39;</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Split the current document into a list of documents, one for each **kern spine.</span>
<span class="sd">    Each resulting document will contain one **kern spine along with all non-kern spines.</span>

<span class="sd">    Returns:</span>
<span class="sd">        List[&#39;Document&#39;]: A list of documents, where each document contains one **kern spine</span>
<span class="sd">        and all non-kern spines from the original document.</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; document.split()</span>
<span class="sd">        [&lt;Document: score.krn&gt;, &lt;Document: score.krn&gt;, &lt;Document: score.krn&gt;]</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">raise</span> <span class="ne">NotImplementedError</span>
    <span class="n">new_documents</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">self_document_copy</span> <span class="o">=</span> <span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
    <span class="n">kern_header_nodes</span> <span class="o">=</span> <span class="p">[</span><span class="n">node</span> <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">self_document_copy</span><span class="o">.</span><span class="n">get_header_nodes</span><span class="p">()</span> <span class="k">if</span> <span class="n">node</span><span class="o">.</span><span class="n">encoding</span> <span class="o">==</span> <span class="s1">&#39;**kern&#39;</span><span class="p">]</span>
    <span class="n">other_header_nodes</span> <span class="o">=</span> <span class="p">[</span><span class="n">node</span> <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">self_document_copy</span><span class="o">.</span><span class="n">get_header_nodes</span><span class="p">()</span> <span class="k">if</span> <span class="n">node</span><span class="o">.</span><span class="n">encoding</span> <span class="o">!=</span> <span class="s1">&#39;**kern&#39;</span><span class="p">]</span>
    <span class="n">spine_ids</span> <span class="o">=</span> <span class="n">self_document_copy</span><span class="o">.</span><span class="n">get_spine_ids</span><span class="p">()</span>

    <span class="k">for</span> <span class="n">header_node</span> <span class="ow">in</span> <span class="n">kern_header_nodes</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">header_node</span><span class="o">.</span><span class="n">spine_id</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">spine_ids</span><span class="p">:</span>
            <span class="k">continue</span>

        <span class="n">spine_ids</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">header_node</span><span class="o">.</span><span class="n">spine_id</span><span class="p">)</span>

        <span class="n">new_tree</span> <span class="o">=</span> <span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tree</span><span class="p">)</span>
        <span class="n">prev_node</span> <span class="o">=</span> <span class="n">new_tree</span><span class="o">.</span><span class="n">root</span>
        <span class="k">while</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">prev_node</span><span class="p">,</span> <span class="n">HeaderToken</span><span class="p">):</span>
            <span class="n">prev_node</span> <span class="o">=</span> <span class="n">prev_node</span><span class="o">.</span><span class="n">children</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">prev_node</span> <span class="ow">or</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">prev_node</span><span class="p">,</span> <span class="n">HeaderToken</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Header node not found: </span><span class="si">{</span><span class="n">prev_node</span><span class="si">}</span><span class="s1"> in </span><span class="si">{</span><span class="n">header_node</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

        <span class="n">new_children</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">spine_id</span> <span class="o">==</span> <span class="n">header_node</span><span class="o">.</span><span class="n">spine_id</span><span class="p">,</span> <span class="n">prev_node</span><span class="o">.</span><span class="n">children</span><span class="p">))</span>
        <span class="n">new_tree</span><span class="o">.</span><span class="n">root</span> <span class="o">=</span> <span class="n">new_children</span>

        <span class="n">new_document</span> <span class="o">=</span> <span class="n">Document</span><span class="p">(</span><span class="n">new_tree</span><span class="p">)</span>

        <span class="n">new_documents</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">new_document</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">new_documents</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.Document.to_concat" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">to_concat</span><span class="p">(</span><span class="n">first_doc</span><span class="p">,</span> <span class="n">second_doc</span><span class="p">,</span> <span class="n">deep_copy</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>Concatenate two documents.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>first_doc</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.document.Document" href="#kernpy.core.Document">Document</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The first document.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>second_doc</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.document.Document" href="#kernpy.core.Document">Document</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The second document.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>deep_copy</code></td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If True, the documents are deep copied. If False, the documents are shallow copied.</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns: A new instance of Document with the documents concatenated.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/document.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">768</span>
<span class="normal">769</span>
<span class="normal">770</span>
<span class="normal">771</span>
<span class="normal">772</span>
<span class="normal">773</span>
<span class="normal">774</span>
<span class="normal">775</span>
<span class="normal">776</span>
<span class="normal">777</span>
<span class="normal">778</span>
<span class="normal">779</span>
<span class="normal">780</span>
<span class="normal">781</span>
<span class="normal">782</span>
<span class="normal">783</span>
<span class="normal">784</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">to_concat</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">first_doc</span><span class="p">:</span> <span class="s1">&#39;Document&#39;</span><span class="p">,</span> <span class="n">second_doc</span><span class="p">:</span> <span class="s1">&#39;Document&#39;</span><span class="p">,</span> <span class="n">deep_copy</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s1">&#39;Document&#39;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Concatenate two documents.</span>

<span class="sd">    Args:</span>
<span class="sd">        first_doc (Document): The first document.</span>
<span class="sd">        second_doc (Document: The second document.</span>
<span class="sd">        deep_copy (bool): If True, the documents are deep copied. If False, the documents are shallow copied.</span>

<span class="sd">    Returns: A new instance of Document with the documents concatenated.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">first_doc</span> <span class="o">=</span> <span class="n">first_doc</span><span class="o">.</span><span class="n">clone</span><span class="p">()</span> <span class="k">if</span> <span class="n">deep_copy</span> <span class="k">else</span> <span class="n">first_doc</span>
    <span class="n">second_doc</span> <span class="o">=</span> <span class="n">second_doc</span><span class="o">.</span><span class="n">clone</span><span class="p">()</span> <span class="k">if</span> <span class="n">deep_copy</span> <span class="k">else</span> <span class="n">second_doc</span>
    <span class="n">first_doc</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">second_doc</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">first_doc</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.Document.to_transposed" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">to_transposed</span><span class="p">(</span><span class="n">interval</span><span class="p">,</span> <span class="n">direction</span><span class="o">=</span><span class="n">Direction</span><span class="o">.</span><span class="n">UP</span><span class="o">.</span><span class="n">value</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Create a new document with the transposed notes without modifying the original document.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>interval</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the interval to transpose. It can be 'P4', 'P5', 'M2', etc. Check the              kp.AVAILABLE_INTERVALS for the available intervals.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>direction</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The direction to transpose. It can be 'up' or 'down'.</p>
              </div>
            </td>
            <td>
                  <code><span title="kernpy.core.transposer.Direction.UP">UP</span>.value</code>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns:</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/document.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">809</span>
<span class="normal">810</span>
<span class="normal">811</span>
<span class="normal">812</span>
<span class="normal">813</span>
<span class="normal">814</span>
<span class="normal">815</span>
<span class="normal">816</span>
<span class="normal">817</span>
<span class="normal">818</span>
<span class="normal">819</span>
<span class="normal">820</span>
<span class="normal">821</span>
<span class="normal">822</span>
<span class="normal">823</span>
<span class="normal">824</span>
<span class="normal">825</span>
<span class="normal">826</span>
<span class="normal">827</span>
<span class="normal">828</span>
<span class="normal">829</span>
<span class="normal">830</span>
<span class="normal">831</span>
<span class="normal">832</span>
<span class="normal">833</span>
<span class="normal">834</span>
<span class="normal">835</span>
<span class="normal">836</span>
<span class="normal">837</span>
<span class="normal">838</span>
<span class="normal">839</span>
<span class="normal">840</span>
<span class="normal">841</span>
<span class="normal">842</span>
<span class="normal">843</span>
<span class="normal">844</span>
<span class="normal">845</span>
<span class="normal">846</span>
<span class="normal">847</span>
<span class="normal">848</span>
<span class="normal">849</span>
<span class="normal">850</span>
<span class="normal">851</span>
<span class="normal">852</span>
<span class="normal">853</span>
<span class="normal">854</span>
<span class="normal">855</span>
<span class="normal">856</span>
<span class="normal">857</span>
<span class="normal">858</span>
<span class="normal">859</span>
<span class="normal">860</span>
<span class="normal">861</span>
<span class="normal">862</span>
<span class="normal">863</span>
<span class="normal">864</span>
<span class="normal">865</span>
<span class="normal">866</span>
<span class="normal">867</span>
<span class="normal">868</span>
<span class="normal">869</span>
<span class="normal">870</span>
<span class="normal">871</span>
<span class="normal">872</span>
<span class="normal">873</span>
<span class="normal">874</span>
<span class="normal">875</span>
<span class="normal">876</span>
<span class="normal">877</span>
<span class="normal">878</span>
<span class="normal">879</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">to_transposed</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">interval</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">direction</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Direction</span><span class="o">.</span><span class="n">UP</span><span class="o">.</span><span class="n">value</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s1">&#39;Document&#39;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Create a new document with the transposed notes without modifying the original document.</span>

<span class="sd">    Args:</span>
<span class="sd">        interval (str): The name of the interval to transpose. It can be &#39;P4&#39;, &#39;P5&#39;, &#39;M2&#39;, etc. Check the \</span>
<span class="sd">         kp.AVAILABLE_INTERVALS for the available intervals.</span>
<span class="sd">        direction (str): The direction to transpose. It can be &#39;up&#39; or &#39;down&#39;.</span>

<span class="sd">    Returns:</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">interval</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">AVAILABLE_INTERVALS</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Interval </span><span class="si">{</span><span class="n">interval</span><span class="si">!r}</span><span class="s2"> is not available. &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;Available intervals are: </span><span class="si">{</span><span class="n">AVAILABLE_INTERVALS</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="n">direction</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">(</span><span class="n">Direction</span><span class="o">.</span><span class="n">UP</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">Direction</span><span class="o">.</span><span class="n">DOWN</span><span class="o">.</span><span class="n">value</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Direction </span><span class="si">{</span><span class="n">direction</span><span class="si">!r}</span><span class="s2"> is not available. &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;Available directions are: &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">Direction</span><span class="o">.</span><span class="n">UP</span><span class="o">.</span><span class="n">value</span><span class="si">!r}</span><span class="s2">, </span><span class="si">{</span><span class="n">Direction</span><span class="o">.</span><span class="n">DOWN</span><span class="o">.</span><span class="n">value</span><span class="si">!r}</span><span class="s2">&quot;</span>
        <span class="p">)</span>

    <span class="n">new_document</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">clone</span><span class="p">()</span>

    <span class="c1"># BFS through the tree</span>
    <span class="n">root</span> <span class="o">=</span> <span class="n">new_document</span><span class="o">.</span><span class="n">tree</span><span class="o">.</span><span class="n">root</span>
    <span class="n">queue</span> <span class="o">=</span> <span class="n">Queue</span><span class="p">()</span>
    <span class="n">queue</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">root</span><span class="p">)</span>

    <span class="k">while</span> <span class="ow">not</span> <span class="n">queue</span><span class="o">.</span><span class="n">empty</span><span class="p">():</span>
        <span class="n">node</span> <span class="o">=</span> <span class="n">queue</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">token</span><span class="p">,</span> <span class="n">NoteRestToken</span><span class="p">):</span>
            <span class="n">orig_token</span> <span class="o">=</span> <span class="n">node</span><span class="o">.</span><span class="n">token</span>

            <span class="n">new_subtokens</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="n">transposed_pitch_encoding</span> <span class="o">=</span> <span class="kc">None</span>

            <span class="c1"># Transpose each pitch subtoken in the pitch–duration list</span>
            <span class="k">for</span> <span class="n">subtoken</span> <span class="ow">in</span> <span class="n">orig_token</span><span class="o">.</span><span class="n">pitch_duration_subtokens</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">subtoken</span><span class="o">.</span><span class="n">category</span> <span class="o">==</span> <span class="n">TokenCategory</span><span class="o">.</span><span class="n">PITCH</span><span class="p">:</span>
                    <span class="c1"># transpose() returns a new pitch subtoken</span>
                    <span class="n">tp</span> <span class="o">=</span> <span class="n">transpose</span><span class="p">(</span>
                        <span class="n">input_encoding</span><span class="o">=</span><span class="n">subtoken</span><span class="o">.</span><span class="n">encoding</span><span class="p">,</span>
                        <span class="n">interval</span><span class="o">=</span><span class="n">IntervalsByName</span><span class="p">[</span><span class="n">interval</span><span class="p">],</span>
                        <span class="n">direction</span><span class="o">=</span><span class="n">direction</span><span class="p">,</span>
                        <span class="n">input_format</span><span class="o">=</span><span class="n">NotationEncoding</span><span class="o">.</span><span class="n">HUMDRUM</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
                        <span class="n">output_format</span><span class="o">=</span><span class="n">NotationEncoding</span><span class="o">.</span><span class="n">HUMDRUM</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
                    <span class="p">)</span>
                    <span class="n">new_subtokens</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Subtoken</span><span class="p">(</span><span class="n">tp</span><span class="p">,</span> <span class="n">subtoken</span><span class="o">.</span><span class="n">category</span><span class="p">))</span>
                    <span class="n">transposed_pitch_encoding</span> <span class="o">=</span> <span class="n">tp</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="c1"># leave duration subtokens untouched</span>
                    <span class="n">new_subtokens</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Subtoken</span><span class="p">(</span><span class="n">subtoken</span><span class="o">.</span><span class="n">encoding</span><span class="p">,</span> <span class="n">subtoken</span><span class="o">.</span><span class="n">category</span><span class="p">))</span>

            <span class="c1"># Replace the node’s token with a new NoteRestToken</span>
            <span class="n">node</span><span class="o">.</span><span class="n">token</span> <span class="o">=</span> <span class="n">NoteRestToken</span><span class="p">(</span>
                <span class="n">encoding</span><span class="o">=</span><span class="n">transposed_pitch_encoding</span><span class="p">,</span>
                <span class="n">pitch_duration_subtokens</span><span class="o">=</span><span class="n">new_subtokens</span><span class="p">,</span>
                <span class="n">decoration_subtokens</span><span class="o">=</span><span class="n">orig_token</span><span class="o">.</span><span class="n">decoration_subtokens</span><span class="p">,</span>
            <span class="p">)</span>

        <span class="c1"># enqueue children</span>
        <span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="n">node</span><span class="o">.</span><span class="n">children</span><span class="p">:</span>
            <span class="n">queue</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">child</span><span class="p">)</span>

    <span class="c1"># Return the transposed clone</span>
    <span class="k">return</span> <span class="n">new_document</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.Document.tokens_to_encodings" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">tokens_to_encodings</span><span class="p">(</span><span class="n">tokens</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>Get the encodings of a list of tokens.</p>


<details class="the-method-is-equivalent-to-the-following-code" open>
  <summary>The method is equivalent to the following code</summary>
  <blockquote>
<blockquote>
<blockquote>
<p>tokens = kp.get_all_tokens()
[token.encoding for token in tokens if token.encoding is not None]</p>
</blockquote>
</blockquote>
</blockquote>
</details>

<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>tokens</code></td>
            <td>
                  <code><span title="collections.abc.Sequence">Sequence</span>[<a class="autorefs autorefs-internal" title="kernpy.core.AbstractToken" href="#kernpy.core.AbstractToken">AbstractToken</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>list - A list of tokens.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns: List[str] - A list of token encodings.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">tokens</span> <span class="o">=</span> <span class="n">document</span><span class="o">.</span><span class="n">get_all_tokens</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Document</span><span class="o">.</span><span class="n">tokens_to_encodings</span><span class="p">(</span><span class="n">tokens</span><span class="p">)</span>
<span class="go">[&#39;!!!COM: Coltrane&#39;, &#39;!!!voices: 1&#39;, &#39;!!!OPR: Blue Train&#39;]</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/document.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span>
<span class="normal">485</span>
<span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span>
<span class="normal">489</span>
<span class="normal">490</span>
<span class="normal">491</span>
<span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span>
<span class="normal">496</span>
<span class="normal">497</span>
<span class="normal">498</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">tokens_to_encodings</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">tokens</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">AbstractToken</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get the encodings of a list of tokens.</span>

<span class="sd">    The method is equivalent to the following code:</span>
<span class="sd">        &gt;&gt;&gt; tokens = kp.get_all_tokens()</span>
<span class="sd">        &gt;&gt;&gt; [token.encoding for token in tokens if token.encoding is not None]</span>

<span class="sd">    Args:</span>
<span class="sd">        tokens (Sequence[AbstractToken]): list - A list of tokens.</span>

<span class="sd">    Returns: List[str] - A list of token encodings.</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; tokens = document.get_all_tokens()</span>
<span class="sd">        &gt;&gt;&gt; Document.tokens_to_encodings(tokens)</span>
<span class="sd">        [&#39;!!!COM: Coltrane&#39;, &#39;!!!voices: 1&#39;, &#39;!!!OPR: Blue Train&#39;]</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">encodings</span> <span class="o">=</span> <span class="p">[</span><span class="n">token</span><span class="o">.</span><span class="n">encoding</span> <span class="k">for</span> <span class="n">token</span> <span class="ow">in</span> <span class="n">tokens</span> <span class="k">if</span> <span class="n">token</span><span class="o">.</span><span class="n">encoding</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">encodings</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="kernpy.Duration" class="doc doc-heading">
            <code>Duration</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="abc.ABC">ABC</span></code></p>


        <p>Represents the duration of a note or a rest.</p>
<p>The duration is represented using the Humdrum Kern format.
The duration is a number that represents the number of units of the duration.</p>
<p>The duration of a whole note is 1, half note is 2, quarter note is 4, eighth note is 8, etc.</p>
<p>The duration of a note is represented by a number. The duration of a rest is also represented by a number.</p>
<p>This class do not limit the duration ranges.</p>
<p>In the following example, the duration is represented by the number '2'.</p>
<pre><code>**kern
*clefG2
2c          // whole note
4c          // half note
8c          // quarter note
16c         // eighth note
*-
</code></pre>

              <details class="quote">
                <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 970</span>
<span class="normal"> 971</span>
<span class="normal"> 972</span>
<span class="normal"> 973</span>
<span class="normal"> 974</span>
<span class="normal"> 975</span>
<span class="normal"> 976</span>
<span class="normal"> 977</span>
<span class="normal"> 978</span>
<span class="normal"> 979</span>
<span class="normal"> 980</span>
<span class="normal"> 981</span>
<span class="normal"> 982</span>
<span class="normal"> 983</span>
<span class="normal"> 984</span>
<span class="normal"> 985</span>
<span class="normal"> 986</span>
<span class="normal"> 987</span>
<span class="normal"> 988</span>
<span class="normal"> 989</span>
<span class="normal"> 990</span>
<span class="normal"> 991</span>
<span class="normal"> 992</span>
<span class="normal"> 993</span>
<span class="normal"> 994</span>
<span class="normal"> 995</span>
<span class="normal"> 996</span>
<span class="normal"> 997</span>
<span class="normal"> 998</span>
<span class="normal"> 999</span>
<span class="normal">1000</span>
<span class="normal">1001</span>
<span class="normal">1002</span>
<span class="normal">1003</span>
<span class="normal">1004</span>
<span class="normal">1005</span>
<span class="normal">1006</span>
<span class="normal">1007</span>
<span class="normal">1008</span>
<span class="normal">1009</span>
<span class="normal">1010</span>
<span class="normal">1011</span>
<span class="normal">1012</span>
<span class="normal">1013</span>
<span class="normal">1014</span>
<span class="normal">1015</span>
<span class="normal">1016</span>
<span class="normal">1017</span>
<span class="normal">1018</span>
<span class="normal">1019</span>
<span class="normal">1020</span>
<span class="normal">1021</span>
<span class="normal">1022</span>
<span class="normal">1023</span>
<span class="normal">1024</span>
<span class="normal">1025</span>
<span class="normal">1026</span>
<span class="normal">1027</span>
<span class="normal">1028</span>
<span class="normal">1029</span>
<span class="normal">1030</span>
<span class="normal">1031</span>
<span class="normal">1032</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">Duration</span><span class="p">(</span><span class="n">ABC</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Represents the duration of a note or a rest.</span>

<span class="sd">    The duration is represented using the Humdrum Kern format.</span>
<span class="sd">    The duration is a number that represents the number of units of the duration.</span>

<span class="sd">    The duration of a whole note is 1, half note is 2, quarter note is 4, eighth note is 8, etc.</span>

<span class="sd">    The duration of a note is represented by a number. The duration of a rest is also represented by a number.</span>

<span class="sd">    This class do not limit the duration ranges.</span>

<span class="sd">    In the following example, the duration is represented by the number &#39;2&#39;.</span>
<span class="sd">    ```</span>
<span class="sd">    **kern</span>
<span class="sd">    *clefG2</span>
<span class="sd">    2c          // whole note</span>
<span class="sd">    4c          // half note</span>
<span class="sd">    8c          // quarter note</span>
<span class="sd">    16c         // eighth note</span>
<span class="sd">    *-</span>
<span class="sd">    ```</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">raw_duration</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">encoding</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">raw_duration</span><span class="p">)</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">modify</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ratio</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
        <span class="k">pass</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">__deepcopy__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">memo</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="k">pass</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">pass</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__ne__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">pass</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__gt__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">pass</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__lt__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">pass</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__ge__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">pass</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__le__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">pass</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">pass</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="kernpy.DurationClassical" class="doc doc-heading">
            <code>DurationClassical</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="kernpy.core.tokens.Duration" href="#kernpy.core.Duration">Duration</a></code></p>


        <p>Represents the duration in classical notation of a note or a rest.</p>

              <details class="quote">
                <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1078</span>
<span class="normal">1079</span>
<span class="normal">1080</span>
<span class="normal">1081</span>
<span class="normal">1082</span>
<span class="normal">1083</span>
<span class="normal">1084</span>
<span class="normal">1085</span>
<span class="normal">1086</span>
<span class="normal">1087</span>
<span class="normal">1088</span>
<span class="normal">1089</span>
<span class="normal">1090</span>
<span class="normal">1091</span>
<span class="normal">1092</span>
<span class="normal">1093</span>
<span class="normal">1094</span>
<span class="normal">1095</span>
<span class="normal">1096</span>
<span class="normal">1097</span>
<span class="normal">1098</span>
<span class="normal">1099</span>
<span class="normal">1100</span>
<span class="normal">1101</span>
<span class="normal">1102</span>
<span class="normal">1103</span>
<span class="normal">1104</span>
<span class="normal">1105</span>
<span class="normal">1106</span>
<span class="normal">1107</span>
<span class="normal">1108</span>
<span class="normal">1109</span>
<span class="normal">1110</span>
<span class="normal">1111</span>
<span class="normal">1112</span>
<span class="normal">1113</span>
<span class="normal">1114</span>
<span class="normal">1115</span>
<span class="normal">1116</span>
<span class="normal">1117</span>
<span class="normal">1118</span>
<span class="normal">1119</span>
<span class="normal">1120</span>
<span class="normal">1121</span>
<span class="normal">1122</span>
<span class="normal">1123</span>
<span class="normal">1124</span>
<span class="normal">1125</span>
<span class="normal">1126</span>
<span class="normal">1127</span>
<span class="normal">1128</span>
<span class="normal">1129</span>
<span class="normal">1130</span>
<span class="normal">1131</span>
<span class="normal">1132</span>
<span class="normal">1133</span>
<span class="normal">1134</span>
<span class="normal">1135</span>
<span class="normal">1136</span>
<span class="normal">1137</span>
<span class="normal">1138</span>
<span class="normal">1139</span>
<span class="normal">1140</span>
<span class="normal">1141</span>
<span class="normal">1142</span>
<span class="normal">1143</span>
<span class="normal">1144</span>
<span class="normal">1145</span>
<span class="normal">1146</span>
<span class="normal">1147</span>
<span class="normal">1148</span>
<span class="normal">1149</span>
<span class="normal">1150</span>
<span class="normal">1151</span>
<span class="normal">1152</span>
<span class="normal">1153</span>
<span class="normal">1154</span>
<span class="normal">1155</span>
<span class="normal">1156</span>
<span class="normal">1157</span>
<span class="normal">1158</span>
<span class="normal">1159</span>
<span class="normal">1160</span>
<span class="normal">1161</span>
<span class="normal">1162</span>
<span class="normal">1163</span>
<span class="normal">1164</span>
<span class="normal">1165</span>
<span class="normal">1166</span>
<span class="normal">1167</span>
<span class="normal">1168</span>
<span class="normal">1169</span>
<span class="normal">1170</span>
<span class="normal">1171</span>
<span class="normal">1172</span>
<span class="normal">1173</span>
<span class="normal">1174</span>
<span class="normal">1175</span>
<span class="normal">1176</span>
<span class="normal">1177</span>
<span class="normal">1178</span>
<span class="normal">1179</span>
<span class="normal">1180</span>
<span class="normal">1181</span>
<span class="normal">1182</span>
<span class="normal">1183</span>
<span class="normal">1184</span>
<span class="normal">1185</span>
<span class="normal">1186</span>
<span class="normal">1187</span>
<span class="normal">1188</span>
<span class="normal">1189</span>
<span class="normal">1190</span>
<span class="normal">1191</span>
<span class="normal">1192</span>
<span class="normal">1193</span>
<span class="normal">1194</span>
<span class="normal">1195</span>
<span class="normal">1196</span>
<span class="normal">1197</span>
<span class="normal">1198</span>
<span class="normal">1199</span>
<span class="normal">1200</span>
<span class="normal">1201</span>
<span class="normal">1202</span>
<span class="normal">1203</span>
<span class="normal">1204</span>
<span class="normal">1205</span>
<span class="normal">1206</span>
<span class="normal">1207</span>
<span class="normal">1208</span>
<span class="normal">1209</span>
<span class="normal">1210</span>
<span class="normal">1211</span>
<span class="normal">1212</span>
<span class="normal">1213</span>
<span class="normal">1214</span>
<span class="normal">1215</span>
<span class="normal">1216</span>
<span class="normal">1217</span>
<span class="normal">1218</span>
<span class="normal">1219</span>
<span class="normal">1220</span>
<span class="normal">1221</span>
<span class="normal">1222</span>
<span class="normal">1223</span>
<span class="normal">1224</span>
<span class="normal">1225</span>
<span class="normal">1226</span>
<span class="normal">1227</span>
<span class="normal">1228</span>
<span class="normal">1229</span>
<span class="normal">1230</span>
<span class="normal">1231</span>
<span class="normal">1232</span>
<span class="normal">1233</span>
<span class="normal">1234</span>
<span class="normal">1235</span>
<span class="normal">1236</span>
<span class="normal">1237</span>
<span class="normal">1238</span>
<span class="normal">1239</span>
<span class="normal">1240</span>
<span class="normal">1241</span>
<span class="normal">1242</span>
<span class="normal">1243</span>
<span class="normal">1244</span>
<span class="normal">1245</span>
<span class="normal">1246</span>
<span class="normal">1247</span>
<span class="normal">1248</span>
<span class="normal">1249</span>
<span class="normal">1250</span>
<span class="normal">1251</span>
<span class="normal">1252</span>
<span class="normal">1253</span>
<span class="normal">1254</span>
<span class="normal">1255</span>
<span class="normal">1256</span>
<span class="normal">1257</span>
<span class="normal">1258</span>
<span class="normal">1259</span>
<span class="normal">1260</span>
<span class="normal">1261</span>
<span class="normal">1262</span>
<span class="normal">1263</span>
<span class="normal">1264</span>
<span class="normal">1265</span>
<span class="normal">1266</span>
<span class="normal">1267</span>
<span class="normal">1268</span>
<span class="normal">1269</span>
<span class="normal">1270</span>
<span class="normal">1271</span>
<span class="normal">1272</span>
<span class="normal">1273</span>
<span class="normal">1274</span>
<span class="normal">1275</span>
<span class="normal">1276</span>
<span class="normal">1277</span>
<span class="normal">1278</span>
<span class="normal">1279</span>
<span class="normal">1280</span>
<span class="normal">1281</span>
<span class="normal">1282</span>
<span class="normal">1283</span>
<span class="normal">1284</span>
<span class="normal">1285</span>
<span class="normal">1286</span>
<span class="normal">1287</span>
<span class="normal">1288</span>
<span class="normal">1289</span>
<span class="normal">1290</span>
<span class="normal">1291</span>
<span class="normal">1292</span>
<span class="normal">1293</span>
<span class="normal">1294</span>
<span class="normal">1295</span>
<span class="normal">1296</span>
<span class="normal">1297</span>
<span class="normal">1298</span>
<span class="normal">1299</span>
<span class="normal">1300</span>
<span class="normal">1301</span>
<span class="normal">1302</span>
<span class="normal">1303</span>
<span class="normal">1304</span>
<span class="normal">1305</span>
<span class="normal">1306</span>
<span class="normal">1307</span>
<span class="normal">1308</span>
<span class="normal">1309</span>
<span class="normal">1310</span>
<span class="normal">1311</span>
<span class="normal">1312</span>
<span class="normal">1313</span>
<span class="normal">1314</span>
<span class="normal">1315</span>
<span class="normal">1316</span>
<span class="normal">1317</span>
<span class="normal">1318</span>
<span class="normal">1319</span>
<span class="normal">1320</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">DurationClassical</span><span class="p">(</span><span class="n">Duration</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Represents the duration in classical notation of a note or a rest.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">duration</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Create a new Duration object.</span>

<span class="sd">        Args:</span>
<span class="sd">            duration (str): duration representation in Humdrum Kern format</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; duration = DurationClassical(2)</span>
<span class="sd">            True</span>
<span class="sd">            &gt;&gt;&gt; duration = DurationClassical(4)</span>
<span class="sd">            True</span>
<span class="sd">            &gt;&gt;&gt; duration = DurationClassical(32)</span>
<span class="sd">            True</span>
<span class="sd">            &gt;&gt;&gt; duration = DurationClassical(1)</span>
<span class="sd">            True</span>
<span class="sd">            &gt;&gt;&gt; duration = DurationClassical(0)</span>
<span class="sd">            False</span>
<span class="sd">            &gt;&gt;&gt; duration = DurationClassical(-2)</span>
<span class="sd">            False</span>
<span class="sd">            &gt;&gt;&gt; duration = DurationClassical(3)</span>
<span class="sd">            False</span>
<span class="sd">            &gt;&gt;&gt; duration = DurationClassical(7)</span>
<span class="sd">            False</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">duration</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">DurationClassical</span><span class="o">.</span><span class="n">__is_valid_duration</span><span class="p">(</span><span class="n">duration</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Bad duration: </span><span class="si">{</span><span class="n">duration</span><span class="si">}</span><span class="s1"> was provided.&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">duration</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">duration</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">modify</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ratio</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Modify the duration of a note or a rest of the current object.</span>

<span class="sd">        Args:</span>
<span class="sd">            ratio (int): The factor to modify the duration. The factor must be greater than 0.</span>

<span class="sd">        Returns (DurationClassical): The new duration object with the modified duration.</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; duration = DurationClassical(2)</span>
<span class="sd">            &gt;&gt;&gt; new_duration = duration.modify(2)</span>
<span class="sd">            &gt;&gt;&gt; new_duration.duration</span>
<span class="sd">            4</span>
<span class="sd">            &gt;&gt;&gt; duration = DurationClassical(2)</span>
<span class="sd">            &gt;&gt;&gt; new_duration = duration.modify(0)</span>
<span class="sd">            Traceback (most recent call last):</span>
<span class="sd">            ...</span>
<span class="sd">            ValueError: Invalid factor provided: 0. The factor must be greater than 0.</span>
<span class="sd">            &gt;&gt;&gt; duration = DurationClassical(2)</span>
<span class="sd">            &gt;&gt;&gt; new_duration = duration.modify(-2)</span>
<span class="sd">            Traceback (most recent call last):</span>
<span class="sd">            ...</span>
<span class="sd">            ValueError: Invalid factor provided: -2. The factor must be greater than 0.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">ratio</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Invalid factor provided: </span><span class="si">{</span><span class="n">ratio</span><span class="si">}</span><span class="s1">. The factor must be an integer.&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">ratio</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Invalid factor provided: </span><span class="si">{</span><span class="n">ratio</span><span class="si">}</span><span class="s1">. The factor must be greater than 0.&#39;</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">DurationClassical</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">duration</span> <span class="o">*</span> <span class="n">ratio</span><span class="p">))</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">__deepcopy__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">memo</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">memo</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">memo</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="n">new_instance</span> <span class="o">=</span> <span class="n">DurationClassical</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">duration</span><span class="p">)</span>
        <span class="n">new_instance</span><span class="o">.</span><span class="n">duration</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">duration</span>
        <span class="k">return</span> <span class="n">new_instance</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">duration</span><span class="si">}</span><span class="s1">&#39;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="s1">&#39;DurationClassical&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Compare two durations.</span>

<span class="sd">        Args:</span>
<span class="sd">            other (DurationClassical): The other duration to compare</span>

<span class="sd">        Returns (bool): True if the durations are equal, False otherwise</span>


<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; duration = DurationClassical(2)</span>
<span class="sd">            &gt;&gt;&gt; duration2 = DurationClassical(2)</span>
<span class="sd">            &gt;&gt;&gt; duration == duration2</span>
<span class="sd">            True</span>
<span class="sd">            &gt;&gt;&gt; duration = DurationClassical(2)</span>
<span class="sd">            &gt;&gt;&gt; duration2 = DurationClassical(4)</span>
<span class="sd">            &gt;&gt;&gt; duration == duration2</span>
<span class="sd">            False</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">DurationClassical</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">duration</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">duration</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__ne__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="s1">&#39;DurationClassical&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Compare two durations.</span>

<span class="sd">        Args:</span>
<span class="sd">            other (DurationClassical): The other duration to compare</span>

<span class="sd">        Returns (bool):</span>
<span class="sd">            True if the durations are different, False otherwise</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; duration = DurationClassical(2)</span>
<span class="sd">            &gt;&gt;&gt; duration2 = DurationClassical(2)</span>
<span class="sd">            &gt;&gt;&gt; duration != duration2</span>
<span class="sd">            False</span>
<span class="sd">            &gt;&gt;&gt; duration = DurationClassical(2)</span>
<span class="sd">            &gt;&gt;&gt; duration2 = DurationClassical(4)</span>
<span class="sd">            &gt;&gt;&gt; duration != duration2</span>
<span class="sd">            True</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__eq__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__gt__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="s1">&#39;DurationClassical&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Compare two durations.</span>

<span class="sd">        Args:</span>
<span class="sd">            other: The other duration to compare</span>

<span class="sd">        Returns (bool):</span>
<span class="sd">            True if this duration is higher than the other, False otherwise</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; duration = DurationClassical(2)</span>
<span class="sd">            &gt;&gt;&gt; duration2 = DurationClassical(4)</span>
<span class="sd">            &gt;&gt;&gt; duration &gt; duration2</span>
<span class="sd">            False</span>
<span class="sd">            &gt;&gt;&gt; duration = DurationClassical(4)</span>
<span class="sd">            &gt;&gt;&gt; duration2 = DurationClassical(2)</span>
<span class="sd">            &gt;&gt;&gt; duration &gt; duration2</span>
<span class="sd">            True</span>
<span class="sd">            &gt;&gt;&gt; duration = DurationClassical(4)</span>
<span class="sd">            &gt;&gt;&gt; duration2 = DurationClassical(4)</span>
<span class="sd">            &gt;&gt;&gt; duration &gt; duration2</span>
<span class="sd">            False</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">DurationClassical</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Invalid comparison: &gt; operator can not be used to compare duration with </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">other</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">duration</span> <span class="o">&gt;</span> <span class="n">other</span><span class="o">.</span><span class="n">duration</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__lt__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="s1">&#39;DurationClassical&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Compare two durations.</span>

<span class="sd">        Args:</span>
<span class="sd">            other (DurationClassical): The other duration to compare</span>

<span class="sd">        Returns (bool):</span>
<span class="sd">            True if this duration is lower than the other, False otherwise</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; duration = DurationClassical(2)</span>
<span class="sd">            &gt;&gt;&gt; duration2 = DurationClassical(4)</span>
<span class="sd">            &gt;&gt;&gt; duration &lt; duration2</span>
<span class="sd">            True</span>
<span class="sd">            &gt;&gt;&gt; duration = DurationClassical(4)</span>
<span class="sd">            &gt;&gt;&gt; duration2 = DurationClassical(2)</span>
<span class="sd">            &gt;&gt;&gt; duration &lt; duration2</span>
<span class="sd">            False</span>
<span class="sd">            &gt;&gt;&gt; duration = DurationClassical(4)</span>
<span class="sd">            &gt;&gt;&gt; duration2 = DurationClassical(4)</span>
<span class="sd">            &gt;&gt;&gt; duration &lt; duration2</span>
<span class="sd">            False</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">DurationClassical</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Invalid comparison: &lt; operator can not be used to compare duration with </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">other</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">duration</span> <span class="o">&lt;</span> <span class="n">other</span><span class="o">.</span><span class="n">duration</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__ge__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="s1">&#39;DurationClassical&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Compare two durations.</span>

<span class="sd">        Args:</span>
<span class="sd">            other (DurationClassical): The other duration to compare</span>

<span class="sd">        Returns (bool):</span>
<span class="sd">            True if this duration is higher or equal than the other, False otherwise</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; duration = DurationClassical(2)</span>
<span class="sd">            &gt;&gt;&gt; duration2 = DurationClassical(4)</span>
<span class="sd">            &gt;&gt;&gt; duration &gt;= duration2</span>
<span class="sd">            False</span>
<span class="sd">            &gt;&gt;&gt; duration = DurationClassical(4)</span>
<span class="sd">            &gt;&gt;&gt; duration2 = DurationClassical(2)</span>
<span class="sd">            &gt;&gt;&gt; duration &gt;= duration2</span>
<span class="sd">            True</span>
<span class="sd">            &gt;&gt;&gt; duration = DurationClassical(4)</span>
<span class="sd">            &gt;&gt;&gt; duration2 = DurationClassical(4)</span>
<span class="sd">            &gt;&gt;&gt; duration &gt;= duration2</span>
<span class="sd">            True</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__gt__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__eq__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__le__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="s1">&#39;DurationClassical&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Compare two durations.</span>

<span class="sd">        Args:</span>
<span class="sd">            other (DurationClassical): The other duration to compare</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if this duration is lower or equal than the other, False otherwise</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; duration = DurationClassical(2)</span>
<span class="sd">            &gt;&gt;&gt; duration2 = DurationClassical(4)</span>
<span class="sd">            &gt;&gt;&gt; duration &lt;= duration2</span>
<span class="sd">            True</span>
<span class="sd">            &gt;&gt;&gt; duration = DurationClassical(4)</span>
<span class="sd">            &gt;&gt;&gt; duration2 = DurationClassical(2)</span>
<span class="sd">            &gt;&gt;&gt; duration &lt;= duration2</span>
<span class="sd">            False</span>
<span class="sd">            &gt;&gt;&gt; duration = DurationClassical(4)</span>
<span class="sd">            &gt;&gt;&gt; duration2 = DurationClassical(4)</span>
<span class="sd">            &gt;&gt;&gt; duration &lt;= duration2</span>
<span class="sd">            True</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__lt__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__eq__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">__is_valid_duration</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">duration</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">duration</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">duration</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">duration</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">duration</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">False</span>

            <span class="k">return</span> <span class="n">duration</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="ow">and</span> <span class="p">(</span><span class="n">duration</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">duration</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="kernpy.DurationClassical.__eq__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__eq__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Compare two durations.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>other</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.tokens.DurationClassical" href="#kernpy.core.DurationClassical">DurationClassical</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The other duration to compare</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns (bool): True if the durations are equal, False otherwise</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">duration</span> <span class="o">=</span> <span class="n">DurationClassical</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">duration2</span> <span class="o">=</span> <span class="n">DurationClassical</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">duration</span> <span class="o">==</span> <span class="n">duration2</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">duration</span> <span class="o">=</span> <span class="n">DurationClassical</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">duration2</span> <span class="o">=</span> <span class="n">DurationClassical</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">duration</span> <span class="o">==</span> <span class="n">duration2</span>
<span class="go">False</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1157</span>
<span class="normal">1158</span>
<span class="normal">1159</span>
<span class="normal">1160</span>
<span class="normal">1161</span>
<span class="normal">1162</span>
<span class="normal">1163</span>
<span class="normal">1164</span>
<span class="normal">1165</span>
<span class="normal">1166</span>
<span class="normal">1167</span>
<span class="normal">1168</span>
<span class="normal">1169</span>
<span class="normal">1170</span>
<span class="normal">1171</span>
<span class="normal">1172</span>
<span class="normal">1173</span>
<span class="normal">1174</span>
<span class="normal">1175</span>
<span class="normal">1176</span>
<span class="normal">1177</span>
<span class="normal">1178</span>
<span class="normal">1179</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="s1">&#39;DurationClassical&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Compare two durations.</span>

<span class="sd">    Args:</span>
<span class="sd">        other (DurationClassical): The other duration to compare</span>

<span class="sd">    Returns (bool): True if the durations are equal, False otherwise</span>


<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; duration = DurationClassical(2)</span>
<span class="sd">        &gt;&gt;&gt; duration2 = DurationClassical(2)</span>
<span class="sd">        &gt;&gt;&gt; duration == duration2</span>
<span class="sd">        True</span>
<span class="sd">        &gt;&gt;&gt; duration = DurationClassical(2)</span>
<span class="sd">        &gt;&gt;&gt; duration2 = DurationClassical(4)</span>
<span class="sd">        &gt;&gt;&gt; duration == duration2</span>
<span class="sd">        False</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">DurationClassical</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">duration</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">duration</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.DurationClassical.__ge__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__ge__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Compare two durations.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>other</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.tokens.DurationClassical" href="#kernpy.core.DurationClassical">DurationClassical</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The other duration to compare</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns (bool):
    True if this duration is higher or equal than the other, False otherwise</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">duration</span> <span class="o">=</span> <span class="n">DurationClassical</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">duration2</span> <span class="o">=</span> <span class="n">DurationClassical</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">duration</span> <span class="o">&gt;=</span> <span class="n">duration2</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">duration</span> <span class="o">=</span> <span class="n">DurationClassical</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">duration2</span> <span class="o">=</span> <span class="n">DurationClassical</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">duration</span> <span class="o">&gt;=</span> <span class="n">duration2</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">duration</span> <span class="o">=</span> <span class="n">DurationClassical</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">duration2</span> <span class="o">=</span> <span class="n">DurationClassical</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">duration</span> <span class="o">&gt;=</span> <span class="n">duration2</span>
<span class="go">True</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1259</span>
<span class="normal">1260</span>
<span class="normal">1261</span>
<span class="normal">1262</span>
<span class="normal">1263</span>
<span class="normal">1264</span>
<span class="normal">1265</span>
<span class="normal">1266</span>
<span class="normal">1267</span>
<span class="normal">1268</span>
<span class="normal">1269</span>
<span class="normal">1270</span>
<span class="normal">1271</span>
<span class="normal">1272</span>
<span class="normal">1273</span>
<span class="normal">1274</span>
<span class="normal">1275</span>
<span class="normal">1276</span>
<span class="normal">1277</span>
<span class="normal">1278</span>
<span class="normal">1279</span>
<span class="normal">1280</span>
<span class="normal">1281</span>
<span class="normal">1282</span>
<span class="normal">1283</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__ge__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="s1">&#39;DurationClassical&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Compare two durations.</span>

<span class="sd">    Args:</span>
<span class="sd">        other (DurationClassical): The other duration to compare</span>

<span class="sd">    Returns (bool):</span>
<span class="sd">        True if this duration is higher or equal than the other, False otherwise</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; duration = DurationClassical(2)</span>
<span class="sd">        &gt;&gt;&gt; duration2 = DurationClassical(4)</span>
<span class="sd">        &gt;&gt;&gt; duration &gt;= duration2</span>
<span class="sd">        False</span>
<span class="sd">        &gt;&gt;&gt; duration = DurationClassical(4)</span>
<span class="sd">        &gt;&gt;&gt; duration2 = DurationClassical(2)</span>
<span class="sd">        &gt;&gt;&gt; duration &gt;= duration2</span>
<span class="sd">        True</span>
<span class="sd">        &gt;&gt;&gt; duration = DurationClassical(4)</span>
<span class="sd">        &gt;&gt;&gt; duration2 = DurationClassical(4)</span>
<span class="sd">        &gt;&gt;&gt; duration &gt;= duration2</span>
<span class="sd">        True</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__gt__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__eq__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.DurationClassical.__gt__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__gt__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Compare two durations.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>other</code></td>
            <td>
                  <code>&#39;DurationClassical&#39;</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The other duration to compare</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns (bool):
    True if this duration is higher than the other, False otherwise</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">duration</span> <span class="o">=</span> <span class="n">DurationClassical</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">duration2</span> <span class="o">=</span> <span class="n">DurationClassical</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">duration</span> <span class="o">&gt;</span> <span class="n">duration2</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">duration</span> <span class="o">=</span> <span class="n">DurationClassical</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">duration2</span> <span class="o">=</span> <span class="n">DurationClassical</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">duration</span> <span class="o">&gt;</span> <span class="n">duration2</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">duration</span> <span class="o">=</span> <span class="n">DurationClassical</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">duration2</span> <span class="o">=</span> <span class="n">DurationClassical</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">duration</span> <span class="o">&gt;</span> <span class="n">duration2</span>
<span class="go">False</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1203</span>
<span class="normal">1204</span>
<span class="normal">1205</span>
<span class="normal">1206</span>
<span class="normal">1207</span>
<span class="normal">1208</span>
<span class="normal">1209</span>
<span class="normal">1210</span>
<span class="normal">1211</span>
<span class="normal">1212</span>
<span class="normal">1213</span>
<span class="normal">1214</span>
<span class="normal">1215</span>
<span class="normal">1216</span>
<span class="normal">1217</span>
<span class="normal">1218</span>
<span class="normal">1219</span>
<span class="normal">1220</span>
<span class="normal">1221</span>
<span class="normal">1222</span>
<span class="normal">1223</span>
<span class="normal">1224</span>
<span class="normal">1225</span>
<span class="normal">1226</span>
<span class="normal">1227</span>
<span class="normal">1228</span>
<span class="normal">1229</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__gt__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="s1">&#39;DurationClassical&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Compare two durations.</span>

<span class="sd">    Args:</span>
<span class="sd">        other: The other duration to compare</span>

<span class="sd">    Returns (bool):</span>
<span class="sd">        True if this duration is higher than the other, False otherwise</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; duration = DurationClassical(2)</span>
<span class="sd">        &gt;&gt;&gt; duration2 = DurationClassical(4)</span>
<span class="sd">        &gt;&gt;&gt; duration &gt; duration2</span>
<span class="sd">        False</span>
<span class="sd">        &gt;&gt;&gt; duration = DurationClassical(4)</span>
<span class="sd">        &gt;&gt;&gt; duration2 = DurationClassical(2)</span>
<span class="sd">        &gt;&gt;&gt; duration &gt; duration2</span>
<span class="sd">        True</span>
<span class="sd">        &gt;&gt;&gt; duration = DurationClassical(4)</span>
<span class="sd">        &gt;&gt;&gt; duration2 = DurationClassical(4)</span>
<span class="sd">        &gt;&gt;&gt; duration &gt; duration2</span>
<span class="sd">        False</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">DurationClassical</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Invalid comparison: &gt; operator can not be used to compare duration with </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">other</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">duration</span> <span class="o">&gt;</span> <span class="n">other</span><span class="o">.</span><span class="n">duration</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.DurationClassical.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">duration</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Create a new Duration object.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>duration</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>duration representation in Humdrum Kern format</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">duration</span> <span class="o">=</span> <span class="n">DurationClassical</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">duration</span> <span class="o">=</span> <span class="n">DurationClassical</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">duration</span> <span class="o">=</span> <span class="n">DurationClassical</span><span class="p">(</span><span class="mi">32</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">duration</span> <span class="o">=</span> <span class="n">DurationClassical</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">duration</span> <span class="o">=</span> <span class="n">DurationClassical</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">duration</span> <span class="o">=</span> <span class="n">DurationClassical</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">duration</span> <span class="o">=</span> <span class="n">DurationClassical</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">duration</span> <span class="o">=</span> <span class="n">DurationClassical</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span>
<span class="go">False</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1083</span>
<span class="normal">1084</span>
<span class="normal">1085</span>
<span class="normal">1086</span>
<span class="normal">1087</span>
<span class="normal">1088</span>
<span class="normal">1089</span>
<span class="normal">1090</span>
<span class="normal">1091</span>
<span class="normal">1092</span>
<span class="normal">1093</span>
<span class="normal">1094</span>
<span class="normal">1095</span>
<span class="normal">1096</span>
<span class="normal">1097</span>
<span class="normal">1098</span>
<span class="normal">1099</span>
<span class="normal">1100</span>
<span class="normal">1101</span>
<span class="normal">1102</span>
<span class="normal">1103</span>
<span class="normal">1104</span>
<span class="normal">1105</span>
<span class="normal">1106</span>
<span class="normal">1107</span>
<span class="normal">1108</span>
<span class="normal">1109</span>
<span class="normal">1110</span>
<span class="normal">1111</span>
<span class="normal">1112</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">duration</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Create a new Duration object.</span>

<span class="sd">    Args:</span>
<span class="sd">        duration (str): duration representation in Humdrum Kern format</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; duration = DurationClassical(2)</span>
<span class="sd">        True</span>
<span class="sd">        &gt;&gt;&gt; duration = DurationClassical(4)</span>
<span class="sd">        True</span>
<span class="sd">        &gt;&gt;&gt; duration = DurationClassical(32)</span>
<span class="sd">        True</span>
<span class="sd">        &gt;&gt;&gt; duration = DurationClassical(1)</span>
<span class="sd">        True</span>
<span class="sd">        &gt;&gt;&gt; duration = DurationClassical(0)</span>
<span class="sd">        False</span>
<span class="sd">        &gt;&gt;&gt; duration = DurationClassical(-2)</span>
<span class="sd">        False</span>
<span class="sd">        &gt;&gt;&gt; duration = DurationClassical(3)</span>
<span class="sd">        False</span>
<span class="sd">        &gt;&gt;&gt; duration = DurationClassical(7)</span>
<span class="sd">        False</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">duration</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">DurationClassical</span><span class="o">.</span><span class="n">__is_valid_duration</span><span class="p">(</span><span class="n">duration</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Bad duration: </span><span class="si">{</span><span class="n">duration</span><span class="si">}</span><span class="s1"> was provided.&#39;</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">duration</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">duration</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.DurationClassical.__le__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__le__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Compare two durations.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>other</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.tokens.DurationClassical" href="#kernpy.core.DurationClassical">DurationClassical</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The other duration to compare</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if this duration is lower or equal than the other, False otherwise</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">duration</span> <span class="o">=</span> <span class="n">DurationClassical</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">duration2</span> <span class="o">=</span> <span class="n">DurationClassical</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">duration</span> <span class="o">&lt;=</span> <span class="n">duration2</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">duration</span> <span class="o">=</span> <span class="n">DurationClassical</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">duration2</span> <span class="o">=</span> <span class="n">DurationClassical</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">duration</span> <span class="o">&lt;=</span> <span class="n">duration2</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">duration</span> <span class="o">=</span> <span class="n">DurationClassical</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">duration2</span> <span class="o">=</span> <span class="n">DurationClassical</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">duration</span> <span class="o">&lt;=</span> <span class="n">duration2</span>
<span class="go">True</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1285</span>
<span class="normal">1286</span>
<span class="normal">1287</span>
<span class="normal">1288</span>
<span class="normal">1289</span>
<span class="normal">1290</span>
<span class="normal">1291</span>
<span class="normal">1292</span>
<span class="normal">1293</span>
<span class="normal">1294</span>
<span class="normal">1295</span>
<span class="normal">1296</span>
<span class="normal">1297</span>
<span class="normal">1298</span>
<span class="normal">1299</span>
<span class="normal">1300</span>
<span class="normal">1301</span>
<span class="normal">1302</span>
<span class="normal">1303</span>
<span class="normal">1304</span>
<span class="normal">1305</span>
<span class="normal">1306</span>
<span class="normal">1307</span>
<span class="normal">1308</span>
<span class="normal">1309</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__le__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="s1">&#39;DurationClassical&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Compare two durations.</span>

<span class="sd">    Args:</span>
<span class="sd">        other (DurationClassical): The other duration to compare</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if this duration is lower or equal than the other, False otherwise</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; duration = DurationClassical(2)</span>
<span class="sd">        &gt;&gt;&gt; duration2 = DurationClassical(4)</span>
<span class="sd">        &gt;&gt;&gt; duration &lt;= duration2</span>
<span class="sd">        True</span>
<span class="sd">        &gt;&gt;&gt; duration = DurationClassical(4)</span>
<span class="sd">        &gt;&gt;&gt; duration2 = DurationClassical(2)</span>
<span class="sd">        &gt;&gt;&gt; duration &lt;= duration2</span>
<span class="sd">        False</span>
<span class="sd">        &gt;&gt;&gt; duration = DurationClassical(4)</span>
<span class="sd">        &gt;&gt;&gt; duration2 = DurationClassical(4)</span>
<span class="sd">        &gt;&gt;&gt; duration &lt;= duration2</span>
<span class="sd">        True</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__lt__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__eq__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.DurationClassical.__lt__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__lt__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Compare two durations.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>other</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.tokens.DurationClassical" href="#kernpy.core.DurationClassical">DurationClassical</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The other duration to compare</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns (bool):
    True if this duration is lower than the other, False otherwise</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">duration</span> <span class="o">=</span> <span class="n">DurationClassical</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">duration2</span> <span class="o">=</span> <span class="n">DurationClassical</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">duration</span> <span class="o">&lt;</span> <span class="n">duration2</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">duration</span> <span class="o">=</span> <span class="n">DurationClassical</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">duration2</span> <span class="o">=</span> <span class="n">DurationClassical</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">duration</span> <span class="o">&lt;</span> <span class="n">duration2</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">duration</span> <span class="o">=</span> <span class="n">DurationClassical</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">duration2</span> <span class="o">=</span> <span class="n">DurationClassical</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">duration</span> <span class="o">&lt;</span> <span class="n">duration2</span>
<span class="go">False</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1231</span>
<span class="normal">1232</span>
<span class="normal">1233</span>
<span class="normal">1234</span>
<span class="normal">1235</span>
<span class="normal">1236</span>
<span class="normal">1237</span>
<span class="normal">1238</span>
<span class="normal">1239</span>
<span class="normal">1240</span>
<span class="normal">1241</span>
<span class="normal">1242</span>
<span class="normal">1243</span>
<span class="normal">1244</span>
<span class="normal">1245</span>
<span class="normal">1246</span>
<span class="normal">1247</span>
<span class="normal">1248</span>
<span class="normal">1249</span>
<span class="normal">1250</span>
<span class="normal">1251</span>
<span class="normal">1252</span>
<span class="normal">1253</span>
<span class="normal">1254</span>
<span class="normal">1255</span>
<span class="normal">1256</span>
<span class="normal">1257</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__lt__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="s1">&#39;DurationClassical&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Compare two durations.</span>

<span class="sd">    Args:</span>
<span class="sd">        other (DurationClassical): The other duration to compare</span>

<span class="sd">    Returns (bool):</span>
<span class="sd">        True if this duration is lower than the other, False otherwise</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; duration = DurationClassical(2)</span>
<span class="sd">        &gt;&gt;&gt; duration2 = DurationClassical(4)</span>
<span class="sd">        &gt;&gt;&gt; duration &lt; duration2</span>
<span class="sd">        True</span>
<span class="sd">        &gt;&gt;&gt; duration = DurationClassical(4)</span>
<span class="sd">        &gt;&gt;&gt; duration2 = DurationClassical(2)</span>
<span class="sd">        &gt;&gt;&gt; duration &lt; duration2</span>
<span class="sd">        False</span>
<span class="sd">        &gt;&gt;&gt; duration = DurationClassical(4)</span>
<span class="sd">        &gt;&gt;&gt; duration2 = DurationClassical(4)</span>
<span class="sd">        &gt;&gt;&gt; duration &lt; duration2</span>
<span class="sd">        False</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">DurationClassical</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Invalid comparison: &lt; operator can not be used to compare duration with </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">other</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">duration</span> <span class="o">&lt;</span> <span class="n">other</span><span class="o">.</span><span class="n">duration</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.DurationClassical.__ne__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__ne__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Compare two durations.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>other</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.tokens.DurationClassical" href="#kernpy.core.DurationClassical">DurationClassical</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The other duration to compare</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns (bool):
    True if the durations are different, False otherwise</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">duration</span> <span class="o">=</span> <span class="n">DurationClassical</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">duration2</span> <span class="o">=</span> <span class="n">DurationClassical</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">duration</span> <span class="o">!=</span> <span class="n">duration2</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">duration</span> <span class="o">=</span> <span class="n">DurationClassical</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">duration2</span> <span class="o">=</span> <span class="n">DurationClassical</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">duration</span> <span class="o">!=</span> <span class="n">duration2</span>
<span class="go">True</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1181</span>
<span class="normal">1182</span>
<span class="normal">1183</span>
<span class="normal">1184</span>
<span class="normal">1185</span>
<span class="normal">1186</span>
<span class="normal">1187</span>
<span class="normal">1188</span>
<span class="normal">1189</span>
<span class="normal">1190</span>
<span class="normal">1191</span>
<span class="normal">1192</span>
<span class="normal">1193</span>
<span class="normal">1194</span>
<span class="normal">1195</span>
<span class="normal">1196</span>
<span class="normal">1197</span>
<span class="normal">1198</span>
<span class="normal">1199</span>
<span class="normal">1200</span>
<span class="normal">1201</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__ne__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="s1">&#39;DurationClassical&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Compare two durations.</span>

<span class="sd">    Args:</span>
<span class="sd">        other (DurationClassical): The other duration to compare</span>

<span class="sd">    Returns (bool):</span>
<span class="sd">        True if the durations are different, False otherwise</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; duration = DurationClassical(2)</span>
<span class="sd">        &gt;&gt;&gt; duration2 = DurationClassical(2)</span>
<span class="sd">        &gt;&gt;&gt; duration != duration2</span>
<span class="sd">        False</span>
<span class="sd">        &gt;&gt;&gt; duration = DurationClassical(2)</span>
<span class="sd">        &gt;&gt;&gt; duration2 = DurationClassical(4)</span>
<span class="sd">        &gt;&gt;&gt; duration != duration2</span>
<span class="sd">        True</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__eq__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.DurationClassical.modify" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">modify</span><span class="p">(</span><span class="n">ratio</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Modify the duration of a note or a rest of the current object.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>ratio</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The factor to modify the duration. The factor must be greater than 0.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns (DurationClassical): The new duration object with the modified duration.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">duration</span> <span class="o">=</span> <span class="n">DurationClassical</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new_duration</span> <span class="o">=</span> <span class="n">duration</span><span class="o">.</span><span class="n">modify</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new_duration</span><span class="o">.</span><span class="n">duration</span>
<span class="go">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">duration</span> <span class="o">=</span> <span class="n">DurationClassical</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new_duration</span> <span class="o">=</span> <span class="n">duration</span><span class="o">.</span><span class="n">modify</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">Invalid factor provided: 0. The factor must be greater than 0.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">duration</span> <span class="o">=</span> <span class="n">DurationClassical</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new_duration</span> <span class="o">=</span> <span class="n">duration</span><span class="o">.</span><span class="n">modify</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">Invalid factor provided: -2. The factor must be greater than 0.</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1114</span>
<span class="normal">1115</span>
<span class="normal">1116</span>
<span class="normal">1117</span>
<span class="normal">1118</span>
<span class="normal">1119</span>
<span class="normal">1120</span>
<span class="normal">1121</span>
<span class="normal">1122</span>
<span class="normal">1123</span>
<span class="normal">1124</span>
<span class="normal">1125</span>
<span class="normal">1126</span>
<span class="normal">1127</span>
<span class="normal">1128</span>
<span class="normal">1129</span>
<span class="normal">1130</span>
<span class="normal">1131</span>
<span class="normal">1132</span>
<span class="normal">1133</span>
<span class="normal">1134</span>
<span class="normal">1135</span>
<span class="normal">1136</span>
<span class="normal">1137</span>
<span class="normal">1138</span>
<span class="normal">1139</span>
<span class="normal">1140</span>
<span class="normal">1141</span>
<span class="normal">1142</span>
<span class="normal">1143</span>
<span class="normal">1144</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">modify</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ratio</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Modify the duration of a note or a rest of the current object.</span>

<span class="sd">    Args:</span>
<span class="sd">        ratio (int): The factor to modify the duration. The factor must be greater than 0.</span>

<span class="sd">    Returns (DurationClassical): The new duration object with the modified duration.</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; duration = DurationClassical(2)</span>
<span class="sd">        &gt;&gt;&gt; new_duration = duration.modify(2)</span>
<span class="sd">        &gt;&gt;&gt; new_duration.duration</span>
<span class="sd">        4</span>
<span class="sd">        &gt;&gt;&gt; duration = DurationClassical(2)</span>
<span class="sd">        &gt;&gt;&gt; new_duration = duration.modify(0)</span>
<span class="sd">        Traceback (most recent call last):</span>
<span class="sd">        ...</span>
<span class="sd">        ValueError: Invalid factor provided: 0. The factor must be greater than 0.</span>
<span class="sd">        &gt;&gt;&gt; duration = DurationClassical(2)</span>
<span class="sd">        &gt;&gt;&gt; new_duration = duration.modify(-2)</span>
<span class="sd">        Traceback (most recent call last):</span>
<span class="sd">        ...</span>
<span class="sd">        ValueError: Invalid factor provided: -2. The factor must be greater than 0.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">ratio</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Invalid factor provided: </span><span class="si">{</span><span class="n">ratio</span><span class="si">}</span><span class="s1">. The factor must be an integer.&#39;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">ratio</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Invalid factor provided: </span><span class="si">{</span><span class="n">ratio</span><span class="si">}</span><span class="s1">. The factor must be greater than 0.&#39;</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">DurationClassical</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">duration</span> <span class="o">*</span> <span class="n">ratio</span><span class="p">))</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="kernpy.DurationMensural" class="doc doc-heading">
            <code>DurationMensural</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="kernpy.core.tokens.Duration" href="#kernpy.core.Duration">Duration</a></code></p>


        <p>Represents the duration in mensural notation of a note or a rest.</p>

              <details class="quote">
                <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1041</span>
<span class="normal">1042</span>
<span class="normal">1043</span>
<span class="normal">1044</span>
<span class="normal">1045</span>
<span class="normal">1046</span>
<span class="normal">1047</span>
<span class="normal">1048</span>
<span class="normal">1049</span>
<span class="normal">1050</span>
<span class="normal">1051</span>
<span class="normal">1052</span>
<span class="normal">1053</span>
<span class="normal">1054</span>
<span class="normal">1055</span>
<span class="normal">1056</span>
<span class="normal">1057</span>
<span class="normal">1058</span>
<span class="normal">1059</span>
<span class="normal">1060</span>
<span class="normal">1061</span>
<span class="normal">1062</span>
<span class="normal">1063</span>
<span class="normal">1064</span>
<span class="normal">1065</span>
<span class="normal">1066</span>
<span class="normal">1067</span>
<span class="normal">1068</span>
<span class="normal">1069</span>
<span class="normal">1070</span>
<span class="normal">1071</span>
<span class="normal">1072</span>
<span class="normal">1073</span>
<span class="normal">1074</span>
<span class="normal">1075</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">DurationMensural</span><span class="p">(</span><span class="n">Duration</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Represents the duration in mensural notation of a note or a rest.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">duration</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">duration</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">duration</span> <span class="o">=</span> <span class="n">duration</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">modify</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ratio</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">__deepcopy__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">memo</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__gt__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__lt__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__le__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__ge__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__ne__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="kernpy.DynSpineImporter" class="doc doc-heading">
            <code>DynSpineImporter</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="kernpy.core.spine_importer.SpineImporter" href="#kernpy.core.SpineImporter">SpineImporter</a></code></p>


              <details class="quote">
                <summary>Source code in <code>kernpy/core/dyn_importer.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">DynSpineImporter</span><span class="p">(</span><span class="n">SpineImporter</span><span class="p">):</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">verbose</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        KernSpineImporter constructor.</span>

<span class="sd">        Args:</span>
<span class="sd">            verbose (Optional[bool]): Level of verbosity for error messages.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="n">verbose</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">import_listener</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BaseANTLRSpineParserListener</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">KernSpineListener</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">import_token</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">encoding</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Token</span><span class="p">:</span>
        <span class="c1"># TODO: Find out differences between **dyn vs **dynam and change this class. Using the same dor both for now.</span>
        <span class="n">dynam_importer</span> <span class="o">=</span> <span class="n">DynamSpineImporter</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">dynam_importer</span><span class="o">.</span><span class="n">import_token</span><span class="p">(</span><span class="n">encoding</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="kernpy.DynSpineImporter.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>KernSpineImporter constructor.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>verbose</code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[bool]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Level of verbosity for error messages.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/dyn_importer.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">verbose</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    KernSpineImporter constructor.</span>

<span class="sd">    Args:</span>
<span class="sd">        verbose (Optional[bool]): Level of verbosity for error messages.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="n">verbose</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="kernpy.DynamSpineImporter" class="doc doc-heading">
            <code>DynamSpineImporter</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="kernpy.core.spine_importer.SpineImporter" href="#kernpy.core.SpineImporter">SpineImporter</a></code></p>


              <details class="quote">
                <summary>Source code in <code>kernpy/core/dynam_spine_importer.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">DynamSpineImporter</span><span class="p">(</span><span class="n">SpineImporter</span><span class="p">):</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">verbose</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        KernSpineImporter constructor.</span>

<span class="sd">        Args:</span>
<span class="sd">            verbose (Optional[bool]): Level of verbosity for error messages.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="n">verbose</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">import_listener</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BaseANTLRSpineParserListener</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">KernSpineListener</span><span class="p">()</span>  <span class="c1"># TODO: Create a custom functional listener for DynamSpineImporter</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">import_token</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">encoding</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Token</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_raise_error_if_wrong_input</span><span class="p">(</span><span class="n">encoding</span><span class="p">)</span>

        <span class="n">kern_spine_importer</span> <span class="o">=</span> <span class="n">KernSpineImporter</span><span class="p">()</span>
        <span class="n">token</span> <span class="o">=</span> <span class="n">kern_spine_importer</span><span class="o">.</span><span class="n">import_token</span><span class="p">(</span><span class="n">encoding</span><span class="p">)</span>

        <span class="n">ACCEPTED_CATEGORIES</span> <span class="o">=</span> <span class="p">{</span>
            <span class="n">TokenCategory</span><span class="o">.</span><span class="n">STRUCTURAL</span><span class="p">,</span>
            <span class="n">TokenCategory</span><span class="o">.</span><span class="n">SIGNATURES</span><span class="p">,</span>
            <span class="n">TokenCategory</span><span class="o">.</span><span class="n">EMPTY</span><span class="p">,</span>
            <span class="n">TokenCategory</span><span class="o">.</span><span class="n">IMAGE_ANNOTATIONS</span><span class="p">,</span>
            <span class="n">TokenCategory</span><span class="o">.</span><span class="n">BARLINES</span><span class="p">,</span>
            <span class="n">TokenCategory</span><span class="o">.</span><span class="n">COMMENTS</span><span class="p">,</span>
        <span class="p">}</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="nb">any</span><span class="p">(</span><span class="n">TokenCategory</span><span class="o">.</span><span class="n">is_child</span><span class="p">(</span><span class="n">child</span><span class="o">=</span><span class="n">token</span><span class="o">.</span><span class="n">category</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="n">cat</span><span class="p">)</span> <span class="k">for</span> <span class="n">cat</span> <span class="ow">in</span> <span class="n">ACCEPTED_CATEGORIES</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">SimpleToken</span><span class="p">(</span><span class="n">encoding</span><span class="p">,</span> <span class="n">TokenCategory</span><span class="o">.</span><span class="n">DYNAMICS</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">token</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="kernpy.DynamSpineImporter.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>KernSpineImporter constructor.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>verbose</code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[bool]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Level of verbosity for error messages.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/dynam_spine_importer.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">verbose</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    KernSpineImporter constructor.</span>

<span class="sd">    Args:</span>
<span class="sd">        verbose (Optional[bool]): Level of verbosity for error messages.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="n">verbose</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="kernpy.EkernTokenizer" class="doc doc-heading">
            <code>EkernTokenizer</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="kernpy.core.tokenizers.Tokenizer" href="#kernpy.core.Tokenizer">Tokenizer</a></code></p>


        <p>EkernTokenizer converts a Token into an eKern (Extended **kern) string representation. This format use a '@' separator for the     main tokens and a '·' separator for the decorations tokens.</p>

              <details class="quote">
                <summary>Source code in <code>kernpy/core/tokenizers.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">EkernTokenizer</span><span class="p">(</span><span class="n">Tokenizer</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    EkernTokenizer converts a Token into an eKern (Extended **kern) string representation. This format use a &#39;@&#39; separator for the \</span>
<span class="sd">    main tokens and a &#39;·&#39; separator for the decorations tokens.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">token_categories</span><span class="p">:</span> <span class="n">Set</span><span class="p">[</span><span class="s1">&#39;TokenCategory&#39;</span><span class="p">]):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Create a new EkernTokenizer</span>

<span class="sd">        Args:</span>
<span class="sd">            token_categories (List[TokenCategory]): List of categories to be tokenized. If None will raise an exception.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">token_categories</span><span class="o">=</span><span class="n">token_categories</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">tokenize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">token</span><span class="p">:</span> <span class="n">Token</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Tokenize a token into an eKern string representation.</span>
<span class="sd">        Args:</span>
<span class="sd">            token (Token): Token to be tokenized.</span>

<span class="sd">        Returns (str): eKern string representation.</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; token.encoding</span>
<span class="sd">            &#39;2@.@bb@-·_·L&#39;</span>
<span class="sd">            &gt;&gt;&gt; EkernTokenizer().tokenize(token)</span>
<span class="sd">            &#39;2@.@bb@-·_·L&#39;</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">token</span><span class="o">.</span><span class="n">export</span><span class="p">(</span><span class="n">filter_categories</span><span class="o">=</span><span class="k">lambda</span> <span class="n">cat</span><span class="p">:</span> <span class="n">cat</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">token_categories</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="kernpy.EkernTokenizer.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="p">,</span> <span class="n">token_categories</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Create a new EkernTokenizer</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>token_categories</code></td>
            <td>
                  <code><span title="typing.List">List</span>[<a class="autorefs autorefs-internal" title="kernpy.core.gkern.TokenCategory" href="#kernpy.core.TokenCategory">TokenCategory</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List of categories to be tokenized. If None will raise an exception.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokenizers.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">token_categories</span><span class="p">:</span> <span class="n">Set</span><span class="p">[</span><span class="s1">&#39;TokenCategory&#39;</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Create a new EkernTokenizer</span>

<span class="sd">    Args:</span>
<span class="sd">        token_categories (List[TokenCategory]): List of categories to be tokenized. If None will raise an exception.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">token_categories</span><span class="o">=</span><span class="n">token_categories</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.EkernTokenizer.tokenize" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">tokenize</span><span class="p">(</span><span class="n">token</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Tokenize a token into an eKern string representation.
Args:
    token (Token): Token to be tokenized.</p>
<p>Returns (str): eKern string representation.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">token</span><span class="o">.</span><span class="n">encoding</span>
<span class="go">&#39;2@.@bb@-·_·L&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">EkernTokenizer</span><span class="p">()</span><span class="o">.</span><span class="n">tokenize</span><span class="p">(</span><span class="n">token</span><span class="p">)</span>
<span class="go">&#39;2@.@bb@-·_·L&#39;</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokenizers.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">tokenize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">token</span><span class="p">:</span> <span class="n">Token</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Tokenize a token into an eKern string representation.</span>
<span class="sd">    Args:</span>
<span class="sd">        token (Token): Token to be tokenized.</span>

<span class="sd">    Returns (str): eKern string representation.</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; token.encoding</span>
<span class="sd">        &#39;2@.@bb@-·_·L&#39;</span>
<span class="sd">        &gt;&gt;&gt; EkernTokenizer().tokenize(token)</span>
<span class="sd">        &#39;2@.@bb@-·_·L&#39;</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">token</span><span class="o">.</span><span class="n">export</span><span class="p">(</span><span class="n">filter_categories</span><span class="o">=</span><span class="k">lambda</span> <span class="n">cat</span><span class="p">:</span> <span class="n">cat</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">token_categories</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="kernpy.ExportOptions" class="doc doc-heading">
            <code>ExportOptions</code>


</h2>


    <div class="doc doc-contents ">


        <p><code>ExportOptions</code> class.</p>
<p>Store the options to export a **kern file.</p>

              <details class="quote">
                <summary>Source code in <code>kernpy/core/exporter.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 15</span>
<span class="normal"> 16</span>
<span class="normal"> 17</span>
<span class="normal"> 18</span>
<span class="normal"> 19</span>
<span class="normal"> 20</span>
<span class="normal"> 21</span>
<span class="normal"> 22</span>
<span class="normal"> 23</span>
<span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">ExportOptions</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    `ExportOptions` class.</span>

<span class="sd">    Store the options to export a **kern file.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span>
            <span class="n">spine_types</span><span class="p">:</span> <span class="p">[]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">token_categories</span><span class="p">:</span> <span class="p">[]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">from_measure</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">to_measure</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">kern_type</span><span class="p">:</span> <span class="n">KernTypeExporter</span> <span class="o">=</span> <span class="n">KernTypeExporter</span><span class="o">.</span><span class="n">normalizedKern</span><span class="p">,</span>
            <span class="n">instruments</span><span class="p">:</span> <span class="p">[]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">show_measure_numbers</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
            <span class="n">spine_ids</span><span class="p">:</span> <span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Create a new ExportOptions object.</span>

<span class="sd">        Args:</span>
<span class="sd">            spine_types (Iterable): **kern, **mens, etc...</span>
<span class="sd">            token_categories (Iterable): TokenCategory</span>
<span class="sd">            from_measure (int): The measure to start exporting. When None, the exporter will start from the beginning of the file. The first measure is 1</span>
<span class="sd">            to_measure (int): The measure to end exporting. When None, the exporter will end at the end of the file.</span>
<span class="sd">            kern_type (KernTypeExporter): The type of the kern file to export.</span>
<span class="sd">            instruments (Iterable): The instruments to export. When None, all the instruments will be exported.</span>
<span class="sd">            show_measure_numbers (Bool): Show the measure numbers in the exported file.</span>
<span class="sd">            spine_ids (Iterable): The ids of the spines to export. When None, all the spines will be exported. Spines ids start from 0 and they are increased by 1.</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; import kernpy</span>

<span class="sd">            Create the importer and read the file</span>
<span class="sd">            &gt;&gt;&gt; hi = Importer()</span>
<span class="sd">            &gt;&gt;&gt; document = hi.import_file(&#39;file.krn&#39;)</span>
<span class="sd">            &gt;&gt;&gt; exporter = Exporter()</span>

<span class="sd">            Export the file with the specified options</span>
<span class="sd">            &gt;&gt;&gt; options = ExportOptions(spine_types=[&#39;**kern&#39;], token_categories=BEKERN_CATEGORIES)</span>
<span class="sd">            &gt;&gt;&gt; exported_data = exporter.export_string(document, options)</span>

<span class="sd">            Export only the lyrics</span>
<span class="sd">            &gt;&gt;&gt; options = ExportOptions(spine_types=[&#39;**kern&#39;], token_categories=[TokenCategory.LYRICS])</span>
<span class="sd">            &gt;&gt;&gt; exported_data = exporter.export_string(document, options)</span>

<span class="sd">            Export the comments</span>
<span class="sd">            &gt;&gt;&gt; options = ExportOptions(spine_types=[&#39;**kern&#39;], token_categories=[TokenCategory.LINE_COMMENTS, TokenCategory.FIELD_COMMENTS])</span>
<span class="sd">            &gt;&gt;&gt; exported_data = exporter.export_string(document, options)</span>

<span class="sd">            Export using the eKern version</span>
<span class="sd">            &gt;&gt;&gt; options = ExportOptions(spine_types=[&#39;**kern&#39;], token_categories=BEKERN_CATEGORIES, kern_type=KernTypeExporter.eKern)</span>
<span class="sd">            &gt;&gt;&gt; exported_data = exporter.export_string(document, options)</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">spine_types</span> <span class="o">=</span> <span class="n">spine_types</span> <span class="k">if</span> <span class="n">spine_types</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">deepcopy</span><span class="p">(</span><span class="n">HEADERS</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">from_measure</span> <span class="o">=</span> <span class="n">from_measure</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">to_measure</span> <span class="o">=</span> <span class="n">to_measure</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">token_categories</span> <span class="o">=</span> <span class="n">token_categories</span> <span class="k">if</span> <span class="n">token_categories</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="p">[</span><span class="n">c</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">TokenCategory</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">kern_type</span> <span class="o">=</span> <span class="n">kern_type</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">instruments</span> <span class="o">=</span> <span class="n">instruments</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">show_measure_numbers</span> <span class="o">=</span> <span class="n">show_measure_numbers</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">spine_ids</span> <span class="o">=</span> <span class="n">spine_ids</span>  <span class="c1"># When exporting, if spine_ids=None all the spines will be exported.</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="s1">&#39;ExportOptions&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Compare two ExportOptions objects.</span>

<span class="sd">        Args:</span>
<span class="sd">            other: The other ExportOptions object to compare.</span>

<span class="sd">        Returns (bool):</span>
<span class="sd">            True if the objects are equal, False otherwise.</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; options1 = ExportOptions(spine_types=[&#39;**kern&#39;], token_categories=BEKERN_CATEGORIES)</span>
<span class="sd">            &gt;&gt;&gt; options2 = ExportOptions(spine_types=[&#39;**kern&#39;], token_categories=BEKERN_CATEGORIES)</span>
<span class="sd">            &gt;&gt;&gt; options1 == options2</span>
<span class="sd">            True</span>

<span class="sd">            &gt;&gt;&gt; options3 = ExportOptions(spine_types=[&#39;**kern&#39;, &#39;**harm&#39;], token_categories=BEKERN_CATEGORIES)</span>
<span class="sd">            &gt;&gt;&gt; options1 == options3</span>
<span class="sd">            False</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">spine_types</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">spine_types</span> <span class="ow">and</span> \
            <span class="bp">self</span><span class="o">.</span><span class="n">token_categories</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">token_categories</span> <span class="ow">and</span> \
            <span class="bp">self</span><span class="o">.</span><span class="n">from_measure</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">from_measure</span> <span class="ow">and</span> \
            <span class="bp">self</span><span class="o">.</span><span class="n">to_measure</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">to_measure</span> <span class="ow">and</span> \
            <span class="bp">self</span><span class="o">.</span><span class="n">kern_type</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">kern_type</span> <span class="ow">and</span> \
            <span class="bp">self</span><span class="o">.</span><span class="n">instruments</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">instruments</span> <span class="ow">and</span> \
            <span class="bp">self</span><span class="o">.</span><span class="n">show_measure_numbers</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">show_measure_numbers</span> <span class="ow">and</span> \
            <span class="bp">self</span><span class="o">.</span><span class="n">spine_ids</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">spine_ids</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__ne__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="s1">&#39;ExportOptions&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Compare two ExportOptions objects.</span>

<span class="sd">        Args:</span>
<span class="sd">            other (ExportOptions): The other ExportOptions object to compare.</span>

<span class="sd">        Returns (bool):</span>
<span class="sd">            True if the objects are not equal, False otherwise.</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; options1 = ExportOptions(spine_types=[&#39;**kern&#39;], token_categories=BEKERN_CATEGORIES)</span>
<span class="sd">            &gt;&gt;&gt; options2 = ExportOptions(spine_types=[&#39;**kern&#39;], token_categories=BEKERN_CATEGORIES)</span>
<span class="sd">            &gt;&gt;&gt; options1 != options2</span>
<span class="sd">            False</span>

<span class="sd">            &gt;&gt;&gt; options3 = ExportOptions(spine_types=[&#39;**kern&#39;, &#39;**harm&#39;], token_categories=BEKERN_CATEGORIES)</span>
<span class="sd">            &gt;&gt;&gt; options1 != options3</span>
<span class="sd">            True</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__eq__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">default</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span>
            <span class="n">spine_types</span><span class="o">=</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">HEADERS</span><span class="p">),</span>
            <span class="n">token_categories</span><span class="o">=</span><span class="p">[</span><span class="n">c</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">TokenCategory</span><span class="p">],</span>
            <span class="n">from_measure</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="n">to_measure</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="n">kern_type</span><span class="o">=</span><span class="n">KernTypeExporter</span><span class="o">.</span><span class="n">normalizedKern</span><span class="p">,</span>
            <span class="n">instruments</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="n">show_measure_numbers</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
            <span class="n">spine_ids</span><span class="o">=</span><span class="kc">None</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="kernpy.ExportOptions.__eq__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__eq__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Compare two ExportOptions objects.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>other</code></td>
            <td>
                  <code>&#39;ExportOptions&#39;</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The other ExportOptions object to compare.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns (bool):
    True if the objects are equal, False otherwise.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">options1</span> <span class="o">=</span> <span class="n">ExportOptions</span><span class="p">(</span><span class="n">spine_types</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;**kern&#39;</span><span class="p">],</span> <span class="n">token_categories</span><span class="o">=</span><span class="n">BEKERN_CATEGORIES</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">options2</span> <span class="o">=</span> <span class="n">ExportOptions</span><span class="p">(</span><span class="n">spine_types</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;**kern&#39;</span><span class="p">],</span> <span class="n">token_categories</span><span class="o">=</span><span class="n">BEKERN_CATEGORIES</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">options1</span> <span class="o">==</span> <span class="n">options2</span>
<span class="go">True</span>
</code></pre></div>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">options3</span> <span class="o">=</span> <span class="n">ExportOptions</span><span class="p">(</span><span class="n">spine_types</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;**kern&#39;</span><span class="p">,</span> <span class="s1">&#39;**harm&#39;</span><span class="p">],</span> <span class="n">token_categories</span><span class="o">=</span><span class="n">BEKERN_CATEGORIES</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">options1</span> <span class="o">==</span> <span class="n">options3</span>
<span class="go">False</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/exporter.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="s1">&#39;ExportOptions&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Compare two ExportOptions objects.</span>

<span class="sd">    Args:</span>
<span class="sd">        other: The other ExportOptions object to compare.</span>

<span class="sd">    Returns (bool):</span>
<span class="sd">        True if the objects are equal, False otherwise.</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; options1 = ExportOptions(spine_types=[&#39;**kern&#39;], token_categories=BEKERN_CATEGORIES)</span>
<span class="sd">        &gt;&gt;&gt; options2 = ExportOptions(spine_types=[&#39;**kern&#39;], token_categories=BEKERN_CATEGORIES)</span>
<span class="sd">        &gt;&gt;&gt; options1 == options2</span>
<span class="sd">        True</span>

<span class="sd">        &gt;&gt;&gt; options3 = ExportOptions(spine_types=[&#39;**kern&#39;, &#39;**harm&#39;], token_categories=BEKERN_CATEGORIES)</span>
<span class="sd">        &gt;&gt;&gt; options1 == options3</span>
<span class="sd">        False</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">spine_types</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">spine_types</span> <span class="ow">and</span> \
        <span class="bp">self</span><span class="o">.</span><span class="n">token_categories</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">token_categories</span> <span class="ow">and</span> \
        <span class="bp">self</span><span class="o">.</span><span class="n">from_measure</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">from_measure</span> <span class="ow">and</span> \
        <span class="bp">self</span><span class="o">.</span><span class="n">to_measure</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">to_measure</span> <span class="ow">and</span> \
        <span class="bp">self</span><span class="o">.</span><span class="n">kern_type</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">kern_type</span> <span class="ow">and</span> \
        <span class="bp">self</span><span class="o">.</span><span class="n">instruments</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">instruments</span> <span class="ow">and</span> \
        <span class="bp">self</span><span class="o">.</span><span class="n">show_measure_numbers</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">show_measure_numbers</span> <span class="ow">and</span> \
        <span class="bp">self</span><span class="o">.</span><span class="n">spine_ids</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">spine_ids</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.ExportOptions.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">spine_types</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">token_categories</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">from_measure</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">to_measure</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">kern_type</span><span class="o">=</span><span class="n">KernTypeExporter</span><span class="o">.</span><span class="n">normalizedKern</span><span class="p">,</span> <span class="n">instruments</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">show_measure_numbers</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">spine_ids</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Create a new ExportOptions object.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>spine_types</code></td>
            <td>
                  <code>Iterable</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p><strong>kern, </strong>mens, etc...</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>token_categories</code></td>
            <td>
                  <code>Iterable</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>TokenCategory</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>from_measure</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The measure to start exporting. When None, the exporter will start from the beginning of the file. The first measure is 1</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>to_measure</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The measure to end exporting. When None, the exporter will end at the end of the file.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>kern_type</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.tokenizers.KernTypeExporter" href="#kernpy.core.KernTypeExporter">KernTypeExporter</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The type of the kern file to export.</p>
              </div>
            </td>
            <td>
                  <code><span title="kernpy.core.tokenizers.KernTypeExporter.normalizedKern">normalizedKern</span></code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>instruments</code></td>
            <td>
                  <code>Iterable</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The instruments to export. When None, all the instruments will be exported.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>show_measure_numbers</code></td>
            <td>
                  <code>Bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Show the measure numbers in the exported file.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>spine_ids</code></td>
            <td>
                  <code>Iterable</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The ids of the spines to export. When None, all the spines will be exported. Spines ids start from 0 and they are increased by 1.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


<details class="example" open>
  <summary>Example</summary>
  <blockquote>
<blockquote>
<blockquote>
<p>import kernpy</p>
</blockquote>
</blockquote>
</blockquote>
<p>Create the importer and read the file</p>
<blockquote>
<blockquote>
<blockquote>
<p>hi = Importer()
document = hi.import_file('file.krn')
exporter = Exporter()</p>
</blockquote>
</blockquote>
</blockquote>
<p>Export the file with the specified options</p>
<blockquote>
<blockquote>
<blockquote>
<p>options = ExportOptions(spine_types=['**kern'], token_categories=BEKERN_CATEGORIES)
exported_data = exporter.export_string(document, options)</p>
</blockquote>
</blockquote>
</blockquote>
<p>Export only the lyrics</p>
<blockquote>
<blockquote>
<blockquote>
<p>options = ExportOptions(spine_types=['**kern'], token_categories=[TokenCategory.LYRICS])
exported_data = exporter.export_string(document, options)</p>
</blockquote>
</blockquote>
</blockquote>
<p>Export the comments</p>
<blockquote>
<blockquote>
<blockquote>
<p>options = ExportOptions(spine_types=['**kern'], token_categories=[TokenCategory.LINE_COMMENTS, TokenCategory.FIELD_COMMENTS])
exported_data = exporter.export_string(document, options)</p>
</blockquote>
</blockquote>
</blockquote>
<p>Export using the eKern version</p>
<blockquote>
<blockquote>
<blockquote>
<p>options = ExportOptions(spine_types=['**kern'], token_categories=BEKERN_CATEGORIES, kern_type=KernTypeExporter.eKern)
exported_data = exporter.export_string(document, options)</p>
</blockquote>
</blockquote>
</blockquote>
</details>
            <details class="quote">
              <summary>Source code in <code>kernpy/core/exporter.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">spine_types</span><span class="p">:</span> <span class="p">[]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">token_categories</span><span class="p">:</span> <span class="p">[]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">from_measure</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">to_measure</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">kern_type</span><span class="p">:</span> <span class="n">KernTypeExporter</span> <span class="o">=</span> <span class="n">KernTypeExporter</span><span class="o">.</span><span class="n">normalizedKern</span><span class="p">,</span>
        <span class="n">instruments</span><span class="p">:</span> <span class="p">[]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">show_measure_numbers</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">spine_ids</span><span class="p">:</span> <span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Create a new ExportOptions object.</span>

<span class="sd">    Args:</span>
<span class="sd">        spine_types (Iterable): **kern, **mens, etc...</span>
<span class="sd">        token_categories (Iterable): TokenCategory</span>
<span class="sd">        from_measure (int): The measure to start exporting. When None, the exporter will start from the beginning of the file. The first measure is 1</span>
<span class="sd">        to_measure (int): The measure to end exporting. When None, the exporter will end at the end of the file.</span>
<span class="sd">        kern_type (KernTypeExporter): The type of the kern file to export.</span>
<span class="sd">        instruments (Iterable): The instruments to export. When None, all the instruments will be exported.</span>
<span class="sd">        show_measure_numbers (Bool): Show the measure numbers in the exported file.</span>
<span class="sd">        spine_ids (Iterable): The ids of the spines to export. When None, all the spines will be exported. Spines ids start from 0 and they are increased by 1.</span>

<span class="sd">    Example:</span>
<span class="sd">        &gt;&gt;&gt; import kernpy</span>

<span class="sd">        Create the importer and read the file</span>
<span class="sd">        &gt;&gt;&gt; hi = Importer()</span>
<span class="sd">        &gt;&gt;&gt; document = hi.import_file(&#39;file.krn&#39;)</span>
<span class="sd">        &gt;&gt;&gt; exporter = Exporter()</span>

<span class="sd">        Export the file with the specified options</span>
<span class="sd">        &gt;&gt;&gt; options = ExportOptions(spine_types=[&#39;**kern&#39;], token_categories=BEKERN_CATEGORIES)</span>
<span class="sd">        &gt;&gt;&gt; exported_data = exporter.export_string(document, options)</span>

<span class="sd">        Export only the lyrics</span>
<span class="sd">        &gt;&gt;&gt; options = ExportOptions(spine_types=[&#39;**kern&#39;], token_categories=[TokenCategory.LYRICS])</span>
<span class="sd">        &gt;&gt;&gt; exported_data = exporter.export_string(document, options)</span>

<span class="sd">        Export the comments</span>
<span class="sd">        &gt;&gt;&gt; options = ExportOptions(spine_types=[&#39;**kern&#39;], token_categories=[TokenCategory.LINE_COMMENTS, TokenCategory.FIELD_COMMENTS])</span>
<span class="sd">        &gt;&gt;&gt; exported_data = exporter.export_string(document, options)</span>

<span class="sd">        Export using the eKern version</span>
<span class="sd">        &gt;&gt;&gt; options = ExportOptions(spine_types=[&#39;**kern&#39;], token_categories=BEKERN_CATEGORIES, kern_type=KernTypeExporter.eKern)</span>
<span class="sd">        &gt;&gt;&gt; exported_data = exporter.export_string(document, options)</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">spine_types</span> <span class="o">=</span> <span class="n">spine_types</span> <span class="k">if</span> <span class="n">spine_types</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">deepcopy</span><span class="p">(</span><span class="n">HEADERS</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">from_measure</span> <span class="o">=</span> <span class="n">from_measure</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">to_measure</span> <span class="o">=</span> <span class="n">to_measure</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">token_categories</span> <span class="o">=</span> <span class="n">token_categories</span> <span class="k">if</span> <span class="n">token_categories</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="p">[</span><span class="n">c</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">TokenCategory</span><span class="p">]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">kern_type</span> <span class="o">=</span> <span class="n">kern_type</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">instruments</span> <span class="o">=</span> <span class="n">instruments</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">show_measure_numbers</span> <span class="o">=</span> <span class="n">show_measure_numbers</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">spine_ids</span> <span class="o">=</span> <span class="n">spine_ids</span>  <span class="c1"># When exporting, if spine_ids=None all the spines will be exported.</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.ExportOptions.__ne__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__ne__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Compare two ExportOptions objects.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>other</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.exporter.ExportOptions" href="#kernpy.core.ExportOptions">ExportOptions</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The other ExportOptions object to compare.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns (bool):
    True if the objects are not equal, False otherwise.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">options1</span> <span class="o">=</span> <span class="n">ExportOptions</span><span class="p">(</span><span class="n">spine_types</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;**kern&#39;</span><span class="p">],</span> <span class="n">token_categories</span><span class="o">=</span><span class="n">BEKERN_CATEGORIES</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">options2</span> <span class="o">=</span> <span class="n">ExportOptions</span><span class="p">(</span><span class="n">spine_types</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;**kern&#39;</span><span class="p">],</span> <span class="n">token_categories</span><span class="o">=</span><span class="n">BEKERN_CATEGORIES</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">options1</span> <span class="o">!=</span> <span class="n">options2</span>
<span class="go">False</span>
</code></pre></div>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">options3</span> <span class="o">=</span> <span class="n">ExportOptions</span><span class="p">(</span><span class="n">spine_types</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;**kern&#39;</span><span class="p">,</span> <span class="s1">&#39;**harm&#39;</span><span class="p">],</span> <span class="n">token_categories</span><span class="o">=</span><span class="n">BEKERN_CATEGORIES</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">options1</span> <span class="o">!=</span> <span class="n">options3</span>
<span class="go">True</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/exporter.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__ne__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="s1">&#39;ExportOptions&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Compare two ExportOptions objects.</span>

<span class="sd">    Args:</span>
<span class="sd">        other (ExportOptions): The other ExportOptions object to compare.</span>

<span class="sd">    Returns (bool):</span>
<span class="sd">        True if the objects are not equal, False otherwise.</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; options1 = ExportOptions(spine_types=[&#39;**kern&#39;], token_categories=BEKERN_CATEGORIES)</span>
<span class="sd">        &gt;&gt;&gt; options2 = ExportOptions(spine_types=[&#39;**kern&#39;], token_categories=BEKERN_CATEGORIES)</span>
<span class="sd">        &gt;&gt;&gt; options1 != options2</span>
<span class="sd">        False</span>

<span class="sd">        &gt;&gt;&gt; options3 = ExportOptions(spine_types=[&#39;**kern&#39;, &#39;**harm&#39;], token_categories=BEKERN_CATEGORIES)</span>
<span class="sd">        &gt;&gt;&gt; options1 != options3</span>
<span class="sd">        True</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__eq__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="kernpy.Exporter" class="doc doc-heading">
            <code>Exporter</code>


</h2>


    <div class="doc doc-contents ">


              <details class="quote">
                <summary>Source code in <code>kernpy/core/exporter.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">Exporter</span><span class="p">:</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">export_string</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">document</span><span class="p">:</span> <span class="n">Document</span><span class="p">,</span> <span class="n">options</span><span class="p">:</span> <span class="n">ExportOptions</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">export_options_validator</span><span class="p">(</span><span class="n">document</span><span class="p">,</span> <span class="n">options</span><span class="p">)</span>

        <span class="n">rows</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="k">if</span> <span class="n">options</span><span class="o">.</span><span class="n">to_measure</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">options</span><span class="o">.</span><span class="n">to_measure</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">document</span><span class="o">.</span><span class="n">measure_start_tree_stages</span><span class="p">):</span>

            <span class="k">if</span> <span class="n">options</span><span class="o">.</span><span class="n">to_measure</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">document</span><span class="o">.</span><span class="n">measure_start_tree_stages</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">:</span>
                <span class="n">to_stage</span> <span class="o">=</span> <span class="n">document</span><span class="o">.</span><span class="n">measure_start_tree_stages</span><span class="p">[</span>
                    <span class="n">options</span><span class="o">.</span><span class="n">to_measure</span><span class="p">]</span>  <span class="c1"># take the barlines from the next coming measure</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">to_stage</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">document</span><span class="o">.</span><span class="n">tree</span><span class="o">.</span><span class="n">stages</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span>  <span class="c1"># all stages</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">to_stage</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">document</span><span class="o">.</span><span class="n">tree</span><span class="o">.</span><span class="n">stages</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span>  <span class="c1"># all stages</span>

        <span class="k">if</span> <span class="n">options</span><span class="o">.</span><span class="n">from_measure</span><span class="p">:</span>
            <span class="c1"># In case of beginning not from the first measure, we recover the spine creation and the headers</span>
            <span class="c1"># Traversed in reverse order to only include the active spines at the given measure...</span>
            <span class="n">from_stage</span> <span class="o">=</span> <span class="n">document</span><span class="o">.</span><span class="n">measure_start_tree_stages</span><span class="p">[</span><span class="n">options</span><span class="o">.</span><span class="n">from_measure</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span>
            <span class="n">next_nodes</span> <span class="o">=</span> <span class="n">document</span><span class="o">.</span><span class="n">tree</span><span class="o">.</span><span class="n">stages</span><span class="p">[</span><span class="n">from_stage</span><span class="p">]</span>
            <span class="k">while</span> <span class="n">next_nodes</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">next_nodes</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">next_nodes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">!=</span> <span class="n">document</span><span class="o">.</span><span class="n">tree</span><span class="o">.</span><span class="n">root</span><span class="p">:</span>
                <span class="n">row</span> <span class="o">=</span> <span class="p">[]</span>
                <span class="n">new_next_nodes</span> <span class="o">=</span> <span class="p">[]</span>
                <span class="n">non_place_holder_in_row</span> <span class="o">=</span> <span class="kc">False</span>
                <span class="n">spine_operation_row</span> <span class="o">=</span> <span class="kc">False</span>
                <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">next_nodes</span><span class="p">:</span>
                    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">token</span><span class="p">,</span> <span class="n">SpineOperationToken</span><span class="p">):</span>
                        <span class="n">spine_operation_row</span> <span class="o">=</span> <span class="kc">True</span>
                        <span class="k">break</span>

                <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">next_nodes</span><span class="p">:</span>
                    <span class="n">content</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
                    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">token</span><span class="p">,</span> <span class="n">HeaderToken</span><span class="p">)</span> <span class="ow">and</span> <span class="n">node</span><span class="o">.</span><span class="n">token</span><span class="o">.</span><span class="n">encoding</span> <span class="ow">in</span> <span class="n">options</span><span class="o">.</span><span class="n">spine_types</span><span class="p">:</span>
                        <span class="n">content</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">export_token</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">token</span><span class="p">,</span> <span class="n">options</span><span class="p">)</span>
                        <span class="n">non_place_holder_in_row</span> <span class="o">=</span> <span class="kc">True</span>
                    <span class="k">elif</span> <span class="n">spine_operation_row</span><span class="p">:</span>
                        <span class="c1"># either if it is the split operator that has been cancelled, or the join one</span>
                        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">token</span><span class="p">,</span> <span class="n">SpineOperationToken</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">token</span><span class="o">.</span><span class="n">is_cancelled_at</span><span class="p">(</span>
                                <span class="n">from_stage</span><span class="p">)</span> <span class="ow">or</span> <span class="n">node</span><span class="o">.</span><span class="n">last_spine_operator_node</span> <span class="ow">and</span> <span class="n">node</span><span class="o">.</span><span class="n">last_spine_operator_node</span><span class="o">.</span><span class="n">token</span><span class="o">.</span><span class="n">cancelled_at_stage</span> <span class="o">==</span> <span class="n">node</span><span class="o">.</span><span class="n">stage</span><span class="p">):</span>
                            <span class="n">content</span> <span class="o">=</span> <span class="s1">&#39;*&#39;</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">content</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">export_token</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">token</span><span class="p">,</span> <span class="n">options</span><span class="p">)</span>
                            <span class="n">non_place_holder_in_row</span> <span class="o">=</span> <span class="kc">True</span>
                    <span class="k">if</span> <span class="n">content</span><span class="p">:</span>
                        <span class="n">row</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">content</span><span class="p">)</span>
                    <span class="n">new_next_nodes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">parent</span><span class="p">)</span>
                <span class="n">next_nodes</span> <span class="o">=</span> <span class="n">new_next_nodes</span>
                <span class="k">if</span> <span class="n">non_place_holder_in_row</span><span class="p">:</span>  <span class="c1"># if the row contains just place holders due to an ommitted place holder, don&#39;t add it</span>
                    <span class="n">rows</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">row</span><span class="p">)</span>

            <span class="c1"># now, export the signatures</span>
            <span class="n">node_signatures</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">document</span><span class="o">.</span><span class="n">tree</span><span class="o">.</span><span class="n">stages</span><span class="p">[</span><span class="n">from_stage</span><span class="p">]:</span>
                <span class="n">node_signature_rows</span> <span class="o">=</span> <span class="p">[]</span>
                <span class="k">for</span> <span class="n">signature_node</span> <span class="ow">in</span> <span class="n">node</span><span class="o">.</span><span class="n">last_signature_nodes</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
                    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_signature_cancelled</span><span class="p">(</span><span class="n">signature_node</span><span class="p">,</span> <span class="n">node</span><span class="p">,</span> <span class="n">from_stage</span><span class="p">,</span> <span class="n">to_stage</span><span class="p">):</span>
                        <span class="n">node_signature_rows</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">export_token</span><span class="p">(</span><span class="n">signature_node</span><span class="o">.</span><span class="n">token</span><span class="p">,</span> <span class="n">options</span><span class="p">))</span>
                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">node_signature_rows</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="k">if</span> <span class="ow">not</span> <span class="n">node_signatures</span><span class="p">:</span>
                        <span class="n">node_signatures</span> <span class="o">=</span> <span class="p">[]</span>  <span class="c1"># an array for each spine</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">node_signatures</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="n">node_signature_rows</span><span class="p">):</span>
                            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Node signature mismatch: multiple spines with signatures at measure </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">rows</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>  <span class="c1"># TODO better message</span>
                    <span class="n">node_signatures</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">node_signature_rows</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">node_signatures</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">irow</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">node_signatures</span><span class="p">[</span><span class="mi">0</span><span class="p">])):</span>  <span class="c1"># all spines have the same number of rows</span>
                    <span class="n">row</span> <span class="o">=</span> <span class="p">[]</span>
                    <span class="k">for</span> <span class="n">icol</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">node_signatures</span><span class="p">)):</span>  <span class="c1">#len(node_signatures) = number of spines</span>
                        <span class="n">row</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">node_signatures</span><span class="p">[</span><span class="n">icol</span><span class="p">][</span><span class="n">irow</span><span class="p">])</span>
                    <span class="n">rows</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">row</span><span class="p">)</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="n">from_stage</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="n">rows</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="c1">#if not node.token.category == TokenCategory.LINE_COMMENTS and not node.token.category == TokenCategory.FIELD_COMMENTS:</span>
        <span class="k">for</span> <span class="n">stage</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">from_stage</span><span class="p">,</span> <span class="n">to_stage</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>  <span class="c1"># to_stage included</span>
            <span class="n">row</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">document</span><span class="o">.</span><span class="n">tree</span><span class="o">.</span><span class="n">stages</span><span class="p">[</span><span class="n">stage</span><span class="p">]:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">append_row</span><span class="p">(</span><span class="n">document</span><span class="o">=</span><span class="n">document</span><span class="p">,</span> <span class="n">node</span><span class="o">=</span><span class="n">node</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="n">options</span><span class="p">,</span> <span class="n">row</span><span class="o">=</span><span class="n">row</span><span class="p">)</span>

            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">row</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">rows</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">row</span><span class="p">)</span>

        <span class="c1"># now, add the spine terminate row</span>
        <span class="k">if</span> <span class="n">options</span><span class="o">.</span><span class="n">to_measure</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">rows</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">rows</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">rows</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span>
            <span class="mi">0</span><span class="p">]</span> <span class="o">!=</span> <span class="s1">&#39;*-&#39;</span><span class="p">:</span>  <span class="c1"># if the terminate is not added yet</span>
            <span class="n">spine_count</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">rows</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">rows</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">])</span>
            <span class="n">row</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">spine_count</span><span class="p">):</span>
                <span class="n">row</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;*-&#39;</span><span class="p">)</span>
            <span class="n">rows</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">row</span><span class="p">)</span>

        <span class="n">result</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">rows</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">empty_row</span><span class="p">(</span><span class="n">row</span><span class="p">):</span>
                <span class="n">result</span> <span class="o">+=</span> <span class="s1">&#39;</span><span class="se">\t</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">row</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">compute_header_type</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">HeaderToken</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Compute the header type of the node.</span>

<span class="sd">        Args:</span>
<span class="sd">            node (Node): The node to compute.</span>

<span class="sd">        Returns (Optional[Token]): The header type `Node`object. None if the current node is the header.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">token</span><span class="p">,</span> <span class="n">HeaderToken</span><span class="p">):</span>
            <span class="n">header_type</span> <span class="o">=</span> <span class="n">node</span><span class="o">.</span><span class="n">token</span>
        <span class="k">elif</span> <span class="n">node</span><span class="o">.</span><span class="n">header_node</span><span class="p">:</span>
            <span class="n">header_type</span> <span class="o">=</span> <span class="n">node</span><span class="o">.</span><span class="n">header_node</span><span class="o">.</span><span class="n">token</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">header_type</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">return</span> <span class="n">header_type</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">export_token</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">token</span><span class="p">:</span> <span class="n">Token</span><span class="p">,</span> <span class="n">options</span><span class="p">:</span> <span class="n">ExportOptions</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">token</span><span class="p">,</span> <span class="n">HeaderToken</span><span class="p">):</span>
            <span class="n">new_token</span> <span class="o">=</span> <span class="n">HeaderTokenGenerator</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">token</span><span class="o">=</span><span class="n">token</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="n">options</span><span class="o">.</span><span class="n">kern_type</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">new_token</span> <span class="o">=</span> <span class="n">token</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">TokenizerFactory</span>
                <span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">options</span><span class="o">.</span><span class="n">kern_type</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">token_categories</span><span class="o">=</span><span class="n">options</span><span class="o">.</span><span class="n">token_categories</span><span class="p">)</span>
                <span class="o">.</span><span class="n">tokenize</span><span class="p">(</span><span class="n">new_token</span><span class="p">))</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">append_row</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">document</span><span class="p">:</span> <span class="n">Document</span><span class="p">,</span> <span class="n">node</span><span class="p">,</span> <span class="n">options</span><span class="p">:</span> <span class="n">ExportOptions</span><span class="p">,</span> <span class="n">row</span><span class="p">:</span> <span class="nb">list</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Append a row to the row list if the node accomplishes the requirements.</span>
<span class="sd">        Args:</span>
<span class="sd">            document (Document): The document with the spines.</span>
<span class="sd">            node (Node): The node to append.</span>
<span class="sd">            options (ExportOptions): The export options to filter the token.</span>
<span class="sd">            row (list): The row to append.</span>

<span class="sd">        Returns (bool): True if the row was appended. False if the row was not appended.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">header_type</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">compute_header_type</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>

        <span class="k">if</span> <span class="p">(</span><span class="n">header_type</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
                <span class="ow">and</span> <span class="n">header_type</span><span class="o">.</span><span class="n">encoding</span> <span class="ow">in</span> <span class="n">options</span><span class="o">.</span><span class="n">spine_types</span>
                <span class="ow">and</span> <span class="ow">not</span> <span class="n">node</span><span class="o">.</span><span class="n">token</span><span class="o">.</span><span class="n">hidden</span>
                <span class="ow">and</span> <span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">token</span><span class="p">,</span> <span class="n">ComplexToken</span><span class="p">)</span> <span class="ow">or</span> <span class="n">node</span><span class="o">.</span><span class="n">token</span><span class="o">.</span><span class="n">category</span> <span class="ow">in</span> <span class="n">options</span><span class="o">.</span><span class="n">token_categories</span><span class="p">)</span>
                <span class="ow">and</span> <span class="p">(</span><span class="n">options</span><span class="o">.</span><span class="n">spine_ids</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">header_type</span><span class="o">.</span><span class="n">spine_id</span> <span class="ow">in</span> <span class="n">options</span><span class="o">.</span><span class="n">spine_ids</span><span class="p">)</span>
        <span class="c1"># If None, all the spines will be exported. TODO: put all the spines as spine_ids = None</span>
        <span class="p">):</span>
            <span class="n">row</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">export_token</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">token</span><span class="p">,</span> <span class="n">options</span><span class="p">))</span>
            <span class="k">return</span> <span class="kc">True</span>

        <span class="k">return</span> <span class="kc">False</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_spine_types</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">document</span><span class="p">:</span> <span class="n">Document</span><span class="p">,</span> <span class="n">spine_types</span><span class="p">:</span> <span class="nb">list</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the spine types from the document.</span>

<span class="sd">        Args:</span>
<span class="sd">            document (Document): The document with the spines.</span>
<span class="sd">            spine_types (list): The spine types to export. If None, all the spine types will be exported.</span>

<span class="sd">        Returns: A list with the spine types.</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; exporter = Exporter()</span>
<span class="sd">            &gt;&gt;&gt; exporter.get_spine_types(document)</span>
<span class="sd">            [&#39;**kern&#39;, &#39;**kern&#39;, &#39;**kern&#39;, &#39;**kern&#39;, &#39;**root&#39;, &#39;**harm&#39;]</span>
<span class="sd">            &gt;&gt;&gt; exporter.get_spine_types(document, None)</span>
<span class="sd">            [&#39;**kern&#39;, &#39;**kern&#39;, &#39;**kern&#39;, &#39;**kern&#39;, &#39;**root&#39;, &#39;**harm&#39;]</span>
<span class="sd">            &gt;&gt;&gt; exporter.get_spine_types(document, [&#39;**kern&#39;])</span>
<span class="sd">            [&#39;**kern&#39;, &#39;**kern&#39;, &#39;**kern&#39;, &#39;**kern&#39;]</span>
<span class="sd">            &gt;&gt;&gt; exporter.get_spine_types(document, [&#39;**kern&#39;, &#39;**root&#39;])</span>
<span class="sd">            [&#39;**kern&#39;, &#39;**kern&#39;, &#39;**kern&#39;, &#39;**kern&#39;, &#39;**root&#39;]</span>
<span class="sd">            &gt;&gt;&gt; exporter.get_spine_types(document, [&#39;**kern&#39;, &#39;**root&#39;, &#39;**harm&#39;])</span>
<span class="sd">            [&#39;**kern&#39;, &#39;**kern&#39;, &#39;**kern&#39;, &#39;**kern&#39;, &#39;**root&#39;, &#39;**harm&#39;]</span>
<span class="sd">            &gt;&gt;&gt; exporter.get_spine_types(document, [])</span>
<span class="sd">            []</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">spine_types</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">spine_types</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">[]</span>

        <span class="n">options</span> <span class="o">=</span> <span class="n">ExportOptions</span><span class="p">(</span><span class="n">spine_types</span><span class="o">=</span><span class="n">spine_types</span><span class="p">,</span> <span class="n">token_categories</span><span class="o">=</span><span class="p">[</span><span class="n">TokenCategory</span><span class="o">.</span><span class="n">HEADER</span><span class="p">])</span>
        <span class="n">content</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">export_string</span><span class="p">(</span><span class="n">document</span><span class="p">,</span> <span class="n">options</span><span class="p">)</span>

        <span class="c1"># Remove all after the first line: **kern, **mens, etc... are always in the first row</span>
        <span class="n">lines</span> <span class="o">=</span> <span class="n">content</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="n">first_line</span> <span class="o">=</span> <span class="n">lines</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">tokens</span> <span class="o">=</span> <span class="n">first_line</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\t</span><span class="s1">&#39;</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">tokens</span> <span class="k">if</span> <span class="n">tokens</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[[],</span> <span class="p">[</span><span class="s1">&#39;&#39;</span><span class="p">]]</span> <span class="k">else</span> <span class="p">[]</span>


    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">export_options_validator</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">document</span><span class="p">:</span> <span class="n">Document</span><span class="p">,</span> <span class="n">options</span><span class="p">:</span> <span class="n">ExportOptions</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Validate the export options. Raise an exception if the options are invalid.</span>

<span class="sd">        Args:</span>
<span class="sd">            document: `Document` - The document to export.</span>
<span class="sd">            options: `ExportOptions` - The options to export the document.</span>

<span class="sd">        Returns: None</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; export_options_validator(document, options)</span>
<span class="sd">            ValueError: option from_measure must be &gt;=0 but -1 was found.</span>
<span class="sd">            &gt;&gt;&gt; export_options_validator(document, options2)</span>
<span class="sd">            None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">options</span><span class="o">.</span><span class="n">from_measure</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">options</span><span class="o">.</span><span class="n">from_measure</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;option from_measure must be &gt;=0 but </span><span class="si">{</span><span class="n">options</span><span class="o">.</span><span class="n">from_measure</span><span class="si">}</span><span class="s1"> was found. &#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">options</span><span class="o">.</span><span class="n">to_measure</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">options</span><span class="o">.</span><span class="n">to_measure</span> <span class="o">&gt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">document</span><span class="o">.</span><span class="n">measure_start_tree_stages</span><span class="p">):</span>
            <span class="c1"># &quot;TODO: DAVID, check options.to_measure bounds. len(document.measure_start_tree_stages) or len(document.measure_start_tree_stages) - 1&quot;</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s1">&#39;option to_measure must be &lt;= </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">document</span><span class="o">.</span><span class="n">measure_start_tree_stages</span><span class="p">)</span><span class="si">}</span><span class="s1"> but </span><span class="si">{</span><span class="n">options</span><span class="o">.</span><span class="n">to_measure</span><span class="si">}</span><span class="s1"> was found. &#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">options</span><span class="o">.</span><span class="n">to_measure</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">options</span><span class="o">.</span><span class="n">from_measure</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">options</span><span class="o">.</span><span class="n">to_measure</span> <span class="o">&lt;</span> <span class="n">options</span><span class="o">.</span><span class="n">from_measure</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s1">&#39;option to_measure must be &gt;= from_measure but </span><span class="si">{</span><span class="n">options</span><span class="o">.</span><span class="n">to_measure</span><span class="si">}</span><span class="s1"> &lt; </span><span class="si">{</span><span class="n">options</span><span class="o">.</span><span class="n">from_measure</span><span class="si">}</span><span class="s1"> was found. &#39;</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">is_signature_cancelled</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">signature_node</span><span class="p">,</span> <span class="n">node</span><span class="p">,</span> <span class="n">from_stage</span><span class="p">,</span> <span class="n">to_stage</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">node</span><span class="o">.</span><span class="n">token</span><span class="o">.</span><span class="vm">__class__</span> <span class="o">==</span> <span class="n">signature_node</span><span class="o">.</span><span class="n">token</span><span class="o">.</span><span class="vm">__class__</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">True</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">token</span><span class="p">,</span> <span class="n">NoteRestToken</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">elif</span> <span class="n">from_stage</span> <span class="o">&lt;</span> <span class="n">to_stage</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="n">node</span><span class="o">.</span><span class="n">children</span><span class="p">:</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_signature_cancelled</span><span class="p">(</span><span class="n">signature_node</span><span class="p">,</span> <span class="n">child</span><span class="p">,</span> <span class="n">from_stage</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">to_stage</span><span class="p">):</span>
                    <span class="k">return</span> <span class="kc">True</span>
            <span class="k">return</span> <span class="kc">False</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="kernpy.Exporter.append_row" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">append_row</span><span class="p">(</span><span class="n">document</span><span class="p">,</span> <span class="n">node</span><span class="p">,</span> <span class="n">options</span><span class="p">,</span> <span class="n">row</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Append a row to the row list if the node accomplishes the requirements.
Args:
    document (Document): The document with the spines.
    node (Node): The node to append.
    options (ExportOptions): The export options to filter the token.
    row (list): The row to append.</p>
<p>Returns (bool): True if the row was appended. False if the row was not appended.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/exporter.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">append_row</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">document</span><span class="p">:</span> <span class="n">Document</span><span class="p">,</span> <span class="n">node</span><span class="p">,</span> <span class="n">options</span><span class="p">:</span> <span class="n">ExportOptions</span><span class="p">,</span> <span class="n">row</span><span class="p">:</span> <span class="nb">list</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Append a row to the row list if the node accomplishes the requirements.</span>
<span class="sd">    Args:</span>
<span class="sd">        document (Document): The document with the spines.</span>
<span class="sd">        node (Node): The node to append.</span>
<span class="sd">        options (ExportOptions): The export options to filter the token.</span>
<span class="sd">        row (list): The row to append.</span>

<span class="sd">    Returns (bool): True if the row was appended. False if the row was not appended.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">header_type</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">compute_header_type</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>

    <span class="k">if</span> <span class="p">(</span><span class="n">header_type</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
            <span class="ow">and</span> <span class="n">header_type</span><span class="o">.</span><span class="n">encoding</span> <span class="ow">in</span> <span class="n">options</span><span class="o">.</span><span class="n">spine_types</span>
            <span class="ow">and</span> <span class="ow">not</span> <span class="n">node</span><span class="o">.</span><span class="n">token</span><span class="o">.</span><span class="n">hidden</span>
            <span class="ow">and</span> <span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">token</span><span class="p">,</span> <span class="n">ComplexToken</span><span class="p">)</span> <span class="ow">or</span> <span class="n">node</span><span class="o">.</span><span class="n">token</span><span class="o">.</span><span class="n">category</span> <span class="ow">in</span> <span class="n">options</span><span class="o">.</span><span class="n">token_categories</span><span class="p">)</span>
            <span class="ow">and</span> <span class="p">(</span><span class="n">options</span><span class="o">.</span><span class="n">spine_ids</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">header_type</span><span class="o">.</span><span class="n">spine_id</span> <span class="ow">in</span> <span class="n">options</span><span class="o">.</span><span class="n">spine_ids</span><span class="p">)</span>
    <span class="c1"># If None, all the spines will be exported. TODO: put all the spines as spine_ids = None</span>
    <span class="p">):</span>
        <span class="n">row</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">export_token</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">token</span><span class="p">,</span> <span class="n">options</span><span class="p">))</span>
        <span class="k">return</span> <span class="kc">True</span>

    <span class="k">return</span> <span class="kc">False</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.Exporter.compute_header_type" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">compute_header_type</span><span class="p">(</span><span class="n">node</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Compute the header type of the node.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>node</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.graphviz_exporter.Node" href="#kernpy.core.Node">Node</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The node to compute.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns (Optional[Token]): The header type <code>Node</code>object. None if the current node is the header.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/exporter.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">compute_header_type</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">HeaderToken</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Compute the header type of the node.</span>

<span class="sd">    Args:</span>
<span class="sd">        node (Node): The node to compute.</span>

<span class="sd">    Returns (Optional[Token]): The header type `Node`object. None if the current node is the header.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">token</span><span class="p">,</span> <span class="n">HeaderToken</span><span class="p">):</span>
        <span class="n">header_type</span> <span class="o">=</span> <span class="n">node</span><span class="o">.</span><span class="n">token</span>
    <span class="k">elif</span> <span class="n">node</span><span class="o">.</span><span class="n">header_node</span><span class="p">:</span>
        <span class="n">header_type</span> <span class="o">=</span> <span class="n">node</span><span class="o">.</span><span class="n">header_node</span><span class="o">.</span><span class="n">token</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">header_type</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">return</span> <span class="n">header_type</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.Exporter.export_options_validator" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">export_options_validator</span><span class="p">(</span><span class="n">document</span><span class="p">,</span> <span class="n">options</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>Validate the export options. Raise an exception if the options are invalid.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>document</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.Document" href="#kernpy.core.Document">Document</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p><code>Document</code> - The document to export.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>options</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.exporter.ExportOptions" href="#kernpy.core.ExportOptions">ExportOptions</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p><code>ExportOptions</code> - The options to export the document.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns: None</p>


<details class="example" open>
  <summary>Example</summary>
  <blockquote>
<blockquote>
<blockquote>
<p>export_options_validator(document, options)
ValueError: option from_measure must be &gt;=0 but -1 was found.
export_options_validator(document, options2)
None</p>
</blockquote>
</blockquote>
</blockquote>
</details>
            <details class="quote">
              <summary>Source code in <code>kernpy/core/exporter.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">export_options_validator</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">document</span><span class="p">:</span> <span class="n">Document</span><span class="p">,</span> <span class="n">options</span><span class="p">:</span> <span class="n">ExportOptions</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Validate the export options. Raise an exception if the options are invalid.</span>

<span class="sd">    Args:</span>
<span class="sd">        document: `Document` - The document to export.</span>
<span class="sd">        options: `ExportOptions` - The options to export the document.</span>

<span class="sd">    Returns: None</span>

<span class="sd">    Example:</span>
<span class="sd">        &gt;&gt;&gt; export_options_validator(document, options)</span>
<span class="sd">        ValueError: option from_measure must be &gt;=0 but -1 was found.</span>
<span class="sd">        &gt;&gt;&gt; export_options_validator(document, options2)</span>
<span class="sd">        None</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">options</span><span class="o">.</span><span class="n">from_measure</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">options</span><span class="o">.</span><span class="n">from_measure</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;option from_measure must be &gt;=0 but </span><span class="si">{</span><span class="n">options</span><span class="o">.</span><span class="n">from_measure</span><span class="si">}</span><span class="s1"> was found. &#39;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">options</span><span class="o">.</span><span class="n">to_measure</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">options</span><span class="o">.</span><span class="n">to_measure</span> <span class="o">&gt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">document</span><span class="o">.</span><span class="n">measure_start_tree_stages</span><span class="p">):</span>
        <span class="c1"># &quot;TODO: DAVID, check options.to_measure bounds. len(document.measure_start_tree_stages) or len(document.measure_start_tree_stages) - 1&quot;</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s1">&#39;option to_measure must be &lt;= </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">document</span><span class="o">.</span><span class="n">measure_start_tree_stages</span><span class="p">)</span><span class="si">}</span><span class="s1"> but </span><span class="si">{</span><span class="n">options</span><span class="o">.</span><span class="n">to_measure</span><span class="si">}</span><span class="s1"> was found. &#39;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">options</span><span class="o">.</span><span class="n">to_measure</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">options</span><span class="o">.</span><span class="n">from_measure</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">options</span><span class="o">.</span><span class="n">to_measure</span> <span class="o">&lt;</span> <span class="n">options</span><span class="o">.</span><span class="n">from_measure</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s1">&#39;option to_measure must be &gt;= from_measure but </span><span class="si">{</span><span class="n">options</span><span class="o">.</span><span class="n">to_measure</span><span class="si">}</span><span class="s1"> &lt; </span><span class="si">{</span><span class="n">options</span><span class="o">.</span><span class="n">from_measure</span><span class="si">}</span><span class="s1"> was found. &#39;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.Exporter.get_spine_types" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_spine_types</span><span class="p">(</span><span class="n">document</span><span class="p">,</span> <span class="n">spine_types</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Get the spine types from the document.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>document</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.Document" href="#kernpy.core.Document">Document</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The document with the spines.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>spine_types</code></td>
            <td>
                  <code>list</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The spine types to export. If None, all the spine types will be exported.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns: A list with the spine types.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">exporter</span> <span class="o">=</span> <span class="n">Exporter</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">exporter</span><span class="o">.</span><span class="n">get_spine_types</span><span class="p">(</span><span class="n">document</span><span class="p">)</span>
<span class="go">[&#39;**kern&#39;, &#39;**kern&#39;, &#39;**kern&#39;, &#39;**kern&#39;, &#39;**root&#39;, &#39;**harm&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">exporter</span><span class="o">.</span><span class="n">get_spine_types</span><span class="p">(</span><span class="n">document</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
<span class="go">[&#39;**kern&#39;, &#39;**kern&#39;, &#39;**kern&#39;, &#39;**kern&#39;, &#39;**root&#39;, &#39;**harm&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">exporter</span><span class="o">.</span><span class="n">get_spine_types</span><span class="p">(</span><span class="n">document</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;**kern&#39;</span><span class="p">])</span>
<span class="go">[&#39;**kern&#39;, &#39;**kern&#39;, &#39;**kern&#39;, &#39;**kern&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">exporter</span><span class="o">.</span><span class="n">get_spine_types</span><span class="p">(</span><span class="n">document</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;**kern&#39;</span><span class="p">,</span> <span class="s1">&#39;**root&#39;</span><span class="p">])</span>
<span class="go">[&#39;**kern&#39;, &#39;**kern&#39;, &#39;**kern&#39;, &#39;**kern&#39;, &#39;**root&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">exporter</span><span class="o">.</span><span class="n">get_spine_types</span><span class="p">(</span><span class="n">document</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;**kern&#39;</span><span class="p">,</span> <span class="s1">&#39;**root&#39;</span><span class="p">,</span> <span class="s1">&#39;**harm&#39;</span><span class="p">])</span>
<span class="go">[&#39;**kern&#39;, &#39;**kern&#39;, &#39;**kern&#39;, &#39;**kern&#39;, &#39;**root&#39;, &#39;**harm&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">exporter</span><span class="o">.</span><span class="n">get_spine_types</span><span class="p">(</span><span class="n">document</span><span class="p">,</span> <span class="p">[])</span>
<span class="go">[]</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/exporter.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_spine_types</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">document</span><span class="p">:</span> <span class="n">Document</span><span class="p">,</span> <span class="n">spine_types</span><span class="p">:</span> <span class="nb">list</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get the spine types from the document.</span>

<span class="sd">    Args:</span>
<span class="sd">        document (Document): The document with the spines.</span>
<span class="sd">        spine_types (list): The spine types to export. If None, all the spine types will be exported.</span>

<span class="sd">    Returns: A list with the spine types.</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; exporter = Exporter()</span>
<span class="sd">        &gt;&gt;&gt; exporter.get_spine_types(document)</span>
<span class="sd">        [&#39;**kern&#39;, &#39;**kern&#39;, &#39;**kern&#39;, &#39;**kern&#39;, &#39;**root&#39;, &#39;**harm&#39;]</span>
<span class="sd">        &gt;&gt;&gt; exporter.get_spine_types(document, None)</span>
<span class="sd">        [&#39;**kern&#39;, &#39;**kern&#39;, &#39;**kern&#39;, &#39;**kern&#39;, &#39;**root&#39;, &#39;**harm&#39;]</span>
<span class="sd">        &gt;&gt;&gt; exporter.get_spine_types(document, [&#39;**kern&#39;])</span>
<span class="sd">        [&#39;**kern&#39;, &#39;**kern&#39;, &#39;**kern&#39;, &#39;**kern&#39;]</span>
<span class="sd">        &gt;&gt;&gt; exporter.get_spine_types(document, [&#39;**kern&#39;, &#39;**root&#39;])</span>
<span class="sd">        [&#39;**kern&#39;, &#39;**kern&#39;, &#39;**kern&#39;, &#39;**kern&#39;, &#39;**root&#39;]</span>
<span class="sd">        &gt;&gt;&gt; exporter.get_spine_types(document, [&#39;**kern&#39;, &#39;**root&#39;, &#39;**harm&#39;])</span>
<span class="sd">        [&#39;**kern&#39;, &#39;**kern&#39;, &#39;**kern&#39;, &#39;**kern&#39;, &#39;**root&#39;, &#39;**harm&#39;]</span>
<span class="sd">        &gt;&gt;&gt; exporter.get_spine_types(document, [])</span>
<span class="sd">        []</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">spine_types</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">spine_types</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">[]</span>

    <span class="n">options</span> <span class="o">=</span> <span class="n">ExportOptions</span><span class="p">(</span><span class="n">spine_types</span><span class="o">=</span><span class="n">spine_types</span><span class="p">,</span> <span class="n">token_categories</span><span class="o">=</span><span class="p">[</span><span class="n">TokenCategory</span><span class="o">.</span><span class="n">HEADER</span><span class="p">])</span>
    <span class="n">content</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">export_string</span><span class="p">(</span><span class="n">document</span><span class="p">,</span> <span class="n">options</span><span class="p">)</span>

    <span class="c1"># Remove all after the first line: **kern, **mens, etc... are always in the first row</span>
    <span class="n">lines</span> <span class="o">=</span> <span class="n">content</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="n">first_line</span> <span class="o">=</span> <span class="n">lines</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">tokens</span> <span class="o">=</span> <span class="n">first_line</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\t</span><span class="s1">&#39;</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">tokens</span> <span class="k">if</span> <span class="n">tokens</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[[],</span> <span class="p">[</span><span class="s1">&#39;&#39;</span><span class="p">]]</span> <span class="k">else</span> <span class="p">[]</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="kernpy.F3Clef" class="doc doc-heading">
            <code>F3Clef</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="kernpy.core.gkern.Clef" href="#kernpy.core.Clef">Clef</a></code></p>


              <details class="quote">
                <summary>Source code in <code>kernpy/core/gkern.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">F3Clef</span><span class="p">(</span><span class="n">Clef</span><span class="p">):</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initializes the F Clef object.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">DiatonicPitch</span><span class="p">(</span><span class="s1">&#39;F&#39;</span><span class="p">),</span> <span class="mi">3</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">bottom_line</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AgnosticPitch</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the pitch of the bottom line of the staff.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">AgnosticPitch</span><span class="p">(</span><span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="kernpy.F3Clef.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Initializes the F Clef object.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/gkern.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Initializes the F Clef object.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">DiatonicPitch</span><span class="p">(</span><span class="s1">&#39;F&#39;</span><span class="p">),</span> <span class="mi">3</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.F3Clef.bottom_line" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">bottom_line</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Returns the pitch of the bottom line of the staff.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/gkern.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">bottom_line</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AgnosticPitch</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns the pitch of the bottom line of the staff.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">AgnosticPitch</span><span class="p">(</span><span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="kernpy.F4Clef" class="doc doc-heading">
            <code>F4Clef</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="kernpy.core.gkern.Clef" href="#kernpy.core.Clef">Clef</a></code></p>


              <details class="quote">
                <summary>Source code in <code>kernpy/core/gkern.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">F4Clef</span><span class="p">(</span><span class="n">Clef</span><span class="p">):</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initializes the F Clef object.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">DiatonicPitch</span><span class="p">(</span><span class="s1">&#39;F&#39;</span><span class="p">),</span> <span class="mi">4</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">bottom_line</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AgnosticPitch</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the pitch of the bottom line of the staff.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">AgnosticPitch</span><span class="p">(</span><span class="s1">&#39;G&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="kernpy.F4Clef.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Initializes the F Clef object.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/gkern.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Initializes the F Clef object.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">DiatonicPitch</span><span class="p">(</span><span class="s1">&#39;F&#39;</span><span class="p">),</span> <span class="mi">4</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.F4Clef.bottom_line" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">bottom_line</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Returns the pitch of the bottom line of the staff.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/gkern.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">bottom_line</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AgnosticPitch</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns the pitch of the bottom line of the staff.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">AgnosticPitch</span><span class="p">(</span><span class="s1">&#39;G&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="kernpy.FingSpineImporter" class="doc doc-heading">
            <code>FingSpineImporter</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="kernpy.core.spine_importer.SpineImporter" href="#kernpy.core.SpineImporter">SpineImporter</a></code></p>


              <details class="quote">
                <summary>Source code in <code>kernpy/core/fing_spine_importer.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">FingSpineImporter</span><span class="p">(</span><span class="n">SpineImporter</span><span class="p">):</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">verbose</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        KernSpineImporter constructor.</span>

<span class="sd">        Args:</span>
<span class="sd">            verbose (Optional[bool]): Level of verbosity for error messages.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="n">verbose</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">import_listener</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BaseANTLRSpineParserListener</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">KernSpineListener</span><span class="p">()</span>


    <span class="k">def</span><span class="w"> </span><span class="nf">import_token</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">encoding</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Token</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_raise_error_if_wrong_input</span><span class="p">(</span><span class="n">encoding</span><span class="p">)</span>

        <span class="n">kern_spine_importer</span> <span class="o">=</span> <span class="n">KernSpineImporter</span><span class="p">()</span>
        <span class="n">token</span> <span class="o">=</span> <span class="n">kern_spine_importer</span><span class="o">.</span><span class="n">import_token</span><span class="p">(</span><span class="n">encoding</span><span class="p">)</span>

        <span class="n">ACCEPTED_CATEGORIES</span> <span class="o">=</span> <span class="p">{</span>
            <span class="n">TokenCategory</span><span class="o">.</span><span class="n">STRUCTURAL</span><span class="p">,</span>
            <span class="n">TokenCategory</span><span class="o">.</span><span class="n">SIGNATURES</span><span class="p">,</span>
            <span class="n">TokenCategory</span><span class="o">.</span><span class="n">EMPTY</span><span class="p">,</span>
            <span class="n">TokenCategory</span><span class="o">.</span><span class="n">IMAGE_ANNOTATIONS</span><span class="p">,</span>
            <span class="n">TokenCategory</span><span class="o">.</span><span class="n">BARLINES</span><span class="p">,</span>
            <span class="n">TokenCategory</span><span class="o">.</span><span class="n">COMMENTS</span><span class="p">,</span>
        <span class="p">}</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="nb">any</span><span class="p">(</span><span class="n">TokenCategory</span><span class="o">.</span><span class="n">is_child</span><span class="p">(</span><span class="n">child</span><span class="o">=</span><span class="n">token</span><span class="o">.</span><span class="n">category</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="n">cat</span><span class="p">)</span> <span class="k">for</span> <span class="n">cat</span> <span class="ow">in</span> <span class="n">ACCEPTED_CATEGORIES</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">SimpleToken</span><span class="p">(</span><span class="n">encoding</span><span class="p">,</span> <span class="n">TokenCategory</span><span class="o">.</span><span class="n">FINGERING</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">token</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="kernpy.FingSpineImporter.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>KernSpineImporter constructor.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>verbose</code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[bool]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Level of verbosity for error messages.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/fing_spine_importer.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">verbose</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    KernSpineImporter constructor.</span>

<span class="sd">    Args:</span>
<span class="sd">        verbose (Optional[bool]): Level of verbosity for error messages.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="n">verbose</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="kernpy.GClef" class="doc doc-heading">
            <code>GClef</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="kernpy.core.gkern.Clef" href="#kernpy.core.Clef">Clef</a></code></p>


              <details class="quote">
                <summary>Source code in <code>kernpy/core/gkern.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">GClef</span><span class="p">(</span><span class="n">Clef</span><span class="p">):</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initializes the G Clef object.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">DiatonicPitch</span><span class="p">(</span><span class="s1">&#39;G&#39;</span><span class="p">),</span> <span class="mi">2</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">bottom_line</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AgnosticPitch</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the pitch of the bottom line of the staff.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">AgnosticPitch</span><span class="p">(</span><span class="s1">&#39;E&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="kernpy.GClef.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Initializes the G Clef object.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/gkern.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Initializes the G Clef object.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">DiatonicPitch</span><span class="p">(</span><span class="s1">&#39;G&#39;</span><span class="p">),</span> <span class="mi">2</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.GClef.bottom_line" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">bottom_line</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Returns the pitch of the bottom line of the staff.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/gkern.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">bottom_line</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AgnosticPitch</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns the pitch of the bottom line of the staff.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">AgnosticPitch</span><span class="p">(</span><span class="s1">&#39;E&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="kernpy.GraphvizExporter" class="doc doc-heading">
            <code>GraphvizExporter</code>


</h2>


    <div class="doc doc-contents ">


              <details class="quote">
                <summary>Source code in <code>kernpy/core/graphviz_exporter.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">GraphvizExporter</span><span class="p">:</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">export_token</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">token</span><span class="p">:</span> <span class="n">Token</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">token</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">token</span><span class="o">.</span><span class="n">encoding</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="s1">&#39;&#39;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">token</span><span class="o">.</span><span class="n">encoding</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\&quot;</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39;</span><span class="se">\\</span><span class="s1">&quot;&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\\</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39;</span><span class="se">\\\\</span><span class="s1">&#39;</span><span class="p">)</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">node_id</span><span class="p">(</span><span class="n">node</span><span class="p">:</span> <span class="n">Node</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;node</span><span class="si">{</span><span class="nb">id</span><span class="p">(</span><span class="n">node</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">export_to_dot</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tree</span><span class="p">:</span> <span class="n">MultistageTree</span><span class="p">,</span> <span class="n">filename</span><span class="p">:</span> <span class="n">Path</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Export the given MultistageTree to DOT format.</span>

<span class="sd">        Args:</span>
<span class="sd">            tree (MultistageTree): The tree to export.</span>
<span class="sd">            filename (Path or None): The output file path. If None, prints to stdout.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">file</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">stdout</span> <span class="k">if</span> <span class="n">filename</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;digraph G {</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="n">file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;    node [shape=record];</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="n">file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;    rankdir=TB;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>  <span class="c1"># Ensure top-to-bottom layout</span>

            <span class="c1"># Create subgraphs for each stage</span>
            <span class="k">for</span> <span class="n">stage_index</span><span class="p">,</span> <span class="n">stage</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">tree</span><span class="o">.</span><span class="n">stages</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">stage</span><span class="p">:</span>
                    <span class="n">file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;  {rank=same; &#39;</span><span class="p">)</span>
                    <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">stage</span><span class="p">:</span>
                        <span class="n">file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">node_id</span><span class="p">(</span><span class="n">node</span><span class="p">)</span><span class="si">}</span><span class="s1">&quot;; &#39;</span><span class="p">)</span>
                    <span class="n">file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;}</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>

            <span class="c1"># Write nodes and their connections</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_write_nodes_iterative</span><span class="p">(</span><span class="n">tree</span><span class="o">.</span><span class="n">root</span><span class="p">,</span> <span class="n">file</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_write_edges_iterative</span><span class="p">(</span><span class="n">tree</span><span class="o">.</span><span class="n">root</span><span class="p">,</span> <span class="n">file</span><span class="p">)</span>

            <span class="n">file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;}</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>

        <span class="k">finally</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">filename</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">file</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>  <span class="c1"># Close only if we explicitly opened a file</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_write_nodes_iterative</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">root</span><span class="p">,</span> <span class="n">file</span><span class="p">):</span>
        <span class="n">stack</span> <span class="o">=</span> <span class="p">[</span><span class="n">root</span><span class="p">]</span>

        <span class="k">while</span> <span class="n">stack</span><span class="p">:</span>
            <span class="n">node</span> <span class="o">=</span> <span class="n">stack</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
            <span class="n">header_label</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;header #</span><span class="si">{</span><span class="n">node</span><span class="o">.</span><span class="n">header_node</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s1">&#39;</span> <span class="k">if</span> <span class="n">node</span><span class="o">.</span><span class="n">header_node</span> <span class="k">else</span> <span class="s1">&#39;&#39;</span>
            <span class="n">last_spine_operator_label</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;last spine op. #</span><span class="si">{</span><span class="n">node</span><span class="o">.</span><span class="n">last_spine_operator_node</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s1">&#39;</span> <span class="k">if</span> <span class="n">node</span><span class="o">.</span><span class="n">last_spine_operator_node</span> <span class="k">else</span> <span class="s1">&#39;&#39;</span>
            <span class="n">category_name</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="nb">getattr</span><span class="p">(</span><span class="nb">getattr</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="s2">&quot;token&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span> <span class="s2">&quot;category&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span> <span class="s2">&quot;_name_&quot;</span><span class="p">,</span> <span class="s2">&quot;Non defined category&quot;</span><span class="p">)</span>


            <span class="n">top_record_label</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="se">{{</span><span class="s1"> #</span><span class="si">{</span><span class="n">node</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s1">| stage </span><span class="si">{</span><span class="n">node</span><span class="o">.</span><span class="n">stage</span><span class="si">}</span><span class="s1"> | </span><span class="si">{</span><span class="n">header_label</span><span class="si">}</span><span class="s1"> | </span><span class="si">{</span><span class="n">last_spine_operator_label</span><span class="si">}</span><span class="s1"> | </span><span class="si">{</span><span class="n">category_name</span><span class="si">}</span><span class="s1"> </span><span class="se">}}</span><span class="s1">&#39;</span>
            <span class="n">signatures_label</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
            <span class="k">if</span> <span class="n">node</span><span class="o">.</span><span class="n">last_signature_nodes</span> <span class="ow">and</span> <span class="n">node</span><span class="o">.</span><span class="n">last_signature_nodes</span><span class="o">.</span><span class="n">nodes</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">node</span><span class="o">.</span><span class="n">last_signature_nodes</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                    <span class="k">if</span> <span class="n">signatures_label</span><span class="p">:</span>
                        <span class="n">signatures_label</span> <span class="o">+=</span> <span class="s1">&#39;|&#39;</span>
                    <span class="n">signatures_label</span> <span class="o">+=</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">k</span><span class="si">}</span><span class="s1"> #</span><span class="si">{</span><span class="n">v</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s1">&#39;</span>

            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">token</span><span class="p">,</span> <span class="n">SpineOperationToken</span><span class="p">)</span> <span class="ow">and</span> <span class="n">node</span><span class="o">.</span><span class="n">token</span><span class="o">.</span><span class="n">cancelled_at_stage</span><span class="p">:</span>
                <span class="n">signatures_label</span> <span class="o">+=</span> <span class="sa">f</span><span class="s1">&#39;| </span><span class="se">{{</span><span class="s1"> cancelled at stage </span><span class="si">{</span><span class="n">node</span><span class="o">.</span><span class="n">token</span><span class="o">.</span><span class="n">cancelled_at_stage</span><span class="si">}</span><span class="s1"> </span><span class="se">}}</span><span class="s1">&#39;</span>

            <span class="n">file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;  &quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">node_id</span><span class="p">(</span><span class="n">node</span><span class="p">)</span><span class="si">}</span><span class="s1">&quot; [label=&quot;</span><span class="se">{{</span><span class="s1"> </span><span class="si">{</span><span class="n">top_record_label</span><span class="si">}</span><span class="s1"> | </span><span class="si">{</span><span class="n">signatures_label</span><span class="si">}</span><span class="s1"> | </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">export_token</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">token</span><span class="p">)</span><span class="si">}</span><span class="s1"> </span><span class="se">}}</span><span class="s1">&quot;];</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>

            <span class="c1"># Add children to the stack to be processed</span>
            <span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="nb">reversed</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">children</span><span class="p">):</span>
                <span class="n">stack</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">child</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_write_edges_iterative</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">root</span><span class="p">,</span> <span class="n">file</span><span class="p">):</span>
        <span class="n">stack</span> <span class="o">=</span> <span class="p">[</span><span class="n">root</span><span class="p">]</span>

        <span class="k">while</span> <span class="n">stack</span><span class="p">:</span>
            <span class="n">node</span> <span class="o">=</span> <span class="n">stack</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
            <span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="n">node</span><span class="o">.</span><span class="n">children</span><span class="p">:</span>
                <span class="n">file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;  &quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">node_id</span><span class="p">(</span><span class="n">node</span><span class="p">)</span><span class="si">}</span><span class="s1">&quot; -&gt; &quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">node_id</span><span class="p">(</span><span class="n">child</span><span class="p">)</span><span class="si">}</span><span class="s1">&quot;;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
                <span class="n">stack</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">child</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="kernpy.GraphvizExporter.export_to_dot" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">export_to_dot</span><span class="p">(</span><span class="n">tree</span><span class="p">,</span> <span class="n">filename</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Export the given MultistageTree to DOT format.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>tree</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.document.MultistageTree" href="#kernpy.core.MultistageTree">MultistageTree</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The tree to export.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>filename</code></td>
            <td>
                  <code><span title="pathlib.Path">Path</span> or None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The output file path. If None, prints to stdout.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/graphviz_exporter.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">export_to_dot</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tree</span><span class="p">:</span> <span class="n">MultistageTree</span><span class="p">,</span> <span class="n">filename</span><span class="p">:</span> <span class="n">Path</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Export the given MultistageTree to DOT format.</span>

<span class="sd">    Args:</span>
<span class="sd">        tree (MultistageTree): The tree to export.</span>
<span class="sd">        filename (Path or None): The output file path. If None, prints to stdout.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">file</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">stdout</span> <span class="k">if</span> <span class="n">filename</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;digraph G {</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="n">file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;    node [shape=record];</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="n">file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;    rankdir=TB;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>  <span class="c1"># Ensure top-to-bottom layout</span>

        <span class="c1"># Create subgraphs for each stage</span>
        <span class="k">for</span> <span class="n">stage_index</span><span class="p">,</span> <span class="n">stage</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">tree</span><span class="o">.</span><span class="n">stages</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">stage</span><span class="p">:</span>
                <span class="n">file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;  {rank=same; &#39;</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">stage</span><span class="p">:</span>
                    <span class="n">file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">node_id</span><span class="p">(</span><span class="n">node</span><span class="p">)</span><span class="si">}</span><span class="s1">&quot;; &#39;</span><span class="p">)</span>
                <span class="n">file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;}</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>

        <span class="c1"># Write nodes and their connections</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_write_nodes_iterative</span><span class="p">(</span><span class="n">tree</span><span class="o">.</span><span class="n">root</span><span class="p">,</span> <span class="n">file</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_write_edges_iterative</span><span class="p">(</span><span class="n">tree</span><span class="o">.</span><span class="n">root</span><span class="p">,</span> <span class="n">file</span><span class="p">)</span>

        <span class="n">file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;}</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>

    <span class="k">finally</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">filename</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">file</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>  <span class="c1"># Close only if we explicitly opened a file</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="kernpy.HarmSpineImporter" class="doc doc-heading">
            <code>HarmSpineImporter</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="kernpy.core.spine_importer.SpineImporter" href="#kernpy.core.SpineImporter">SpineImporter</a></code></p>


              <details class="quote">
                <summary>Source code in <code>kernpy/core/harm_spine_importer.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">HarmSpineImporter</span><span class="p">(</span><span class="n">SpineImporter</span><span class="p">):</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">verbose</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        KernSpineImporter constructor.</span>

<span class="sd">        Args:</span>
<span class="sd">            verbose (Optional[bool]): Level of verbosity for error messages.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="n">verbose</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">import_listener</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BaseANTLRSpineParserListener</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">KernSpineListener</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">import_token</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">encoding</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Token</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_raise_error_if_wrong_input</span><span class="p">(</span><span class="n">encoding</span><span class="p">)</span>

        <span class="n">kern_spine_importer</span> <span class="o">=</span> <span class="n">KernSpineImporter</span><span class="p">()</span>
        <span class="n">token</span> <span class="o">=</span> <span class="n">kern_spine_importer</span><span class="o">.</span><span class="n">import_token</span><span class="p">(</span><span class="n">encoding</span><span class="p">)</span>

        <span class="n">ACCEPTED_CATEGORIES</span> <span class="o">=</span> <span class="p">{</span>
            <span class="n">TokenCategory</span><span class="o">.</span><span class="n">STRUCTURAL</span><span class="p">,</span>
            <span class="n">TokenCategory</span><span class="o">.</span><span class="n">SIGNATURES</span><span class="p">,</span>
            <span class="n">TokenCategory</span><span class="o">.</span><span class="n">EMPTY</span><span class="p">,</span>
            <span class="n">TokenCategory</span><span class="o">.</span><span class="n">IMAGE_ANNOTATIONS</span><span class="p">,</span>
            <span class="n">TokenCategory</span><span class="o">.</span><span class="n">BARLINES</span><span class="p">,</span>
            <span class="n">TokenCategory</span><span class="o">.</span><span class="n">COMMENTS</span><span class="p">,</span>
        <span class="p">}</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="nb">any</span><span class="p">(</span><span class="n">TokenCategory</span><span class="o">.</span><span class="n">is_child</span><span class="p">(</span><span class="n">child</span><span class="o">=</span><span class="n">token</span><span class="o">.</span><span class="n">category</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="n">cat</span><span class="p">)</span> <span class="k">for</span> <span class="n">cat</span> <span class="ow">in</span> <span class="n">ACCEPTED_CATEGORIES</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">SimpleToken</span><span class="p">(</span><span class="n">encoding</span><span class="p">,</span> <span class="n">TokenCategory</span><span class="o">.</span><span class="n">HARMONY</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">token</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="kernpy.HarmSpineImporter.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>KernSpineImporter constructor.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>verbose</code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[bool]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Level of verbosity for error messages.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/harm_spine_importer.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">verbose</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    KernSpineImporter constructor.</span>

<span class="sd">    Args:</span>
<span class="sd">        verbose (Optional[bool]): Level of verbosity for error messages.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="n">verbose</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="kernpy.HeaderToken" class="doc doc-heading">
            <code>HeaderToken</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="kernpy.core.tokens.SimpleToken" href="#kernpy.core.SimpleToken">SimpleToken</a></code></p>


        <p>HeaderTokens class.</p>

              <details class="quote">
                <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1586</span>
<span class="normal">1587</span>
<span class="normal">1588</span>
<span class="normal">1589</span>
<span class="normal">1590</span>
<span class="normal">1591</span>
<span class="normal">1592</span>
<span class="normal">1593</span>
<span class="normal">1594</span>
<span class="normal">1595</span>
<span class="normal">1596</span>
<span class="normal">1597</span>
<span class="normal">1598</span>
<span class="normal">1599</span>
<span class="normal">1600</span>
<span class="normal">1601</span>
<span class="normal">1602</span>
<span class="normal">1603</span>
<span class="normal">1604</span>
<span class="normal">1605</span>
<span class="normal">1606</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">HeaderToken</span><span class="p">(</span><span class="n">SimpleToken</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    HeaderTokens class.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">encoding</span><span class="p">,</span> <span class="n">spine_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Constructor for the HeaderToken class.</span>

<span class="sd">        Args:</span>
<span class="sd">            encoding (str): The original representation of the token.</span>
<span class="sd">            spine_id (int): The spine id of the token. The spine id is used to identify the token in the score.\</span>
<span class="sd">                The spine_id starts from 0 and increases by 1 for each new spine like the following example:</span>
<span class="sd">                **kern  **kern  **kern **dyn **text</span>
<span class="sd">                0   1   2   3   4</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">encoding</span><span class="p">,</span> <span class="n">TokenCategory</span><span class="o">.</span><span class="n">HEADER</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">spine_id</span> <span class="o">=</span> <span class="n">spine_id</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">export</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">encoding</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="kernpy.HeaderToken.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">encoding</span><span class="p">,</span> <span class="n">spine_id</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Constructor for the HeaderToken class.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>encoding</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The original representation of the token.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>spine_id</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The spine id of the token. The spine id is used to identify the token in the score.                The spine_id starts from 0 and increases by 1 for each new spine like the following example:
<strong>kern  </strong>kern  <strong>kern </strong>dyn **text
0   1   2   3   4</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1591</span>
<span class="normal">1592</span>
<span class="normal">1593</span>
<span class="normal">1594</span>
<span class="normal">1595</span>
<span class="normal">1596</span>
<span class="normal">1597</span>
<span class="normal">1598</span>
<span class="normal">1599</span>
<span class="normal">1600</span>
<span class="normal">1601</span>
<span class="normal">1602</span>
<span class="normal">1603</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">encoding</span><span class="p">,</span> <span class="n">spine_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Constructor for the HeaderToken class.</span>

<span class="sd">    Args:</span>
<span class="sd">        encoding (str): The original representation of the token.</span>
<span class="sd">        spine_id (int): The spine id of the token. The spine id is used to identify the token in the score.\</span>
<span class="sd">            The spine_id starts from 0 and increases by 1 for each new spine like the following example:</span>
<span class="sd">            **kern  **kern  **kern **dyn **text</span>
<span class="sd">            0   1   2   3   4</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">encoding</span><span class="p">,</span> <span class="n">TokenCategory</span><span class="o">.</span><span class="n">HEADER</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">spine_id</span> <span class="o">=</span> <span class="n">spine_id</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="kernpy.HeaderTokenGenerator" class="doc doc-heading">
            <code>HeaderTokenGenerator</code>


</h2>


    <div class="doc doc-contents ">


        <p>HeaderTokenGenerator class.</p>
<p>This class is used to translate the HeaderTokens to the specific tokenizer format.</p>

              <details class="quote">
                <summary>Source code in <code>kernpy/core/exporter.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">HeaderTokenGenerator</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    HeaderTokenGenerator class.</span>

<span class="sd">    This class is used to translate the HeaderTokens to the specific tokenizer format.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">new</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">token</span><span class="p">:</span> <span class="n">HeaderToken</span><span class="p">,</span> <span class="nb">type</span><span class="p">:</span> <span class="n">KernTypeExporter</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Create a new HeaderTokenGenerator object. Only accepts stardized Humdrum **kern encodings. </span>

<span class="sd">        Args:</span>
<span class="sd">            token (HeaderToken): The HeaderToken to be translated.</span>
<span class="sd">            type (KernTypeExporter): The tokenizer to be used.</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; header = HeaderToken(&#39;**kern&#39;, 0)</span>
<span class="sd">            &gt;&gt;&gt; header.encoding</span>
<span class="sd">            &#39;**kern&#39;</span>
<span class="sd">            &gt;&gt;&gt; new_header = HeaderTokenGenerator.new(token=header, type=KernTypeExporter.eKern)</span>
<span class="sd">            &gt;&gt;&gt; new_header.encoding</span>
<span class="sd">            &#39;**ekern&#39;</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">new_encoding</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;**</span><span class="si">{</span><span class="nb">type</span><span class="o">.</span><span class="n">prefix</span><span class="p">()</span><span class="si">}{</span><span class="n">token</span><span class="o">.</span><span class="n">encoding</span><span class="p">[</span><span class="mi">2</span><span class="p">:]</span><span class="si">}</span><span class="s1">&#39;</span>
        <span class="n">new_token</span> <span class="o">=</span> <span class="n">HeaderToken</span><span class="p">(</span><span class="n">new_encoding</span><span class="p">,</span> <span class="n">token</span><span class="o">.</span><span class="n">spine_id</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">new_token</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="kernpy.HeaderTokenGenerator.new" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">new</span><span class="p">(</span><span class="o">*</span><span class="p">,</span> <span class="n">token</span><span class="p">,</span> <span class="nb">type</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>Create a new HeaderTokenGenerator object. Only accepts stardized Humdrum **kern encodings. </p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>token</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.HeaderToken" href="#kernpy.core.HeaderToken">HeaderToken</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The HeaderToken to be translated.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>type</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.tokenizers.KernTypeExporter" href="#kernpy.core.KernTypeExporter">KernTypeExporter</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The tokenizer to be used.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">header</span> <span class="o">=</span> <span class="n">HeaderToken</span><span class="p">(</span><span class="s1">&#39;**kern&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">header</span><span class="o">.</span><span class="n">encoding</span>
<span class="go">&#39;**kern&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new_header</span> <span class="o">=</span> <span class="n">HeaderTokenGenerator</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">token</span><span class="o">=</span><span class="n">header</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="n">KernTypeExporter</span><span class="o">.</span><span class="n">eKern</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new_header</span><span class="o">.</span><span class="n">encoding</span>
<span class="go">&#39;**ekern&#39;</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/exporter.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">new</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">token</span><span class="p">:</span> <span class="n">HeaderToken</span><span class="p">,</span> <span class="nb">type</span><span class="p">:</span> <span class="n">KernTypeExporter</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Create a new HeaderTokenGenerator object. Only accepts stardized Humdrum **kern encodings. </span>

<span class="sd">    Args:</span>
<span class="sd">        token (HeaderToken): The HeaderToken to be translated.</span>
<span class="sd">        type (KernTypeExporter): The tokenizer to be used.</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; header = HeaderToken(&#39;**kern&#39;, 0)</span>
<span class="sd">        &gt;&gt;&gt; header.encoding</span>
<span class="sd">        &#39;**kern&#39;</span>
<span class="sd">        &gt;&gt;&gt; new_header = HeaderTokenGenerator.new(token=header, type=KernTypeExporter.eKern)</span>
<span class="sd">        &gt;&gt;&gt; new_header.encoding</span>
<span class="sd">        &#39;**ekern&#39;</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">new_encoding</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;**</span><span class="si">{</span><span class="nb">type</span><span class="o">.</span><span class="n">prefix</span><span class="p">()</span><span class="si">}{</span><span class="n">token</span><span class="o">.</span><span class="n">encoding</span><span class="p">[</span><span class="mi">2</span><span class="p">:]</span><span class="si">}</span><span class="s1">&#39;</span>
    <span class="n">new_token</span> <span class="o">=</span> <span class="n">HeaderToken</span><span class="p">(</span><span class="n">new_encoding</span><span class="p">,</span> <span class="n">token</span><span class="o">.</span><span class="n">spine_id</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">new_token</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="kernpy.HumdrumPitchImporter" class="doc doc-heading">
            <code>HumdrumPitchImporter</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="kernpy.core.pitch_models.PitchImporter">PitchImporter</span></code></p>


        <p>Represents the pitch in the Humdrum Kern format.</p>
<p>The name is represented using the International Standard Organization (ISO) name notation.
The first line below the staff is the C4 in G clef. The above C is C5, the below C is C3, etc.</p>
<p>The Humdrum Kern format uses the following name representation:
'c' = C4
'cc' = C5
'ccc' = C6
'cccc' = C7</p>
<p>'C' = C3
'CC' = C2
'CCC' = C1</p>
<p>This class do not limit the name ranges.</p>
<p>In the following example, the name is represented by the letter 'c'. The name of 'c' is C4, 'cc' is C5, 'ccc' is C6.</p>
<pre><code>**kern
*clefG2
2c          // C4
2cc         // C5
2ccc        // C6
2C          // C3
2CC         // C2
2CCC        // C1
*-
</code></pre>

              <details class="quote">
                <summary>Source code in <code>kernpy/core/pitch_models.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">HumdrumPitchImporter</span><span class="p">(</span><span class="n">PitchImporter</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Represents the pitch in the Humdrum Kern format.</span>

<span class="sd">    The name is represented using the International Standard Organization (ISO) name notation.</span>
<span class="sd">    The first line below the staff is the C4 in G clef. The above C is C5, the below C is C3, etc.</span>

<span class="sd">    The Humdrum Kern format uses the following name representation:</span>
<span class="sd">    &#39;c&#39; = C4</span>
<span class="sd">    &#39;cc&#39; = C5</span>
<span class="sd">    &#39;ccc&#39; = C6</span>
<span class="sd">    &#39;cccc&#39; = C7</span>

<span class="sd">    &#39;C&#39; = C3</span>
<span class="sd">    &#39;CC&#39; = C2</span>
<span class="sd">    &#39;CCC&#39; = C1</span>

<span class="sd">    This class do not limit the name ranges.</span>

<span class="sd">    In the following example, the name is represented by the letter &#39;c&#39;. The name of &#39;c&#39; is C4, &#39;cc&#39; is C5, &#39;ccc&#39; is C6.</span>
<span class="sd">    ```</span>
<span class="sd">    **kern</span>
<span class="sd">    *clefG2</span>
<span class="sd">    2c          // C4</span>
<span class="sd">    2cc         // C5</span>
<span class="sd">    2ccc        // C6</span>
<span class="sd">    2C          // C3</span>
<span class="sd">    2CC         // C2</span>
<span class="sd">    2CCC        // C1</span>
<span class="sd">    *-</span>
<span class="sd">    ```</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">C4_PITCH_LOWERCASE</span> <span class="o">=</span> <span class="s1">&#39;c&#39;</span>
    <span class="n">C4_OCATAVE</span> <span class="o">=</span> <span class="mi">4</span>
    <span class="n">C3_PITCH_UPPERCASE</span> <span class="o">=</span> <span class="s1">&#39;C&#39;</span>
    <span class="n">C3_OCATAVE</span> <span class="o">=</span> <span class="mi">3</span>
    <span class="n">VALID_PITCHES</span> <span class="o">=</span> <span class="s1">&#39;abcdefg&#39;</span> <span class="o">+</span> <span class="s1">&#39;ABCDEFG&#39;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">import_pitch</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">encoding</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AgnosticPitch</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">octave</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_parse_pitch</span><span class="p">(</span><span class="n">encoding</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">AgnosticPitch</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">octave</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_parse_pitch</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">encoding</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">:</span>
        <span class="n">accidentals</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">c</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">encoding</span> <span class="k">if</span> <span class="n">c</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;#&#39;</span><span class="p">,</span> <span class="s1">&#39;-&#39;</span><span class="p">]])</span>
        <span class="n">accidentals</span> <span class="o">=</span> <span class="n">accidentals</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;#&#39;</span><span class="p">,</span> <span class="s1">&#39;+&#39;</span><span class="p">)</span>
        <span class="n">encoding</span> <span class="o">=</span> <span class="n">encoding</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;#&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
        <span class="n">pitch</span> <span class="o">=</span> <span class="n">encoding</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
        <span class="n">octave</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">encoding</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">islower</span><span class="p">():</span>
            <span class="n">min_octave</span> <span class="o">=</span> <span class="n">HumdrumPitchImporter</span><span class="o">.</span><span class="n">C4_OCATAVE</span>
            <span class="n">octave</span> <span class="o">=</span> <span class="n">min_octave</span> <span class="o">+</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">encoding</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">encoding</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">isupper</span><span class="p">():</span>
            <span class="n">max_octave</span> <span class="o">=</span> <span class="n">HumdrumPitchImporter</span><span class="o">.</span><span class="n">C3_OCATAVE</span>
            <span class="n">octave</span> <span class="o">=</span> <span class="n">max_octave</span> <span class="o">-</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">encoding</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">name</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">pitch</span><span class="si">}{</span><span class="n">accidentals</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">return</span> <span class="n">name</span><span class="p">,</span> <span class="n">octave</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="kernpy.Importer" class="doc doc-heading">
            <code>Importer</code>


</h2>


    <div class="doc doc-contents ">


        <p>Importer class.</p>
<p>Use this class to import the content from a file or a string to a <code>Document</code> object.</p>

              <details class="quote">
                <summary>Source code in <code>kernpy/core/importer.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 16</span>
<span class="normal"> 17</span>
<span class="normal"> 18</span>
<span class="normal"> 19</span>
<span class="normal"> 20</span>
<span class="normal"> 21</span>
<span class="normal"> 22</span>
<span class="normal"> 23</span>
<span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">Importer</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Importer class.</span>

<span class="sd">    Use this class to import the content from a file or a string to a `Document` object.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Create an instance of the importer.</span>

<span class="sd">        Raises:</span>
<span class="sd">            Exception: If the importer content is not a valid **kern file.</span>

<span class="sd">        Examples:</span>
<span class="sd">            # Create the importer</span>
<span class="sd">            &gt;&gt;&gt; importer = Importer()</span>

<span class="sd">            # Import the content from a file</span>
<span class="sd">            &gt;&gt;&gt; document = importer.import_file(&#39;file.krn&#39;)</span>

<span class="sd">            # Import the content from a string</span>
<span class="sd">            &gt;&gt;&gt; document = importer.import_string(&quot;**kern\n*clefF4\nc4\n4d\n4e\n4f\n*-&quot;)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">last_measure_number</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">last_bounding_box</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">errors</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_tree</span> <span class="o">=</span> <span class="n">MultistageTree</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_document</span> <span class="o">=</span> <span class="n">Document</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_tree</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_importers</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_header_row_number</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_row_number</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_tree_stage</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_next_stage_parents</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_prev_stage_parents</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_last_node_previous_to_header</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tree</span><span class="o">.</span><span class="n">root</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">get_last_spine_operator</span><span class="p">(</span><span class="n">parent</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">parent</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">parent</span><span class="o">.</span><span class="n">token</span><span class="p">,</span> <span class="n">SpineOperationToken</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">parent</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">parent</span><span class="o">.</span><span class="n">last_spine_operator_node</span>

    <span class="c1">#TODO Documentar cómo propagamos los header_node y last_spine_operator_node...</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">reader</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Document</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">reader</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">row</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
                <span class="c1"># Found an empty row, usually the last one. Ignore it.</span>
                <span class="k">continue</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">_tree_stage</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tree_stage</span> <span class="o">+</span> <span class="mi">1</span>
            <span class="n">is_barline</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_next_stage_parents</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_prev_stage_parents</span> <span class="o">=</span> <span class="n">copy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_next_stage_parents</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_next_stage_parents</span> <span class="o">=</span> <span class="p">[]</span>

            <span class="k">if</span> <span class="n">row</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;!!&quot;</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_compute_metacomment_token</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">icolumn</span><span class="p">,</span> <span class="n">column</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">row</span><span class="p">):</span>
                    <span class="k">if</span> <span class="n">column</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;**&quot;</span><span class="p">):</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">_compute_header_token</span><span class="p">(</span><span class="n">icolumn</span><span class="p">,</span> <span class="n">column</span><span class="p">)</span>
                        <span class="c1"># go to next row</span>
                        <span class="k">continue</span>

                    <span class="k">if</span> <span class="n">column</span> <span class="ow">in</span> <span class="n">SPINE_OPERATIONS</span><span class="p">:</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">_compute_spine_operator_token</span><span class="p">(</span><span class="n">icolumn</span><span class="p">,</span> <span class="n">column</span><span class="p">,</span> <span class="n">row</span><span class="p">)</span>
                    <span class="k">else</span><span class="p">:</span>  <span class="c1"># column is not a spine operation</span>
                        <span class="k">if</span> <span class="n">column</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;!&quot;</span><span class="p">):</span>
                            <span class="n">token</span> <span class="o">=</span> <span class="n">FieldCommentToken</span><span class="p">(</span><span class="n">column</span><span class="p">)</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_prev_stage_parents</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Any spine header found in the column #</span><span class="si">{</span><span class="n">icolumn</span><span class="si">}</span><span class="s1">. &#39;</span>
                                                 <span class="sa">f</span><span class="s1">&#39;Expected a previous line with valid content. &#39;</span>
                                                 <span class="sa">f</span><span class="s1">&#39;The token in column #</span><span class="si">{</span><span class="n">icolumn</span><span class="si">}</span><span class="s1"> and row #</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_row_number</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="si">}</span><span class="s1">&#39;</span>
                                                 <span class="sa">f</span><span class="s1">&#39; was not created correctly. Error detected in &#39;</span>
                                                 <span class="sa">f</span><span class="s1">&#39;column #</span><span class="si">{</span><span class="n">icolumn</span><span class="si">}</span><span class="s1"> in row #</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_row_number</span><span class="si">}</span><span class="s1">. &#39;</span>
                                                 <span class="sa">f</span><span class="s1">&#39;Found </span><span class="si">{</span><span class="n">column</span><span class="si">}</span><span class="s1">. &#39;</span><span class="p">)</span>
                            <span class="k">if</span> <span class="n">icolumn</span> <span class="o">&gt;=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_prev_stage_parents</span><span class="p">):</span>
                                <span class="c1"># TODO: Try to fix the kern in runtime. Add options to public API</span>
                                <span class="c1"># continue  # ignore the column</span>
                                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Wrong columns number in row </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_row_number</span><span class="si">}</span><span class="s1">. &#39;</span>
                                                 <span class="sa">f</span><span class="s1">&#39;The token in column #</span><span class="si">{</span><span class="n">icolumn</span><span class="si">}</span><span class="s1"> and row #</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_row_number</span><span class="si">}</span><span class="s1">&#39;</span>
                                                 <span class="sa">f</span><span class="s1">&#39; has more columns than expected in its row. &#39;</span>
                                                 <span class="sa">f</span><span class="s1">&#39;Expected </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_prev_stage_parents</span><span class="p">)</span><span class="si">}</span><span class="s1"> columns &#39;</span>
                                                 <span class="sa">f</span><span class="s1">&#39;but found </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">row</span><span class="p">)</span><span class="si">}</span><span class="s1">.&#39;</span><span class="p">)</span>
                            <span class="n">parent</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_prev_stage_parents</span><span class="p">[</span><span class="n">icolumn</span><span class="p">]</span>
                            <span class="k">if</span> <span class="ow">not</span> <span class="n">parent</span><span class="p">:</span>
                                <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Cannot find a parent node for column #</span><span class="si">{</span><span class="n">icolumn</span><span class="si">}</span><span class="s1"> in row </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_row_number</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
                            <span class="k">if</span> <span class="ow">not</span> <span class="n">parent</span><span class="o">.</span><span class="n">header_node</span><span class="p">:</span>
                                <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Cannot find a header node for column #</span><span class="si">{</span><span class="n">icolumn</span><span class="si">}</span><span class="s1"> in row </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_row_number</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
                            <span class="n">importer</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_importers</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">parent</span><span class="o">.</span><span class="n">header_node</span><span class="o">.</span><span class="n">token</span><span class="o">.</span><span class="n">encoding</span><span class="p">)</span>
                            <span class="k">if</span> <span class="ow">not</span> <span class="n">importer</span><span class="p">:</span>
                                <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Cannot find an importer for header </span><span class="si">{</span><span class="n">parent</span><span class="o">.</span><span class="n">header_node</span><span class="o">.</span><span class="n">token</span><span class="o">.</span><span class="n">encoding</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
                            <span class="k">try</span><span class="p">:</span>
                                <span class="n">token</span> <span class="o">=</span> <span class="n">importer</span><span class="o">.</span><span class="n">import_token</span><span class="p">(</span><span class="n">column</span><span class="p">)</span>
                            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
                                <span class="n">token</span> <span class="o">=</span> <span class="n">ErrorToken</span><span class="p">(</span><span class="n">column</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_row_number</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">))</span>
                                <span class="bp">self</span><span class="o">.</span><span class="n">errors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">token</span><span class="p">)</span>
                        <span class="k">if</span> <span class="ow">not</span> <span class="n">token</span><span class="p">:</span>
                            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                                <span class="sa">f</span><span class="s1">&#39;No token generated for input </span><span class="si">{</span><span class="n">column</span><span class="si">}</span><span class="s1"> in row number #</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_row_number</span><span class="si">}</span><span class="s1"> using importer </span><span class="si">{</span><span class="n">importer</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

                        <span class="n">parent</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_prev_stage_parents</span><span class="p">[</span><span class="n">icolumn</span><span class="p">]</span>
                        <span class="n">node</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tree</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_tree_stage</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="n">token</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_last_spine_operator</span><span class="p">(</span><span class="n">parent</span><span class="p">),</span> <span class="n">parent</span><span class="o">.</span><span class="n">last_signature_nodes</span><span class="p">,</span> <span class="n">parent</span><span class="o">.</span><span class="n">header_node</span><span class="p">)</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">_next_stage_parents</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>

                        <span class="k">if</span> <span class="p">(</span><span class="n">token</span><span class="o">.</span><span class="n">category</span> <span class="o">==</span> <span class="n">TokenCategory</span><span class="o">.</span><span class="n">BARLINES</span>
                                <span class="ow">or</span> <span class="n">TokenCategory</span><span class="o">.</span><span class="n">is_child</span><span class="p">(</span><span class="n">child</span><span class="o">=</span><span class="n">token</span><span class="o">.</span><span class="n">category</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="n">TokenCategory</span><span class="o">.</span><span class="n">CORE</span><span class="p">)</span>
                                    <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_document</span><span class="o">.</span><span class="n">measure_start_tree_stages</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">):</span>
                            <span class="n">is_barline</span> <span class="o">=</span> <span class="kc">True</span>
                        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">token</span><span class="p">,</span> <span class="n">BoundingBoxToken</span><span class="p">):</span>
                            <span class="bp">self</span><span class="o">.</span><span class="n">handle_bounding_box</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_document</span><span class="p">,</span> <span class="n">token</span><span class="p">)</span>
                        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">token</span><span class="p">,</span> <span class="n">SignatureToken</span><span class="p">):</span>
                            <span class="n">node</span><span class="o">.</span><span class="n">last_signature_nodes</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>

                <span class="k">if</span> <span class="n">is_barline</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_document</span><span class="o">.</span><span class="n">measure_start_tree_stages</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_tree_stage</span><span class="p">)</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">last_measure_number</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_document</span><span class="o">.</span><span class="n">measure_start_tree_stages</span><span class="p">)</span>
                    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">last_bounding_box</span><span class="p">:</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">last_bounding_box</span><span class="o">.</span><span class="n">to_measure</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">last_measure_number</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_row_number</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_row_number</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_document</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">handle_bounding_box</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">document</span><span class="p">:</span> <span class="n">Document</span><span class="p">,</span> <span class="n">token</span><span class="p">:</span> <span class="n">BoundingBoxToken</span><span class="p">):</span>
        <span class="n">page_number</span> <span class="o">=</span> <span class="n">token</span><span class="o">.</span><span class="n">page_number</span>
        <span class="n">last_page_bb</span> <span class="o">=</span> <span class="n">document</span><span class="o">.</span><span class="n">page_bounding_boxes</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">page_number</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">last_page_bb</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">last_measure_number</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">last_measure_number</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">last_bounding_box</span> <span class="o">=</span> <span class="n">BoundingBoxMeasures</span><span class="p">(</span><span class="n">token</span><span class="o">.</span><span class="n">bounding_box</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">last_measure_number</span><span class="p">,</span>
                                                         <span class="bp">self</span><span class="o">.</span><span class="n">last_measure_number</span><span class="p">)</span>
            <span class="n">document</span><span class="o">.</span><span class="n">page_bounding_boxes</span><span class="p">[</span><span class="n">page_number</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">last_bounding_box</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">last_page_bb</span><span class="o">.</span><span class="n">bounding_box</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">token</span><span class="o">.</span><span class="n">bounding_box</span><span class="p">)</span>
            <span class="n">last_page_bb</span><span class="o">.</span><span class="n">to_measure</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">last_measure_number</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">import_file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file_path</span><span class="p">:</span> <span class="n">Path</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Document</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Import the content from the importer to the file.</span>
<span class="sd">        Args:</span>
<span class="sd">            file_path: The path to the file.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Document - The document with the imported content.</span>

<span class="sd">        Examples:</span>
<span class="sd">            # Create the importer and read the file</span>
<span class="sd">            &gt;&gt;&gt; importer = Importer()</span>
<span class="sd">            &gt;&gt;&gt; importer.import_file(&#39;file.krn&#39;)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="n">newline</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">,</span> <span class="n">errors</span><span class="o">=</span><span class="s1">&#39;ignore&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
            <span class="n">reader</span> <span class="o">=</span> <span class="n">csv</span><span class="o">.</span><span class="n">reader</span><span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="n">delimiter</span><span class="o">=</span><span class="s1">&#39;</span><span class="se">\t</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">reader</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">import_string</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Document</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Import the content from the content of the score in string format.</span>

<span class="sd">        Args:</span>
<span class="sd">            text: The content of the score in string format.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Document - The document with the imported content.</span>

<span class="sd">        Examples:</span>
<span class="sd">            # Create the importer and read the file</span>
<span class="sd">            &gt;&gt;&gt; importer = Importer()</span>
<span class="sd">            &gt;&gt;&gt; importer.import_string(&quot;**kern\n*clefF4\nc4\n4d\n4e\n4f\n*-&quot;)</span>
<span class="sd">            # Read the content from a file</span>
<span class="sd">            &gt;&gt;&gt; with open(&#39;file.krn&#39;,  &#39;r&#39;, newline=&#39;&#39;, encoding=&#39;utf-8&#39;, errors=&#39;ignore&#39;) as f: # We encourage you to use these open file options</span>
<span class="sd">            &gt;&gt;&gt;     content = f.read()</span>
<span class="sd">            &gt;&gt;&gt; importer.import_string(content)</span>
<span class="sd">            &gt;&gt;&gt; document = importer.import_string(content)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">lines</span> <span class="o">=</span> <span class="n">text</span><span class="o">.</span><span class="n">splitlines</span><span class="p">()</span>
        <span class="n">reader</span> <span class="o">=</span> <span class="n">csv</span><span class="o">.</span><span class="n">reader</span><span class="p">(</span><span class="n">lines</span><span class="p">,</span> <span class="n">delimiter</span><span class="o">=</span><span class="s1">&#39;</span><span class="se">\t</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">reader</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_error_messages</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the error messages of the importer.</span>

<span class="sd">        Returns: str - The error messages split by a new line character.</span>

<span class="sd">        Examples:</span>
<span class="sd">            # Create the importer and read the file</span>
<span class="sd">            &gt;&gt;&gt; importer = Importer()</span>
<span class="sd">            &gt;&gt;&gt; importer.import_file(Path(&#39;file.krn&#39;))</span>
<span class="sd">            &gt;&gt;&gt; print(importer.get_error_messages())</span>
<span class="sd">            &#39;Error: Invalid token in row 1&#39;</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">result</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
        <span class="k">for</span> <span class="n">err</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">errors</span><span class="p">:</span>
            <span class="n">result</span> <span class="o">+=</span> <span class="nb">str</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
            <span class="n">result</span> <span class="o">+=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">has_errors</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Check if the importer has any errors.</span>

<span class="sd">        Returns: bool - True if the importer has errors, False otherwise.</span>

<span class="sd">        Examples:</span>
<span class="sd">            # Create the importer and read the file</span>
<span class="sd">            &gt;&gt;&gt; importer = Importer()</span>
<span class="sd">            &gt;&gt;&gt; importer.import_file(Path(&#39;file.krn&#39;))    # file.krn has an error</span>
<span class="sd">            &gt;&gt;&gt; print(importer.has_errors())</span>
<span class="sd">            True</span>
<span class="sd">            &gt;&gt;&gt; importer.import_file(Path(&#39;file2.krn&#39;))   # file2.krn has no errors</span>
<span class="sd">            &gt;&gt;&gt; print(importer.has_errors())</span>
<span class="sd">            False</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">errors</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_compute_metacomment_token</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">raw_token</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
        <span class="n">token</span> <span class="o">=</span> <span class="n">MetacommentToken</span><span class="p">(</span><span class="n">raw_token</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_header_row_number</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">node</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tree</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_tree_stage</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_last_node_previous_to_header</span><span class="p">,</span> <span class="n">token</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_last_node_previous_to_header</span> <span class="o">=</span> <span class="n">node</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">parent</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_prev_stage_parents</span><span class="p">:</span>
                <span class="n">node</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tree</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_tree_stage</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="n">token</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_last_spine_operator</span><span class="p">(</span><span class="n">parent</span><span class="p">),</span> <span class="n">parent</span><span class="o">.</span><span class="n">last_signature_nodes</span><span class="p">,</span> <span class="n">parent</span><span class="o">.</span><span class="n">header_node</span><span class="p">)</span> <span class="c1"># the same reference for all spines - TODO Recordar documentarlo</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_next_stage_parents</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_compute_header_token</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">column_index</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">column_content</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_header_row_number</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">_header_row_number</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_row_number</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Several header rows not supported, there is a header row in #</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_header_row_number</span><span class="si">}</span><span class="s2"> and another in #</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_row_number</span><span class="si">}</span><span class="s2"> &quot;</span><span class="p">)</span>

            <span class="c1"># it&#39;s a spine header</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_document</span><span class="o">.</span><span class="n">header_stage</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tree_stage</span>
        <span class="n">importer</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_importers</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">column_content</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">importer</span><span class="p">:</span>
            <span class="n">importer</span> <span class="o">=</span> <span class="n">createImporter</span><span class="p">(</span><span class="n">column_content</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_importers</span><span class="p">[</span><span class="n">column_content</span><span class="p">]</span> <span class="o">=</span> <span class="n">importer</span>

        <span class="n">token</span> <span class="o">=</span> <span class="n">HeaderToken</span><span class="p">(</span><span class="n">column_content</span><span class="p">,</span> <span class="n">spine_id</span><span class="o">=</span><span class="n">column_index</span><span class="p">)</span>
        <span class="n">node</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tree</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_tree_stage</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_last_node_previous_to_header</span><span class="p">,</span> <span class="n">token</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="n">node</span><span class="o">.</span><span class="n">header_node</span> <span class="o">=</span> <span class="n">node</span> <span class="c1"># this value will be propagated</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_next_stage_parents</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_compute_spine_operator_token</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">column_index</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">column_content</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">row</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]):</span>
        <span class="n">token</span> <span class="o">=</span> <span class="n">SpineOperationToken</span><span class="p">(</span><span class="n">column_content</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">column_index</span> <span class="o">&gt;=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_prev_stage_parents</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Expected at least </span><span class="si">{</span><span class="n">column_index</span><span class="o">+</span><span class="mi">1</span><span class="si">}</span><span class="s1"> parents in row </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_row_number</span><span class="si">}</span><span class="s1">, but found </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_prev_stage_parents</span><span class="p">)</span><span class="si">}</span><span class="s1">: </span><span class="si">{</span><span class="n">row</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

        <span class="n">parent</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_prev_stage_parents</span><span class="p">[</span><span class="n">column_index</span><span class="p">]</span>
        <span class="n">node</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tree</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_tree_stage</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="n">token</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_last_spine_operator</span><span class="p">(</span><span class="n">parent</span><span class="p">),</span> <span class="n">parent</span><span class="o">.</span><span class="n">last_signature_nodes</span><span class="p">,</span> <span class="n">parent</span><span class="o">.</span><span class="n">header_node</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">column_content</span> <span class="o">==</span> <span class="s1">&#39;*-&#39;</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">node</span><span class="o">.</span><span class="n">last_spine_operator_node</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">node</span><span class="o">.</span><span class="n">last_spine_operator_node</span><span class="o">.</span><span class="n">token</span><span class="o">.</span><span class="n">cancelled_at_stage</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tree_stage</span>
            <span class="k">pass</span> <span class="c1"># it&#39;s terminated, no continuation</span>
        <span class="k">elif</span> <span class="n">column_content</span> <span class="o">==</span> <span class="s2">&quot;*+&quot;</span> <span class="ow">or</span> <span class="n">column_content</span> <span class="o">==</span> <span class="s2">&quot;*^&quot;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_next_stage_parents</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_next_stage_parents</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">node</span><span class="p">)</span> <span class="c1"># twice, the next stage two children will have this one as parent</span>
        <span class="k">elif</span> <span class="n">column_content</span> <span class="o">==</span> <span class="s2">&quot;*v&quot;</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">node</span><span class="o">.</span><span class="n">last_spine_operator_node</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">node</span><span class="o">.</span><span class="n">last_spine_operator_node</span><span class="o">.</span><span class="n">token</span><span class="o">.</span><span class="n">cancelled_at_stage</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tree_stage</span>

            <span class="k">if</span> <span class="n">column_index</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">row</span><span class="p">[</span><span class="n">column_index</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">!=</span> <span class="s1">&#39;*v&#39;</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">_prev_stage_parents</span><span class="p">[</span><span class="n">column_index</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">header_node</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_prev_stage_parents</span><span class="p">[</span><span class="n">column_index</span><span class="p">]</span><span class="o">.</span><span class="n">header_node</span><span class="p">:</span> <span class="c1"># don&#39;t collapse two different spines</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_next_stage_parents</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">node</span><span class="p">)</span> <span class="c1"># just one spine each two</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Unknown spine operation in column #</span><span class="si">{</span><span class="n">column_content</span><span class="si">}</span><span class="s1"> and row #</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_row_number</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="kernpy.Importer.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <pre><code>    Create an instance of the importer.

    Raises:
        Exception: If the importer content is not a valid **kern file.

    Examples:
        # Create the importer
        &gt;&gt;&gt; importer = Importer()

        # Import the content from a file
        &gt;&gt;&gt; document = importer.import_file('file.krn')

        # Import the content from a string
        &gt;&gt;&gt; document = importer.import_string("**kern
</code></pre>
<p><em>clefF4
c4
4d
4e
4f
</em>-")</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/importer.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Create an instance of the importer.</span>

<span class="sd">    Raises:</span>
<span class="sd">        Exception: If the importer content is not a valid **kern file.</span>

<span class="sd">    Examples:</span>
<span class="sd">        # Create the importer</span>
<span class="sd">        &gt;&gt;&gt; importer = Importer()</span>

<span class="sd">        # Import the content from a file</span>
<span class="sd">        &gt;&gt;&gt; document = importer.import_file(&#39;file.krn&#39;)</span>

<span class="sd">        # Import the content from a string</span>
<span class="sd">        &gt;&gt;&gt; document = importer.import_string(&quot;**kern\n*clefF4\nc4\n4d\n4e\n4f\n*-&quot;)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">last_measure_number</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">last_bounding_box</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">errors</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_tree</span> <span class="o">=</span> <span class="n">MultistageTree</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_document</span> <span class="o">=</span> <span class="n">Document</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_tree</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_importers</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_header_row_number</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_row_number</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_tree_stage</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_next_stage_parents</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_prev_stage_parents</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_last_node_previous_to_header</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tree</span><span class="o">.</span><span class="n">root</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.Importer.get_error_messages" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_error_messages</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Get the error messages of the importer.</p>
<p>Returns: str - The error messages split by a new line character.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <h4 id="kernpy.Importer.get_error_messages--create-the-importer-and-read-the-file">Create the importer and read the file</h4>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">importer</span> <span class="o">=</span> <span class="n">Importer</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">importer</span><span class="o">.</span><span class="n">import_file</span><span class="p">(</span><span class="n">Path</span><span class="p">(</span><span class="s1">&#39;file.krn&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">importer</span><span class="o">.</span><span class="n">get_error_messages</span><span class="p">())</span>
<span class="go">&#39;Error: Invalid token in row 1&#39;</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/importer.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_error_messages</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get the error messages of the importer.</span>

<span class="sd">    Returns: str - The error messages split by a new line character.</span>

<span class="sd">    Examples:</span>
<span class="sd">        # Create the importer and read the file</span>
<span class="sd">        &gt;&gt;&gt; importer = Importer()</span>
<span class="sd">        &gt;&gt;&gt; importer.import_file(Path(&#39;file.krn&#39;))</span>
<span class="sd">        &gt;&gt;&gt; print(importer.get_error_messages())</span>
<span class="sd">        &#39;Error: Invalid token in row 1&#39;</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">result</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
    <span class="k">for</span> <span class="n">err</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">errors</span><span class="p">:</span>
        <span class="n">result</span> <span class="o">+=</span> <span class="nb">str</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
        <span class="n">result</span> <span class="o">+=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>
    <span class="k">return</span> <span class="n">result</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.Importer.has_errors" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">has_errors</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Check if the importer has any errors.</p>
<p>Returns: bool - True if the importer has errors, False otherwise.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <h4 id="kernpy.Importer.has_errors--create-the-importer-and-read-the-file">Create the importer and read the file</h4>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">importer</span> <span class="o">=</span> <span class="n">Importer</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">importer</span><span class="o">.</span><span class="n">import_file</span><span class="p">(</span><span class="n">Path</span><span class="p">(</span><span class="s1">&#39;file.krn&#39;</span><span class="p">))</span>    <span class="c1"># file.krn has an error</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">importer</span><span class="o">.</span><span class="n">has_errors</span><span class="p">())</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">importer</span><span class="o">.</span><span class="n">import_file</span><span class="p">(</span><span class="n">Path</span><span class="p">(</span><span class="s1">&#39;file2.krn&#39;</span><span class="p">))</span>   <span class="c1"># file2.krn has no errors</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">importer</span><span class="o">.</span><span class="n">has_errors</span><span class="p">())</span>
<span class="go">False</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/importer.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">has_errors</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Check if the importer has any errors.</span>

<span class="sd">    Returns: bool - True if the importer has errors, False otherwise.</span>

<span class="sd">    Examples:</span>
<span class="sd">        # Create the importer and read the file</span>
<span class="sd">        &gt;&gt;&gt; importer = Importer()</span>
<span class="sd">        &gt;&gt;&gt; importer.import_file(Path(&#39;file.krn&#39;))    # file.krn has an error</span>
<span class="sd">        &gt;&gt;&gt; print(importer.has_errors())</span>
<span class="sd">        True</span>
<span class="sd">        &gt;&gt;&gt; importer.import_file(Path(&#39;file2.krn&#39;))   # file2.krn has no errors</span>
<span class="sd">        &gt;&gt;&gt; print(importer.has_errors())</span>
<span class="sd">        False</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">errors</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.Importer.import_file" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">import_file</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Import the content from the importer to the file.
Args:
    file_path: The path to the file.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.document.Document" href="#kernpy.core.Document">Document</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Document - The document with the imported content.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <h4 id="kernpy.Importer.import_file--create-the-importer-and-read-the-file">Create the importer and read the file</h4>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">importer</span> <span class="o">=</span> <span class="n">Importer</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">importer</span><span class="o">.</span><span class="n">import_file</span><span class="p">(</span><span class="s1">&#39;file.krn&#39;</span><span class="p">)</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/importer.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">import_file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file_path</span><span class="p">:</span> <span class="n">Path</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Document</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Import the content from the importer to the file.</span>
<span class="sd">    Args:</span>
<span class="sd">        file_path: The path to the file.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Document - The document with the imported content.</span>

<span class="sd">    Examples:</span>
<span class="sd">        # Create the importer and read the file</span>
<span class="sd">        &gt;&gt;&gt; importer = Importer()</span>
<span class="sd">        &gt;&gt;&gt; importer.import_file(&#39;file.krn&#39;)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="n">newline</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">,</span> <span class="n">errors</span><span class="o">=</span><span class="s1">&#39;ignore&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
        <span class="n">reader</span> <span class="o">=</span> <span class="n">csv</span><span class="o">.</span><span class="n">reader</span><span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="n">delimiter</span><span class="o">=</span><span class="s1">&#39;</span><span class="se">\t</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">reader</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.Importer.import_string" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">import_string</span><span class="p">(</span><span class="n">text</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <pre><code>    Import the content from the content of the score in string format.

    Args:
        text: The content of the score in string format.

    Returns:
        Document - The document with the imported content.

    Examples:
        # Create the importer and read the file
        &gt;&gt;&gt; importer = Importer()
        &gt;&gt;&gt; importer.import_string("**kern
</code></pre>
<p><em>clefF4
c4
4d
4e
4f
</em>-")
            # Read the content from a file
            &gt;&gt;&gt; with open('file.krn',  'r', newline='', encoding='utf-8', errors='ignore') as f: # We encourage you to use these open file options
            &gt;&gt;&gt;     content = f.read()
            &gt;&gt;&gt; importer.import_string(content)
            &gt;&gt;&gt; document = importer.import_string(content)</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/importer.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">import_string</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Document</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Import the content from the content of the score in string format.</span>

<span class="sd">    Args:</span>
<span class="sd">        text: The content of the score in string format.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Document - The document with the imported content.</span>

<span class="sd">    Examples:</span>
<span class="sd">        # Create the importer and read the file</span>
<span class="sd">        &gt;&gt;&gt; importer = Importer()</span>
<span class="sd">        &gt;&gt;&gt; importer.import_string(&quot;**kern\n*clefF4\nc4\n4d\n4e\n4f\n*-&quot;)</span>
<span class="sd">        # Read the content from a file</span>
<span class="sd">        &gt;&gt;&gt; with open(&#39;file.krn&#39;,  &#39;r&#39;, newline=&#39;&#39;, encoding=&#39;utf-8&#39;, errors=&#39;ignore&#39;) as f: # We encourage you to use these open file options</span>
<span class="sd">        &gt;&gt;&gt;     content = f.read()</span>
<span class="sd">        &gt;&gt;&gt; importer.import_string(content)</span>
<span class="sd">        &gt;&gt;&gt; document = importer.import_string(content)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">lines</span> <span class="o">=</span> <span class="n">text</span><span class="o">.</span><span class="n">splitlines</span><span class="p">()</span>
    <span class="n">reader</span> <span class="o">=</span> <span class="n">csv</span><span class="o">.</span><span class="n">reader</span><span class="p">(</span><span class="n">lines</span><span class="p">,</span> <span class="n">delimiter</span><span class="o">=</span><span class="s1">&#39;</span><span class="se">\t</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">reader</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="kernpy.KernSpineImporter" class="doc doc-heading">
            <code>KernSpineImporter</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="kernpy.core.spine_importer.SpineImporter" href="#kernpy.core.SpineImporter">SpineImporter</a></code></p>


              <details class="quote">
                <summary>Source code in <code>kernpy/core/kern_spine_importer.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">KernSpineImporter</span><span class="p">(</span><span class="n">SpineImporter</span><span class="p">):</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">verbose</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        KernSpineImporter constructor.</span>

<span class="sd">        Args:</span>
<span class="sd">            verbose (Optional[bool]): Level of verbosity for error messages.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="n">verbose</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">import_listener</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BaseANTLRSpineParserListener</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">KernSpineListener</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">import_token</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">encoding</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_raise_error_if_wrong_input</span><span class="p">(</span><span class="n">encoding</span><span class="p">)</span>

        <span class="c1"># self.listenerImporter = KernListenerImporter(token) # TODO ¿Por qué no va esto?</span>
        <span class="c1"># self.listenerImporter.start()</span>
        <span class="n">lexer</span> <span class="o">=</span> <span class="n">kernSpineLexer</span><span class="p">(</span><span class="n">InputStream</span><span class="p">(</span><span class="n">encoding</span><span class="p">))</span>
        <span class="n">lexer</span><span class="o">.</span><span class="n">removeErrorListeners</span><span class="p">()</span>
        <span class="n">lexer</span><span class="o">.</span><span class="n">addErrorListener</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">error_listener</span><span class="p">)</span>
        <span class="n">stream</span> <span class="o">=</span> <span class="n">CommonTokenStream</span><span class="p">(</span><span class="n">lexer</span><span class="p">)</span>
        <span class="n">parser</span> <span class="o">=</span> <span class="n">kernSpineParser</span><span class="p">(</span><span class="n">stream</span><span class="p">)</span>
        <span class="n">parser</span><span class="o">.</span><span class="n">_interp</span><span class="o">.</span><span class="n">predictionMode</span> <span class="o">=</span> <span class="n">PredictionMode</span><span class="o">.</span><span class="n">SLL</span>  <span class="c1"># it improves a lot the parsing</span>
        <span class="n">parser</span><span class="o">.</span><span class="n">removeErrorListeners</span><span class="p">()</span>
        <span class="n">parser</span><span class="o">.</span><span class="n">addErrorListener</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">error_listener</span><span class="p">)</span>
        <span class="n">parser</span><span class="o">.</span><span class="n">errHandler</span> <span class="o">=</span> <span class="n">BailErrorStrategy</span><span class="p">()</span>
        <span class="n">tree</span> <span class="o">=</span> <span class="n">parser</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
        <span class="n">walker</span> <span class="o">=</span> <span class="n">ParseTreeWalker</span><span class="p">()</span>
        <span class="n">listener</span> <span class="o">=</span> <span class="n">KernSpineListener</span><span class="p">()</span>
        <span class="n">walker</span><span class="o">.</span><span class="n">walk</span><span class="p">(</span><span class="n">listener</span><span class="p">,</span> <span class="n">tree</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">error_listener</span><span class="o">.</span><span class="n">getNumberErrorsFound</span><span class="p">()</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">error_listener</span><span class="o">.</span><span class="n">errors</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">listener</span><span class="o">.</span><span class="n">token</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="kernpy.KernSpineImporter.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>KernSpineImporter constructor.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>verbose</code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[bool]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Level of verbosity for error messages.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/kern_spine_importer.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">verbose</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    KernSpineImporter constructor.</span>

<span class="sd">    Args:</span>
<span class="sd">        verbose (Optional[bool]): Level of verbosity for error messages.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="n">verbose</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="kernpy.KernTokenizer" class="doc doc-heading">
            <code>KernTokenizer</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="kernpy.core.tokenizers.Tokenizer" href="#kernpy.core.Tokenizer">Tokenizer</a></code></p>


        <p>KernTokenizer converts a Token into a normalized kern string representation.</p>

              <details class="quote">
                <summary>Source code in <code>kernpy/core/tokenizers.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">KernTokenizer</span><span class="p">(</span><span class="n">Tokenizer</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    KernTokenizer converts a Token into a normalized kern string representation.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">token_categories</span><span class="p">:</span> <span class="n">Set</span><span class="p">[</span><span class="s1">&#39;TokenCategory&#39;</span><span class="p">]):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Create a new KernTokenizer.</span>

<span class="sd">        Args:</span>
<span class="sd">            token_categories (Set[TokenCategory]): List of categories to be tokenized. If None will raise an exception.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">token_categories</span><span class="o">=</span><span class="n">token_categories</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">tokenize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">token</span><span class="p">:</span> <span class="n">Token</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Tokenize a token into a normalized kern string representation.</span>
<span class="sd">        This format is the classic Humdrum **kern representation.</span>

<span class="sd">        Args:</span>
<span class="sd">            token (Token): Token to be tokenized.</span>

<span class="sd">        Returns (str): Normalized kern string representation. This is the classic Humdrum **kern representation.</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; token.encoding</span>
<span class="sd">            &#39;2@.@bb@-·_·L&#39;</span>
<span class="sd">            &gt;&gt;&gt; KernTokenizer().tokenize(token)</span>
<span class="sd">            &#39;2.bb-_L&#39;</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">EkernTokenizer</span><span class="p">(</span><span class="n">token_categories</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">token_categories</span><span class="p">)</span><span class="o">.</span><span class="n">tokenize</span><span class="p">(</span><span class="n">token</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">TOKEN_SEPARATOR</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">DECORATION_SEPARATOR</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="kernpy.KernTokenizer.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="p">,</span> <span class="n">token_categories</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Create a new KernTokenizer.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>token_categories</code></td>
            <td>
                  <code><span title="typing.Set">Set</span>[<a class="autorefs autorefs-internal" title="kernpy.core.gkern.TokenCategory" href="#kernpy.core.TokenCategory">TokenCategory</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List of categories to be tokenized. If None will raise an exception.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokenizers.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span>
<span class="normal">90</span>
<span class="normal">91</span>
<span class="normal">92</span>
<span class="normal">93</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">token_categories</span><span class="p">:</span> <span class="n">Set</span><span class="p">[</span><span class="s1">&#39;TokenCategory&#39;</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Create a new KernTokenizer.</span>

<span class="sd">    Args:</span>
<span class="sd">        token_categories (Set[TokenCategory]): List of categories to be tokenized. If None will raise an exception.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">token_categories</span><span class="o">=</span><span class="n">token_categories</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.KernTokenizer.tokenize" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">tokenize</span><span class="p">(</span><span class="n">token</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Tokenize a token into a normalized kern string representation.
This format is the classic Humdrum **kern representation.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>token</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.Token" href="#kernpy.core.Token">Token</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Token to be tokenized.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns (str): Normalized kern string representation. This is the classic Humdrum **kern representation.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">token</span><span class="o">.</span><span class="n">encoding</span>
<span class="go">&#39;2@.@bb@-·_·L&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">KernTokenizer</span><span class="p">()</span><span class="o">.</span><span class="n">tokenize</span><span class="p">(</span><span class="n">token</span><span class="p">)</span>
<span class="go">&#39;2.bb-_L&#39;</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokenizers.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">tokenize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">token</span><span class="p">:</span> <span class="n">Token</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Tokenize a token into a normalized kern string representation.</span>
<span class="sd">    This format is the classic Humdrum **kern representation.</span>

<span class="sd">    Args:</span>
<span class="sd">        token (Token): Token to be tokenized.</span>

<span class="sd">    Returns (str): Normalized kern string representation. This is the classic Humdrum **kern representation.</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; token.encoding</span>
<span class="sd">        &#39;2@.@bb@-·_·L&#39;</span>
<span class="sd">        &gt;&gt;&gt; KernTokenizer().tokenize(token)</span>
<span class="sd">        &#39;2.bb-_L&#39;</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">EkernTokenizer</span><span class="p">(</span><span class="n">token_categories</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">token_categories</span><span class="p">)</span><span class="o">.</span><span class="n">tokenize</span><span class="p">(</span><span class="n">token</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">TOKEN_SEPARATOR</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">DECORATION_SEPARATOR</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="kernpy.KernTypeExporter" class="doc doc-heading">
            <code>KernTypeExporter</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="enum.Enum">Enum</span></code></p>


        <p>Options for exporting a kern file.</p>


<details class="example" open>
  <summary>Example</summary>
  <blockquote>
<blockquote>
<blockquote>
<p>import kernpy as kp</p>
<h3 id="kernpy.KernTypeExporter--load-a-file">Load a file</h3>
<p>doc, _ = kp.load('path/to/file.krn')</p>
<h3 id="kernpy.KernTypeExporter--save-the-file-using-the-specified-encoding">Save the file using the specified encoding</h3>
<p>exported_content = kp.dumps(tokenizer=kp.KernTypeExporter.normalizedKern)</p>
</blockquote>
</blockquote>
</blockquote>
</details>
              <details class="quote">
                <summary>Source code in <code>kernpy/core/tokenizers.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">KernTypeExporter</span><span class="p">(</span><span class="n">Enum</span><span class="p">):</span>  <span class="c1"># TODO: Eventually, polymorphism will be used to export different types of kern files</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Options for exporting a kern file.</span>

<span class="sd">    Example:</span>
<span class="sd">        &gt;&gt;&gt; import kernpy as kp</span>
<span class="sd">        &gt;&gt;&gt; # Load a file</span>
<span class="sd">        &gt;&gt;&gt; doc, _ = kp.load(&#39;path/to/file.krn&#39;)</span>
<span class="sd">        &gt;&gt;&gt;</span>
<span class="sd">        &gt;&gt;&gt; # Save the file using the specified encoding</span>
<span class="sd">        &gt;&gt;&gt; exported_content = kp.dumps(tokenizer=kp.KernTypeExporter.normalizedKern)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">eKern</span> <span class="o">=</span> <span class="s1">&#39;ekern&#39;</span>
    <span class="n">normalizedKern</span> <span class="o">=</span> <span class="s1">&#39;kern&#39;</span>
    <span class="n">bKern</span> <span class="o">=</span> <span class="s1">&#39;bkern&#39;</span>
    <span class="n">bEkern</span> <span class="o">=</span> <span class="s1">&#39;bekern&#39;</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">prefix</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the prefix of the kern type.</span>

<span class="sd">        Returns (str): Prefix of the kern type.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span> <span class="o">==</span> <span class="n">KernTypeExporter</span><span class="o">.</span><span class="n">eKern</span><span class="p">:</span>
            <span class="k">return</span> <span class="s1">&#39;e&#39;</span>
        <span class="k">elif</span> <span class="bp">self</span> <span class="o">==</span> <span class="n">KernTypeExporter</span><span class="o">.</span><span class="n">normalizedKern</span><span class="p">:</span>
            <span class="k">return</span> <span class="s1">&#39;&#39;</span>
        <span class="k">elif</span> <span class="bp">self</span> <span class="o">==</span> <span class="n">KernTypeExporter</span><span class="o">.</span><span class="n">bKern</span><span class="p">:</span>
            <span class="k">return</span> <span class="s1">&#39;b&#39;</span>
        <span class="k">elif</span> <span class="bp">self</span> <span class="o">==</span> <span class="n">KernTypeExporter</span><span class="o">.</span><span class="n">bEkern</span><span class="p">:</span>
            <span class="k">return</span> <span class="s1">&#39;be&#39;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Unknown kern type: </span><span class="si">{</span><span class="bp">self</span><span class="si">}</span><span class="s1">. &#39;</span>
                             <span class="sa">f</span><span class="s1">&#39;Supported types are: &#39;</span>
                             <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="s1">&#39;-&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">kern_type</span><span class="o">.</span><span class="n">name</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">kern_type</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">KernTypeExporter</span><span class="o">.</span><span class="n">__members__</span><span class="o">.</span><span class="n">values</span><span class="p">()])</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="kernpy.KernTypeExporter.prefix" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">prefix</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Get the prefix of the kern type.</p>
<p>Returns (str): Prefix of the kern type.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokenizers.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">prefix</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get the prefix of the kern type.</span>

<span class="sd">    Returns (str): Prefix of the kern type.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span> <span class="o">==</span> <span class="n">KernTypeExporter</span><span class="o">.</span><span class="n">eKern</span><span class="p">:</span>
        <span class="k">return</span> <span class="s1">&#39;e&#39;</span>
    <span class="k">elif</span> <span class="bp">self</span> <span class="o">==</span> <span class="n">KernTypeExporter</span><span class="o">.</span><span class="n">normalizedKern</span><span class="p">:</span>
        <span class="k">return</span> <span class="s1">&#39;&#39;</span>
    <span class="k">elif</span> <span class="bp">self</span> <span class="o">==</span> <span class="n">KernTypeExporter</span><span class="o">.</span><span class="n">bKern</span><span class="p">:</span>
        <span class="k">return</span> <span class="s1">&#39;b&#39;</span>
    <span class="k">elif</span> <span class="bp">self</span> <span class="o">==</span> <span class="n">KernTypeExporter</span><span class="o">.</span><span class="n">bEkern</span><span class="p">:</span>
        <span class="k">return</span> <span class="s1">&#39;be&#39;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Unknown kern type: </span><span class="si">{</span><span class="bp">self</span><span class="si">}</span><span class="s1">. &#39;</span>
                         <span class="sa">f</span><span class="s1">&#39;Supported types are: &#39;</span>
                         <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="s1">&#39;-&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">kern_type</span><span class="o">.</span><span class="n">name</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">kern_type</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">KernTypeExporter</span><span class="o">.</span><span class="n">__members__</span><span class="o">.</span><span class="n">values</span><span class="p">()])</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="kernpy.MensSpineImporter" class="doc doc-heading">
            <code>MensSpineImporter</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="kernpy.core.spine_importer.SpineImporter" href="#kernpy.core.SpineImporter">SpineImporter</a></code></p>


              <details class="quote">
                <summary>Source code in <code>kernpy/core/mens_spine_importer.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">MensSpineImporter</span><span class="p">(</span><span class="n">SpineImporter</span><span class="p">):</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">verbose</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        MensSpineImporter constructor.</span>

<span class="sd">        Args:</span>
<span class="sd">            verbose (Optional[bool]): Level of verbosity for error messages.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="n">verbose</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">import_listener</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BaseANTLRSpineParserListener</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">import_token</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">encoding</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Token</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="kernpy.MensSpineImporter.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>MensSpineImporter constructor.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>verbose</code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[bool]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Level of verbosity for error messages.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/mens_spine_importer.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">verbose</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    MensSpineImporter constructor.</span>

<span class="sd">    Args:</span>
<span class="sd">        verbose (Optional[bool]): Level of verbosity for error messages.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="n">verbose</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="kernpy.MxhmSpineImporter" class="doc doc-heading">
            <code>MxhmSpineImporter</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="kernpy.core.spine_importer.SpineImporter" href="#kernpy.core.SpineImporter">SpineImporter</a></code></p>


              <details class="quote">
                <summary>Source code in <code>kernpy/core/mhxm_spine_importer.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">MxhmSpineImporter</span><span class="p">(</span><span class="n">SpineImporter</span><span class="p">):</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">verbose</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        KernSpineImporter constructor.</span>

<span class="sd">        Args:</span>
<span class="sd">            verbose (Optional[bool]): Level of verbosity for error messages.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="n">verbose</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">import_listener</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BaseANTLRSpineParserListener</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">KernSpineListener</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">import_token</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">encoding</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Token</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_raise_error_if_wrong_input</span><span class="p">(</span><span class="n">encoding</span><span class="p">)</span>

        <span class="n">kern_spine_importer</span> <span class="o">=</span> <span class="n">KernSpineImporter</span><span class="p">()</span>
        <span class="n">token</span> <span class="o">=</span> <span class="n">kern_spine_importer</span><span class="o">.</span><span class="n">import_token</span><span class="p">(</span><span class="n">encoding</span><span class="p">)</span>

        <span class="n">ACCEPTED_CATEGORIES</span> <span class="o">=</span> <span class="p">{</span>
            <span class="n">TokenCategory</span><span class="o">.</span><span class="n">STRUCTURAL</span><span class="p">,</span>
            <span class="n">TokenCategory</span><span class="o">.</span><span class="n">SIGNATURES</span><span class="p">,</span>
            <span class="n">TokenCategory</span><span class="o">.</span><span class="n">EMPTY</span><span class="p">,</span>
            <span class="n">TokenCategory</span><span class="o">.</span><span class="n">IMAGE_ANNOTATIONS</span><span class="p">,</span>
            <span class="n">TokenCategory</span><span class="o">.</span><span class="n">BARLINES</span><span class="p">,</span>
            <span class="n">TokenCategory</span><span class="o">.</span><span class="n">COMMENTS</span><span class="p">,</span>
        <span class="p">}</span>

        <span class="k">if</span> <span class="nb">any</span><span class="p">(</span><span class="n">TokenCategory</span><span class="o">.</span><span class="n">is_child</span><span class="p">(</span><span class="n">child</span><span class="o">=</span><span class="n">token</span><span class="o">.</span><span class="n">category</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="n">cat</span><span class="p">)</span> <span class="k">for</span> <span class="n">cat</span> <span class="ow">in</span> <span class="n">ACCEPTED_CATEGORIES</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">SimpleToken</span><span class="p">(</span><span class="n">encoding</span><span class="p">,</span> <span class="n">TokenCategory</span><span class="o">.</span><span class="n">HARMONY</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">token</span>

        <span class="k">return</span> <span class="n">MHXMToken</span><span class="p">(</span><span class="n">encoding</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="kernpy.MxhmSpineImporter.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>KernSpineImporter constructor.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>verbose</code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[bool]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Level of verbosity for error messages.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/mhxm_spine_importer.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">verbose</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    KernSpineImporter constructor.</span>

<span class="sd">    Args:</span>
<span class="sd">        verbose (Optional[bool]): Level of verbosity for error messages.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="n">verbose</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="kernpy.NoteRestToken" class="doc doc-heading">
            <code>NoteRestToken</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="kernpy.core.tokens.ComplexToken" href="#kernpy.core.ComplexToken">ComplexToken</a></code></p>


        <p>NoteRestToken class.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="kernpy.NoteRestToken.pitch_duration_subtokens">pitch_duration_subtokens</span></code></td>
            <td>
                  <code>list</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The subtokens for the pitch and duration</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="kernpy.NoteRestToken.decoration_subtokens">decoration_subtokens</span></code></td>
            <td>
                  <code>list</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The subtokens for the decorations</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

              <details class="quote">
                <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1780</span>
<span class="normal">1781</span>
<span class="normal">1782</span>
<span class="normal">1783</span>
<span class="normal">1784</span>
<span class="normal">1785</span>
<span class="normal">1786</span>
<span class="normal">1787</span>
<span class="normal">1788</span>
<span class="normal">1789</span>
<span class="normal">1790</span>
<span class="normal">1791</span>
<span class="normal">1792</span>
<span class="normal">1793</span>
<span class="normal">1794</span>
<span class="normal">1795</span>
<span class="normal">1796</span>
<span class="normal">1797</span>
<span class="normal">1798</span>
<span class="normal">1799</span>
<span class="normal">1800</span>
<span class="normal">1801</span>
<span class="normal">1802</span>
<span class="normal">1803</span>
<span class="normal">1804</span>
<span class="normal">1805</span>
<span class="normal">1806</span>
<span class="normal">1807</span>
<span class="normal">1808</span>
<span class="normal">1809</span>
<span class="normal">1810</span>
<span class="normal">1811</span>
<span class="normal">1812</span>
<span class="normal">1813</span>
<span class="normal">1814</span>
<span class="normal">1815</span>
<span class="normal">1816</span>
<span class="normal">1817</span>
<span class="normal">1818</span>
<span class="normal">1819</span>
<span class="normal">1820</span>
<span class="normal">1821</span>
<span class="normal">1822</span>
<span class="normal">1823</span>
<span class="normal">1824</span>
<span class="normal">1825</span>
<span class="normal">1826</span>
<span class="normal">1827</span>
<span class="normal">1828</span>
<span class="normal">1829</span>
<span class="normal">1830</span>
<span class="normal">1831</span>
<span class="normal">1832</span>
<span class="normal">1833</span>
<span class="normal">1834</span>
<span class="normal">1835</span>
<span class="normal">1836</span>
<span class="normal">1837</span>
<span class="normal">1838</span>
<span class="normal">1839</span>
<span class="normal">1840</span>
<span class="normal">1841</span>
<span class="normal">1842</span>
<span class="normal">1843</span>
<span class="normal">1844</span>
<span class="normal">1845</span>
<span class="normal">1846</span>
<span class="normal">1847</span>
<span class="normal">1848</span>
<span class="normal">1849</span>
<span class="normal">1850</span>
<span class="normal">1851</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">NoteRestToken</span><span class="p">(</span><span class="n">ComplexToken</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    NoteRestToken class.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        pitch_duration_subtokens (list): The subtokens for the pitch and duration</span>
<span class="sd">        decoration_subtokens (list): The subtokens for the decorations</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span>
            <span class="n">encoding</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
            <span class="n">pitch_duration_subtokens</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Subtoken</span><span class="p">],</span>
            <span class="n">decoration_subtokens</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Subtoken</span><span class="p">]</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        NoteRestToken constructor.</span>

<span class="sd">        Args:</span>
<span class="sd">            encoding (str): The complete unprocessed encoding</span>
<span class="sd">            pitch_duration_subtokens (List[Subtoken])y: The subtokens for the pitch and duration</span>
<span class="sd">            decoration_subtokens (List[Subtoken]): The subtokens for the decorations. Individual elements of the token, of type Subtoken</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">encoding</span><span class="p">,</span> <span class="n">TokenCategory</span><span class="o">.</span><span class="n">NOTE_REST</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">pitch_duration_subtokens</span> <span class="ow">or</span> <span class="nb">len</span><span class="p">(</span><span class="n">pitch_duration_subtokens</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;Empty name-duration subtokens&#39;</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">subtoken</span> <span class="ow">in</span> <span class="n">pitch_duration_subtokens</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">subtoken</span><span class="p">,</span> <span class="n">Subtoken</span><span class="p">):</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;All pitch-duration subtokens must be instances of Subtoken. Found </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">subtoken</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">subtoken</span> <span class="ow">in</span> <span class="n">decoration_subtokens</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">subtoken</span><span class="p">,</span> <span class="n">Subtoken</span><span class="p">):</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;All decoration subtokens must be instances of Subtoken. Found </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">subtoken</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">pitch_duration_subtokens</span> <span class="o">=</span> <span class="n">pitch_duration_subtokens</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">decoration_subtokens</span> <span class="o">=</span> <span class="n">decoration_subtokens</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">export</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Exports the token.</span>

<span class="sd">        Keyword Arguments:</span>
<span class="sd">            filter_categories (Optional[Callable[[TokenCategory], bool]]): A function that takes a TokenCategory and returns a boolean</span>
<span class="sd">                indicating whether the token should be included in the export. If provided, only tokens for which the</span>
<span class="sd">                function returns True will be exported. Defaults to None. If None, all tokens will be exported.</span>

<span class="sd">        Returns (str): The exported token.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">filter_categories_fn</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;filter_categories&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>

        <span class="c1"># Filter subcategories</span>
        <span class="n">pitch_duration_tokens</span> <span class="o">=</span> <span class="p">{</span>
            <span class="n">subtoken</span> <span class="k">for</span> <span class="n">subtoken</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">pitch_duration_subtokens</span>
            <span class="k">if</span> <span class="n">filter_categories_fn</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">filter_categories_fn</span><span class="p">(</span><span class="n">subtoken</span><span class="o">.</span><span class="n">category</span><span class="p">)</span>
        <span class="p">}</span>
        <span class="n">decoration_tokens</span> <span class="o">=</span> <span class="p">{</span>
            <span class="n">subtoken</span> <span class="k">for</span> <span class="n">subtoken</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">decoration_subtokens</span>
            <span class="k">if</span> <span class="n">filter_categories_fn</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">filter_categories_fn</span><span class="p">(</span><span class="n">subtoken</span><span class="o">.</span><span class="n">category</span><span class="p">)</span>
        <span class="p">}</span>
        <span class="n">pitch_duration_tokens_sorted</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">pitch_duration_tokens</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">t</span><span class="p">:</span>  <span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">category</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">t</span><span class="o">.</span><span class="n">encoding</span><span class="p">))</span>
        <span class="n">decoration_tokens_sorted</span>     <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">decoration_tokens</span><span class="p">,</span>     <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">t</span><span class="p">:</span>  <span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">category</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">t</span><span class="o">.</span><span class="n">encoding</span><span class="p">))</span>

        <span class="c1"># Join the sorted subtokens</span>
        <span class="n">pitch_duration_part</span> <span class="o">=</span> <span class="n">TOKEN_SEPARATOR</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">subtoken</span><span class="o">.</span><span class="n">encoding</span> <span class="k">for</span> <span class="n">subtoken</span> <span class="ow">in</span> <span class="n">pitch_duration_tokens_sorted</span><span class="p">])</span>
        <span class="n">decoration_part</span> <span class="o">=</span> <span class="n">DECORATION_SEPARATOR</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">subtoken</span><span class="o">.</span><span class="n">encoding</span> <span class="k">for</span> <span class="n">subtoken</span> <span class="ow">in</span> <span class="n">decoration_tokens_sorted</span><span class="p">])</span>

        <span class="n">result</span> <span class="o">=</span> <span class="n">pitch_duration_part</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">decoration_part</span><span class="p">):</span>
            <span class="n">result</span> <span class="o">+=</span> <span class="n">DECORATION_SEPARATOR</span> <span class="o">+</span> <span class="n">decoration_part</span>

        <span class="k">return</span> <span class="n">result</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">result</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="k">else</span> <span class="n">EMPTY_TOKEN</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="kernpy.NoteRestToken.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">encoding</span><span class="p">,</span> <span class="n">pitch_duration_subtokens</span><span class="p">,</span> <span class="n">decoration_subtokens</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>NoteRestToken constructor.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>encoding</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The complete unprocessed encoding</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>pitch_duration_subtokens</code></td>
            <td>
                  <code>List[Subtoken])y</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The subtokens for the pitch and duration</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>decoration_subtokens</code></td>
            <td>
                  <code><span title="typing.List">List</span>[<a class="autorefs autorefs-internal" title="kernpy.core.tokens.Subtoken" href="#kernpy.core.Subtoken">Subtoken</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The subtokens for the decorations. Individual elements of the token, of type Subtoken</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1789</span>
<span class="normal">1790</span>
<span class="normal">1791</span>
<span class="normal">1792</span>
<span class="normal">1793</span>
<span class="normal">1794</span>
<span class="normal">1795</span>
<span class="normal">1796</span>
<span class="normal">1797</span>
<span class="normal">1798</span>
<span class="normal">1799</span>
<span class="normal">1800</span>
<span class="normal">1801</span>
<span class="normal">1802</span>
<span class="normal">1803</span>
<span class="normal">1804</span>
<span class="normal">1805</span>
<span class="normal">1806</span>
<span class="normal">1807</span>
<span class="normal">1808</span>
<span class="normal">1809</span>
<span class="normal">1810</span>
<span class="normal">1811</span>
<span class="normal">1812</span>
<span class="normal">1813</span>
<span class="normal">1814</span>
<span class="normal">1815</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">encoding</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">pitch_duration_subtokens</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Subtoken</span><span class="p">],</span>
        <span class="n">decoration_subtokens</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Subtoken</span><span class="p">]</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    NoteRestToken constructor.</span>

<span class="sd">    Args:</span>
<span class="sd">        encoding (str): The complete unprocessed encoding</span>
<span class="sd">        pitch_duration_subtokens (List[Subtoken])y: The subtokens for the pitch and duration</span>
<span class="sd">        decoration_subtokens (List[Subtoken]): The subtokens for the decorations. Individual elements of the token, of type Subtoken</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">encoding</span><span class="p">,</span> <span class="n">TokenCategory</span><span class="o">.</span><span class="n">NOTE_REST</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">pitch_duration_subtokens</span> <span class="ow">or</span> <span class="nb">len</span><span class="p">(</span><span class="n">pitch_duration_subtokens</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;Empty name-duration subtokens&#39;</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">subtoken</span> <span class="ow">in</span> <span class="n">pitch_duration_subtokens</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">subtoken</span><span class="p">,</span> <span class="n">Subtoken</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;All pitch-duration subtokens must be instances of Subtoken. Found </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">subtoken</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">subtoken</span> <span class="ow">in</span> <span class="n">decoration_subtokens</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">subtoken</span><span class="p">,</span> <span class="n">Subtoken</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;All decoration subtokens must be instances of Subtoken. Found </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">subtoken</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">pitch_duration_subtokens</span> <span class="o">=</span> <span class="n">pitch_duration_subtokens</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">decoration_subtokens</span> <span class="o">=</span> <span class="n">decoration_subtokens</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.NoteRestToken.export" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">export</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Exports the token.</p>


<p><span class="doc-section-title">Other Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>filter_categories</code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[Callable[[<a class="autorefs autorefs-internal" title="kernpy.core.tokens.TokenCategory" href="#kernpy.core.TokenCategory">TokenCategory</a>], bool]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A function that takes a TokenCategory and returns a boolean
indicating whether the token should be included in the export. If provided, only tokens for which the
function returns True will be exported. Defaults to None. If None, all tokens will be exported.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns (str): The exported token.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1817</span>
<span class="normal">1818</span>
<span class="normal">1819</span>
<span class="normal">1820</span>
<span class="normal">1821</span>
<span class="normal">1822</span>
<span class="normal">1823</span>
<span class="normal">1824</span>
<span class="normal">1825</span>
<span class="normal">1826</span>
<span class="normal">1827</span>
<span class="normal">1828</span>
<span class="normal">1829</span>
<span class="normal">1830</span>
<span class="normal">1831</span>
<span class="normal">1832</span>
<span class="normal">1833</span>
<span class="normal">1834</span>
<span class="normal">1835</span>
<span class="normal">1836</span>
<span class="normal">1837</span>
<span class="normal">1838</span>
<span class="normal">1839</span>
<span class="normal">1840</span>
<span class="normal">1841</span>
<span class="normal">1842</span>
<span class="normal">1843</span>
<span class="normal">1844</span>
<span class="normal">1845</span>
<span class="normal">1846</span>
<span class="normal">1847</span>
<span class="normal">1848</span>
<span class="normal">1849</span>
<span class="normal">1850</span>
<span class="normal">1851</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">export</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Exports the token.</span>

<span class="sd">    Keyword Arguments:</span>
<span class="sd">        filter_categories (Optional[Callable[[TokenCategory], bool]]): A function that takes a TokenCategory and returns a boolean</span>
<span class="sd">            indicating whether the token should be included in the export. If provided, only tokens for which the</span>
<span class="sd">            function returns True will be exported. Defaults to None. If None, all tokens will be exported.</span>

<span class="sd">    Returns (str): The exported token.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">filter_categories_fn</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;filter_categories&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>

    <span class="c1"># Filter subcategories</span>
    <span class="n">pitch_duration_tokens</span> <span class="o">=</span> <span class="p">{</span>
        <span class="n">subtoken</span> <span class="k">for</span> <span class="n">subtoken</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">pitch_duration_subtokens</span>
        <span class="k">if</span> <span class="n">filter_categories_fn</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">filter_categories_fn</span><span class="p">(</span><span class="n">subtoken</span><span class="o">.</span><span class="n">category</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="n">decoration_tokens</span> <span class="o">=</span> <span class="p">{</span>
        <span class="n">subtoken</span> <span class="k">for</span> <span class="n">subtoken</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">decoration_subtokens</span>
        <span class="k">if</span> <span class="n">filter_categories_fn</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">filter_categories_fn</span><span class="p">(</span><span class="n">subtoken</span><span class="o">.</span><span class="n">category</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="n">pitch_duration_tokens_sorted</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">pitch_duration_tokens</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">t</span><span class="p">:</span>  <span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">category</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">t</span><span class="o">.</span><span class="n">encoding</span><span class="p">))</span>
    <span class="n">decoration_tokens_sorted</span>     <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">decoration_tokens</span><span class="p">,</span>     <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">t</span><span class="p">:</span>  <span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">category</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">t</span><span class="o">.</span><span class="n">encoding</span><span class="p">))</span>

    <span class="c1"># Join the sorted subtokens</span>
    <span class="n">pitch_duration_part</span> <span class="o">=</span> <span class="n">TOKEN_SEPARATOR</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">subtoken</span><span class="o">.</span><span class="n">encoding</span> <span class="k">for</span> <span class="n">subtoken</span> <span class="ow">in</span> <span class="n">pitch_duration_tokens_sorted</span><span class="p">])</span>
    <span class="n">decoration_part</span> <span class="o">=</span> <span class="n">DECORATION_SEPARATOR</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">subtoken</span><span class="o">.</span><span class="n">encoding</span> <span class="k">for</span> <span class="n">subtoken</span> <span class="ow">in</span> <span class="n">decoration_tokens_sorted</span><span class="p">])</span>

    <span class="n">result</span> <span class="o">=</span> <span class="n">pitch_duration_part</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">decoration_part</span><span class="p">):</span>
        <span class="n">result</span> <span class="o">+=</span> <span class="n">DECORATION_SEPARATOR</span> <span class="o">+</span> <span class="n">decoration_part</span>

    <span class="k">return</span> <span class="n">result</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">result</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="k">else</span> <span class="n">EMPTY_TOKEN</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="kernpy.PitchPositionReferenceSystem" class="doc doc-heading">
            <code>PitchPositionReferenceSystem</code>


</h2>


    <div class="doc doc-contents ">


              <details class="quote">
                <summary>Source code in <code>kernpy/core/gkern.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">PitchPositionReferenceSystem</span><span class="p">:</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">base_pitch</span><span class="p">:</span> <span class="n">AgnosticPitch</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initializes the PitchPositionReferenceSystem object.</span>
<span class="sd">        Args:</span>
<span class="sd">            base_pitch (AgnosticPitch): The AgnosticPitch in the first line of the Staff. \</span>
<span class="sd">             The AgnosticPitch object that serves as the reference point for the system.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">base_pitch</span> <span class="o">=</span> <span class="n">base_pitch</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">compute_position</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pitch</span><span class="p">:</span> <span class="n">AgnosticPitch</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PositionInStaff</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Computes the position in staff for the given pitch.</span>
<span class="sd">        Args:</span>
<span class="sd">            pitch (AgnosticPitch): The AgnosticPitch object to compute the position for.</span>
<span class="sd">        Returns:</span>
<span class="sd">            PositionInStaff: The PositionInStaff object representing the computed position.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># map A–G to 0–6</span>
        <span class="n">LETTER_TO_INDEX</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;C&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;D&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;E&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
                           <span class="s1">&#39;F&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;G&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="s1">&#39;A&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">:</span> <span class="mi">6</span><span class="p">}</span>

        <span class="c1"># strip off any &#39;+&#39; or &#39;-&#39; accidentals, then grab the letter</span>
        <span class="k">def</span><span class="w"> </span><span class="nf">letter</span><span class="p">(</span><span class="n">p</span><span class="p">:</span> <span class="n">AgnosticPitch</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
            <span class="n">name</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;+&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">AgnosticPitch</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">octave</span><span class="p">)</span><span class="o">.</span><span class="n">name</span>

        <span class="n">base_letter_idx</span> <span class="o">=</span> <span class="n">LETTER_TO_INDEX</span><span class="p">[</span><span class="n">letter</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_pitch</span><span class="p">)]</span>
        <span class="n">target_letter_idx</span> <span class="o">=</span> <span class="n">LETTER_TO_INDEX</span><span class="p">[</span><span class="n">letter</span><span class="p">(</span><span class="n">pitch</span><span class="p">)]</span>

        <span class="c1"># &quot;octave difference × 7&quot; plus the letter‐index difference</span>
        <span class="n">diatonic_steps</span> <span class="o">=</span> <span class="p">(</span><span class="n">pitch</span><span class="o">.</span><span class="n">octave</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">base_pitch</span><span class="o">.</span><span class="n">octave</span><span class="p">)</span> <span class="o">*</span> <span class="mi">7</span> \
                         <span class="o">+</span> <span class="p">(</span><span class="n">target_letter_idx</span> <span class="o">-</span> <span class="n">base_letter_idx</span><span class="p">)</span>

        <span class="c1"># that many &quot;lines or spaces&quot; above (or below) the reference line</span>
        <span class="k">return</span> <span class="n">PositionInStaff</span><span class="p">(</span><span class="n">diatonic_steps</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="kernpy.PitchPositionReferenceSystem.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">base_pitch</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Initializes the PitchPositionReferenceSystem object.
Args:
    base_pitch (AgnosticPitch): The AgnosticPitch in the first line of the Staff.              The AgnosticPitch object that serves as the reference point for the system.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/gkern.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">base_pitch</span><span class="p">:</span> <span class="n">AgnosticPitch</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Initializes the PitchPositionReferenceSystem object.</span>
<span class="sd">    Args:</span>
<span class="sd">        base_pitch (AgnosticPitch): The AgnosticPitch in the first line of the Staff. \</span>
<span class="sd">         The AgnosticPitch object that serves as the reference point for the system.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">base_pitch</span> <span class="o">=</span> <span class="n">base_pitch</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.PitchPositionReferenceSystem.compute_position" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">compute_position</span><span class="p">(</span><span class="n">pitch</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Computes the position in staff for the given pitch.
Args:
    pitch (AgnosticPitch): The AgnosticPitch object to compute the position for.
Returns:
    PositionInStaff: The PositionInStaff object representing the computed position.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/gkern.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">compute_position</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pitch</span><span class="p">:</span> <span class="n">AgnosticPitch</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PositionInStaff</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Computes the position in staff for the given pitch.</span>
<span class="sd">    Args:</span>
<span class="sd">        pitch (AgnosticPitch): The AgnosticPitch object to compute the position for.</span>
<span class="sd">    Returns:</span>
<span class="sd">        PositionInStaff: The PositionInStaff object representing the computed position.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># map A–G to 0–6</span>
    <span class="n">LETTER_TO_INDEX</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;C&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;D&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;E&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
                       <span class="s1">&#39;F&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;G&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="s1">&#39;A&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">:</span> <span class="mi">6</span><span class="p">}</span>

    <span class="c1"># strip off any &#39;+&#39; or &#39;-&#39; accidentals, then grab the letter</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">letter</span><span class="p">(</span><span class="n">p</span><span class="p">:</span> <span class="n">AgnosticPitch</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="n">name</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;+&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">AgnosticPitch</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">octave</span><span class="p">)</span><span class="o">.</span><span class="n">name</span>

    <span class="n">base_letter_idx</span> <span class="o">=</span> <span class="n">LETTER_TO_INDEX</span><span class="p">[</span><span class="n">letter</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_pitch</span><span class="p">)]</span>
    <span class="n">target_letter_idx</span> <span class="o">=</span> <span class="n">LETTER_TO_INDEX</span><span class="p">[</span><span class="n">letter</span><span class="p">(</span><span class="n">pitch</span><span class="p">)]</span>

    <span class="c1"># &quot;octave difference × 7&quot; plus the letter‐index difference</span>
    <span class="n">diatonic_steps</span> <span class="o">=</span> <span class="p">(</span><span class="n">pitch</span><span class="o">.</span><span class="n">octave</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">base_pitch</span><span class="o">.</span><span class="n">octave</span><span class="p">)</span> <span class="o">*</span> <span class="mi">7</span> \
                     <span class="o">+</span> <span class="p">(</span><span class="n">target_letter_idx</span> <span class="o">-</span> <span class="n">base_letter_idx</span><span class="p">)</span>

    <span class="c1"># that many &quot;lines or spaces&quot; above (or below) the reference line</span>
    <span class="k">return</span> <span class="n">PositionInStaff</span><span class="p">(</span><span class="n">diatonic_steps</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="kernpy.PitchRest" class="doc doc-heading">
            <code>PitchRest</code>


</h2>


    <div class="doc doc-contents ">


        <p>Represents a name or a rest in a note.</p>
<p>The name is represented using the International Standard Organization (ISO) name notation.
The first line below the staff is the C4 in G clef. The above C is C5, the below C is C3, etc.</p>
<p>The Humdrum Kern format uses the following name representation:
'c' = C4
'cc' = C5
'ccc' = C6
'cccc' = C7</p>
<p>'C' = C3
'CC' = C2
'CCC' = C1</p>
<p>The rests are represented by the letter 'r'. The rests do not have name.</p>
<p>This class do not limit the name ranges.</p>
<p>In the following example, the name is represented by the letter 'c'. The name of 'c' is C4, 'cc' is C5, 'ccc' is C6.</p>
<pre><code>**kern
*clefG2
2c          // C4
2cc         // C5
2ccc        // C6
2C          // C3
2CC         // C2
2CCC        // C1
*-
</code></pre>

              <details class="quote">
                <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">598</span>
<span class="normal">599</span>
<span class="normal">600</span>
<span class="normal">601</span>
<span class="normal">602</span>
<span class="normal">603</span>
<span class="normal">604</span>
<span class="normal">605</span>
<span class="normal">606</span>
<span class="normal">607</span>
<span class="normal">608</span>
<span class="normal">609</span>
<span class="normal">610</span>
<span class="normal">611</span>
<span class="normal">612</span>
<span class="normal">613</span>
<span class="normal">614</span>
<span class="normal">615</span>
<span class="normal">616</span>
<span class="normal">617</span>
<span class="normal">618</span>
<span class="normal">619</span>
<span class="normal">620</span>
<span class="normal">621</span>
<span class="normal">622</span>
<span class="normal">623</span>
<span class="normal">624</span>
<span class="normal">625</span>
<span class="normal">626</span>
<span class="normal">627</span>
<span class="normal">628</span>
<span class="normal">629</span>
<span class="normal">630</span>
<span class="normal">631</span>
<span class="normal">632</span>
<span class="normal">633</span>
<span class="normal">634</span>
<span class="normal">635</span>
<span class="normal">636</span>
<span class="normal">637</span>
<span class="normal">638</span>
<span class="normal">639</span>
<span class="normal">640</span>
<span class="normal">641</span>
<span class="normal">642</span>
<span class="normal">643</span>
<span class="normal">644</span>
<span class="normal">645</span>
<span class="normal">646</span>
<span class="normal">647</span>
<span class="normal">648</span>
<span class="normal">649</span>
<span class="normal">650</span>
<span class="normal">651</span>
<span class="normal">652</span>
<span class="normal">653</span>
<span class="normal">654</span>
<span class="normal">655</span>
<span class="normal">656</span>
<span class="normal">657</span>
<span class="normal">658</span>
<span class="normal">659</span>
<span class="normal">660</span>
<span class="normal">661</span>
<span class="normal">662</span>
<span class="normal">663</span>
<span class="normal">664</span>
<span class="normal">665</span>
<span class="normal">666</span>
<span class="normal">667</span>
<span class="normal">668</span>
<span class="normal">669</span>
<span class="normal">670</span>
<span class="normal">671</span>
<span class="normal">672</span>
<span class="normal">673</span>
<span class="normal">674</span>
<span class="normal">675</span>
<span class="normal">676</span>
<span class="normal">677</span>
<span class="normal">678</span>
<span class="normal">679</span>
<span class="normal">680</span>
<span class="normal">681</span>
<span class="normal">682</span>
<span class="normal">683</span>
<span class="normal">684</span>
<span class="normal">685</span>
<span class="normal">686</span>
<span class="normal">687</span>
<span class="normal">688</span>
<span class="normal">689</span>
<span class="normal">690</span>
<span class="normal">691</span>
<span class="normal">692</span>
<span class="normal">693</span>
<span class="normal">694</span>
<span class="normal">695</span>
<span class="normal">696</span>
<span class="normal">697</span>
<span class="normal">698</span>
<span class="normal">699</span>
<span class="normal">700</span>
<span class="normal">701</span>
<span class="normal">702</span>
<span class="normal">703</span>
<span class="normal">704</span>
<span class="normal">705</span>
<span class="normal">706</span>
<span class="normal">707</span>
<span class="normal">708</span>
<span class="normal">709</span>
<span class="normal">710</span>
<span class="normal">711</span>
<span class="normal">712</span>
<span class="normal">713</span>
<span class="normal">714</span>
<span class="normal">715</span>
<span class="normal">716</span>
<span class="normal">717</span>
<span class="normal">718</span>
<span class="normal">719</span>
<span class="normal">720</span>
<span class="normal">721</span>
<span class="normal">722</span>
<span class="normal">723</span>
<span class="normal">724</span>
<span class="normal">725</span>
<span class="normal">726</span>
<span class="normal">727</span>
<span class="normal">728</span>
<span class="normal">729</span>
<span class="normal">730</span>
<span class="normal">731</span>
<span class="normal">732</span>
<span class="normal">733</span>
<span class="normal">734</span>
<span class="normal">735</span>
<span class="normal">736</span>
<span class="normal">737</span>
<span class="normal">738</span>
<span class="normal">739</span>
<span class="normal">740</span>
<span class="normal">741</span>
<span class="normal">742</span>
<span class="normal">743</span>
<span class="normal">744</span>
<span class="normal">745</span>
<span class="normal">746</span>
<span class="normal">747</span>
<span class="normal">748</span>
<span class="normal">749</span>
<span class="normal">750</span>
<span class="normal">751</span>
<span class="normal">752</span>
<span class="normal">753</span>
<span class="normal">754</span>
<span class="normal">755</span>
<span class="normal">756</span>
<span class="normal">757</span>
<span class="normal">758</span>
<span class="normal">759</span>
<span class="normal">760</span>
<span class="normal">761</span>
<span class="normal">762</span>
<span class="normal">763</span>
<span class="normal">764</span>
<span class="normal">765</span>
<span class="normal">766</span>
<span class="normal">767</span>
<span class="normal">768</span>
<span class="normal">769</span>
<span class="normal">770</span>
<span class="normal">771</span>
<span class="normal">772</span>
<span class="normal">773</span>
<span class="normal">774</span>
<span class="normal">775</span>
<span class="normal">776</span>
<span class="normal">777</span>
<span class="normal">778</span>
<span class="normal">779</span>
<span class="normal">780</span>
<span class="normal">781</span>
<span class="normal">782</span>
<span class="normal">783</span>
<span class="normal">784</span>
<span class="normal">785</span>
<span class="normal">786</span>
<span class="normal">787</span>
<span class="normal">788</span>
<span class="normal">789</span>
<span class="normal">790</span>
<span class="normal">791</span>
<span class="normal">792</span>
<span class="normal">793</span>
<span class="normal">794</span>
<span class="normal">795</span>
<span class="normal">796</span>
<span class="normal">797</span>
<span class="normal">798</span>
<span class="normal">799</span>
<span class="normal">800</span>
<span class="normal">801</span>
<span class="normal">802</span>
<span class="normal">803</span>
<span class="normal">804</span>
<span class="normal">805</span>
<span class="normal">806</span>
<span class="normal">807</span>
<span class="normal">808</span>
<span class="normal">809</span>
<span class="normal">810</span>
<span class="normal">811</span>
<span class="normal">812</span>
<span class="normal">813</span>
<span class="normal">814</span>
<span class="normal">815</span>
<span class="normal">816</span>
<span class="normal">817</span>
<span class="normal">818</span>
<span class="normal">819</span>
<span class="normal">820</span>
<span class="normal">821</span>
<span class="normal">822</span>
<span class="normal">823</span>
<span class="normal">824</span>
<span class="normal">825</span>
<span class="normal">826</span>
<span class="normal">827</span>
<span class="normal">828</span>
<span class="normal">829</span>
<span class="normal">830</span>
<span class="normal">831</span>
<span class="normal">832</span>
<span class="normal">833</span>
<span class="normal">834</span>
<span class="normal">835</span>
<span class="normal">836</span>
<span class="normal">837</span>
<span class="normal">838</span>
<span class="normal">839</span>
<span class="normal">840</span>
<span class="normal">841</span>
<span class="normal">842</span>
<span class="normal">843</span>
<span class="normal">844</span>
<span class="normal">845</span>
<span class="normal">846</span>
<span class="normal">847</span>
<span class="normal">848</span>
<span class="normal">849</span>
<span class="normal">850</span>
<span class="normal">851</span>
<span class="normal">852</span>
<span class="normal">853</span>
<span class="normal">854</span>
<span class="normal">855</span>
<span class="normal">856</span>
<span class="normal">857</span>
<span class="normal">858</span>
<span class="normal">859</span>
<span class="normal">860</span>
<span class="normal">861</span>
<span class="normal">862</span>
<span class="normal">863</span>
<span class="normal">864</span>
<span class="normal">865</span>
<span class="normal">866</span>
<span class="normal">867</span>
<span class="normal">868</span>
<span class="normal">869</span>
<span class="normal">870</span>
<span class="normal">871</span>
<span class="normal">872</span>
<span class="normal">873</span>
<span class="normal">874</span>
<span class="normal">875</span>
<span class="normal">876</span>
<span class="normal">877</span>
<span class="normal">878</span>
<span class="normal">879</span>
<span class="normal">880</span>
<span class="normal">881</span>
<span class="normal">882</span>
<span class="normal">883</span>
<span class="normal">884</span>
<span class="normal">885</span>
<span class="normal">886</span>
<span class="normal">887</span>
<span class="normal">888</span>
<span class="normal">889</span>
<span class="normal">890</span>
<span class="normal">891</span>
<span class="normal">892</span>
<span class="normal">893</span>
<span class="normal">894</span>
<span class="normal">895</span>
<span class="normal">896</span>
<span class="normal">897</span>
<span class="normal">898</span>
<span class="normal">899</span>
<span class="normal">900</span>
<span class="normal">901</span>
<span class="normal">902</span>
<span class="normal">903</span>
<span class="normal">904</span>
<span class="normal">905</span>
<span class="normal">906</span>
<span class="normal">907</span>
<span class="normal">908</span>
<span class="normal">909</span>
<span class="normal">910</span>
<span class="normal">911</span>
<span class="normal">912</span>
<span class="normal">913</span>
<span class="normal">914</span>
<span class="normal">915</span>
<span class="normal">916</span>
<span class="normal">917</span>
<span class="normal">918</span>
<span class="normal">919</span>
<span class="normal">920</span>
<span class="normal">921</span>
<span class="normal">922</span>
<span class="normal">923</span>
<span class="normal">924</span>
<span class="normal">925</span>
<span class="normal">926</span>
<span class="normal">927</span>
<span class="normal">928</span>
<span class="normal">929</span>
<span class="normal">930</span>
<span class="normal">931</span>
<span class="normal">932</span>
<span class="normal">933</span>
<span class="normal">934</span>
<span class="normal">935</span>
<span class="normal">936</span>
<span class="normal">937</span>
<span class="normal">938</span>
<span class="normal">939</span>
<span class="normal">940</span>
<span class="normal">941</span>
<span class="normal">942</span>
<span class="normal">943</span>
<span class="normal">944</span>
<span class="normal">945</span>
<span class="normal">946</span>
<span class="normal">947</span>
<span class="normal">948</span>
<span class="normal">949</span>
<span class="normal">950</span>
<span class="normal">951</span>
<span class="normal">952</span>
<span class="normal">953</span>
<span class="normal">954</span>
<span class="normal">955</span>
<span class="normal">956</span>
<span class="normal">957</span>
<span class="normal">958</span>
<span class="normal">959</span>
<span class="normal">960</span>
<span class="normal">961</span>
<span class="normal">962</span>
<span class="normal">963</span>
<span class="normal">964</span>
<span class="normal">965</span>
<span class="normal">966</span>
<span class="normal">967</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">PitchRest</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Represents a name or a rest in a note.</span>

<span class="sd">    The name is represented using the International Standard Organization (ISO) name notation.</span>
<span class="sd">    The first line below the staff is the C4 in G clef. The above C is C5, the below C is C3, etc.</span>

<span class="sd">    The Humdrum Kern format uses the following name representation:</span>
<span class="sd">    &#39;c&#39; = C4</span>
<span class="sd">    &#39;cc&#39; = C5</span>
<span class="sd">    &#39;ccc&#39; = C6</span>
<span class="sd">    &#39;cccc&#39; = C7</span>

<span class="sd">    &#39;C&#39; = C3</span>
<span class="sd">    &#39;CC&#39; = C2</span>
<span class="sd">    &#39;CCC&#39; = C1</span>

<span class="sd">    The rests are represented by the letter &#39;r&#39;. The rests do not have name.</span>

<span class="sd">    This class do not limit the name ranges.</span>


<span class="sd">    In the following example, the name is represented by the letter &#39;c&#39;. The name of &#39;c&#39; is C4, &#39;cc&#39; is C5, &#39;ccc&#39; is C6.</span>
<span class="sd">    ```</span>
<span class="sd">    **kern</span>
<span class="sd">    *clefG2</span>
<span class="sd">    2c          // C4</span>
<span class="sd">    2cc         // C5</span>
<span class="sd">    2ccc        // C6</span>
<span class="sd">    2C          // C3</span>
<span class="sd">    2CC         // C2</span>
<span class="sd">    2CCC        // C1</span>
<span class="sd">    *-</span>
<span class="sd">    ```</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">C4_PITCH_LOWERCASE</span> <span class="o">=</span> <span class="s1">&#39;c&#39;</span>
    <span class="n">C4_OCATAVE</span> <span class="o">=</span> <span class="mi">4</span>
    <span class="n">C3_PITCH_UPPERCASE</span> <span class="o">=</span> <span class="s1">&#39;C&#39;</span>
    <span class="n">C3_OCATAVE</span> <span class="o">=</span> <span class="mi">3</span>
    <span class="n">REST_CHARACTER</span> <span class="o">=</span> <span class="s1">&#39;r&#39;</span>

    <span class="n">VALID_PITCHES</span> <span class="o">=</span> <span class="s1">&#39;abcdefg&#39;</span> <span class="o">+</span> <span class="s1">&#39;ABCDEFG&#39;</span> <span class="o">+</span> <span class="n">REST_CHARACTER</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">raw_pitch</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Create a new PitchRest object.</span>

<span class="sd">        Args:</span>
<span class="sd">            raw_pitch (str): name representation in Humdrum Kern format</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest = PitchRest(&#39;c&#39;)</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest = PitchRest(&#39;r&#39;)</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest = PitchRest(&#39;DDD&#39;)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">raw_pitch</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="nb">len</span><span class="p">(</span><span class="n">raw_pitch</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Empty name: name can not be None or empty. But </span><span class="si">{</span><span class="n">raw_pitch</span><span class="si">}</span><span class="s1"> was provided.&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">encoding</span> <span class="o">=</span> <span class="n">raw_pitch</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pitch</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">octave</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__parse_pitch_octave</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">__parse_pitch_octave</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">encoding</span> <span class="o">==</span> <span class="n">PitchRest</span><span class="o">.</span><span class="n">REST_CHARACTER</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">PitchRest</span><span class="o">.</span><span class="n">REST_CHARACTER</span><span class="p">,</span> <span class="kc">None</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">encoding</span><span class="o">.</span><span class="n">islower</span><span class="p">():</span>
            <span class="n">min_octave</span> <span class="o">=</span> <span class="n">PitchRest</span><span class="o">.</span><span class="n">C4_OCATAVE</span>
            <span class="n">octave</span> <span class="o">=</span> <span class="n">min_octave</span> <span class="o">+</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">encoding</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
            <span class="n">pitch</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">encoding</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
            <span class="k">return</span> <span class="n">pitch</span><span class="p">,</span> <span class="n">octave</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">encoding</span><span class="o">.</span><span class="n">isupper</span><span class="p">():</span>
            <span class="n">max_octave</span> <span class="o">=</span> <span class="n">PitchRest</span><span class="o">.</span><span class="n">C3_OCATAVE</span>
            <span class="n">octave</span> <span class="o">=</span> <span class="n">max_octave</span> <span class="o">-</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">encoding</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
            <span class="n">pitch</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">encoding</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
            <span class="k">return</span> <span class="n">pitch</span><span class="p">,</span> <span class="n">octave</span>

        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Invalid name: name </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">encoding</span><span class="si">}</span><span class="s1"> is not a valid name representation.&#39;</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">is_rest</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Check if the name is a rest.</span>

<span class="sd">        Returns:</span>
<span class="sd">            bool: True if the name is a rest, False otherwise.</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest = PitchRest(&#39;c&#39;)</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest.is_rest()</span>
<span class="sd">            False</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest = PitchRest(&#39;r&#39;)</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest.is_rest()</span>
<span class="sd">            True</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">octave</span> <span class="ow">is</span> <span class="kc">None</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">pitch_comparator</span><span class="p">(</span><span class="n">pitch_a</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">pitch_b</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Compare two pitches of the same octave.</span>

<span class="sd">        The lower name is &#39;a&#39;. So &#39;a&#39; &lt; &#39;b&#39; &lt; &#39;c&#39; &lt; &#39;d&#39; &lt; &#39;e&#39; &lt; &#39;f&#39; &lt; &#39;g&#39;</span>

<span class="sd">        Args:</span>
<span class="sd">            pitch_a: One name of &#39;abcdefg&#39;</span>
<span class="sd">            pitch_b: Another name of &#39;abcdefg&#39;</span>

<span class="sd">        Returns:</span>
<span class="sd">            -1 if pitch1 is lower than pitch2</span>
<span class="sd">            0 if pitch1 is equal to pitch2</span>
<span class="sd">            1 if pitch1 is higher than pitch2</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; PitchRest.pitch_comparator(&#39;c&#39;, &#39;c&#39;)</span>
<span class="sd">            0</span>
<span class="sd">            &gt;&gt;&gt; PitchRest.pitch_comparator(&#39;c&#39;, &#39;d&#39;)</span>
<span class="sd">            -1</span>
<span class="sd">            &gt;&gt;&gt; PitchRest.pitch_comparator(&#39;d&#39;, &#39;c&#39;)</span>
<span class="sd">            1</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">pitch_a</span> <span class="o">&lt;</span> <span class="n">pitch_b</span><span class="p">:</span>
            <span class="k">return</span> <span class="o">-</span><span class="mi">1</span>
        <span class="k">if</span> <span class="n">pitch_a</span> <span class="o">&gt;</span> <span class="n">pitch_b</span><span class="p">:</span>
            <span class="k">return</span> <span class="mi">1</span>
        <span class="k">return</span> <span class="mi">0</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">encoding</span><span class="si">}</span><span class="s1">&#39;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s1">&#39;[PitchRest: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">encoding</span><span class="si">}</span><span class="s1">, name=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">pitch</span><span class="si">}</span><span class="s1">, octave=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">octave</span><span class="si">}</span><span class="s1">]&#39;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="s1">&#39;PitchRest&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Compare two pitches and rests.</span>

<span class="sd">        Args:</span>
<span class="sd">            other (PitchRest): The other name to compare</span>

<span class="sd">        Returns (bool):</span>
<span class="sd">            True if the pitches are equal, False otherwise</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest = PitchRest(&#39;c&#39;)</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest2 = PitchRest(&#39;c&#39;)</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest == pitch_rest2</span>
<span class="sd">            True</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest = PitchRest(&#39;c&#39;)</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest2 = PitchRest(&#39;ccc&#39;)</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest == pitch_rest2</span>
<span class="sd">            False</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest = PitchRest(&#39;c&#39;)</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest2 = PitchRest(&#39;r&#39;)</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest == pitch_rest2</span>
<span class="sd">            False</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest = PitchRest(&#39;r&#39;)</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest2 = PitchRest(&#39;r&#39;)</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest == pitch_rest2</span>
<span class="sd">            True</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">PitchRest</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_rest</span><span class="p">()</span> <span class="ow">and</span> <span class="n">other</span><span class="o">.</span><span class="n">is_rest</span><span class="p">():</span>
            <span class="k">return</span> <span class="kc">True</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_rest</span><span class="p">()</span> <span class="ow">or</span> <span class="n">other</span><span class="o">.</span><span class="n">is_rest</span><span class="p">():</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">pitch</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">pitch</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">octave</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">octave</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__ne__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="s1">&#39;PitchRest&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Compare two pitches and rests.</span>
<span class="sd">        Args:</span>
<span class="sd">            other (PitchRest): The other name to compare</span>

<span class="sd">        Returns (bool):</span>
<span class="sd">            True if the pitches are different, False otherwise</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest = PitchRest(&#39;c&#39;)</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest2 = PitchRest(&#39;c&#39;)</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest != pitch_rest2</span>
<span class="sd">            False</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest = PitchRest(&#39;c&#39;)</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest2 = PitchRest(&#39;ccc&#39;)</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest != pitch_rest2</span>
<span class="sd">            True</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest = PitchRest(&#39;c&#39;)</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest2 = PitchRest(&#39;r&#39;)</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest != pitch_rest2</span>
<span class="sd">            True</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest = PitchRest(&#39;r&#39;)</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest2 = PitchRest(&#39;r&#39;)</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest != pitch_rest2</span>
<span class="sd">            False</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__eq__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__gt__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="s1">&#39;PitchRest&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Compare two pitches.</span>

<span class="sd">        If any of the pitches is a rest, the comparison raise an exception.</span>

<span class="sd">        Args:</span>
<span class="sd">            other (PitchRest): The other name to compare</span>

<span class="sd">        Returns (bool): True if this name is higher than the other, False otherwise</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest = PitchRest(&#39;c&#39;)</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest2 = PitchRest(&#39;d&#39;)</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest &gt; pitch_rest2</span>
<span class="sd">            False</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest = PitchRest(&#39;c&#39;)</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest2 = PitchRest(&#39;c&#39;)</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest &gt; pitch_rest2</span>
<span class="sd">            False</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest = PitchRest(&#39;c&#39;)</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest2 = PitchRest(&#39;b&#39;)</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest &gt; pitch_rest2</span>
<span class="sd">            True</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest = PitchRest(&#39;r&#39;)</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest2 = PitchRest(&#39;c&#39;)</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest &gt; pitch_rest2</span>
<span class="sd">            Traceback (most recent call last):</span>
<span class="sd">            ...</span>
<span class="sd">            ValueError: ...</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest = PitchRest(&#39;r&#39;)</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest2 = PitchRest(&#39;r&#39;)</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest &gt; pitch_rest2</span>
<span class="sd">            Traceback (most recent call last):</span>
<span class="sd">            ValueError: ...</span>


<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_rest</span><span class="p">()</span> <span class="ow">or</span> <span class="n">other</span><span class="o">.</span><span class="n">is_rest</span><span class="p">():</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Invalid comparison: &gt; operator can not be used to compare name of a rest.</span><span class="se">\n\</span>
<span class="s1">            self=</span><span class="si">{</span><span class="nb">repr</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="si">}</span><span class="s1"> &gt; other=</span><span class="si">{</span><span class="nb">repr</span><span class="p">(</span><span class="n">other</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">octave</span> <span class="o">&gt;</span> <span class="n">other</span><span class="o">.</span><span class="n">octave</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">True</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">octave</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">octave</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">PitchRest</span><span class="o">.</span><span class="n">pitch_comparator</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pitch</span><span class="p">,</span> <span class="n">other</span><span class="o">.</span><span class="n">pitch</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span>
        <span class="k">return</span> <span class="kc">False</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__lt__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="s1">&#39;PitchRest&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Compare two pitches.</span>

<span class="sd">        If any of the pitches is a rest, the comparison raise an exception.</span>

<span class="sd">        Args:</span>
<span class="sd">            other: The other name to compare</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if this name is lower than the other, False otherwise</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest = PitchRest(&#39;c&#39;)</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest2 = PitchRest(&#39;d&#39;)</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest &lt; pitch_rest2</span>
<span class="sd">            True</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest = PitchRest(&#39;c&#39;)</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest2 = PitchRest(&#39;c&#39;)</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest &lt; pitch_rest2</span>
<span class="sd">            False</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest = PitchRest(&#39;c&#39;)</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest2 = PitchRest(&#39;b&#39;)</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest &lt; pitch_rest2</span>
<span class="sd">            False</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest = PitchRest(&#39;r&#39;)</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest2 = PitchRest(&#39;c&#39;)</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest &lt; pitch_rest2</span>
<span class="sd">            Traceback (most recent call last):</span>
<span class="sd">            ...</span>
<span class="sd">            ValueError: ...</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest = PitchRest(&#39;r&#39;)</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest2 = PitchRest(&#39;r&#39;)</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest &lt; pitch_rest2</span>
<span class="sd">            Traceback (most recent call last):</span>
<span class="sd">            ...</span>
<span class="sd">            ValueError: ...</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_rest</span><span class="p">()</span> <span class="ow">or</span> <span class="n">other</span><span class="o">.</span><span class="n">is_rest</span><span class="p">():</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Invalid comparison: &lt; operator can not be used to compare name of a rest.</span><span class="se">\n\</span>
<span class="s1">            self=</span><span class="si">{</span><span class="nb">repr</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="si">}</span><span class="s1"> &lt; other=</span><span class="si">{</span><span class="nb">repr</span><span class="p">(</span><span class="n">other</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">octave</span> <span class="o">&lt;</span> <span class="n">other</span><span class="o">.</span><span class="n">octave</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">True</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">octave</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">octave</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">PitchRest</span><span class="o">.</span><span class="n">pitch_comparator</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pitch</span><span class="p">,</span> <span class="n">other</span><span class="o">.</span><span class="n">pitch</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">0</span>
        <span class="k">return</span> <span class="kc">False</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__ge__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="s1">&#39;PitchRest&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Compare two pitches. If any of the PitchRest is a rest, the comparison raise an exception.</span>
<span class="sd">        Args:</span>
<span class="sd">            other (PitchRest): The other name to compare</span>

<span class="sd">        Returns (bool):</span>
<span class="sd">            True if this name is higher or equal than the other, False otherwise</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest = PitchRest(&#39;c&#39;)</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest2 = PitchRest(&#39;d&#39;)</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest &gt;= pitch_rest2</span>
<span class="sd">            False</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest = PitchRest(&#39;c&#39;)</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest2 = PitchRest(&#39;c&#39;)</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest &gt;= pitch_rest2</span>
<span class="sd">            True</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest = PitchRest(&#39;c&#39;)</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest2 = PitchRest(&#39;b&#39;)</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest &gt;= pitch_rest2</span>
<span class="sd">            True</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest = PitchRest(&#39;r&#39;)</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest2 = PitchRest(&#39;c&#39;)</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest &gt;= pitch_rest2</span>
<span class="sd">            Traceback (most recent call last):</span>
<span class="sd">            ...</span>
<span class="sd">            ValueError: ...</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest = PitchRest(&#39;r&#39;)</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest2 = PitchRest(&#39;r&#39;)</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest &gt;= pitch_rest2</span>
<span class="sd">            Traceback (most recent call last):</span>
<span class="sd">            ...</span>
<span class="sd">            ValueError: ...</span>


<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__gt__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__eq__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__le__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="s1">&#39;PitchRest&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Compare two pitches. If any of the PitchRest is a rest, the comparison raise an exception.</span>
<span class="sd">        Args:</span>
<span class="sd">            other (PitchRest): The other name to compare</span>

<span class="sd">        Returns (bool): True if this name is lower or equal than the other, False otherwise</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest = PitchRest(&#39;c&#39;)</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest2 = PitchRest(&#39;d&#39;)</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest &lt;= pitch_rest2</span>
<span class="sd">            True</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest = PitchRest(&#39;c&#39;)</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest2 = PitchRest(&#39;c&#39;)</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest &lt;= pitch_rest2</span>
<span class="sd">            True</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest = PitchRest(&#39;c&#39;)</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest2 = PitchRest(&#39;b&#39;)</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest &lt;= pitch_rest2</span>
<span class="sd">            False</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest = PitchRest(&#39;r&#39;)</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest2 = PitchRest(&#39;c&#39;)</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest &lt;= pitch_rest2</span>
<span class="sd">            Traceback (most recent call last):</span>
<span class="sd">            ...</span>
<span class="sd">            ValueError: ...</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest = PitchRest(&#39;r&#39;)</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest2 = PitchRest(&#39;r&#39;)</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest &lt;= pitch_rest2</span>
<span class="sd">            Traceback (most recent call last):</span>
<span class="sd">            ...</span>
<span class="sd">            ValueError: ...</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__lt__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__eq__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="kernpy.PitchRest.__eq__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__eq__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Compare two pitches and rests.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>other</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.tokens.PitchRest" href="#kernpy.core.PitchRest">PitchRest</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The other name to compare</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns (bool):
    True if the pitches are equal, False otherwise</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest</span> <span class="o">=</span> <span class="n">PitchRest</span><span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest2</span> <span class="o">=</span> <span class="n">PitchRest</span><span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest</span> <span class="o">==</span> <span class="n">pitch_rest2</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest</span> <span class="o">=</span> <span class="n">PitchRest</span><span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest2</span> <span class="o">=</span> <span class="n">PitchRest</span><span class="p">(</span><span class="s1">&#39;ccc&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest</span> <span class="o">==</span> <span class="n">pitch_rest2</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest</span> <span class="o">=</span> <span class="n">PitchRest</span><span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest2</span> <span class="o">=</span> <span class="n">PitchRest</span><span class="p">(</span><span class="s1">&#39;r&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest</span> <span class="o">==</span> <span class="n">pitch_rest2</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest</span> <span class="o">=</span> <span class="n">PitchRest</span><span class="p">(</span><span class="s1">&#39;r&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest2</span> <span class="o">=</span> <span class="n">PitchRest</span><span class="p">(</span><span class="s1">&#39;r&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest</span> <span class="o">==</span> <span class="n">pitch_rest2</span>
<span class="go">True</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">730</span>
<span class="normal">731</span>
<span class="normal">732</span>
<span class="normal">733</span>
<span class="normal">734</span>
<span class="normal">735</span>
<span class="normal">736</span>
<span class="normal">737</span>
<span class="normal">738</span>
<span class="normal">739</span>
<span class="normal">740</span>
<span class="normal">741</span>
<span class="normal">742</span>
<span class="normal">743</span>
<span class="normal">744</span>
<span class="normal">745</span>
<span class="normal">746</span>
<span class="normal">747</span>
<span class="normal">748</span>
<span class="normal">749</span>
<span class="normal">750</span>
<span class="normal">751</span>
<span class="normal">752</span>
<span class="normal">753</span>
<span class="normal">754</span>
<span class="normal">755</span>
<span class="normal">756</span>
<span class="normal">757</span>
<span class="normal">758</span>
<span class="normal">759</span>
<span class="normal">760</span>
<span class="normal">761</span>
<span class="normal">762</span>
<span class="normal">763</span>
<span class="normal">764</span>
<span class="normal">765</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="s1">&#39;PitchRest&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Compare two pitches and rests.</span>

<span class="sd">    Args:</span>
<span class="sd">        other (PitchRest): The other name to compare</span>

<span class="sd">    Returns (bool):</span>
<span class="sd">        True if the pitches are equal, False otherwise</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest = PitchRest(&#39;c&#39;)</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest2 = PitchRest(&#39;c&#39;)</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest == pitch_rest2</span>
<span class="sd">        True</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest = PitchRest(&#39;c&#39;)</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest2 = PitchRest(&#39;ccc&#39;)</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest == pitch_rest2</span>
<span class="sd">        False</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest = PitchRest(&#39;c&#39;)</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest2 = PitchRest(&#39;r&#39;)</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest == pitch_rest2</span>
<span class="sd">        False</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest = PitchRest(&#39;r&#39;)</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest2 = PitchRest(&#39;r&#39;)</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest == pitch_rest2</span>
<span class="sd">        True</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">PitchRest</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_rest</span><span class="p">()</span> <span class="ow">and</span> <span class="n">other</span><span class="o">.</span><span class="n">is_rest</span><span class="p">():</span>
        <span class="k">return</span> <span class="kc">True</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_rest</span><span class="p">()</span> <span class="ow">or</span> <span class="n">other</span><span class="o">.</span><span class="n">is_rest</span><span class="p">():</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">pitch</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">pitch</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">octave</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">octave</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.PitchRest.__ge__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__ge__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Compare two pitches. If any of the PitchRest is a rest, the comparison raise an exception.
Args:
    other (PitchRest): The other name to compare</p>
<p>Returns (bool):
    True if this name is higher or equal than the other, False otherwise</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest</span> <span class="o">=</span> <span class="n">PitchRest</span><span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest2</span> <span class="o">=</span> <span class="n">PitchRest</span><span class="p">(</span><span class="s1">&#39;d&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest</span> <span class="o">&gt;=</span> <span class="n">pitch_rest2</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest</span> <span class="o">=</span> <span class="n">PitchRest</span><span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest2</span> <span class="o">=</span> <span class="n">PitchRest</span><span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest</span> <span class="o">&gt;=</span> <span class="n">pitch_rest2</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest</span> <span class="o">=</span> <span class="n">PitchRest</span><span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest2</span> <span class="o">=</span> <span class="n">PitchRest</span><span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest</span> <span class="o">&gt;=</span> <span class="n">pitch_rest2</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest</span> <span class="o">=</span> <span class="n">PitchRest</span><span class="p">(</span><span class="s1">&#39;r&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest2</span> <span class="o">=</span> <span class="n">PitchRest</span><span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest</span> <span class="o">&gt;=</span> <span class="n">pitch_rest2</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest</span> <span class="o">=</span> <span class="n">PitchRest</span><span class="p">(</span><span class="s1">&#39;r&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest2</span> <span class="o">=</span> <span class="n">PitchRest</span><span class="p">(</span><span class="s1">&#39;r&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest</span> <span class="o">&gt;=</span> <span class="n">pitch_rest2</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">...</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">893</span>
<span class="normal">894</span>
<span class="normal">895</span>
<span class="normal">896</span>
<span class="normal">897</span>
<span class="normal">898</span>
<span class="normal">899</span>
<span class="normal">900</span>
<span class="normal">901</span>
<span class="normal">902</span>
<span class="normal">903</span>
<span class="normal">904</span>
<span class="normal">905</span>
<span class="normal">906</span>
<span class="normal">907</span>
<span class="normal">908</span>
<span class="normal">909</span>
<span class="normal">910</span>
<span class="normal">911</span>
<span class="normal">912</span>
<span class="normal">913</span>
<span class="normal">914</span>
<span class="normal">915</span>
<span class="normal">916</span>
<span class="normal">917</span>
<span class="normal">918</span>
<span class="normal">919</span>
<span class="normal">920</span>
<span class="normal">921</span>
<span class="normal">922</span>
<span class="normal">923</span>
<span class="normal">924</span>
<span class="normal">925</span>
<span class="normal">926</span>
<span class="normal">927</span>
<span class="normal">928</span>
<span class="normal">929</span>
<span class="normal">930</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__ge__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="s1">&#39;PitchRest&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Compare two pitches. If any of the PitchRest is a rest, the comparison raise an exception.</span>
<span class="sd">    Args:</span>
<span class="sd">        other (PitchRest): The other name to compare</span>

<span class="sd">    Returns (bool):</span>
<span class="sd">        True if this name is higher or equal than the other, False otherwise</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest = PitchRest(&#39;c&#39;)</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest2 = PitchRest(&#39;d&#39;)</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest &gt;= pitch_rest2</span>
<span class="sd">        False</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest = PitchRest(&#39;c&#39;)</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest2 = PitchRest(&#39;c&#39;)</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest &gt;= pitch_rest2</span>
<span class="sd">        True</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest = PitchRest(&#39;c&#39;)</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest2 = PitchRest(&#39;b&#39;)</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest &gt;= pitch_rest2</span>
<span class="sd">        True</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest = PitchRest(&#39;r&#39;)</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest2 = PitchRest(&#39;c&#39;)</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest &gt;= pitch_rest2</span>
<span class="sd">        Traceback (most recent call last):</span>
<span class="sd">        ...</span>
<span class="sd">        ValueError: ...</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest = PitchRest(&#39;r&#39;)</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest2 = PitchRest(&#39;r&#39;)</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest &gt;= pitch_rest2</span>
<span class="sd">        Traceback (most recent call last):</span>
<span class="sd">        ...</span>
<span class="sd">        ValueError: ...</span>


<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__gt__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__eq__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.PitchRest.__gt__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__gt__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Compare two pitches.</p>
<p>If any of the pitches is a rest, the comparison raise an exception.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>other</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.tokens.PitchRest" href="#kernpy.core.PitchRest">PitchRest</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The other name to compare</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns (bool): True if this name is higher than the other, False otherwise</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest</span> <span class="o">=</span> <span class="n">PitchRest</span><span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest2</span> <span class="o">=</span> <span class="n">PitchRest</span><span class="p">(</span><span class="s1">&#39;d&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest</span> <span class="o">&gt;</span> <span class="n">pitch_rest2</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest</span> <span class="o">=</span> <span class="n">PitchRest</span><span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest2</span> <span class="o">=</span> <span class="n">PitchRest</span><span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest</span> <span class="o">&gt;</span> <span class="n">pitch_rest2</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest</span> <span class="o">=</span> <span class="n">PitchRest</span><span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest2</span> <span class="o">=</span> <span class="n">PitchRest</span><span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest</span> <span class="o">&gt;</span> <span class="n">pitch_rest2</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest</span> <span class="o">=</span> <span class="n">PitchRest</span><span class="p">(</span><span class="s1">&#39;r&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest2</span> <span class="o">=</span> <span class="n">PitchRest</span><span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest</span> <span class="o">&gt;</span> <span class="n">pitch_rest2</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest</span> <span class="o">=</span> <span class="n">PitchRest</span><span class="p">(</span><span class="s1">&#39;r&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest2</span> <span class="o">=</span> <span class="n">PitchRest</span><span class="p">(</span><span class="s1">&#39;r&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest</span> <span class="o">&gt;</span> <span class="n">pitch_rest2</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="gr">ValueError</span>: <span class="n">...</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">796</span>
<span class="normal">797</span>
<span class="normal">798</span>
<span class="normal">799</span>
<span class="normal">800</span>
<span class="normal">801</span>
<span class="normal">802</span>
<span class="normal">803</span>
<span class="normal">804</span>
<span class="normal">805</span>
<span class="normal">806</span>
<span class="normal">807</span>
<span class="normal">808</span>
<span class="normal">809</span>
<span class="normal">810</span>
<span class="normal">811</span>
<span class="normal">812</span>
<span class="normal">813</span>
<span class="normal">814</span>
<span class="normal">815</span>
<span class="normal">816</span>
<span class="normal">817</span>
<span class="normal">818</span>
<span class="normal">819</span>
<span class="normal">820</span>
<span class="normal">821</span>
<span class="normal">822</span>
<span class="normal">823</span>
<span class="normal">824</span>
<span class="normal">825</span>
<span class="normal">826</span>
<span class="normal">827</span>
<span class="normal">828</span>
<span class="normal">829</span>
<span class="normal">830</span>
<span class="normal">831</span>
<span class="normal">832</span>
<span class="normal">833</span>
<span class="normal">834</span>
<span class="normal">835</span>
<span class="normal">836</span>
<span class="normal">837</span>
<span class="normal">838</span>
<span class="normal">839</span>
<span class="normal">840</span>
<span class="normal">841</span>
<span class="normal">842</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__gt__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="s1">&#39;PitchRest&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Compare two pitches.</span>

<span class="sd">    If any of the pitches is a rest, the comparison raise an exception.</span>

<span class="sd">    Args:</span>
<span class="sd">        other (PitchRest): The other name to compare</span>

<span class="sd">    Returns (bool): True if this name is higher than the other, False otherwise</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest = PitchRest(&#39;c&#39;)</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest2 = PitchRest(&#39;d&#39;)</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest &gt; pitch_rest2</span>
<span class="sd">        False</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest = PitchRest(&#39;c&#39;)</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest2 = PitchRest(&#39;c&#39;)</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest &gt; pitch_rest2</span>
<span class="sd">        False</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest = PitchRest(&#39;c&#39;)</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest2 = PitchRest(&#39;b&#39;)</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest &gt; pitch_rest2</span>
<span class="sd">        True</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest = PitchRest(&#39;r&#39;)</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest2 = PitchRest(&#39;c&#39;)</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest &gt; pitch_rest2</span>
<span class="sd">        Traceback (most recent call last):</span>
<span class="sd">        ...</span>
<span class="sd">        ValueError: ...</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest = PitchRest(&#39;r&#39;)</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest2 = PitchRest(&#39;r&#39;)</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest &gt; pitch_rest2</span>
<span class="sd">        Traceback (most recent call last):</span>
<span class="sd">        ValueError: ...</span>


<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_rest</span><span class="p">()</span> <span class="ow">or</span> <span class="n">other</span><span class="o">.</span><span class="n">is_rest</span><span class="p">():</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Invalid comparison: &gt; operator can not be used to compare name of a rest.</span><span class="se">\n\</span>
<span class="s1">        self=</span><span class="si">{</span><span class="nb">repr</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="si">}</span><span class="s1"> &gt; other=</span><span class="si">{</span><span class="nb">repr</span><span class="p">(</span><span class="n">other</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">octave</span> <span class="o">&gt;</span> <span class="n">other</span><span class="o">.</span><span class="n">octave</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">True</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">octave</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">octave</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">PitchRest</span><span class="o">.</span><span class="n">pitch_comparator</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pitch</span><span class="p">,</span> <span class="n">other</span><span class="o">.</span><span class="n">pitch</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span>
    <span class="k">return</span> <span class="kc">False</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.PitchRest.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">raw_pitch</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Create a new PitchRest object.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>raw_pitch</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>name representation in Humdrum Kern format</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest</span> <span class="o">=</span> <span class="n">PitchRest</span><span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest</span> <span class="o">=</span> <span class="n">PitchRest</span><span class="p">(</span><span class="s1">&#39;r&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest</span> <span class="o">=</span> <span class="n">PitchRest</span><span class="p">(</span><span class="s1">&#39;DDD&#39;</span><span class="p">)</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">641</span>
<span class="normal">642</span>
<span class="normal">643</span>
<span class="normal">644</span>
<span class="normal">645</span>
<span class="normal">646</span>
<span class="normal">647</span>
<span class="normal">648</span>
<span class="normal">649</span>
<span class="normal">650</span>
<span class="normal">651</span>
<span class="normal">652</span>
<span class="normal">653</span>
<span class="normal">654</span>
<span class="normal">655</span>
<span class="normal">656</span>
<span class="normal">657</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">raw_pitch</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Create a new PitchRest object.</span>

<span class="sd">    Args:</span>
<span class="sd">        raw_pitch (str): name representation in Humdrum Kern format</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest = PitchRest(&#39;c&#39;)</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest = PitchRest(&#39;r&#39;)</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest = PitchRest(&#39;DDD&#39;)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">raw_pitch</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="nb">len</span><span class="p">(</span><span class="n">raw_pitch</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Empty name: name can not be None or empty. But </span><span class="si">{</span><span class="n">raw_pitch</span><span class="si">}</span><span class="s1"> was provided.&#39;</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">encoding</span> <span class="o">=</span> <span class="n">raw_pitch</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">pitch</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">octave</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__parse_pitch_octave</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.PitchRest.__le__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__le__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Compare two pitches. If any of the PitchRest is a rest, the comparison raise an exception.
Args:
    other (PitchRest): The other name to compare</p>
<p>Returns (bool): True if this name is lower or equal than the other, False otherwise</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest</span> <span class="o">=</span> <span class="n">PitchRest</span><span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest2</span> <span class="o">=</span> <span class="n">PitchRest</span><span class="p">(</span><span class="s1">&#39;d&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest</span> <span class="o">&lt;=</span> <span class="n">pitch_rest2</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest</span> <span class="o">=</span> <span class="n">PitchRest</span><span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest2</span> <span class="o">=</span> <span class="n">PitchRest</span><span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest</span> <span class="o">&lt;=</span> <span class="n">pitch_rest2</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest</span> <span class="o">=</span> <span class="n">PitchRest</span><span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest2</span> <span class="o">=</span> <span class="n">PitchRest</span><span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest</span> <span class="o">&lt;=</span> <span class="n">pitch_rest2</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest</span> <span class="o">=</span> <span class="n">PitchRest</span><span class="p">(</span><span class="s1">&#39;r&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest2</span> <span class="o">=</span> <span class="n">PitchRest</span><span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest</span> <span class="o">&lt;=</span> <span class="n">pitch_rest2</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest</span> <span class="o">=</span> <span class="n">PitchRest</span><span class="p">(</span><span class="s1">&#39;r&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest2</span> <span class="o">=</span> <span class="n">PitchRest</span><span class="p">(</span><span class="s1">&#39;r&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest</span> <span class="o">&lt;=</span> <span class="n">pitch_rest2</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">...</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">932</span>
<span class="normal">933</span>
<span class="normal">934</span>
<span class="normal">935</span>
<span class="normal">936</span>
<span class="normal">937</span>
<span class="normal">938</span>
<span class="normal">939</span>
<span class="normal">940</span>
<span class="normal">941</span>
<span class="normal">942</span>
<span class="normal">943</span>
<span class="normal">944</span>
<span class="normal">945</span>
<span class="normal">946</span>
<span class="normal">947</span>
<span class="normal">948</span>
<span class="normal">949</span>
<span class="normal">950</span>
<span class="normal">951</span>
<span class="normal">952</span>
<span class="normal">953</span>
<span class="normal">954</span>
<span class="normal">955</span>
<span class="normal">956</span>
<span class="normal">957</span>
<span class="normal">958</span>
<span class="normal">959</span>
<span class="normal">960</span>
<span class="normal">961</span>
<span class="normal">962</span>
<span class="normal">963</span>
<span class="normal">964</span>
<span class="normal">965</span>
<span class="normal">966</span>
<span class="normal">967</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__le__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="s1">&#39;PitchRest&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Compare two pitches. If any of the PitchRest is a rest, the comparison raise an exception.</span>
<span class="sd">    Args:</span>
<span class="sd">        other (PitchRest): The other name to compare</span>

<span class="sd">    Returns (bool): True if this name is lower or equal than the other, False otherwise</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest = PitchRest(&#39;c&#39;)</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest2 = PitchRest(&#39;d&#39;)</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest &lt;= pitch_rest2</span>
<span class="sd">        True</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest = PitchRest(&#39;c&#39;)</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest2 = PitchRest(&#39;c&#39;)</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest &lt;= pitch_rest2</span>
<span class="sd">        True</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest = PitchRest(&#39;c&#39;)</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest2 = PitchRest(&#39;b&#39;)</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest &lt;= pitch_rest2</span>
<span class="sd">        False</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest = PitchRest(&#39;r&#39;)</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest2 = PitchRest(&#39;c&#39;)</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest &lt;= pitch_rest2</span>
<span class="sd">        Traceback (most recent call last):</span>
<span class="sd">        ...</span>
<span class="sd">        ValueError: ...</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest = PitchRest(&#39;r&#39;)</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest2 = PitchRest(&#39;r&#39;)</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest &lt;= pitch_rest2</span>
<span class="sd">        Traceback (most recent call last):</span>
<span class="sd">        ...</span>
<span class="sd">        ValueError: ...</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__lt__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__eq__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.PitchRest.__lt__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__lt__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Compare two pitches.</p>
<p>If any of the pitches is a rest, the comparison raise an exception.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>other</code></td>
            <td>
                  <code>&#39;PitchRest&#39;</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The other name to compare</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if this name is lower than the other, False otherwise</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest</span> <span class="o">=</span> <span class="n">PitchRest</span><span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest2</span> <span class="o">=</span> <span class="n">PitchRest</span><span class="p">(</span><span class="s1">&#39;d&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest</span> <span class="o">&lt;</span> <span class="n">pitch_rest2</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest</span> <span class="o">=</span> <span class="n">PitchRest</span><span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest2</span> <span class="o">=</span> <span class="n">PitchRest</span><span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest</span> <span class="o">&lt;</span> <span class="n">pitch_rest2</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest</span> <span class="o">=</span> <span class="n">PitchRest</span><span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest2</span> <span class="o">=</span> <span class="n">PitchRest</span><span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest</span> <span class="o">&lt;</span> <span class="n">pitch_rest2</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest</span> <span class="o">=</span> <span class="n">PitchRest</span><span class="p">(</span><span class="s1">&#39;r&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest2</span> <span class="o">=</span> <span class="n">PitchRest</span><span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest</span> <span class="o">&lt;</span> <span class="n">pitch_rest2</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest</span> <span class="o">=</span> <span class="n">PitchRest</span><span class="p">(</span><span class="s1">&#39;r&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest2</span> <span class="o">=</span> <span class="n">PitchRest</span><span class="p">(</span><span class="s1">&#39;r&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest</span> <span class="o">&lt;</span> <span class="n">pitch_rest2</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">...</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">844</span>
<span class="normal">845</span>
<span class="normal">846</span>
<span class="normal">847</span>
<span class="normal">848</span>
<span class="normal">849</span>
<span class="normal">850</span>
<span class="normal">851</span>
<span class="normal">852</span>
<span class="normal">853</span>
<span class="normal">854</span>
<span class="normal">855</span>
<span class="normal">856</span>
<span class="normal">857</span>
<span class="normal">858</span>
<span class="normal">859</span>
<span class="normal">860</span>
<span class="normal">861</span>
<span class="normal">862</span>
<span class="normal">863</span>
<span class="normal">864</span>
<span class="normal">865</span>
<span class="normal">866</span>
<span class="normal">867</span>
<span class="normal">868</span>
<span class="normal">869</span>
<span class="normal">870</span>
<span class="normal">871</span>
<span class="normal">872</span>
<span class="normal">873</span>
<span class="normal">874</span>
<span class="normal">875</span>
<span class="normal">876</span>
<span class="normal">877</span>
<span class="normal">878</span>
<span class="normal">879</span>
<span class="normal">880</span>
<span class="normal">881</span>
<span class="normal">882</span>
<span class="normal">883</span>
<span class="normal">884</span>
<span class="normal">885</span>
<span class="normal">886</span>
<span class="normal">887</span>
<span class="normal">888</span>
<span class="normal">889</span>
<span class="normal">890</span>
<span class="normal">891</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__lt__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="s1">&#39;PitchRest&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Compare two pitches.</span>

<span class="sd">    If any of the pitches is a rest, the comparison raise an exception.</span>

<span class="sd">    Args:</span>
<span class="sd">        other: The other name to compare</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if this name is lower than the other, False otherwise</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest = PitchRest(&#39;c&#39;)</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest2 = PitchRest(&#39;d&#39;)</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest &lt; pitch_rest2</span>
<span class="sd">        True</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest = PitchRest(&#39;c&#39;)</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest2 = PitchRest(&#39;c&#39;)</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest &lt; pitch_rest2</span>
<span class="sd">        False</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest = PitchRest(&#39;c&#39;)</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest2 = PitchRest(&#39;b&#39;)</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest &lt; pitch_rest2</span>
<span class="sd">        False</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest = PitchRest(&#39;r&#39;)</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest2 = PitchRest(&#39;c&#39;)</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest &lt; pitch_rest2</span>
<span class="sd">        Traceback (most recent call last):</span>
<span class="sd">        ...</span>
<span class="sd">        ValueError: ...</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest = PitchRest(&#39;r&#39;)</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest2 = PitchRest(&#39;r&#39;)</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest &lt; pitch_rest2</span>
<span class="sd">        Traceback (most recent call last):</span>
<span class="sd">        ...</span>
<span class="sd">        ValueError: ...</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_rest</span><span class="p">()</span> <span class="ow">or</span> <span class="n">other</span><span class="o">.</span><span class="n">is_rest</span><span class="p">():</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Invalid comparison: &lt; operator can not be used to compare name of a rest.</span><span class="se">\n\</span>
<span class="s1">        self=</span><span class="si">{</span><span class="nb">repr</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="si">}</span><span class="s1"> &lt; other=</span><span class="si">{</span><span class="nb">repr</span><span class="p">(</span><span class="n">other</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">octave</span> <span class="o">&lt;</span> <span class="n">other</span><span class="o">.</span><span class="n">octave</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">True</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">octave</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">octave</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">PitchRest</span><span class="o">.</span><span class="n">pitch_comparator</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pitch</span><span class="p">,</span> <span class="n">other</span><span class="o">.</span><span class="n">pitch</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">0</span>
    <span class="k">return</span> <span class="kc">False</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.PitchRest.__ne__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__ne__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Compare two pitches and rests.
Args:
    other (PitchRest): The other name to compare</p>
<p>Returns (bool):
    True if the pitches are different, False otherwise</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest</span> <span class="o">=</span> <span class="n">PitchRest</span><span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest2</span> <span class="o">=</span> <span class="n">PitchRest</span><span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest</span> <span class="o">!=</span> <span class="n">pitch_rest2</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest</span> <span class="o">=</span> <span class="n">PitchRest</span><span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest2</span> <span class="o">=</span> <span class="n">PitchRest</span><span class="p">(</span><span class="s1">&#39;ccc&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest</span> <span class="o">!=</span> <span class="n">pitch_rest2</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest</span> <span class="o">=</span> <span class="n">PitchRest</span><span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest2</span> <span class="o">=</span> <span class="n">PitchRest</span><span class="p">(</span><span class="s1">&#39;r&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest</span> <span class="o">!=</span> <span class="n">pitch_rest2</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest</span> <span class="o">=</span> <span class="n">PitchRest</span><span class="p">(</span><span class="s1">&#39;r&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest2</span> <span class="o">=</span> <span class="n">PitchRest</span><span class="p">(</span><span class="s1">&#39;r&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest</span> <span class="o">!=</span> <span class="n">pitch_rest2</span>
<span class="go">False</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">767</span>
<span class="normal">768</span>
<span class="normal">769</span>
<span class="normal">770</span>
<span class="normal">771</span>
<span class="normal">772</span>
<span class="normal">773</span>
<span class="normal">774</span>
<span class="normal">775</span>
<span class="normal">776</span>
<span class="normal">777</span>
<span class="normal">778</span>
<span class="normal">779</span>
<span class="normal">780</span>
<span class="normal">781</span>
<span class="normal">782</span>
<span class="normal">783</span>
<span class="normal">784</span>
<span class="normal">785</span>
<span class="normal">786</span>
<span class="normal">787</span>
<span class="normal">788</span>
<span class="normal">789</span>
<span class="normal">790</span>
<span class="normal">791</span>
<span class="normal">792</span>
<span class="normal">793</span>
<span class="normal">794</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__ne__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="s1">&#39;PitchRest&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Compare two pitches and rests.</span>
<span class="sd">    Args:</span>
<span class="sd">        other (PitchRest): The other name to compare</span>

<span class="sd">    Returns (bool):</span>
<span class="sd">        True if the pitches are different, False otherwise</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest = PitchRest(&#39;c&#39;)</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest2 = PitchRest(&#39;c&#39;)</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest != pitch_rest2</span>
<span class="sd">        False</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest = PitchRest(&#39;c&#39;)</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest2 = PitchRest(&#39;ccc&#39;)</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest != pitch_rest2</span>
<span class="sd">        True</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest = PitchRest(&#39;c&#39;)</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest2 = PitchRest(&#39;r&#39;)</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest != pitch_rest2</span>
<span class="sd">        True</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest = PitchRest(&#39;r&#39;)</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest2 = PitchRest(&#39;r&#39;)</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest != pitch_rest2</span>
<span class="sd">        False</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__eq__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.PitchRest.is_rest" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">is_rest</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Check if the name is a rest.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>bool</code></td>            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if the name is a rest, False otherwise.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest</span> <span class="o">=</span> <span class="n">PitchRest</span><span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest</span><span class="o">.</span><span class="n">is_rest</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest</span> <span class="o">=</span> <span class="n">PitchRest</span><span class="p">(</span><span class="s1">&#39;r&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest</span><span class="o">.</span><span class="n">is_rest</span><span class="p">()</span>
<span class="go">True</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">677</span>
<span class="normal">678</span>
<span class="normal">679</span>
<span class="normal">680</span>
<span class="normal">681</span>
<span class="normal">682</span>
<span class="normal">683</span>
<span class="normal">684</span>
<span class="normal">685</span>
<span class="normal">686</span>
<span class="normal">687</span>
<span class="normal">688</span>
<span class="normal">689</span>
<span class="normal">690</span>
<span class="normal">691</span>
<span class="normal">692</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">is_rest</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Check if the name is a rest.</span>

<span class="sd">    Returns:</span>
<span class="sd">        bool: True if the name is a rest, False otherwise.</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest = PitchRest(&#39;c&#39;)</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest.is_rest()</span>
<span class="sd">        False</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest = PitchRest(&#39;r&#39;)</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest.is_rest()</span>
<span class="sd">        True</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">octave</span> <span class="ow">is</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.PitchRest.pitch_comparator" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">pitch_comparator</span><span class="p">(</span><span class="n">pitch_a</span><span class="p">,</span> <span class="n">pitch_b</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>Compare two pitches of the same octave.</p>
<p>The lower name is 'a'. So 'a' &lt; 'b' &lt; 'c' &lt; 'd' &lt; 'e' &lt; 'f' &lt; 'g'</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>pitch_a</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>One name of 'abcdefg'</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>pitch_b</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Another name of 'abcdefg'</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>-1 if pitch1 is lower than pitch2</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>0 if pitch1 is equal to pitch2</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>1 if pitch1 is higher than pitch2</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">PitchRest</span><span class="o">.</span><span class="n">pitch_comparator</span><span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">)</span>
<span class="go">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">PitchRest</span><span class="o">.</span><span class="n">pitch_comparator</span><span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">)</span>
<span class="go">-1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">PitchRest</span><span class="o">.</span><span class="n">pitch_comparator</span><span class="p">(</span><span class="s1">&#39;d&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">)</span>
<span class="go">1</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">694</span>
<span class="normal">695</span>
<span class="normal">696</span>
<span class="normal">697</span>
<span class="normal">698</span>
<span class="normal">699</span>
<span class="normal">700</span>
<span class="normal">701</span>
<span class="normal">702</span>
<span class="normal">703</span>
<span class="normal">704</span>
<span class="normal">705</span>
<span class="normal">706</span>
<span class="normal">707</span>
<span class="normal">708</span>
<span class="normal">709</span>
<span class="normal">710</span>
<span class="normal">711</span>
<span class="normal">712</span>
<span class="normal">713</span>
<span class="normal">714</span>
<span class="normal">715</span>
<span class="normal">716</span>
<span class="normal">717</span>
<span class="normal">718</span>
<span class="normal">719</span>
<span class="normal">720</span>
<span class="normal">721</span>
<span class="normal">722</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">pitch_comparator</span><span class="p">(</span><span class="n">pitch_a</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">pitch_b</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Compare two pitches of the same octave.</span>

<span class="sd">    The lower name is &#39;a&#39;. So &#39;a&#39; &lt; &#39;b&#39; &lt; &#39;c&#39; &lt; &#39;d&#39; &lt; &#39;e&#39; &lt; &#39;f&#39; &lt; &#39;g&#39;</span>

<span class="sd">    Args:</span>
<span class="sd">        pitch_a: One name of &#39;abcdefg&#39;</span>
<span class="sd">        pitch_b: Another name of &#39;abcdefg&#39;</span>

<span class="sd">    Returns:</span>
<span class="sd">        -1 if pitch1 is lower than pitch2</span>
<span class="sd">        0 if pitch1 is equal to pitch2</span>
<span class="sd">        1 if pitch1 is higher than pitch2</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; PitchRest.pitch_comparator(&#39;c&#39;, &#39;c&#39;)</span>
<span class="sd">        0</span>
<span class="sd">        &gt;&gt;&gt; PitchRest.pitch_comparator(&#39;c&#39;, &#39;d&#39;)</span>
<span class="sd">        -1</span>
<span class="sd">        &gt;&gt;&gt; PitchRest.pitch_comparator(&#39;d&#39;, &#39;c&#39;)</span>
<span class="sd">        1</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">pitch_a</span> <span class="o">&lt;</span> <span class="n">pitch_b</span><span class="p">:</span>
        <span class="k">return</span> <span class="o">-</span><span class="mi">1</span>
    <span class="k">if</span> <span class="n">pitch_a</span> <span class="o">&gt;</span> <span class="n">pitch_b</span><span class="p">:</span>
        <span class="k">return</span> <span class="mi">1</span>
    <span class="k">return</span> <span class="mi">0</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="kernpy.PositionInStaff" class="doc doc-heading">
            <code>PositionInStaff</code>


</h2>


    <div class="doc doc-contents ">


              <details class="quote">
                <summary>Source code in <code>kernpy/core/gkern.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">PositionInStaff</span><span class="p">:</span>
    <span class="n">LINE_CHARACTER</span> <span class="o">=</span> <span class="s1">&#39;L&#39;</span>
    <span class="n">SPACE_CHARACTER</span> <span class="o">=</span> <span class="s1">&#39;S&#39;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">line_space</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initializes the PositionInStaff object.</span>

<span class="sd">        Args:</span>
<span class="sd">            line_space (int): 0 for bottom line, -1 for space under bottom line, 1 for space above bottom line. \</span>
<span class="sd">             Increments by 1 for each line or space.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">line_space</span> <span class="o">=</span> <span class="n">line_space</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">from_line</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">line</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PositionInStaff</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates a PositionInStaff object from a line number.</span>

<span class="sd">        Args:</span>
<span class="sd">            line (int): The line number. line 1 is bottom line, 2 is the 1st line from bottom, 0 is the bottom ledger line</span>

<span class="sd">        Returns:</span>
<span class="sd">            PositionInStaff: The PositionInStaff object. 0 for the bottom line, 2 for the 1st line from bottom, -1 for the bottom ledger line, etc.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="p">((</span><span class="n">line</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="mi">2</span><span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">from_space</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">space</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PositionInStaff</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates a PositionInStaff object from a space number.</span>

<span class="sd">        Args:</span>
<span class="sd">            space (int): The space number. space 1 is bottom space, 2</span>

<span class="sd">        Returns:</span>
<span class="sd">            PositionInStaff: The PositionInStaff object.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="p">((</span><span class="n">space</span><span class="p">)</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">from_encoded</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">encoded</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PositionInStaff</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates a PositionInStaff object from an encoded string.</span>

<span class="sd">        Args:</span>
<span class="sd">            encoded (str): The encoded string.</span>

<span class="sd">        Returns:</span>
<span class="sd">            PositionInStaff: The PositionInStaff object.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">encoded</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="bp">cls</span><span class="o">.</span><span class="n">LINE_CHARACTER</span><span class="p">):</span>
            <span class="n">line</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">encoded</span><span class="p">[</span><span class="mi">1</span><span class="p">:])</span>  <span class="c1"># Extract the line number</span>
            <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">from_line</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">encoded</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="bp">cls</span><span class="o">.</span><span class="n">SPACE_CHARACTER</span><span class="p">):</span>
            <span class="n">space</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">encoded</span><span class="p">[</span><span class="mi">1</span><span class="p">:])</span>  <span class="c1"># Extract the space number</span>
            <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">from_space</span><span class="p">(</span><span class="n">space</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;&quot;</span>
                             <span class="sa">f</span><span class="s2">&quot;Invalid encoded string: </span><span class="si">{</span><span class="n">encoded</span><span class="si">}</span><span class="s2">. &quot;</span>
                             <span class="sa">f</span><span class="s2">&quot;Expected to start with &#39;</span><span class="si">{</span><span class="bp">cls</span><span class="o">.</span><span class="n">LINE_CHARACTER</span><span class="si">}</span><span class="s2">&#39; or &#39;</span><span class="si">{</span><span class="bp">cls</span><span class="o">.</span><span class="n">SPACE_CHARACTER</span><span class="si">}</span><span class="s2"> at the beginning.&quot;</span><span class="p">)</span>


    <span class="k">def</span><span class="w"> </span><span class="nf">line</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the line number of the position in staff.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">line_space</span> <span class="o">//</span> <span class="mi">2</span> <span class="o">+</span> <span class="mi">1</span>


    <span class="k">def</span><span class="w"> </span><span class="nf">space</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the space number of the position in staff.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">line_space</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">//</span> <span class="mi">2</span> <span class="o">+</span> <span class="mi">1</span>


    <span class="k">def</span><span class="w"> </span><span class="nf">is_line</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns True if the position is a line, False otherwise. If is not a line, it is a space, and vice versa.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">line_space</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">move</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">line_space_difference</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PositionInStaff</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a new PositionInStaff object with the position moved by the given number of lines or spaces.</span>

<span class="sd">        Args:</span>
<span class="sd">            line_space_difference (int): The number of lines or spaces to move.</span>

<span class="sd">        Returns:</span>
<span class="sd">            PositionInStaff: The new PositionInStaff object.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">PositionInStaff</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">line_space</span> <span class="o">+</span> <span class="n">line_space_difference</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">position_below</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PositionInStaff</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the position below the current position.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">position_above</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PositionInStaff</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the position above the current position.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>



    <span class="k">def</span><span class="w"> </span><span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the string representation of the position in staff.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_line</span><span class="p">():</span>
            <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">LINE_CHARACTER</span><span class="si">}{</span><span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">line</span><span class="p">())</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">SPACE_CHARACTER</span><span class="si">}{</span><span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">space</span><span class="p">())</span><span class="si">}</span><span class="s2">&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the string representation of the PositionInStaff object.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;PositionInStaff(line_space=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">line_space</span><span class="si">}</span><span class="s2">), </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="fm">__str__</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Compares two PositionInStaff objects.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">PositionInStaff</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">line_space</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">line_space</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__ne__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Compares two PositionInStaff objects.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__eq__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__hash__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the hash of the PositionInStaff object.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">hash</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">line_space</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__lt__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Compares two PositionInStaff objects.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">PositionInStaff</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">NotImplemented</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">line_space</span> <span class="o">&lt;</span> <span class="n">other</span><span class="o">.</span><span class="n">line_space</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="kernpy.PositionInStaff.__eq__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__eq__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Compares two PositionInStaff objects.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/gkern.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Compares two PositionInStaff objects.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">PositionInStaff</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">line_space</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">line_space</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.PositionInStaff.__hash__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__hash__</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Returns the hash of the PositionInStaff object.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/gkern.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__hash__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns the hash of the PositionInStaff object.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="nb">hash</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">line_space</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.PositionInStaff.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">line_space</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Initializes the PositionInStaff object.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>line_space</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>0 for bottom line, -1 for space under bottom line, 1 for space above bottom line.              Increments by 1 for each line or space.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/gkern.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">line_space</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Initializes the PositionInStaff object.</span>

<span class="sd">    Args:</span>
<span class="sd">        line_space (int): 0 for bottom line, -1 for space under bottom line, 1 for space above bottom line. \</span>
<span class="sd">         Increments by 1 for each line or space.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">line_space</span> <span class="o">=</span> <span class="n">line_space</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.PositionInStaff.__lt__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__lt__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Compares two PositionInStaff objects.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/gkern.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__lt__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Compares two PositionInStaff objects.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">PositionInStaff</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">NotImplemented</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">line_space</span> <span class="o">&lt;</span> <span class="n">other</span><span class="o">.</span><span class="n">line_space</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.PositionInStaff.__ne__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__ne__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Compares two PositionInStaff objects.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/gkern.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__ne__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Compares two PositionInStaff objects.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__eq__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.PositionInStaff.__repr__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__repr__</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Returns the string representation of the PositionInStaff object.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/gkern.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns the string representation of the PositionInStaff object.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;PositionInStaff(line_space=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">line_space</span><span class="si">}</span><span class="s2">), </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="fm">__str__</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.PositionInStaff.__str__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__str__</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Returns the string representation of the position in staff.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/gkern.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns the string representation of the position in staff.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_line</span><span class="p">():</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">LINE_CHARACTER</span><span class="si">}{</span><span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">line</span><span class="p">())</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">SPACE_CHARACTER</span><span class="si">}{</span><span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">space</span><span class="p">())</span><span class="si">}</span><span class="s2">&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.PositionInStaff.from_encoded" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">from_encoded</span><span class="p">(</span><span class="n">encoded</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>Creates a PositionInStaff object from an encoded string.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>encoded</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The encoded string.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>PositionInStaff</code></td>            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.gkern.PositionInStaff" href="#kernpy.core.PositionInStaff">PositionInStaff</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The PositionInStaff object.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/gkern.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">from_encoded</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">encoded</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PositionInStaff</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Creates a PositionInStaff object from an encoded string.</span>

<span class="sd">    Args:</span>
<span class="sd">        encoded (str): The encoded string.</span>

<span class="sd">    Returns:</span>
<span class="sd">        PositionInStaff: The PositionInStaff object.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">encoded</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="bp">cls</span><span class="o">.</span><span class="n">LINE_CHARACTER</span><span class="p">):</span>
        <span class="n">line</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">encoded</span><span class="p">[</span><span class="mi">1</span><span class="p">:])</span>  <span class="c1"># Extract the line number</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">from_line</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">encoded</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="bp">cls</span><span class="o">.</span><span class="n">SPACE_CHARACTER</span><span class="p">):</span>
        <span class="n">space</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">encoded</span><span class="p">[</span><span class="mi">1</span><span class="p">:])</span>  <span class="c1"># Extract the space number</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">from_space</span><span class="p">(</span><span class="n">space</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;&quot;</span>
                         <span class="sa">f</span><span class="s2">&quot;Invalid encoded string: </span><span class="si">{</span><span class="n">encoded</span><span class="si">}</span><span class="s2">. &quot;</span>
                         <span class="sa">f</span><span class="s2">&quot;Expected to start with &#39;</span><span class="si">{</span><span class="bp">cls</span><span class="o">.</span><span class="n">LINE_CHARACTER</span><span class="si">}</span><span class="s2">&#39; or &#39;</span><span class="si">{</span><span class="bp">cls</span><span class="o">.</span><span class="n">SPACE_CHARACTER</span><span class="si">}</span><span class="s2"> at the beginning.&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.PositionInStaff.from_line" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">from_line</span><span class="p">(</span><span class="n">line</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>Creates a PositionInStaff object from a line number.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>line</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The line number. line 1 is bottom line, 2 is the 1st line from bottom, 0 is the bottom ledger line</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>PositionInStaff</code></td>            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.gkern.PositionInStaff" href="#kernpy.core.PositionInStaff">PositionInStaff</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The PositionInStaff object. 0 for the bottom line, 2 for the 1st line from bottom, -1 for the bottom ledger line, etc.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/gkern.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">from_line</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">line</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PositionInStaff</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Creates a PositionInStaff object from a line number.</span>

<span class="sd">    Args:</span>
<span class="sd">        line (int): The line number. line 1 is bottom line, 2 is the 1st line from bottom, 0 is the bottom ledger line</span>

<span class="sd">    Returns:</span>
<span class="sd">        PositionInStaff: The PositionInStaff object. 0 for the bottom line, 2 for the 1st line from bottom, -1 for the bottom ledger line, etc.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">cls</span><span class="p">((</span><span class="n">line</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="mi">2</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.PositionInStaff.from_space" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">from_space</span><span class="p">(</span><span class="n">space</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>Creates a PositionInStaff object from a space number.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>space</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The space number. space 1 is bottom space, 2</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>PositionInStaff</code></td>            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.gkern.PositionInStaff" href="#kernpy.core.PositionInStaff">PositionInStaff</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The PositionInStaff object.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/gkern.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span>
<span class="normal">90</span>
<span class="normal">91</span>
<span class="normal">92</span>
<span class="normal">93</span>
<span class="normal">94</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">from_space</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">space</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PositionInStaff</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Creates a PositionInStaff object from a space number.</span>

<span class="sd">    Args:</span>
<span class="sd">        space (int): The space number. space 1 is bottom space, 2</span>

<span class="sd">    Returns:</span>
<span class="sd">        PositionInStaff: The PositionInStaff object.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">cls</span><span class="p">((</span><span class="n">space</span><span class="p">)</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.PositionInStaff.is_line" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">is_line</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Returns True if the position is a line, False otherwise. If is not a line, it is a space, and vice versa.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/gkern.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">is_line</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns True if the position is a line, False otherwise. If is not a line, it is a space, and vice versa.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">line_space</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.PositionInStaff.line" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">line</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Returns the line number of the position in staff.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/gkern.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">line</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns the line number of the position in staff.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">line_space</span> <span class="o">//</span> <span class="mi">2</span> <span class="o">+</span> <span class="mi">1</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.PositionInStaff.move" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">move</span><span class="p">(</span><span class="n">line_space_difference</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Returns a new PositionInStaff object with the position moved by the given number of lines or spaces.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>line_space_difference</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The number of lines or spaces to move.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>PositionInStaff</code></td>            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.gkern.PositionInStaff" href="#kernpy.core.PositionInStaff">PositionInStaff</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The new PositionInStaff object.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/gkern.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">move</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">line_space_difference</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PositionInStaff</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns a new PositionInStaff object with the position moved by the given number of lines or spaces.</span>

<span class="sd">    Args:</span>
<span class="sd">        line_space_difference (int): The number of lines or spaces to move.</span>

<span class="sd">    Returns:</span>
<span class="sd">        PositionInStaff: The new PositionInStaff object.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">PositionInStaff</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">line_space</span> <span class="o">+</span> <span class="n">line_space_difference</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.PositionInStaff.position_above" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">position_above</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Returns the position above the current position.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/gkern.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">position_above</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PositionInStaff</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns the position above the current position.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.PositionInStaff.position_below" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">position_below</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Returns the position below the current position.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/gkern.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">position_below</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PositionInStaff</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns the position below the current position.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.PositionInStaff.space" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">space</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Returns the space number of the position in staff.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/gkern.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">space</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns the space number of the position in staff.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">line_space</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">//</span> <span class="mi">2</span> <span class="o">+</span> <span class="mi">1</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="kernpy.RootSpineImporter" class="doc doc-heading">
            <code>RootSpineImporter</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="kernpy.core.spine_importer.SpineImporter" href="#kernpy.core.SpineImporter">SpineImporter</a></code></p>


              <details class="quote">
                <summary>Source code in <code>kernpy/core/root_spine_importer.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">RootSpineImporter</span><span class="p">(</span><span class="n">SpineImporter</span><span class="p">):</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">verbose</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        KernSpineImporter constructor.</span>

<span class="sd">        Args:</span>
<span class="sd">            verbose (Optional[bool]): Level of verbosity for error messages.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="n">verbose</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">import_listener</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BaseANTLRSpineParserListener</span><span class="p">:</span>
        <span class="c1">#return RootSpineListener() # TODO: Create a custom functional listener for RootSpineImporter</span>
        <span class="k">return</span> <span class="n">KernSpineListener</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">import_token</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">encoding</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Token</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_raise_error_if_wrong_input</span><span class="p">(</span><span class="n">encoding</span><span class="p">)</span>

        <span class="n">kern_spine_importer</span> <span class="o">=</span> <span class="n">KernSpineImporter</span><span class="p">()</span>
        <span class="n">token</span> <span class="o">=</span> <span class="n">kern_spine_importer</span><span class="o">.</span><span class="n">import_token</span><span class="p">(</span><span class="n">encoding</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">token</span>  <span class="c1"># The **root spine tokens are always a subset of the **kern spine tokens</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="kernpy.RootSpineImporter.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>KernSpineImporter constructor.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>verbose</code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[bool]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Level of verbosity for error messages.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/root_spine_importer.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">verbose</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    KernSpineImporter constructor.</span>

<span class="sd">    Args:</span>
<span class="sd">        verbose (Optional[bool]): Level of verbosity for error messages.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="n">verbose</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="kernpy.SimpleToken" class="doc doc-heading">
            <code>SimpleToken</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="kernpy.core.tokens.Token" href="#kernpy.core.Token">Token</a></code></p>


        <p>SimpleToken class.</p>

              <details class="quote">
                <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1480</span>
<span class="normal">1481</span>
<span class="normal">1482</span>
<span class="normal">1483</span>
<span class="normal">1484</span>
<span class="normal">1485</span>
<span class="normal">1486</span>
<span class="normal">1487</span>
<span class="normal">1488</span>
<span class="normal">1489</span>
<span class="normal">1490</span>
<span class="normal">1491</span>
<span class="normal">1492</span>
<span class="normal">1493</span>
<span class="normal">1494</span>
<span class="normal">1495</span>
<span class="normal">1496</span>
<span class="normal">1497</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">SimpleToken</span><span class="p">(</span><span class="n">Token</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    SimpleToken class.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">encoding</span><span class="p">,</span> <span class="n">category</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">encoding</span><span class="p">,</span> <span class="n">category</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">export</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Exports the token.</span>

<span class="sd">        Args:</span>
<span class="sd">            **kwargs: &#39;filter_categories&#39; (Optional[Callable[[TokenCategory], bool]]): It is ignored in this class.</span>

<span class="sd">        Returns (str): The encoded token representation.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">encoding</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="kernpy.SimpleToken.export" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">export</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Exports the token.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>**kwargs</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>'filter_categories' (Optional[Callable[[TokenCategory], bool]]): It is ignored in this class.</p>
              </div>
            </td>
            <td>
                  <code>{}</code>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns (str): The encoded token representation.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1488</span>
<span class="normal">1489</span>
<span class="normal">1490</span>
<span class="normal">1491</span>
<span class="normal">1492</span>
<span class="normal">1493</span>
<span class="normal">1494</span>
<span class="normal">1495</span>
<span class="normal">1496</span>
<span class="normal">1497</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">export</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Exports the token.</span>

<span class="sd">    Args:</span>
<span class="sd">        **kwargs: &#39;filter_categories&#39; (Optional[Callable[[TokenCategory], bool]]): It is ignored in this class.</span>

<span class="sd">    Returns (str): The encoded token representation.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">encoding</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="kernpy.SpineOperationToken" class="doc doc-heading">
            <code>SpineOperationToken</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="kernpy.core.tokens.SimpleToken" href="#kernpy.core.SimpleToken">SimpleToken</a></code></p>


        <p>SpineOperationToken class.</p>
<p>This token represents different operations in the Humdrum kern encoding.
These are the available operations:
    - <code>*-</code>:  spine-path terminator.
    - <code>*</code>: null interpretation.
    - <code>*+</code>: add spines.
    - <code>*^</code>: split spines.
    - <code>*x</code>: exchange spines.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="kernpy.SpineOperationToken.cancelled_at_stage">cancelled_at_stage</span></code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The stage at which the operation was cancelled. Defaults to None.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

              <details class="quote">
                <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1609</span>
<span class="normal">1610</span>
<span class="normal">1611</span>
<span class="normal">1612</span>
<span class="normal">1613</span>
<span class="normal">1614</span>
<span class="normal">1615</span>
<span class="normal">1616</span>
<span class="normal">1617</span>
<span class="normal">1618</span>
<span class="normal">1619</span>
<span class="normal">1620</span>
<span class="normal">1621</span>
<span class="normal">1622</span>
<span class="normal">1623</span>
<span class="normal">1624</span>
<span class="normal">1625</span>
<span class="normal">1626</span>
<span class="normal">1627</span>
<span class="normal">1628</span>
<span class="normal">1629</span>
<span class="normal">1630</span>
<span class="normal">1631</span>
<span class="normal">1632</span>
<span class="normal">1633</span>
<span class="normal">1634</span>
<span class="normal">1635</span>
<span class="normal">1636</span>
<span class="normal">1637</span>
<span class="normal">1638</span>
<span class="normal">1639</span>
<span class="normal">1640</span>
<span class="normal">1641</span>
<span class="normal">1642</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">SpineOperationToken</span><span class="p">(</span><span class="n">SimpleToken</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    SpineOperationToken class.</span>

<span class="sd">    This token represents different operations in the Humdrum kern encoding.</span>
<span class="sd">    These are the available operations:</span>
<span class="sd">        - `*-`:  spine-path terminator.</span>
<span class="sd">        - `*`: null interpretation.</span>
<span class="sd">        - `*+`: add spines.</span>
<span class="sd">        - `*^`: split spines.</span>
<span class="sd">        - `*x`: exchange spines.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        cancelled_at_stage (int): The stage at which the operation was cancelled. Defaults to None.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">encoding</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">encoding</span><span class="p">,</span> <span class="n">TokenCategory</span><span class="o">.</span><span class="n">SPINE_OPERATION</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cancelled_at_stage</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">is_cancelled_at</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stage</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Checks if the operation was cancelled at the given stage.</span>

<span class="sd">        Args:</span>
<span class="sd">            stage (int): The stage at which the operation was cancelled.</span>

<span class="sd">        Returns:</span>
<span class="sd">            bool: True if the operation was cancelled at the given stage, False otherwise.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">cancelled_at_stage</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">cancelled_at_stage</span> <span class="o">&lt;</span> <span class="n">stage</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="kernpy.SpineOperationToken.is_cancelled_at" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">is_cancelled_at</span><span class="p">(</span><span class="n">stage</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Checks if the operation was cancelled at the given stage.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>stage</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The stage at which the operation was cancelled.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>bool</code></td>            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if the operation was cancelled at the given stage, False otherwise.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1629</span>
<span class="normal">1630</span>
<span class="normal">1631</span>
<span class="normal">1632</span>
<span class="normal">1633</span>
<span class="normal">1634</span>
<span class="normal">1635</span>
<span class="normal">1636</span>
<span class="normal">1637</span>
<span class="normal">1638</span>
<span class="normal">1639</span>
<span class="normal">1640</span>
<span class="normal">1641</span>
<span class="normal">1642</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">is_cancelled_at</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stage</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Checks if the operation was cancelled at the given stage.</span>

<span class="sd">    Args:</span>
<span class="sd">        stage (int): The stage at which the operation was cancelled.</span>

<span class="sd">    Returns:</span>
<span class="sd">        bool: True if the operation was cancelled at the given stage, False otherwise.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">cancelled_at_stage</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">cancelled_at_stage</span> <span class="o">&lt;</span> <span class="n">stage</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="kernpy.StoreCache" class="doc doc-heading">
            <code>StoreCache</code>


</h2>


    <div class="doc doc-contents ">


        <p>A simple cache that stores the result of a callback function</p>

              <details class="quote">
                <summary>Source code in <code>kernpy/util/store_cache.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">StoreCache</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A simple cache that stores the result of a callback function</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Constructor</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">memory</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">request</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">callback</span><span class="p">,</span> <span class="n">request</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Request a value from the cache. If the value is not in the cache, it will be calculated by the callback function</span>
<span class="sd">        Args:</span>
<span class="sd">            callback (function): The callback function that will be called to calculate the value</span>
<span class="sd">            request (any): The request that will be passed to the callback function</span>

<span class="sd">        Returns (any): The value that was requested</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; def add_five(x):</span>
<span class="sd">            ...     return x + 5</span>
<span class="sd">            &gt;&gt;&gt; store_cache = StoreCache()</span>
<span class="sd">            &gt;&gt;&gt; store_cache.request(callback, 5)  # Call the callback function</span>
<span class="sd">            10</span>
<span class="sd">            &gt;&gt;&gt; store_cache.request(callback, 5)  # Return the value from the cache, without calling the callback function</span>
<span class="sd">            10</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">request</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">memory</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">memory</span><span class="p">[</span><span class="n">request</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">callback</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">memory</span><span class="p">[</span><span class="n">request</span><span class="p">]</span> <span class="o">=</span> <span class="n">result</span>
            <span class="k">return</span> <span class="n">result</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="kernpy.StoreCache.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Constructor</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/util/store_cache.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span>
<span class="normal">8</span>
<span class="normal">9</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Constructor</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">memory</span> <span class="o">=</span> <span class="p">{}</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.StoreCache.request" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">request</span><span class="p">(</span><span class="n">callback</span><span class="p">,</span> <span class="n">request</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Request a value from the cache. If the value is not in the cache, it will be calculated by the callback function
Args:
    callback (function): The callback function that will be called to calculate the value
    request (any): The request that will be passed to the callback function</p>
<p>Returns (any): The value that was requested</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span><span class="w"> </span><span class="nf">add_five</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">store_cache</span> <span class="o">=</span> <span class="n">StoreCache</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">store_cache</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="n">callback</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>  <span class="c1"># Call the callback function</span>
<span class="go">10</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">store_cache</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="n">callback</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>  <span class="c1"># Return the value from the cache, without calling the callback function</span>
<span class="go">10</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>kernpy/util/store_cache.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">request</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">callback</span><span class="p">,</span> <span class="n">request</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Request a value from the cache. If the value is not in the cache, it will be calculated by the callback function</span>
<span class="sd">    Args:</span>
<span class="sd">        callback (function): The callback function that will be called to calculate the value</span>
<span class="sd">        request (any): The request that will be passed to the callback function</span>

<span class="sd">    Returns (any): The value that was requested</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; def add_five(x):</span>
<span class="sd">        ...     return x + 5</span>
<span class="sd">        &gt;&gt;&gt; store_cache = StoreCache()</span>
<span class="sd">        &gt;&gt;&gt; store_cache.request(callback, 5)  # Call the callback function</span>
<span class="sd">        10</span>
<span class="sd">        &gt;&gt;&gt; store_cache.request(callback, 5)  # Return the value from the cache, without calling the callback function</span>
<span class="sd">        10</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">request</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">memory</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">memory</span><span class="p">[</span><span class="n">request</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">callback</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">memory</span><span class="p">[</span><span class="n">request</span><span class="p">]</span> <span class="o">=</span> <span class="n">result</span>
        <span class="k">return</span> <span class="n">result</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="kernpy.Subtoken" class="doc doc-heading">
            <code>Subtoken</code>


</h2>


    <div class="doc doc-contents ">


        <p>Subtoken class. Thhe subtokens are the smallest units of categories. ComplexToken objects are composed of subtokens.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="kernpy.Subtoken.encoding">encoding</span></code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The complete unprocessed encoding</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="kernpy.Subtoken.category">category</span></code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The subtoken category, one of SubTokenCategory</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

              <details class="quote">
                <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1323</span>
<span class="normal">1324</span>
<span class="normal">1325</span>
<span class="normal">1326</span>
<span class="normal">1327</span>
<span class="normal">1328</span>
<span class="normal">1329</span>
<span class="normal">1330</span>
<span class="normal">1331</span>
<span class="normal">1332</span>
<span class="normal">1333</span>
<span class="normal">1334</span>
<span class="normal">1335</span>
<span class="normal">1336</span>
<span class="normal">1337</span>
<span class="normal">1338</span>
<span class="normal">1339</span>
<span class="normal">1340</span>
<span class="normal">1341</span>
<span class="normal">1342</span>
<span class="normal">1343</span>
<span class="normal">1344</span>
<span class="normal">1345</span>
<span class="normal">1346</span>
<span class="normal">1347</span>
<span class="normal">1348</span>
<span class="normal">1349</span>
<span class="normal">1350</span>
<span class="normal">1351</span>
<span class="normal">1352</span>
<span class="normal">1353</span>
<span class="normal">1354</span>
<span class="normal">1355</span>
<span class="normal">1356</span>
<span class="normal">1357</span>
<span class="normal">1358</span>
<span class="normal">1359</span>
<span class="normal">1360</span>
<span class="normal">1361</span>
<span class="normal">1362</span>
<span class="normal">1363</span>
<span class="normal">1364</span>
<span class="normal">1365</span>
<span class="normal">1366</span>
<span class="normal">1367</span>
<span class="normal">1368</span>
<span class="normal">1369</span>
<span class="normal">1370</span>
<span class="normal">1371</span>
<span class="normal">1372</span>
<span class="normal">1373</span>
<span class="normal">1374</span>
<span class="normal">1375</span>
<span class="normal">1376</span>
<span class="normal">1377</span>
<span class="normal">1378</span>
<span class="normal">1379</span>
<span class="normal">1380</span>
<span class="normal">1381</span>
<span class="normal">1382</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">Subtoken</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Subtoken class. Thhe subtokens are the smallest units of categories. ComplexToken objects are composed of subtokens.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        encoding: The complete unprocessed encoding</span>
<span class="sd">        category: The subtoken category, one of SubTokenCategory</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">DECORATION</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">encoding</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">category</span><span class="p">:</span> <span class="n">TokenCategory</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Subtoken constructor</span>

<span class="sd">        Args:</span>
<span class="sd">            encoding (str): The complete unprocessed encoding</span>
<span class="sd">            category (TokenCategory): The subtoken category. \</span>
<span class="sd">                It should be a child of the main &#39;TokenCategory&#39; in the hierarchy.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">encoding</span> <span class="o">=</span> <span class="n">encoding</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">category</span> <span class="o">=</span> <span class="n">category</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the string representation of the subtoken.</span>

<span class="sd">        Returns (str): The string representation of the subtoken.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">encoding</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Compare two subtokens.</span>

<span class="sd">        Args:</span>
<span class="sd">            other (Subtoken): The other subtoken to compare.</span>
<span class="sd">        Returns (bool): True if the subtokens are equal, False otherwise.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">Subtoken</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">encoding</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">encoding</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">category</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">category</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__ne__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Compare two subtokens.</span>

<span class="sd">        Args:</span>
<span class="sd">            other (Subtoken): The other subtoken to compare.</span>
<span class="sd">        Returns (bool): True if the subtokens are different, False otherwise.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__eq__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__hash__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the hash of the subtoken.</span>

<span class="sd">        Returns (int): The hash of the subtoken.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">hash</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">encoding</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">category</span><span class="p">))</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="kernpy.Subtoken.__eq__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__eq__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Compare two subtokens.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>other</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.tokens.Subtoken" href="#kernpy.core.Subtoken">Subtoken</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The other subtoken to compare.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns (bool): True if the subtokens are equal, False otherwise.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1354</span>
<span class="normal">1355</span>
<span class="normal">1356</span>
<span class="normal">1357</span>
<span class="normal">1358</span>
<span class="normal">1359</span>
<span class="normal">1360</span>
<span class="normal">1361</span>
<span class="normal">1362</span>
<span class="normal">1363</span>
<span class="normal">1364</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Compare two subtokens.</span>

<span class="sd">    Args:</span>
<span class="sd">        other (Subtoken): The other subtoken to compare.</span>
<span class="sd">    Returns (bool): True if the subtokens are equal, False otherwise.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">Subtoken</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">encoding</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">encoding</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">category</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">category</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.Subtoken.__hash__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__hash__</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Returns the hash of the subtoken.</p>
<p>Returns (int): The hash of the subtoken.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1376</span>
<span class="normal">1377</span>
<span class="normal">1378</span>
<span class="normal">1379</span>
<span class="normal">1380</span>
<span class="normal">1381</span>
<span class="normal">1382</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__hash__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns the hash of the subtoken.</span>

<span class="sd">    Returns (int): The hash of the subtoken.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="nb">hash</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">encoding</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">category</span><span class="p">))</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.Subtoken.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">encoding</span><span class="p">,</span> <span class="n">category</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Subtoken constructor</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>encoding</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The complete unprocessed encoding</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>category</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.tokens.TokenCategory" href="#kernpy.core.TokenCategory">TokenCategory</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The subtoken category.                 It should be a child of the main 'TokenCategory' in the hierarchy.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1333</span>
<span class="normal">1334</span>
<span class="normal">1335</span>
<span class="normal">1336</span>
<span class="normal">1337</span>
<span class="normal">1338</span>
<span class="normal">1339</span>
<span class="normal">1340</span>
<span class="normal">1341</span>
<span class="normal">1342</span>
<span class="normal">1343</span>
<span class="normal">1344</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">encoding</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">category</span><span class="p">:</span> <span class="n">TokenCategory</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Subtoken constructor</span>

<span class="sd">    Args:</span>
<span class="sd">        encoding (str): The complete unprocessed encoding</span>
<span class="sd">        category (TokenCategory): The subtoken category. \</span>
<span class="sd">            It should be a child of the main &#39;TokenCategory&#39; in the hierarchy.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">encoding</span> <span class="o">=</span> <span class="n">encoding</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">category</span> <span class="o">=</span> <span class="n">category</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.Subtoken.__ne__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__ne__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Compare two subtokens.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>other</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.tokens.Subtoken" href="#kernpy.core.Subtoken">Subtoken</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The other subtoken to compare.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns (bool): True if the subtokens are different, False otherwise.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1366</span>
<span class="normal">1367</span>
<span class="normal">1368</span>
<span class="normal">1369</span>
<span class="normal">1370</span>
<span class="normal">1371</span>
<span class="normal">1372</span>
<span class="normal">1373</span>
<span class="normal">1374</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__ne__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Compare two subtokens.</span>

<span class="sd">    Args:</span>
<span class="sd">        other (Subtoken): The other subtoken to compare.</span>
<span class="sd">    Returns (bool): True if the subtokens are different, False otherwise.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__eq__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.Subtoken.__str__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__str__</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Returns the string representation of the subtoken.</p>
<p>Returns (str): The string representation of the subtoken.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1346</span>
<span class="normal">1347</span>
<span class="normal">1348</span>
<span class="normal">1349</span>
<span class="normal">1350</span>
<span class="normal">1351</span>
<span class="normal">1352</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns the string representation of the subtoken.</span>

<span class="sd">    Returns (str): The string representation of the subtoken.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">encoding</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="kernpy.TextSpineImporter" class="doc doc-heading">
            <code>TextSpineImporter</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="kernpy.core.spine_importer.SpineImporter" href="#kernpy.core.SpineImporter">SpineImporter</a></code></p>


              <details class="quote">
                <summary>Source code in <code>kernpy/core/text_spine_importer.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">TextSpineImporter</span><span class="p">(</span><span class="n">SpineImporter</span><span class="p">):</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">verbose</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        KernSpineImporter constructor.</span>

<span class="sd">        Args:</span>
<span class="sd">            verbose (Optional[bool]): Level of verbosity for error messages.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="n">verbose</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">import_listener</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BaseANTLRSpineParserListener</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">KernSpineListener</span><span class="p">()</span>  <span class="c1"># TODO: Create a custom functional listener for TextSpineImporter</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">import_token</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">encoding</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Token</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_raise_error_if_wrong_input</span><span class="p">(</span><span class="n">encoding</span><span class="p">)</span>

        <span class="n">kern_spine_importer</span> <span class="o">=</span> <span class="n">KernSpineImporter</span><span class="p">()</span>
        <span class="n">token</span> <span class="o">=</span> <span class="n">kern_spine_importer</span><span class="o">.</span><span class="n">import_token</span><span class="p">(</span><span class="n">encoding</span><span class="p">)</span>

        <span class="n">ACCEPTED_CATEGORIES</span> <span class="o">=</span> <span class="p">{</span>
            <span class="n">TokenCategory</span><span class="o">.</span><span class="n">STRUCTURAL</span><span class="p">,</span>
            <span class="n">TokenCategory</span><span class="o">.</span><span class="n">SIGNATURES</span><span class="p">,</span>
            <span class="n">TokenCategory</span><span class="o">.</span><span class="n">EMPTY</span><span class="p">,</span>
            <span class="n">TokenCategory</span><span class="o">.</span><span class="n">BARLINES</span><span class="p">,</span>
            <span class="n">TokenCategory</span><span class="o">.</span><span class="n">IMAGE_ANNOTATIONS</span><span class="p">,</span>
            <span class="n">TokenCategory</span><span class="o">.</span><span class="n">BARLINES</span><span class="p">,</span>
            <span class="n">TokenCategory</span><span class="o">.</span><span class="n">COMMENTS</span><span class="p">,</span>
        <span class="p">}</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="nb">any</span><span class="p">(</span><span class="n">TokenCategory</span><span class="o">.</span><span class="n">is_child</span><span class="p">(</span><span class="n">child</span><span class="o">=</span><span class="n">token</span><span class="o">.</span><span class="n">category</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="n">cat</span><span class="p">)</span> <span class="k">for</span> <span class="n">cat</span> <span class="ow">in</span> <span class="n">ACCEPTED_CATEGORIES</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">SimpleToken</span><span class="p">(</span><span class="n">encoding</span><span class="p">,</span> <span class="n">TokenCategory</span><span class="o">.</span><span class="n">LYRICS</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">token</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="kernpy.TextSpineImporter.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>KernSpineImporter constructor.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>verbose</code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[bool]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Level of verbosity for error messages.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/text_spine_importer.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">verbose</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    KernSpineImporter constructor.</span>

<span class="sd">    Args:</span>
<span class="sd">        verbose (Optional[bool]): Level of verbosity for error messages.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="n">verbose</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="kernpy.Token" class="doc doc-heading">
            <code>Token</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="kernpy.core.tokens.AbstractToken" href="#kernpy.core.AbstractToken">AbstractToken</a></code>, <code><span title="abc.ABC">ABC</span></code></p>


        <p>Abstract Token class.</p>

              <details class="quote">
                <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1471</span>
<span class="normal">1472</span>
<span class="normal">1473</span>
<span class="normal">1474</span>
<span class="normal">1475</span>
<span class="normal">1476</span>
<span class="normal">1477</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">Token</span><span class="p">(</span><span class="n">AbstractToken</span><span class="p">,</span> <span class="n">ABC</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Abstract Token class.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">encoding</span><span class="p">,</span> <span class="n">category</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">encoding</span><span class="p">,</span> <span class="n">category</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="kernpy.TokenCategory" class="doc doc-heading">
            <code>TokenCategory</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="enum.Enum">Enum</span></code></p>


        <p>Options for the category of a token.</p>
<p>This is used to determine what kind of token should be exported.</p>
<p>The categories are sorted the specific order they are compared to sorthem. But hierarchical order must be defined in other data structures.</p>

              <details class="quote">
                <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 23</span>
<span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">TokenCategory</span><span class="p">(</span><span class="n">Enum</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Options for the category of a token.</span>

<span class="sd">    This is used to determine what kind of token should be exported.</span>

<span class="sd">    The categories are sorted the specific order they are compared to sorthem. But hierarchical order must be defined in other data structures.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">STRUCTURAL</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span>  <span class="c1"># header, spine operations</span>
    <span class="n">HEADER</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span>  <span class="c1"># **kern, **mens, **text, **harm, **mxhm, **root, **dyn, **dynam, **fing</span>
    <span class="n">SPINE_OPERATION</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span>
    <span class="n">CORE</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span> <span class="c1"># notes, rests, chords, etc.</span>
    <span class="n">ERROR</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span>
    <span class="n">NOTE_REST</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span>
    <span class="n">NOTE</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span>
    <span class="n">DURATION</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span>
    <span class="n">PITCH</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span>
    <span class="n">ALTERATION</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span>
    <span class="n">DECORATION</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span>
    <span class="n">REST</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span>
    <span class="n">CHORD</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span>
    <span class="n">EMPTY</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span>  <span class="c1"># placeholders, null interpretation</span>
    <span class="n">SIGNATURES</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span>
    <span class="n">CLEF</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span>
    <span class="n">TIME_SIGNATURE</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span>
    <span class="n">METER_SYMBOL</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span>
    <span class="n">KEY_SIGNATURE</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span>
    <span class="n">KEY_TOKEN</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span>
    <span class="n">ENGRAVED_SYMBOLS</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span>
    <span class="n">OTHER_CONTEXTUAL</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span>
    <span class="n">BARLINES</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span>
    <span class="n">COMMENTS</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span>
    <span class="n">FIELD_COMMENTS</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span>
    <span class="n">LINE_COMMENTS</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span>
    <span class="n">DYNAMICS</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span>
    <span class="n">HARMONY</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span>
    <span class="n">FINGERING</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span>
    <span class="n">LYRICS</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span>
    <span class="n">INSTRUMENTS</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span>
    <span class="n">IMAGE_ANNOTATIONS</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span>
    <span class="n">BOUNDING_BOXES</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span>
    <span class="n">LINE_BREAK</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span>
    <span class="n">OTHER</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span>
    <span class="n">MHXM</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span>
    <span class="n">ROOT</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__lt__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Compare two TokenCategory.</span>
<span class="sd">        Args:</span>
<span class="sd">            other (TokenCategory): The other category to compare.</span>

<span class="sd">        Returns (bool): True if this category is lower than the other, False otherwise.</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; TokenCategory.STRUCTURAL &lt; TokenCategory.CORE</span>
<span class="sd">            True</span>
<span class="sd">            &gt;&gt;&gt; TokenCategory.STRUCTURAL &lt; TokenCategory.STRUCTURAL</span>
<span class="sd">            False</span>
<span class="sd">            &gt;&gt;&gt; TokenCategory.CORE &lt; TokenCategory.STRUCTURAL</span>
<span class="sd">            False</span>
<span class="sd">            &gt;&gt;&gt; sorted([TokenCategory.STRUCTURAL, TokenCategory.CORE])</span>
<span class="sd">            [TokenCategory.STRUCTURAL, TokenCategory.CORE]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">TokenCategory</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">value</span> <span class="o">&lt;</span> <span class="n">other</span><span class="o">.</span><span class="n">value</span>
        <span class="k">return</span> <span class="bp">NotImplemented</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">all</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Set</span><span class="p">[</span><span class="n">TokenCategory</span><span class="p">]:</span>
        <span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">        Get all categories in the hierarchy.</span>

<span class="s2">        Returns:</span>
<span class="s2">            Set[TokenCategory]: The set of all categories in the hierarchy.</span>

<span class="s2">        Examples:</span>
<span class="s2">            &gt;&gt;&gt; import kernpy as kp</span>
<span class="s2">            &gt;&gt;&gt; kp.TokenCategory.all()</span>
<span class="s2">            set([&lt;TokenCategory.MHXM: 29&gt;, &lt;TokenCategory.COMMENTS: 19&gt;, &lt;TokenCategory.BARLINES: 18&gt;, &lt;TokenCategory.CORE: 2&gt;, &lt;TokenCategory.BOUNDING_BOXES: 27&gt;, &lt;TokenCategory.NOTE_REST: 3&gt;, &lt;TokenCategory.NOTE: 4&gt;, &lt;TokenCategory.ENGRAVED_SYMBOLS: 16&gt;, &lt;TokenCategory.SIGNATURES: 11&gt;, &lt;TokenCategory.REST: 8&gt;, &lt;TokenCategory.METER_SYMBOL: 14&gt;, &lt;TokenCategory.HARMONY: 23&gt;, &lt;TokenCategory.KEY_SIGNATURE: 15&gt;, &lt;TokenCategory.EMPTY: 10&gt;, &lt;TokenCategory.PITCH: 6&gt;, &lt;TokenCategory.LINE_COMMENTS: 21&gt;, &lt;TokenCategory.FINGERING: 24&gt;, &lt;TokenCategory.DECORATION: 7&gt;, &lt;TokenCategory.OTHER: 28&gt;, &lt;TokenCategory.INSTRUMENTS: 26&gt;, &lt;TokenCategory.STRUCTURAL: 1&gt;, &lt;TokenCategory.FIELD_COMMENTS: 20&gt;, &lt;TokenCategory.LYRICS: 25&gt;, &lt;TokenCategory.CLEF: 12&gt;, &lt;TokenCategory.DURATION: 5&gt;, &lt;TokenCategory.DYNAMICS: 22&gt;, &lt;TokenCategory.CHORD: 9&gt;, &lt;TokenCategory.TIME_SIGNATURE: 13&gt;, &lt;TokenCategory.OTHER_CONTEXTUAL: 17&gt;])</span>
<span class="s2">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">set</span><span class="p">([</span><span class="n">t</span> <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">TokenCategory</span><span class="p">])</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">tree</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return a string representation of the category hierarchy</span>
<span class="sd">        Returns (str): The string representation of the category hierarchy</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; import kernpy as kp</span>
<span class="sd">            &gt;&gt;&gt; print(kp.TokenCategory.tree())</span>
<span class="sd">            .</span>
<span class="sd">            ├── TokenCategory.STRUCTURAL</span>
<span class="sd">            ├── TokenCategory.CORE</span>
<span class="sd">            │   ├── TokenCategory.NOTE_REST</span>
<span class="sd">            │   │   ├── TokenCategory.DURATION</span>
<span class="sd">            │   │   ├── TokenCategory.NOTE</span>
<span class="sd">            │   │   │   ├── TokenCategory.PITCH</span>
<span class="sd">            │   │   │   └── TokenCategory.DECORATION</span>
<span class="sd">            │   │   └── TokenCategory.REST</span>
<span class="sd">            │   ├── TokenCategory.CHORD</span>
<span class="sd">            │   └── TokenCategory.EMPTY</span>
<span class="sd">            ├── TokenCategory.SIGNATURES</span>
<span class="sd">            │   ├── TokenCategory.CLEF</span>
<span class="sd">            │   ├── TokenCategory.TIME_SIGNATURE</span>
<span class="sd">            │   ├── TokenCategory.METER_SYMBOL</span>
<span class="sd">            │   └── TokenCategory.KEY_SIGNATURE</span>
<span class="sd">            ├── TokenCategory.ENGRAVED_SYMBOLS</span>
<span class="sd">            ├── TokenCategory.OTHER_CONTEXTUAL</span>
<span class="sd">            ├── TokenCategory.BARLINES</span>
<span class="sd">            ├── TokenCategory.COMMENTS</span>
<span class="sd">            │   ├── TokenCategory.FIELD_COMMENTS</span>
<span class="sd">            │   └── TokenCategory.LINE_COMMENTS</span>
<span class="sd">            ├── TokenCategory.DYNAMICS</span>
<span class="sd">            ├── TokenCategory.HARMONY</span>
<span class="sd">            ├── TokenCategory.FINGERING</span>
<span class="sd">            ├── TokenCategory.LYRICS</span>
<span class="sd">            ├── TokenCategory.INSTRUMENTS</span>
<span class="sd">            ├── TokenCategory.BOUNDING_BOXES</span>
<span class="sd">            └── TokenCategory.OTHER</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">TokenCategoryHierarchyMapper</span><span class="o">.</span><span class="n">tree</span><span class="p">()</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">is_child</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">child</span><span class="p">:</span> <span class="n">TokenCategory</span><span class="p">,</span> <span class="n">parent</span><span class="p">:</span> <span class="n">TokenCategory</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Check if the child category is a child of the parent category.</span>

<span class="sd">        Args:</span>
<span class="sd">            child (TokenCategory): The child category.</span>
<span class="sd">            parent (TokenCategory): The parent category.</span>

<span class="sd">        Returns (bool): True if the child category is a child of the parent category, False otherwise.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">TokenCategoryHierarchyMapper</span><span class="o">.</span><span class="n">is_child</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="n">parent</span><span class="p">,</span> <span class="n">child</span><span class="o">=</span><span class="n">child</span><span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">children</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">target</span><span class="p">:</span> <span class="n">TokenCategory</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Set</span><span class="p">[</span><span class="n">TokenCategory</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the children of the target category.</span>

<span class="sd">        Args:</span>
<span class="sd">            target (TokenCategory): The target category.</span>

<span class="sd">        Returns (List[TokenCategory]): The list of child categories of the target category.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">TokenCategoryHierarchyMapper</span><span class="o">.</span><span class="n">children</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="n">target</span><span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">valid</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">include</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Set</span><span class="p">[</span><span class="n">TokenCategory</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">exclude</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Set</span><span class="p">[</span><span class="n">TokenCategory</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Set</span><span class="p">[</span><span class="n">TokenCategory</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the valid categories based on the include and exclude sets.</span>

<span class="sd">        Args:</span>
<span class="sd">            include (Optional[Set[TokenCategory]]): The set of categories to include. Defaults to None. \</span>
<span class="sd">                If None, all categories are included.</span>
<span class="sd">            exclude (Optional[Set[TokenCategory]]): The set of categories to exclude. Defaults to None. \</span>
<span class="sd">                If None, no categories are excluded.</span>

<span class="sd">        Returns (Set[TokenCategory]): The list of valid categories based on the include and exclude sets.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">TokenCategoryHierarchyMapper</span><span class="o">.</span><span class="n">valid</span><span class="p">(</span><span class="n">include</span><span class="o">=</span><span class="n">include</span><span class="p">,</span> <span class="n">exclude</span><span class="o">=</span><span class="n">exclude</span><span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">leaves</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">target</span><span class="p">:</span> <span class="n">TokenCategory</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Set</span><span class="p">[</span><span class="n">TokenCategory</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the leaves of the subtree of the target category.</span>

<span class="sd">        Args:</span>
<span class="sd">            target (TokenCategory): The target category.</span>

<span class="sd">        Returns (List[TokenCategory]): The list of leaf categories of the target category.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">TokenCategoryHierarchyMapper</span><span class="o">.</span><span class="n">leaves</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">target</span><span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">nodes</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">target</span><span class="p">:</span> <span class="n">TokenCategory</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Set</span><span class="p">[</span><span class="n">TokenCategory</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the nodes of the subtree of the target category.</span>

<span class="sd">        Args:</span>
<span class="sd">            target (TokenCategory): The target category.</span>

<span class="sd">        Returns (List[TokenCategory]): The list of node categories of the target category.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">TokenCategoryHierarchyMapper</span><span class="o">.</span><span class="n">nodes</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="n">target</span><span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">match</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span>
              <span class="n">target</span><span class="p">:</span> <span class="n">TokenCategory</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span>
              <span class="n">include</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Set</span><span class="p">[</span><span class="n">TokenCategory</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
              <span class="n">exclude</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Set</span><span class="p">[</span><span class="n">TokenCategory</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Check if the target category matches the include and exclude sets.</span>

<span class="sd">        Args:</span>
<span class="sd">            target (TokenCategory): The target category.</span>
<span class="sd">            include (Optional[Set[TokenCategory]]): The set of categories to include. Defaults to None. \</span>
<span class="sd">                If None, all categories are included.</span>
<span class="sd">            exclude (Optional[Set[TokenCategory]]): The set of categories to exclude. Defaults to None. \</span>
<span class="sd">                If None, no categories are excluded.</span>

<span class="sd">        Returns (bool): True if the target category matches the include and exclude sets, False otherwise.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">TokenCategoryHierarchyMapper</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">category</span><span class="o">=</span><span class="n">target</span><span class="p">,</span> <span class="n">include</span><span class="o">=</span><span class="n">include</span><span class="p">,</span> <span class="n">exclude</span><span class="o">=</span><span class="n">exclude</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the string representation of the category.</span>

<span class="sd">        Returns (str): The string representation of the category.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="kernpy.TokenCategory.__lt__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__lt__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Compare two TokenCategory.
Args:
    other (TokenCategory): The other category to compare.</p>
<p>Returns (bool): True if this category is lower than the other, False otherwise.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">TokenCategory</span><span class="o">.</span><span class="n">STRUCTURAL</span> <span class="o">&lt;</span> <span class="n">TokenCategory</span><span class="o">.</span><span class="n">CORE</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TokenCategory</span><span class="o">.</span><span class="n">STRUCTURAL</span> <span class="o">&lt;</span> <span class="n">TokenCategory</span><span class="o">.</span><span class="n">STRUCTURAL</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TokenCategory</span><span class="o">.</span><span class="n">CORE</span> <span class="o">&lt;</span> <span class="n">TokenCategory</span><span class="o">.</span><span class="n">STRUCTURAL</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">sorted</span><span class="p">([</span><span class="n">TokenCategory</span><span class="o">.</span><span class="n">STRUCTURAL</span><span class="p">,</span> <span class="n">TokenCategory</span><span class="o">.</span><span class="n">CORE</span><span class="p">])</span>
<span class="go">[TokenCategory.STRUCTURAL, TokenCategory.CORE]</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__lt__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Compare two TokenCategory.</span>
<span class="sd">    Args:</span>
<span class="sd">        other (TokenCategory): The other category to compare.</span>

<span class="sd">    Returns (bool): True if this category is lower than the other, False otherwise.</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; TokenCategory.STRUCTURAL &lt; TokenCategory.CORE</span>
<span class="sd">        True</span>
<span class="sd">        &gt;&gt;&gt; TokenCategory.STRUCTURAL &lt; TokenCategory.STRUCTURAL</span>
<span class="sd">        False</span>
<span class="sd">        &gt;&gt;&gt; TokenCategory.CORE &lt; TokenCategory.STRUCTURAL</span>
<span class="sd">        False</span>
<span class="sd">        &gt;&gt;&gt; sorted([TokenCategory.STRUCTURAL, TokenCategory.CORE])</span>
<span class="sd">        [TokenCategory.STRUCTURAL, TokenCategory.CORE]</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">TokenCategory</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">value</span> <span class="o">&lt;</span> <span class="n">other</span><span class="o">.</span><span class="n">value</span>
    <span class="k">return</span> <span class="bp">NotImplemented</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.TokenCategory.__str__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__str__</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Get the string representation of the category.</p>
<p>Returns (str): The string representation of the category.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get the string representation of the category.</span>

<span class="sd">    Returns (str): The string representation of the category.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.TokenCategory.children" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">children</span><span class="p">(</span><span class="n">target</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>Get the children of the target category.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>target</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.tokens.TokenCategory" href="#kernpy.core.TokenCategory">TokenCategory</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The target category.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns (List[TokenCategory]): The list of child categories of the target category.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">children</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">target</span><span class="p">:</span> <span class="n">TokenCategory</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Set</span><span class="p">[</span><span class="n">TokenCategory</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get the children of the target category.</span>

<span class="sd">    Args:</span>
<span class="sd">        target (TokenCategory): The target category.</span>

<span class="sd">    Returns (List[TokenCategory]): The list of child categories of the target category.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">TokenCategoryHierarchyMapper</span><span class="o">.</span><span class="n">children</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="n">target</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.TokenCategory.is_child" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">is_child</span><span class="p">(</span><span class="o">*</span><span class="p">,</span> <span class="n">child</span><span class="p">,</span> <span class="n">parent</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>Check if the child category is a child of the parent category.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>child</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.tokens.TokenCategory" href="#kernpy.core.TokenCategory">TokenCategory</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The child category.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>parent</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.tokens.TokenCategory" href="#kernpy.core.TokenCategory">TokenCategory</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The parent category.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns (bool): True if the child category is a child of the parent category, False otherwise.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">is_child</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">child</span><span class="p">:</span> <span class="n">TokenCategory</span><span class="p">,</span> <span class="n">parent</span><span class="p">:</span> <span class="n">TokenCategory</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Check if the child category is a child of the parent category.</span>

<span class="sd">    Args:</span>
<span class="sd">        child (TokenCategory): The child category.</span>
<span class="sd">        parent (TokenCategory): The parent category.</span>

<span class="sd">    Returns (bool): True if the child category is a child of the parent category, False otherwise.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">TokenCategoryHierarchyMapper</span><span class="o">.</span><span class="n">is_child</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="n">parent</span><span class="p">,</span> <span class="n">child</span><span class="o">=</span><span class="n">child</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.TokenCategory.leaves" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">leaves</span><span class="p">(</span><span class="n">target</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>Get the leaves of the subtree of the target category.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>target</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.tokens.TokenCategory" href="#kernpy.core.TokenCategory">TokenCategory</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The target category.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns (List[TokenCategory]): The list of leaf categories of the target category.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">leaves</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">target</span><span class="p">:</span> <span class="n">TokenCategory</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Set</span><span class="p">[</span><span class="n">TokenCategory</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get the leaves of the subtree of the target category.</span>

<span class="sd">    Args:</span>
<span class="sd">        target (TokenCategory): The target category.</span>

<span class="sd">    Returns (List[TokenCategory]): The list of leaf categories of the target category.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">TokenCategoryHierarchyMapper</span><span class="o">.</span><span class="n">leaves</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">target</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.TokenCategory.match" class="doc doc-heading">
            <code class="highlight language-python"><span class="k">match</span><span class="p">(</span><span class="n">target</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">include</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">exclude</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>Check if the target category matches the include and exclude sets.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>target</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.tokens.TokenCategory" href="#kernpy.core.TokenCategory">TokenCategory</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The target category.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>include</code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="typing.Set">Set</span>[<a class="autorefs autorefs-internal" title="kernpy.core.tokens.TokenCategory" href="#kernpy.core.TokenCategory">TokenCategory</a>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The set of categories to include. Defaults to None.                 If None, all categories are included.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>exclude</code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="typing.Set">Set</span>[<a class="autorefs autorefs-internal" title="kernpy.core.tokens.TokenCategory" href="#kernpy.core.TokenCategory">TokenCategory</a>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The set of categories to exclude. Defaults to None.                 If None, no categories are excluded.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns (bool): True if the target category matches the include and exclude sets, False otherwise.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">match</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span>
          <span class="n">target</span><span class="p">:</span> <span class="n">TokenCategory</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span>
          <span class="n">include</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Set</span><span class="p">[</span><span class="n">TokenCategory</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
          <span class="n">exclude</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Set</span><span class="p">[</span><span class="n">TokenCategory</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Check if the target category matches the include and exclude sets.</span>

<span class="sd">    Args:</span>
<span class="sd">        target (TokenCategory): The target category.</span>
<span class="sd">        include (Optional[Set[TokenCategory]]): The set of categories to include. Defaults to None. \</span>
<span class="sd">            If None, all categories are included.</span>
<span class="sd">        exclude (Optional[Set[TokenCategory]]): The set of categories to exclude. Defaults to None. \</span>
<span class="sd">            If None, no categories are excluded.</span>

<span class="sd">    Returns (bool): True if the target category matches the include and exclude sets, False otherwise.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">TokenCategoryHierarchyMapper</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">category</span><span class="o">=</span><span class="n">target</span><span class="p">,</span> <span class="n">include</span><span class="o">=</span><span class="n">include</span><span class="p">,</span> <span class="n">exclude</span><span class="o">=</span><span class="n">exclude</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.TokenCategory.nodes" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">nodes</span><span class="p">(</span><span class="n">target</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>Get the nodes of the subtree of the target category.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>target</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.tokens.TokenCategory" href="#kernpy.core.TokenCategory">TokenCategory</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The target category.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns (List[TokenCategory]): The list of node categories of the target category.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">nodes</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">target</span><span class="p">:</span> <span class="n">TokenCategory</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Set</span><span class="p">[</span><span class="n">TokenCategory</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get the nodes of the subtree of the target category.</span>

<span class="sd">    Args:</span>
<span class="sd">        target (TokenCategory): The target category.</span>

<span class="sd">    Returns (List[TokenCategory]): The list of node categories of the target category.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">TokenCategoryHierarchyMapper</span><span class="o">.</span><span class="n">nodes</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="n">target</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.TokenCategory.tree" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">tree</span><span class="p">()</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>Return a string representation of the category hierarchy
Returns (str): The string representation of the category hierarchy</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">kernpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">kp</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">kp</span><span class="o">.</span><span class="n">TokenCategory</span><span class="o">.</span><span class="n">tree</span><span class="p">())</span>
<span class="go">.</span>
<span class="go">├── TokenCategory.STRUCTURAL</span>
<span class="go">├── TokenCategory.CORE</span>
<span class="go">│   ├── TokenCategory.NOTE_REST</span>
<span class="go">│   │   ├── TokenCategory.DURATION</span>
<span class="go">│   │   ├── TokenCategory.NOTE</span>
<span class="go">│   │   │   ├── TokenCategory.PITCH</span>
<span class="go">│   │   │   └── TokenCategory.DECORATION</span>
<span class="go">│   │   └── TokenCategory.REST</span>
<span class="go">│   ├── TokenCategory.CHORD</span>
<span class="go">│   └── TokenCategory.EMPTY</span>
<span class="go">├── TokenCategory.SIGNATURES</span>
<span class="go">│   ├── TokenCategory.CLEF</span>
<span class="go">│   ├── TokenCategory.TIME_SIGNATURE</span>
<span class="go">│   ├── TokenCategory.METER_SYMBOL</span>
<span class="go">│   └── TokenCategory.KEY_SIGNATURE</span>
<span class="go">├── TokenCategory.ENGRAVED_SYMBOLS</span>
<span class="go">├── TokenCategory.OTHER_CONTEXTUAL</span>
<span class="go">├── TokenCategory.BARLINES</span>
<span class="go">├── TokenCategory.COMMENTS</span>
<span class="go">│   ├── TokenCategory.FIELD_COMMENTS</span>
<span class="go">│   └── TokenCategory.LINE_COMMENTS</span>
<span class="go">├── TokenCategory.DYNAMICS</span>
<span class="go">├── TokenCategory.HARMONY</span>
<span class="go">├── TokenCategory.FINGERING</span>
<span class="go">├── TokenCategory.LYRICS</span>
<span class="go">├── TokenCategory.INSTRUMENTS</span>
<span class="go">├── TokenCategory.BOUNDING_BOXES</span>
<span class="go">└── TokenCategory.OTHER</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">tree</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return a string representation of the category hierarchy</span>
<span class="sd">    Returns (str): The string representation of the category hierarchy</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; import kernpy as kp</span>
<span class="sd">        &gt;&gt;&gt; print(kp.TokenCategory.tree())</span>
<span class="sd">        .</span>
<span class="sd">        ├── TokenCategory.STRUCTURAL</span>
<span class="sd">        ├── TokenCategory.CORE</span>
<span class="sd">        │   ├── TokenCategory.NOTE_REST</span>
<span class="sd">        │   │   ├── TokenCategory.DURATION</span>
<span class="sd">        │   │   ├── TokenCategory.NOTE</span>
<span class="sd">        │   │   │   ├── TokenCategory.PITCH</span>
<span class="sd">        │   │   │   └── TokenCategory.DECORATION</span>
<span class="sd">        │   │   └── TokenCategory.REST</span>
<span class="sd">        │   ├── TokenCategory.CHORD</span>
<span class="sd">        │   └── TokenCategory.EMPTY</span>
<span class="sd">        ├── TokenCategory.SIGNATURES</span>
<span class="sd">        │   ├── TokenCategory.CLEF</span>
<span class="sd">        │   ├── TokenCategory.TIME_SIGNATURE</span>
<span class="sd">        │   ├── TokenCategory.METER_SYMBOL</span>
<span class="sd">        │   └── TokenCategory.KEY_SIGNATURE</span>
<span class="sd">        ├── TokenCategory.ENGRAVED_SYMBOLS</span>
<span class="sd">        ├── TokenCategory.OTHER_CONTEXTUAL</span>
<span class="sd">        ├── TokenCategory.BARLINES</span>
<span class="sd">        ├── TokenCategory.COMMENTS</span>
<span class="sd">        │   ├── TokenCategory.FIELD_COMMENTS</span>
<span class="sd">        │   └── TokenCategory.LINE_COMMENTS</span>
<span class="sd">        ├── TokenCategory.DYNAMICS</span>
<span class="sd">        ├── TokenCategory.HARMONY</span>
<span class="sd">        ├── TokenCategory.FINGERING</span>
<span class="sd">        ├── TokenCategory.LYRICS</span>
<span class="sd">        ├── TokenCategory.INSTRUMENTS</span>
<span class="sd">        ├── TokenCategory.BOUNDING_BOXES</span>
<span class="sd">        └── TokenCategory.OTHER</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">TokenCategoryHierarchyMapper</span><span class="o">.</span><span class="n">tree</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.TokenCategory.valid" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">valid</span><span class="p">(</span><span class="o">*</span><span class="p">,</span> <span class="n">include</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">exclude</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>Get the valid categories based on the include and exclude sets.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>include</code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="typing.Set">Set</span>[<a class="autorefs autorefs-internal" title="kernpy.core.tokens.TokenCategory" href="#kernpy.core.TokenCategory">TokenCategory</a>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The set of categories to include. Defaults to None.                 If None, all categories are included.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>exclude</code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="typing.Set">Set</span>[<a class="autorefs autorefs-internal" title="kernpy.core.tokens.TokenCategory" href="#kernpy.core.TokenCategory">TokenCategory</a>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The set of categories to exclude. Defaults to None.                 If None, no categories are excluded.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns (Set[TokenCategory]): The list of valid categories based on the include and exclude sets.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">valid</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">include</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Set</span><span class="p">[</span><span class="n">TokenCategory</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">exclude</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Set</span><span class="p">[</span><span class="n">TokenCategory</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Set</span><span class="p">[</span><span class="n">TokenCategory</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get the valid categories based on the include and exclude sets.</span>

<span class="sd">    Args:</span>
<span class="sd">        include (Optional[Set[TokenCategory]]): The set of categories to include. Defaults to None. \</span>
<span class="sd">            If None, all categories are included.</span>
<span class="sd">        exclude (Optional[Set[TokenCategory]]): The set of categories to exclude. Defaults to None. \</span>
<span class="sd">            If None, no categories are excluded.</span>

<span class="sd">    Returns (Set[TokenCategory]): The list of valid categories based on the include and exclude sets.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">TokenCategoryHierarchyMapper</span><span class="o">.</span><span class="n">valid</span><span class="p">(</span><span class="n">include</span><span class="o">=</span><span class="n">include</span><span class="p">,</span> <span class="n">exclude</span><span class="o">=</span><span class="n">exclude</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="kernpy.TokenCategoryHierarchyMapper" class="doc doc-heading">
            <code>TokenCategoryHierarchyMapper</code>


</h2>


    <div class="doc doc-contents ">


        <p>Mapping of the TokenCategory hierarchy.</p>
<p>This class is used to define the hierarchy of the TokenCategory. Useful related methods are provided.</p>

              <details class="quote">
                <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span>
<span class="normal">475</span>
<span class="normal">476</span>
<span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span>
<span class="normal">485</span>
<span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span>
<span class="normal">489</span>
<span class="normal">490</span>
<span class="normal">491</span>
<span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span>
<span class="normal">496</span>
<span class="normal">497</span>
<span class="normal">498</span>
<span class="normal">499</span>
<span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span>
<span class="normal">507</span>
<span class="normal">508</span>
<span class="normal">509</span>
<span class="normal">510</span>
<span class="normal">511</span>
<span class="normal">512</span>
<span class="normal">513</span>
<span class="normal">514</span>
<span class="normal">515</span>
<span class="normal">516</span>
<span class="normal">517</span>
<span class="normal">518</span>
<span class="normal">519</span>
<span class="normal">520</span>
<span class="normal">521</span>
<span class="normal">522</span>
<span class="normal">523</span>
<span class="normal">524</span>
<span class="normal">525</span>
<span class="normal">526</span>
<span class="normal">527</span>
<span class="normal">528</span>
<span class="normal">529</span>
<span class="normal">530</span>
<span class="normal">531</span>
<span class="normal">532</span>
<span class="normal">533</span>
<span class="normal">534</span>
<span class="normal">535</span>
<span class="normal">536</span>
<span class="normal">537</span>
<span class="normal">538</span>
<span class="normal">539</span>
<span class="normal">540</span>
<span class="normal">541</span>
<span class="normal">542</span>
<span class="normal">543</span>
<span class="normal">544</span>
<span class="normal">545</span>
<span class="normal">546</span>
<span class="normal">547</span>
<span class="normal">548</span>
<span class="normal">549</span>
<span class="normal">550</span>
<span class="normal">551</span>
<span class="normal">552</span>
<span class="normal">553</span>
<span class="normal">554</span>
<span class="normal">555</span>
<span class="normal">556</span>
<span class="normal">557</span>
<span class="normal">558</span>
<span class="normal">559</span>
<span class="normal">560</span>
<span class="normal">561</span>
<span class="normal">562</span>
<span class="normal">563</span>
<span class="normal">564</span>
<span class="normal">565</span>
<span class="normal">566</span>
<span class="normal">567</span>
<span class="normal">568</span>
<span class="normal">569</span>
<span class="normal">570</span>
<span class="normal">571</span>
<span class="normal">572</span>
<span class="normal">573</span>
<span class="normal">574</span>
<span class="normal">575</span>
<span class="normal">576</span>
<span class="normal">577</span>
<span class="normal">578</span>
<span class="normal">579</span>
<span class="normal">580</span>
<span class="normal">581</span>
<span class="normal">582</span>
<span class="normal">583</span>
<span class="normal">584</span>
<span class="normal">585</span>
<span class="normal">586</span>
<span class="normal">587</span>
<span class="normal">588</span>
<span class="normal">589</span>
<span class="normal">590</span>
<span class="normal">591</span>
<span class="normal">592</span>
<span class="normal">593</span>
<span class="normal">594</span>
<span class="normal">595</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">TokenCategoryHierarchyMapper</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Mapping of the TokenCategory hierarchy.</span>

<span class="sd">    This class is used to define the hierarchy of the TokenCategory. Useful related methods are provided.</span>
<span class="sd">    &quot;&quot;&quot;</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    The hierarchy of the TokenCategory is a recursive dictionary that defines the parent-child relationships \</span>
<span class="sd">        between the categories. It&#39;s a tree.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">_hierarchy_typing</span> <span class="o">=</span> <span class="n">Dict</span><span class="p">[</span><span class="n">TokenCategory</span><span class="p">,</span> <span class="s1">&#39;_hierarchy_typing&#39;</span><span class="p">]</span>
    <span class="n">hierarchy</span><span class="p">:</span> <span class="n">_hierarchy_typing</span> <span class="o">=</span> <span class="p">{</span>
        <span class="n">TokenCategory</span><span class="o">.</span><span class="n">STRUCTURAL</span><span class="p">:</span> <span class="p">{</span>
            <span class="n">TokenCategory</span><span class="o">.</span><span class="n">HEADER</span><span class="p">:</span> <span class="p">{},</span>  <span class="c1"># each leave must be an empty dictionary</span>
            <span class="n">TokenCategory</span><span class="o">.</span><span class="n">SPINE_OPERATION</span><span class="p">:</span> <span class="p">{},</span>
        <span class="p">},</span>
        <span class="n">TokenCategory</span><span class="o">.</span><span class="n">CORE</span><span class="p">:</span> <span class="p">{</span>
            <span class="n">TokenCategory</span><span class="o">.</span><span class="n">NOTE_REST</span><span class="p">:</span> <span class="p">{</span>
                <span class="n">TokenCategory</span><span class="o">.</span><span class="n">DURATION</span><span class="p">:</span> <span class="p">{},</span>
                <span class="n">TokenCategory</span><span class="o">.</span><span class="n">NOTE</span><span class="p">:</span> <span class="p">{</span>
                    <span class="n">TokenCategory</span><span class="o">.</span><span class="n">PITCH</span><span class="p">:</span> <span class="p">{},</span>
                    <span class="n">TokenCategory</span><span class="o">.</span><span class="n">DECORATION</span><span class="p">:</span> <span class="p">{},</span>
                    <span class="n">TokenCategory</span><span class="o">.</span><span class="n">ALTERATION</span><span class="p">:</span> <span class="p">{},</span>
                <span class="p">},</span>
                <span class="n">TokenCategory</span><span class="o">.</span><span class="n">REST</span><span class="p">:</span> <span class="p">{},</span>
            <span class="p">},</span>
            <span class="n">TokenCategory</span><span class="o">.</span><span class="n">CHORD</span><span class="p">:</span> <span class="p">{},</span>
            <span class="n">TokenCategory</span><span class="o">.</span><span class="n">EMPTY</span><span class="p">:</span> <span class="p">{},</span>
            <span class="n">TokenCategory</span><span class="o">.</span><span class="n">ERROR</span><span class="p">:</span> <span class="p">{},</span>
        <span class="p">},</span>
        <span class="n">TokenCategory</span><span class="o">.</span><span class="n">SIGNATURES</span><span class="p">:</span> <span class="p">{</span>
            <span class="n">TokenCategory</span><span class="o">.</span><span class="n">CLEF</span><span class="p">:</span> <span class="p">{},</span>
            <span class="n">TokenCategory</span><span class="o">.</span><span class="n">TIME_SIGNATURE</span><span class="p">:</span> <span class="p">{},</span>
            <span class="n">TokenCategory</span><span class="o">.</span><span class="n">METER_SYMBOL</span><span class="p">:</span> <span class="p">{},</span>
            <span class="n">TokenCategory</span><span class="o">.</span><span class="n">KEY_SIGNATURE</span><span class="p">:</span> <span class="p">{},</span>
            <span class="n">TokenCategory</span><span class="o">.</span><span class="n">KEY_TOKEN</span><span class="p">:</span> <span class="p">{},</span>
        <span class="p">},</span>
        <span class="n">TokenCategory</span><span class="o">.</span><span class="n">ENGRAVED_SYMBOLS</span><span class="p">:</span> <span class="p">{},</span>
        <span class="n">TokenCategory</span><span class="o">.</span><span class="n">OTHER_CONTEXTUAL</span><span class="p">:</span> <span class="p">{},</span>
        <span class="n">TokenCategory</span><span class="o">.</span><span class="n">BARLINES</span><span class="p">:</span> <span class="p">{},</span>
        <span class="n">TokenCategory</span><span class="o">.</span><span class="n">COMMENTS</span><span class="p">:</span> <span class="p">{</span>
            <span class="n">TokenCategory</span><span class="o">.</span><span class="n">FIELD_COMMENTS</span><span class="p">:</span> <span class="p">{},</span>
            <span class="n">TokenCategory</span><span class="o">.</span><span class="n">LINE_COMMENTS</span><span class="p">:</span> <span class="p">{},</span>
        <span class="p">},</span>
        <span class="n">TokenCategory</span><span class="o">.</span><span class="n">DYNAMICS</span><span class="p">:</span> <span class="p">{},</span>
        <span class="n">TokenCategory</span><span class="o">.</span><span class="n">HARMONY</span><span class="p">:</span> <span class="p">{},</span>
        <span class="n">TokenCategory</span><span class="o">.</span><span class="n">FINGERING</span><span class="p">:</span> <span class="p">{},</span>
        <span class="n">TokenCategory</span><span class="o">.</span><span class="n">LYRICS</span><span class="p">:</span> <span class="p">{},</span>
        <span class="n">TokenCategory</span><span class="o">.</span><span class="n">INSTRUMENTS</span><span class="p">:</span> <span class="p">{},</span>
        <span class="n">TokenCategory</span><span class="o">.</span><span class="n">IMAGE_ANNOTATIONS</span><span class="p">:</span> <span class="p">{</span>
            <span class="n">TokenCategory</span><span class="o">.</span><span class="n">BOUNDING_BOXES</span><span class="p">:</span> <span class="p">{},</span>
            <span class="n">TokenCategory</span><span class="o">.</span><span class="n">LINE_BREAK</span><span class="p">:</span> <span class="p">{},</span>
        <span class="p">},</span>
        <span class="n">TokenCategory</span><span class="o">.</span><span class="n">OTHER</span><span class="p">:</span> <span class="p">{},</span>
        <span class="n">TokenCategory</span><span class="o">.</span><span class="n">MHXM</span><span class="p">:</span> <span class="p">{},</span>
        <span class="n">TokenCategory</span><span class="o">.</span><span class="n">ROOT</span><span class="p">:</span> <span class="p">{},</span>
    <span class="p">}</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_is_child</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">parent</span><span class="p">:</span> <span class="n">TokenCategory</span><span class="p">,</span> <span class="n">child</span><span class="p">:</span> <span class="n">TokenCategory</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">tree</span><span class="p">:</span> <span class="s1">&#39;_hierarchy_typing&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Recursively check if `child` is in the subtree of `parent`.</span>

<span class="sd">        Args:</span>
<span class="sd">            parent (TokenCategory): The parent category.</span>
<span class="sd">            child (TokenCategory): The category to check.</span>
<span class="sd">            tree (_hierarchy_typing): The subtree to check.</span>

<span class="sd">        Returns:</span>
<span class="sd">            bool: True if `child` is a descendant of `parent`, False otherwise.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Base case: the parent is empty.</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">tree</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="c1"># Recursive case: explore the direct children of the parent.</span>
        <span class="k">return</span> <span class="nb">any</span><span class="p">(</span>
            <span class="n">direct_child</span> <span class="o">==</span> <span class="n">child</span> <span class="ow">or</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_is_child</span><span class="p">(</span><span class="n">direct_child</span><span class="p">,</span> <span class="n">child</span><span class="p">,</span> <span class="n">tree</span><span class="o">=</span><span class="n">tree</span><span class="p">[</span><span class="n">parent</span><span class="p">])</span>
            <span class="k">for</span> <span class="n">direct_child</span> <span class="ow">in</span> <span class="n">tree</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span> <span class="p">{})</span>
        <span class="p">)</span>
        <span class="c1"># Vectorized version of the following code:</span>
        <span class="c1">#direct_children = tree.get(parent, dict())</span>
        <span class="c1">#for direct_child in direct_children.keys():</span>
        <span class="c1">#    if direct_child == child or cls._is_child(direct_child, child, tree=tree[parent]):</span>
        <span class="c1">#        return True</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">is_child</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">parent</span><span class="p">:</span> <span class="n">TokenCategory</span><span class="p">,</span> <span class="n">child</span><span class="p">:</span> <span class="n">TokenCategory</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Recursively check if `child` is in the subtree of `parent`. If `parent` is the same as `child`, return True.</span>

<span class="sd">        Args:</span>
<span class="sd">            parent (TokenCategory): The parent category.</span>
<span class="sd">            child (TokenCategory): The category to check.</span>

<span class="sd">        Returns:</span>
<span class="sd">            bool: True if `child` is a descendant of `parent`, False otherwise.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">parent</span> <span class="o">==</span> <span class="n">child</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">True</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_is_child</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span> <span class="n">child</span><span class="p">,</span> <span class="n">tree</span><span class="o">=</span><span class="bp">cls</span><span class="o">.</span><span class="n">hierarchy</span><span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">children</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">parent</span><span class="p">:</span> <span class="n">TokenCategory</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Set</span><span class="p">[</span><span class="n">TokenCategory</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the direct children of the parent category.</span>

<span class="sd">        Args:</span>
<span class="sd">            parent (TokenCategory): The parent category.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Set[TokenCategory]: The list of children categories of the parent category.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">set</span><span class="p">(</span><span class="bp">cls</span><span class="o">.</span><span class="n">hierarchy</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span> <span class="p">{})</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_nodes</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">tree</span><span class="p">:</span> <span class="n">_hierarchy_typing</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Set</span><span class="p">[</span><span class="n">TokenCategory</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Recursively get all nodes in the given hierarchy tree.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">nodes</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">tree</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
        <span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="n">tree</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="n">nodes</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="bp">cls</span><span class="o">.</span><span class="n">_nodes</span><span class="p">(</span><span class="n">child</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">nodes</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_find_subtree</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">tree</span><span class="p">:</span> <span class="s1">&#39;_hierarchy_typing&#39;</span><span class="p">,</span> <span class="n">parent</span><span class="p">:</span> <span class="n">TokenCategory</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="s1">&#39;_hierarchy_typing&#39;</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Recursively find the subtree for the given parent category.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">parent</span> <span class="ow">in</span> <span class="n">tree</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">tree</span><span class="p">[</span><span class="n">parent</span><span class="p">]</span>  <span class="c1"># Return subtree if parent is found at this level</span>
        <span class="k">for</span> <span class="n">child</span><span class="p">,</span> <span class="n">sub_tree</span> <span class="ow">in</span> <span class="n">tree</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">result</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_find_subtree</span><span class="p">(</span><span class="n">sub_tree</span><span class="p">,</span> <span class="n">parent</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">result</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">result</span>
        <span class="k">return</span> <span class="kc">None</span>  <span class="c1"># Return None if parent is not found. It won&#39;t happer never</span>


    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">nodes</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">parent</span><span class="p">:</span> <span class="n">TokenCategory</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Set</span><span class="p">[</span><span class="n">TokenCategory</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the all nodes of the subtree of the parent category.</span>

<span class="sd">        Args:</span>
<span class="sd">            parent (TokenCategory): The parent category.</span>

<span class="sd">        Returns:</span>
<span class="sd">            List[TokenCategory]: The list of nodes of the subtree of the parent category.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">subtree</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_find_subtree</span><span class="p">(</span><span class="bp">cls</span><span class="o">.</span><span class="n">hierarchy</span><span class="p">,</span> <span class="n">parent</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_nodes</span><span class="p">(</span><span class="n">subtree</span><span class="p">)</span> <span class="k">if</span> <span class="n">subtree</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="nb">set</span><span class="p">()</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">valid</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span>
              <span class="n">include</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Set</span><span class="p">[</span><span class="n">TokenCategory</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
              <span class="n">exclude</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Set</span><span class="p">[</span><span class="n">TokenCategory</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Set</span><span class="p">[</span><span class="n">TokenCategory</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the valid categories based on the include and exclude sets.</span>

<span class="sd">        Args:</span>
<span class="sd">            include (Optional[Set[TokenCategory]]): The set of categories to include. Defaults to None. \</span>
<span class="sd">                If None, all categories are included.</span>
<span class="sd">            exclude (Optional[Set[TokenCategory]]): The set of categories to exclude. Defaults to None. \</span>
<span class="sd">                If None, no categories are excluded.</span>

<span class="sd">        Returns (Set[TokenCategory]): The list of valid categories based on the include and exclude sets.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">include</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_validate_include</span><span class="p">(</span><span class="n">include</span><span class="p">)</span>
        <span class="n">exclude</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_validate_exclude</span><span class="p">(</span><span class="n">exclude</span><span class="p">)</span>

        <span class="n">included_nodes</span> <span class="o">=</span> <span class="nb">set</span><span class="o">.</span><span class="n">union</span><span class="p">(</span><span class="o">*</span><span class="p">[(</span><span class="bp">cls</span><span class="o">.</span><span class="n">nodes</span><span class="p">(</span><span class="n">cat</span><span class="p">)</span> <span class="o">|</span> <span class="p">{</span><span class="n">cat</span><span class="p">})</span> <span class="k">for</span> <span class="n">cat</span> <span class="ow">in</span> <span class="n">include</span><span class="p">])</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">include</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="k">else</span> <span class="n">include</span>
        <span class="n">excluded_nodes</span> <span class="o">=</span> <span class="nb">set</span><span class="o">.</span><span class="n">union</span><span class="p">(</span><span class="o">*</span><span class="p">[(</span><span class="bp">cls</span><span class="o">.</span><span class="n">nodes</span><span class="p">(</span><span class="n">cat</span><span class="p">)</span> <span class="o">|</span> <span class="p">{</span><span class="n">cat</span><span class="p">})</span> <span class="k">for</span> <span class="n">cat</span> <span class="ow">in</span> <span class="n">exclude</span><span class="p">])</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">exclude</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="k">else</span> <span class="n">exclude</span>
        <span class="k">return</span> <span class="n">included_nodes</span> <span class="o">-</span> <span class="n">excluded_nodes</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_leaves</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">tree</span><span class="p">:</span> <span class="s1">&#39;_hierarchy_typing&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Set</span><span class="p">[</span><span class="n">TokenCategory</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Recursively get all leaves (nodes without children) in the hierarchy tree.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">tree</span><span class="p">:</span>
            <span class="k">return</span> <span class="nb">set</span><span class="p">()</span>
        <span class="n">leaves</span> <span class="o">=</span> <span class="p">{</span><span class="n">node</span> <span class="k">for</span> <span class="n">node</span><span class="p">,</span> <span class="n">children</span> <span class="ow">in</span> <span class="n">tree</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">children</span><span class="p">}</span>
        <span class="k">for</span> <span class="n">node</span><span class="p">,</span> <span class="n">children</span> <span class="ow">in</span> <span class="n">tree</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">leaves</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="bp">cls</span><span class="o">.</span><span class="n">_leaves</span><span class="p">(</span><span class="n">children</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">leaves</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">leaves</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">target</span><span class="p">:</span> <span class="n">TokenCategory</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Set</span><span class="p">[</span><span class="n">TokenCategory</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the leaves of the subtree of the target category.</span>

<span class="sd">        Args:</span>
<span class="sd">            target (TokenCategory): The target category.</span>

<span class="sd">        Returns (List[TokenCategory]): The list of leaf categories of the target category.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">tree</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_find_subtree</span><span class="p">(</span><span class="bp">cls</span><span class="o">.</span><span class="n">hierarchy</span><span class="p">,</span> <span class="n">target</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_leaves</span><span class="p">(</span><span class="n">tree</span><span class="p">)</span>


    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_match</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">category</span><span class="p">:</span> <span class="n">TokenCategory</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span>
               <span class="n">include</span><span class="p">:</span> <span class="n">Set</span><span class="p">[</span><span class="n">TokenCategory</span><span class="p">],</span>
               <span class="n">exclude</span><span class="p">:</span> <span class="n">Set</span><span class="p">[</span><span class="n">TokenCategory</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Check if a category matches include/exclude criteria.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Include the category itself along with its descendants.</span>
        <span class="n">target_nodes</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">nodes</span><span class="p">(</span><span class="n">category</span><span class="p">)</span> <span class="o">|</span> <span class="p">{</span><span class="n">category</span><span class="p">}</span>

        <span class="n">valid_categories</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">valid</span><span class="p">(</span><span class="n">include</span><span class="o">=</span><span class="n">include</span><span class="p">,</span> <span class="n">exclude</span><span class="o">=</span><span class="n">exclude</span><span class="p">)</span>

        <span class="c1"># Check if any node in the target set is in the valid categories.</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="n">target_nodes</span> <span class="o">&amp;</span> <span class="n">valid_categories</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_validate_include</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">include</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Set</span><span class="p">[</span><span class="n">TokenCategory</span><span class="p">]])</span> <span class="o">-&gt;</span> <span class="n">Set</span><span class="p">[</span><span class="n">TokenCategory</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Validate the include set.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">include</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">include</span><span class="p">,</span> <span class="p">(</span><span class="nb">list</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">)):</span>
            <span class="n">include</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">include</span><span class="p">)</span>
        <span class="k">elif</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">include</span><span class="p">,</span> <span class="nb">set</span><span class="p">):</span>
            <span class="n">include</span> <span class="o">=</span> <span class="p">{</span><span class="n">include</span><span class="p">}</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">all</span><span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">cat</span><span class="p">,</span> <span class="n">TokenCategory</span><span class="p">)</span> <span class="k">for</span> <span class="n">cat</span> <span class="ow">in</span> <span class="n">include</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;Invalid category: include and exclude must be a set of TokenCategory.&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">include</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_validate_exclude</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">exclude</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Set</span><span class="p">[</span><span class="n">TokenCategory</span><span class="p">]])</span> <span class="o">-&gt;</span> <span class="n">Set</span><span class="p">[</span><span class="n">TokenCategory</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Validate the exclude set.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">exclude</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="nb">set</span><span class="p">()</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">exclude</span><span class="p">,</span> <span class="p">(</span><span class="nb">list</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">)):</span>
            <span class="n">exclude</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">exclude</span><span class="p">)</span>
        <span class="k">elif</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">exclude</span><span class="p">,</span> <span class="nb">set</span><span class="p">):</span>
            <span class="n">exclude</span> <span class="o">=</span> <span class="p">{</span><span class="n">exclude</span><span class="p">}</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">all</span><span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">cat</span><span class="p">,</span> <span class="n">TokenCategory</span><span class="p">)</span> <span class="k">for</span> <span class="n">cat</span> <span class="ow">in</span> <span class="n">exclude</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Invalid category: category must be a </span><span class="si">{</span><span class="n">TokenCategory</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">.&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">exclude</span>


    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">match</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">category</span><span class="p">:</span> <span class="n">TokenCategory</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span>
              <span class="n">include</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Set</span><span class="p">[</span><span class="n">TokenCategory</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
              <span class="n">exclude</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Set</span><span class="p">[</span><span class="n">TokenCategory</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Check if the category matches the include and exclude sets.</span>
<span class="sd">            If include is None, all categories are included. \</span>
<span class="sd">            If exclude is None, no categories are excluded.</span>

<span class="sd">        Args:</span>
<span class="sd">            category (TokenCategory): The category to check.</span>
<span class="sd">            include (Optional[Set[TokenCategory]]): The set of categories to include. Defaults to None. \</span>
<span class="sd">                If None, all categories are included.</span>
<span class="sd">            exclude (Optional[Set[TokenCategory]]): The set of categories to exclude. Defaults to None. \</span>
<span class="sd">                If None, no categories are excluded.</span>

<span class="sd">        Returns (bool): True if the category matches the include and exclude sets, False otherwise.</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; TokenCategoryHierarchyMapper.match(TokenCategory.NOTE, include={TokenCategory.NOTE_REST})</span>
<span class="sd">            True</span>
<span class="sd">            &gt;&gt;&gt; TokenCategoryHierarchyMapper.match(TokenCategory.NOTE, include={TokenCategory.NOTE_REST}, exclude={TokenCategory.REST})</span>
<span class="sd">            True</span>
<span class="sd">            &gt;&gt;&gt; TokenCategoryHierarchyMapper.match(TokenCategory.NOTE, include={TokenCategory.NOTE_REST}, exclude={TokenCategory.NOTE})</span>
<span class="sd">            False</span>
<span class="sd">            &gt;&gt;&gt; TokenCategoryHierarchyMapper.match(TokenCategory.NOTE, include={TokenCategory.CORE}, exclude={TokenCategory.DURATION})</span>
<span class="sd">            True</span>
<span class="sd">            &gt;&gt;&gt; TokenCategoryHierarchyMapper.match(TokenCategory.DURATION, include={TokenCategory.CORE}, exclude={TokenCategory.DURATION})</span>
<span class="sd">            False</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">include</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_validate_include</span><span class="p">(</span><span class="n">include</span><span class="p">)</span>
        <span class="n">exclude</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_validate_exclude</span><span class="p">(</span><span class="n">exclude</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_match</span><span class="p">(</span><span class="n">category</span><span class="p">,</span> <span class="n">include</span><span class="o">=</span><span class="n">include</span><span class="p">,</span> <span class="n">exclude</span><span class="o">=</span><span class="n">exclude</span><span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">all</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Set</span><span class="p">[</span><span class="n">TokenCategory</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get all categories in the hierarchy.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Set[TokenCategory]: The set of all categories in the hierarchy.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_nodes</span><span class="p">(</span><span class="bp">cls</span><span class="o">.</span><span class="n">hierarchy</span><span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">tree</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return a string representation of the category hierarchy,</span>
<span class="sd">        formatted similar to the output of the Unix &#39;tree&#39; command.</span>

<span class="sd">        Example output:</span>
<span class="sd">            .</span>
<span class="sd">            ├── STRUCTURAL</span>
<span class="sd">            ├── CORE</span>
<span class="sd">            │   ├── NOTE_REST</span>
<span class="sd">            │   │   ├── DURATION</span>
<span class="sd">            │   │   ├── NOTE</span>
<span class="sd">            │   │   │   ├── PITCH</span>
<span class="sd">            │   │   │   └── DECORATION</span>
<span class="sd">            │   │   └── REST</span>
<span class="sd">            │   ├── CHORD</span>
<span class="sd">            │   └── EMPTY</span>
<span class="sd">            ├── SIGNATURES</span>
<span class="sd">            │   ├── CLEF</span>
<span class="sd">            │   ├── TIME_SIGNATURE</span>
<span class="sd">            │   ├── METER_SYMBOL</span>
<span class="sd">            │   └── KEY_SIGNATURE</span>
<span class="sd">            ├── ENGRAVED_SYMBOLS</span>
<span class="sd">            ├── OTHER_CONTEXTUAL</span>
<span class="sd">            ├── BARLINES</span>
<span class="sd">            ├── COMMENTS</span>
<span class="sd">            │   ├── FIELD_COMMENTS</span>
<span class="sd">            │   └── LINE_COMMENTS</span>
<span class="sd">            ├── DYNAMICS</span>
<span class="sd">            ├── HARMONY</span>
<span class="sd">            ...</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">def</span><span class="w"> </span><span class="nf">build_tree</span><span class="p">(</span><span class="n">tree</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="n">TokenCategory</span><span class="p">,</span> <span class="s1">&#39;_hierarchy_typing&#39;</span><span class="p">],</span> <span class="n">prefix</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
            <span class="n">lines_buffer</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="n">items</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">tree</span><span class="o">.</span><span class="n">items</span><span class="p">())</span>
            <span class="n">count</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">items</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="p">(</span><span class="n">category</span><span class="p">,</span> <span class="n">subtree</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">items</span><span class="p">):</span>
                <span class="n">connector</span> <span class="o">=</span> <span class="s2">&quot;└── &quot;</span> <span class="k">if</span> <span class="n">index</span> <span class="o">==</span> <span class="n">count</span> <span class="o">-</span> <span class="mi">1</span> <span class="k">else</span> <span class="s2">&quot;├── &quot;</span>
                <span class="n">lines_buffer</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">prefix</span> <span class="o">+</span> <span class="n">connector</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">category</span><span class="p">))</span>
                <span class="n">extension</span> <span class="o">=</span> <span class="s2">&quot;    &quot;</span> <span class="k">if</span> <span class="n">index</span> <span class="o">==</span> <span class="n">count</span> <span class="o">-</span> <span class="mi">1</span> <span class="k">else</span> <span class="s2">&quot;│   &quot;</span>
                <span class="n">lines_buffer</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">build_tree</span><span class="p">(</span><span class="n">subtree</span><span class="p">,</span> <span class="n">prefix</span> <span class="o">+</span> <span class="n">extension</span><span class="p">))</span>
            <span class="k">return</span> <span class="n">lines_buffer</span>

        <span class="n">lines</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;.&quot;</span><span class="p">]</span>
        <span class="n">lines</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">build_tree</span><span class="p">(</span><span class="bp">cls</span><span class="o">.</span><span class="n">hierarchy</span><span class="p">))</span>
        <span class="k">return</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">lines</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="kernpy.TokenCategoryHierarchyMapper.all" class="doc doc-heading">
            <code class="highlight language-python"><span class="nb">all</span><span class="p">()</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>Get all categories in the hierarchy.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Set">Set</span>[<a class="autorefs autorefs-internal" title="kernpy.core.tokens.TokenCategory" href="#kernpy.core.TokenCategory">TokenCategory</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Set[TokenCategory]: The set of all categories in the hierarchy.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">539</span>
<span class="normal">540</span>
<span class="normal">541</span>
<span class="normal">542</span>
<span class="normal">543</span>
<span class="normal">544</span>
<span class="normal">545</span>
<span class="normal">546</span>
<span class="normal">547</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">all</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Set</span><span class="p">[</span><span class="n">TokenCategory</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get all categories in the hierarchy.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Set[TokenCategory]: The set of all categories in the hierarchy.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_nodes</span><span class="p">(</span><span class="bp">cls</span><span class="o">.</span><span class="n">hierarchy</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.TokenCategoryHierarchyMapper.children" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">children</span><span class="p">(</span><span class="n">parent</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>Get the direct children of the parent category.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>parent</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.tokens.TokenCategory" href="#kernpy.core.TokenCategory">TokenCategory</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The parent category.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Set">Set</span>[<a class="autorefs autorefs-internal" title="kernpy.core.tokens.TokenCategory" href="#kernpy.core.TokenCategory">TokenCategory</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Set[TokenCategory]: The list of children categories of the parent category.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">children</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">parent</span><span class="p">:</span> <span class="n">TokenCategory</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Set</span><span class="p">[</span><span class="n">TokenCategory</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get the direct children of the parent category.</span>

<span class="sd">    Args:</span>
<span class="sd">        parent (TokenCategory): The parent category.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Set[TokenCategory]: The list of children categories of the parent category.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="nb">set</span><span class="p">(</span><span class="bp">cls</span><span class="o">.</span><span class="n">hierarchy</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span> <span class="p">{})</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.TokenCategoryHierarchyMapper.is_child" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">is_child</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span> <span class="n">child</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>Recursively check if <code>child</code> is in the subtree of <code>parent</code>. If <code>parent</code> is the same as <code>child</code>, return True.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>parent</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.tokens.TokenCategory" href="#kernpy.core.TokenCategory">TokenCategory</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The parent category.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>child</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.tokens.TokenCategory" href="#kernpy.core.TokenCategory">TokenCategory</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The category to check.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>bool</code></td>            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if <code>child</code> is a descendant of <code>parent</code>, False otherwise.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">is_child</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">parent</span><span class="p">:</span> <span class="n">TokenCategory</span><span class="p">,</span> <span class="n">child</span><span class="p">:</span> <span class="n">TokenCategory</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Recursively check if `child` is in the subtree of `parent`. If `parent` is the same as `child`, return True.</span>

<span class="sd">    Args:</span>
<span class="sd">        parent (TokenCategory): The parent category.</span>
<span class="sd">        child (TokenCategory): The category to check.</span>

<span class="sd">    Returns:</span>
<span class="sd">        bool: True if `child` is a descendant of `parent`, False otherwise.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">parent</span> <span class="o">==</span> <span class="n">child</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">True</span>
    <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_is_child</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span> <span class="n">child</span><span class="p">,</span> <span class="n">tree</span><span class="o">=</span><span class="bp">cls</span><span class="o">.</span><span class="n">hierarchy</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.TokenCategoryHierarchyMapper.leaves" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">leaves</span><span class="p">(</span><span class="n">target</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>Get the leaves of the subtree of the target category.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>target</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.tokens.TokenCategory" href="#kernpy.core.TokenCategory">TokenCategory</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The target category.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns (List[TokenCategory]): The list of leaf categories of the target category.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">leaves</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">target</span><span class="p">:</span> <span class="n">TokenCategory</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Set</span><span class="p">[</span><span class="n">TokenCategory</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get the leaves of the subtree of the target category.</span>

<span class="sd">    Args:</span>
<span class="sd">        target (TokenCategory): The target category.</span>

<span class="sd">    Returns (List[TokenCategory]): The list of leaf categories of the target category.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">tree</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_find_subtree</span><span class="p">(</span><span class="bp">cls</span><span class="o">.</span><span class="n">hierarchy</span><span class="p">,</span> <span class="n">target</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_leaves</span><span class="p">(</span><span class="n">tree</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.TokenCategoryHierarchyMapper.match" class="doc doc-heading">
            <code class="highlight language-python"><span class="k">match</span><span class="p">(</span><span class="n">category</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">include</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">exclude</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>Check if the category matches the include and exclude sets.
    If include is None, all categories are included.             If exclude is None, no categories are excluded.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>category</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.tokens.TokenCategory" href="#kernpy.core.TokenCategory">TokenCategory</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The category to check.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>include</code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="typing.Set">Set</span>[<a class="autorefs autorefs-internal" title="kernpy.core.tokens.TokenCategory" href="#kernpy.core.TokenCategory">TokenCategory</a>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The set of categories to include. Defaults to None.                 If None, all categories are included.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>exclude</code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="typing.Set">Set</span>[<a class="autorefs autorefs-internal" title="kernpy.core.tokens.TokenCategory" href="#kernpy.core.TokenCategory">TokenCategory</a>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The set of categories to exclude. Defaults to None.                 If None, no categories are excluded.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns (bool): True if the category matches the include and exclude sets, False otherwise.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">TokenCategoryHierarchyMapper</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">TokenCategory</span><span class="o">.</span><span class="n">NOTE</span><span class="p">,</span> <span class="n">include</span><span class="o">=</span><span class="p">{</span><span class="n">TokenCategory</span><span class="o">.</span><span class="n">NOTE_REST</span><span class="p">})</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TokenCategoryHierarchyMapper</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">TokenCategory</span><span class="o">.</span><span class="n">NOTE</span><span class="p">,</span> <span class="n">include</span><span class="o">=</span><span class="p">{</span><span class="n">TokenCategory</span><span class="o">.</span><span class="n">NOTE_REST</span><span class="p">},</span> <span class="n">exclude</span><span class="o">=</span><span class="p">{</span><span class="n">TokenCategory</span><span class="o">.</span><span class="n">REST</span><span class="p">})</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TokenCategoryHierarchyMapper</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">TokenCategory</span><span class="o">.</span><span class="n">NOTE</span><span class="p">,</span> <span class="n">include</span><span class="o">=</span><span class="p">{</span><span class="n">TokenCategory</span><span class="o">.</span><span class="n">NOTE_REST</span><span class="p">},</span> <span class="n">exclude</span><span class="o">=</span><span class="p">{</span><span class="n">TokenCategory</span><span class="o">.</span><span class="n">NOTE</span><span class="p">})</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TokenCategoryHierarchyMapper</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">TokenCategory</span><span class="o">.</span><span class="n">NOTE</span><span class="p">,</span> <span class="n">include</span><span class="o">=</span><span class="p">{</span><span class="n">TokenCategory</span><span class="o">.</span><span class="n">CORE</span><span class="p">},</span> <span class="n">exclude</span><span class="o">=</span><span class="p">{</span><span class="n">TokenCategory</span><span class="o">.</span><span class="n">DURATION</span><span class="p">})</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TokenCategoryHierarchyMapper</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">TokenCategory</span><span class="o">.</span><span class="n">DURATION</span><span class="p">,</span> <span class="n">include</span><span class="o">=</span><span class="p">{</span><span class="n">TokenCategory</span><span class="o">.</span><span class="n">CORE</span><span class="p">},</span> <span class="n">exclude</span><span class="o">=</span><span class="p">{</span><span class="n">TokenCategory</span><span class="o">.</span><span class="n">DURATION</span><span class="p">})</span>
<span class="go">False</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span>
<span class="normal">507</span>
<span class="normal">508</span>
<span class="normal">509</span>
<span class="normal">510</span>
<span class="normal">511</span>
<span class="normal">512</span>
<span class="normal">513</span>
<span class="normal">514</span>
<span class="normal">515</span>
<span class="normal">516</span>
<span class="normal">517</span>
<span class="normal">518</span>
<span class="normal">519</span>
<span class="normal">520</span>
<span class="normal">521</span>
<span class="normal">522</span>
<span class="normal">523</span>
<span class="normal">524</span>
<span class="normal">525</span>
<span class="normal">526</span>
<span class="normal">527</span>
<span class="normal">528</span>
<span class="normal">529</span>
<span class="normal">530</span>
<span class="normal">531</span>
<span class="normal">532</span>
<span class="normal">533</span>
<span class="normal">534</span>
<span class="normal">535</span>
<span class="normal">536</span>
<span class="normal">537</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">match</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">category</span><span class="p">:</span> <span class="n">TokenCategory</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span>
          <span class="n">include</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Set</span><span class="p">[</span><span class="n">TokenCategory</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
          <span class="n">exclude</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Set</span><span class="p">[</span><span class="n">TokenCategory</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Check if the category matches the include and exclude sets.</span>
<span class="sd">        If include is None, all categories are included. \</span>
<span class="sd">        If exclude is None, no categories are excluded.</span>

<span class="sd">    Args:</span>
<span class="sd">        category (TokenCategory): The category to check.</span>
<span class="sd">        include (Optional[Set[TokenCategory]]): The set of categories to include. Defaults to None. \</span>
<span class="sd">            If None, all categories are included.</span>
<span class="sd">        exclude (Optional[Set[TokenCategory]]): The set of categories to exclude. Defaults to None. \</span>
<span class="sd">            If None, no categories are excluded.</span>

<span class="sd">    Returns (bool): True if the category matches the include and exclude sets, False otherwise.</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; TokenCategoryHierarchyMapper.match(TokenCategory.NOTE, include={TokenCategory.NOTE_REST})</span>
<span class="sd">        True</span>
<span class="sd">        &gt;&gt;&gt; TokenCategoryHierarchyMapper.match(TokenCategory.NOTE, include={TokenCategory.NOTE_REST}, exclude={TokenCategory.REST})</span>
<span class="sd">        True</span>
<span class="sd">        &gt;&gt;&gt; TokenCategoryHierarchyMapper.match(TokenCategory.NOTE, include={TokenCategory.NOTE_REST}, exclude={TokenCategory.NOTE})</span>
<span class="sd">        False</span>
<span class="sd">        &gt;&gt;&gt; TokenCategoryHierarchyMapper.match(TokenCategory.NOTE, include={TokenCategory.CORE}, exclude={TokenCategory.DURATION})</span>
<span class="sd">        True</span>
<span class="sd">        &gt;&gt;&gt; TokenCategoryHierarchyMapper.match(TokenCategory.DURATION, include={TokenCategory.CORE}, exclude={TokenCategory.DURATION})</span>
<span class="sd">        False</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">include</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_validate_include</span><span class="p">(</span><span class="n">include</span><span class="p">)</span>
    <span class="n">exclude</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_validate_exclude</span><span class="p">(</span><span class="n">exclude</span><span class="p">)</span>

    <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_match</span><span class="p">(</span><span class="n">category</span><span class="p">,</span> <span class="n">include</span><span class="o">=</span><span class="n">include</span><span class="p">,</span> <span class="n">exclude</span><span class="o">=</span><span class="n">exclude</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.TokenCategoryHierarchyMapper.nodes" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">nodes</span><span class="p">(</span><span class="n">parent</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>Get the all nodes of the subtree of the parent category.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>parent</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.tokens.TokenCategory" href="#kernpy.core.TokenCategory">TokenCategory</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The parent category.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Set">Set</span>[<a class="autorefs autorefs-internal" title="kernpy.core.tokens.TokenCategory" href="#kernpy.core.TokenCategory">TokenCategory</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List[TokenCategory]: The list of nodes of the subtree of the parent category.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">nodes</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">parent</span><span class="p">:</span> <span class="n">TokenCategory</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Set</span><span class="p">[</span><span class="n">TokenCategory</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get the all nodes of the subtree of the parent category.</span>

<span class="sd">    Args:</span>
<span class="sd">        parent (TokenCategory): The parent category.</span>

<span class="sd">    Returns:</span>
<span class="sd">        List[TokenCategory]: The list of nodes of the subtree of the parent category.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">subtree</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_find_subtree</span><span class="p">(</span><span class="bp">cls</span><span class="o">.</span><span class="n">hierarchy</span><span class="p">,</span> <span class="n">parent</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_nodes</span><span class="p">(</span><span class="n">subtree</span><span class="p">)</span> <span class="k">if</span> <span class="n">subtree</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="nb">set</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.TokenCategoryHierarchyMapper.tree" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">tree</span><span class="p">()</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>Return a string representation of the category hierarchy,
formatted similar to the output of the Unix 'tree' command.</p>


<details class="example-output" open>
  <summary>Example output</summary>
  <p>.
├── STRUCTURAL
├── CORE
│   ├── NOTE_REST
│   │   ├── DURATION
│   │   ├── NOTE
│   │   │   ├── PITCH
│   │   │   └── DECORATION
│   │   └── REST
│   ├── CHORD
│   └── EMPTY
├── SIGNATURES
│   ├── CLEF
│   ├── TIME_SIGNATURE
│   ├── METER_SYMBOL
│   └── KEY_SIGNATURE
├── ENGRAVED_SYMBOLS
├── OTHER_CONTEXTUAL
├── BARLINES
├── COMMENTS
│   ├── FIELD_COMMENTS
│   └── LINE_COMMENTS
├── DYNAMICS
├── HARMONY
...</p>
</details>
            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">549</span>
<span class="normal">550</span>
<span class="normal">551</span>
<span class="normal">552</span>
<span class="normal">553</span>
<span class="normal">554</span>
<span class="normal">555</span>
<span class="normal">556</span>
<span class="normal">557</span>
<span class="normal">558</span>
<span class="normal">559</span>
<span class="normal">560</span>
<span class="normal">561</span>
<span class="normal">562</span>
<span class="normal">563</span>
<span class="normal">564</span>
<span class="normal">565</span>
<span class="normal">566</span>
<span class="normal">567</span>
<span class="normal">568</span>
<span class="normal">569</span>
<span class="normal">570</span>
<span class="normal">571</span>
<span class="normal">572</span>
<span class="normal">573</span>
<span class="normal">574</span>
<span class="normal">575</span>
<span class="normal">576</span>
<span class="normal">577</span>
<span class="normal">578</span>
<span class="normal">579</span>
<span class="normal">580</span>
<span class="normal">581</span>
<span class="normal">582</span>
<span class="normal">583</span>
<span class="normal">584</span>
<span class="normal">585</span>
<span class="normal">586</span>
<span class="normal">587</span>
<span class="normal">588</span>
<span class="normal">589</span>
<span class="normal">590</span>
<span class="normal">591</span>
<span class="normal">592</span>
<span class="normal">593</span>
<span class="normal">594</span>
<span class="normal">595</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">tree</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return a string representation of the category hierarchy,</span>
<span class="sd">    formatted similar to the output of the Unix &#39;tree&#39; command.</span>

<span class="sd">    Example output:</span>
<span class="sd">        .</span>
<span class="sd">        ├── STRUCTURAL</span>
<span class="sd">        ├── CORE</span>
<span class="sd">        │   ├── NOTE_REST</span>
<span class="sd">        │   │   ├── DURATION</span>
<span class="sd">        │   │   ├── NOTE</span>
<span class="sd">        │   │   │   ├── PITCH</span>
<span class="sd">        │   │   │   └── DECORATION</span>
<span class="sd">        │   │   └── REST</span>
<span class="sd">        │   ├── CHORD</span>
<span class="sd">        │   └── EMPTY</span>
<span class="sd">        ├── SIGNATURES</span>
<span class="sd">        │   ├── CLEF</span>
<span class="sd">        │   ├── TIME_SIGNATURE</span>
<span class="sd">        │   ├── METER_SYMBOL</span>
<span class="sd">        │   └── KEY_SIGNATURE</span>
<span class="sd">        ├── ENGRAVED_SYMBOLS</span>
<span class="sd">        ├── OTHER_CONTEXTUAL</span>
<span class="sd">        ├── BARLINES</span>
<span class="sd">        ├── COMMENTS</span>
<span class="sd">        │   ├── FIELD_COMMENTS</span>
<span class="sd">        │   └── LINE_COMMENTS</span>
<span class="sd">        ├── DYNAMICS</span>
<span class="sd">        ├── HARMONY</span>
<span class="sd">        ...</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">build_tree</span><span class="p">(</span><span class="n">tree</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="n">TokenCategory</span><span class="p">,</span> <span class="s1">&#39;_hierarchy_typing&#39;</span><span class="p">],</span> <span class="n">prefix</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
        <span class="n">lines_buffer</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">items</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">tree</span><span class="o">.</span><span class="n">items</span><span class="p">())</span>
        <span class="n">count</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">items</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="p">(</span><span class="n">category</span><span class="p">,</span> <span class="n">subtree</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">items</span><span class="p">):</span>
            <span class="n">connector</span> <span class="o">=</span> <span class="s2">&quot;└── &quot;</span> <span class="k">if</span> <span class="n">index</span> <span class="o">==</span> <span class="n">count</span> <span class="o">-</span> <span class="mi">1</span> <span class="k">else</span> <span class="s2">&quot;├── &quot;</span>
            <span class="n">lines_buffer</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">prefix</span> <span class="o">+</span> <span class="n">connector</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">category</span><span class="p">))</span>
            <span class="n">extension</span> <span class="o">=</span> <span class="s2">&quot;    &quot;</span> <span class="k">if</span> <span class="n">index</span> <span class="o">==</span> <span class="n">count</span> <span class="o">-</span> <span class="mi">1</span> <span class="k">else</span> <span class="s2">&quot;│   &quot;</span>
            <span class="n">lines_buffer</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">build_tree</span><span class="p">(</span><span class="n">subtree</span><span class="p">,</span> <span class="n">prefix</span> <span class="o">+</span> <span class="n">extension</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">lines_buffer</span>

    <span class="n">lines</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;.&quot;</span><span class="p">]</span>
    <span class="n">lines</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">build_tree</span><span class="p">(</span><span class="bp">cls</span><span class="o">.</span><span class="n">hierarchy</span><span class="p">))</span>
    <span class="k">return</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">lines</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.TokenCategoryHierarchyMapper.valid" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">valid</span><span class="p">(</span><span class="n">include</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">exclude</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>Get the valid categories based on the include and exclude sets.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>include</code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="typing.Set">Set</span>[<a class="autorefs autorefs-internal" title="kernpy.core.tokens.TokenCategory" href="#kernpy.core.TokenCategory">TokenCategory</a>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The set of categories to include. Defaults to None.                 If None, all categories are included.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>exclude</code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="typing.Set">Set</span>[<a class="autorefs autorefs-internal" title="kernpy.core.tokens.TokenCategory" href="#kernpy.core.TokenCategory">TokenCategory</a>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The set of categories to exclude. Defaults to None.                 If None, no categories are excluded.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns (Set[TokenCategory]): The list of valid categories based on the include and exclude sets.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">valid</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span>
          <span class="n">include</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Set</span><span class="p">[</span><span class="n">TokenCategory</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
          <span class="n">exclude</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Set</span><span class="p">[</span><span class="n">TokenCategory</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Set</span><span class="p">[</span><span class="n">TokenCategory</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get the valid categories based on the include and exclude sets.</span>

<span class="sd">    Args:</span>
<span class="sd">        include (Optional[Set[TokenCategory]]): The set of categories to include. Defaults to None. \</span>
<span class="sd">            If None, all categories are included.</span>
<span class="sd">        exclude (Optional[Set[TokenCategory]]): The set of categories to exclude. Defaults to None. \</span>
<span class="sd">            If None, no categories are excluded.</span>

<span class="sd">    Returns (Set[TokenCategory]): The list of valid categories based on the include and exclude sets.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">include</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_validate_include</span><span class="p">(</span><span class="n">include</span><span class="p">)</span>
    <span class="n">exclude</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_validate_exclude</span><span class="p">(</span><span class="n">exclude</span><span class="p">)</span>

    <span class="n">included_nodes</span> <span class="o">=</span> <span class="nb">set</span><span class="o">.</span><span class="n">union</span><span class="p">(</span><span class="o">*</span><span class="p">[(</span><span class="bp">cls</span><span class="o">.</span><span class="n">nodes</span><span class="p">(</span><span class="n">cat</span><span class="p">)</span> <span class="o">|</span> <span class="p">{</span><span class="n">cat</span><span class="p">})</span> <span class="k">for</span> <span class="n">cat</span> <span class="ow">in</span> <span class="n">include</span><span class="p">])</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">include</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="k">else</span> <span class="n">include</span>
    <span class="n">excluded_nodes</span> <span class="o">=</span> <span class="nb">set</span><span class="o">.</span><span class="n">union</span><span class="p">(</span><span class="o">*</span><span class="p">[(</span><span class="bp">cls</span><span class="o">.</span><span class="n">nodes</span><span class="p">(</span><span class="n">cat</span><span class="p">)</span> <span class="o">|</span> <span class="p">{</span><span class="n">cat</span><span class="p">})</span> <span class="k">for</span> <span class="n">cat</span> <span class="ow">in</span> <span class="n">exclude</span><span class="p">])</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">exclude</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="k">else</span> <span class="n">exclude</span>
    <span class="k">return</span> <span class="n">included_nodes</span> <span class="o">-</span> <span class="n">excluded_nodes</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="kernpy.Tokenizer" class="doc doc-heading">
            <code>Tokenizer</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="abc.ABC">ABC</span></code></p>


        <p>Tokenizer interface. All tokenizers must implement this interface.</p>
<p>Tokenizers are responsible for converting a token into a string representation.</p>

              <details class="quote">
                <summary>Source code in <code>kernpy/core/tokenizers.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">Tokenizer</span><span class="p">(</span><span class="n">ABC</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Tokenizer interface. All tokenizers must implement this interface.</span>

<span class="sd">    Tokenizers are responsible for converting a token into a string representation.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">token_categories</span><span class="p">:</span> <span class="n">Set</span><span class="p">[</span><span class="s1">&#39;TokenCategory&#39;</span><span class="p">]):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Create a new Tokenizer.</span>

<span class="sd">        Args:</span>
<span class="sd">            token_categories Set[TokenCategory]: List of categories to be tokenized.</span>
<span class="sd">                If None, an exception will be raised.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">token_categories</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;Categories must be provided. Found None.&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">token_categories</span> <span class="o">=</span> <span class="n">token_categories</span>


    <span class="nd">@abstractmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">tokenize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">token</span><span class="p">:</span> <span class="n">Token</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Tokenize a token into a string representation.</span>

<span class="sd">        Args:</span>
<span class="sd">            token (Token): Token to be tokenized.</span>

<span class="sd">        Returns (str): Tokenized string representation.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">pass</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="kernpy.Tokenizer.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="p">,</span> <span class="n">token_categories</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Create a new Tokenizer.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>token_categories</code></td>
            <td>
                  <code><span title="typing.Set">Set</span>[<a class="autorefs autorefs-internal" title="kernpy.core.gkern.TokenCategory" href="#kernpy.core.TokenCategory">TokenCategory</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List of categories to be tokenized.
If None, an exception will be raised.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokenizers.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">token_categories</span><span class="p">:</span> <span class="n">Set</span><span class="p">[</span><span class="s1">&#39;TokenCategory&#39;</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Create a new Tokenizer.</span>

<span class="sd">    Args:</span>
<span class="sd">        token_categories Set[TokenCategory]: List of categories to be tokenized.</span>
<span class="sd">            If None, an exception will be raised.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">token_categories</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;Categories must be provided. Found None.&#39;</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">token_categories</span> <span class="o">=</span> <span class="n">token_categories</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.Tokenizer.tokenize" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">tokenize</span><span class="p">(</span><span class="n">token</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-abstractmethod"><code>abstractmethod</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>Tokenize a token into a string representation.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>token</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.Token" href="#kernpy.core.Token">Token</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Token to be tokenized.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns (str): Tokenized string representation.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokenizers.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">tokenize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">token</span><span class="p">:</span> <span class="n">Token</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Tokenize a token into a string representation.</span>

<span class="sd">    Args:</span>
<span class="sd">        token (Token): Token to be tokenized.</span>

<span class="sd">    Returns (str): Tokenized string representation.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">pass</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>


<div class="doc doc-object doc-function">


<h2 id="kernpy.agnostic_distance" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">agnostic_distance</span><span class="p">(</span><span class="n">first_pitch</span><span class="p">,</span> <span class="n">second_pitch</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Calculate the distance in semitones between two pitches.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>first_pitch</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.pitch_models.AgnosticPitch" href="#kernpy.core.AgnosticPitch">AgnosticPitch</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The first pitch to compare.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>second_pitch</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.pitch_models.AgnosticPitch" href="#kernpy.core.AgnosticPitch">AgnosticPitch</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The second pitch to compare.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>int</code></td>            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The distance in semitones between the two pitches.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">agnostic_distance</span><span class="p">(</span><span class="n">AgnosticPitch</span><span class="p">(</span><span class="s1">&#39;C4&#39;</span><span class="p">),</span> <span class="n">AgnosticPitch</span><span class="p">(</span><span class="s1">&#39;E4&#39;</span><span class="p">))</span>
<span class="go">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">agnostic_distance</span><span class="p">(</span><span class="n">AgnosticPitch</span><span class="p">(</span><span class="s1">&#39;C4&#39;</span><span class="p">),</span> <span class="n">AgnosticPitch</span><span class="p">(</span><span class="s1">&#39;B3&#39;</span><span class="p">))</span>
<span class="go">-1</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/transposer.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">agnostic_distance</span><span class="p">(</span>
    <span class="n">first_pitch</span><span class="p">:</span> <span class="n">AgnosticPitch</span><span class="p">,</span>
    <span class="n">second_pitch</span><span class="p">:</span> <span class="n">AgnosticPitch</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Calculate the distance in semitones between two pitches.</span>

<span class="sd">    Args:</span>
<span class="sd">        first_pitch (AgnosticPitch): The first pitch to compare.</span>
<span class="sd">        second_pitch (AgnosticPitch): The second pitch to compare.</span>

<span class="sd">    Returns:</span>
<span class="sd">        int: The distance in semitones between the two pitches.</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; agnostic_distance(AgnosticPitch(&#39;C4&#39;), AgnosticPitch(&#39;E4&#39;))</span>
<span class="sd">        4</span>
<span class="sd">        &gt;&gt;&gt; agnostic_distance(AgnosticPitch(&#39;C4&#39;), AgnosticPitch(&#39;B3&#39;))</span>
<span class="sd">        -1</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">semitone_index</span><span class="p">(</span><span class="n">p</span><span class="p">:</span> <span class="n">AgnosticPitch</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="c1"># base letter:</span>
        <span class="n">letter</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;+&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
        <span class="n">base</span> <span class="o">=</span> <span class="n">LETTER_TO_SEMITONES</span><span class="p">[</span><span class="n">letter</span><span class="p">]</span>
        <span class="c1"># accidentals: &#39;+&#39; is one sharp, &#39;-&#39; one flat</span>
        <span class="n">alteration</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s1">&#39;+&#39;</span><span class="p">)</span> <span class="o">-</span> <span class="n">p</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s1">&#39;-&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">p</span><span class="o">.</span><span class="n">octave</span> <span class="o">*</span> <span class="mi">12</span> <span class="o">+</span> <span class="n">base</span> <span class="o">+</span> <span class="n">alteration</span>

    <span class="k">return</span> <span class="n">semitone_index</span><span class="p">(</span><span class="n">second_pitch</span><span class="p">)</span> <span class="o">-</span> <span class="n">semitone_index</span><span class="p">(</span><span class="n">first_pitch</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="kernpy.concat" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">concat</span><span class="p">(</span><span class="n">contents</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">separator</span><span class="o">=</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <pre><code>Concatenate multiple **kern fragments into a single Document object.      All the fragments should be presented in order. Each fragment does not need to be a complete **kern file. 
Warnings:
    Processing a large number of files in a row may take some time.
     This method performs as many `kp.read` operations as there are fragments to concatenate.
Args:
    contents (Sequence[str]): List of **kern strings
    separator (Optional[str]): Separator string to separate the **kern fragments. Default is '
</code></pre>
<p>' (newline).</p>
<pre><code>Returns (Tuple[Document, List[Tuple[int, int]]]): Document object and       and a List of Pairs (Tuple[int, int]) representing the measure fragment indexes of the concatenated document.

Examples:
    &gt;&gt;&gt; import kernpy as kp
    &gt;&gt;&gt; contents = ['**kern
</code></pre>
<p>4e
4f
4g
<em>-
', '4a
4b
4c
</em>-
=
', '4d
4e
4f
*-
']
        &gt;&gt;&gt; document, indexes = kp.concat(contents)
        &gt;&gt;&gt; indexes
        [(0, 3), (3, 6), (6, 9)]
        &gt;&gt;&gt; document, indexes = kp.concat(contents, separator='
')
        &gt;&gt;&gt; indexes
        [(0, 3), (3, 6), (6, 9)]
        &gt;&gt;&gt; document, indexes = kp.concat(contents, separator='')
        &gt;&gt;&gt; indexes
        [(0, 3), (3, 6), (6, 9)]
        &gt;&gt;&gt; for start, end in indexes:
        &gt;&gt;&gt;     print(kp.dumps(document, from_measure=start, to_measure=end)))</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/io/public.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">concat</span><span class="p">(</span>
        <span class="n">contents</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">separator</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">Document</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]]]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Concatenate multiple **kern fragments into a single Document object. \</span>
<span class="sd">     All the fragments should be presented in order. Each fragment does not need to be a complete **kern file. \</span>

<span class="sd">    Warnings:</span>
<span class="sd">        Processing a large number of files in a row may take some time.</span>
<span class="sd">         This method performs as many `kp.read` operations as there are fragments to concatenate.</span>
<span class="sd">    Args:</span>
<span class="sd">        contents (Sequence[str]): List of **kern strings</span>
<span class="sd">        separator (Optional[str]): Separator string to separate the **kern fragments. Default is &#39;\n&#39; (newline).</span>

<span class="sd">    Returns (Tuple[Document, List[Tuple[int, int]]]): Document object and \</span>
<span class="sd">      and a List of Pairs (Tuple[int, int]) representing the measure fragment indexes of the concatenated document.</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; import kernpy as kp</span>
<span class="sd">        &gt;&gt;&gt; contents = [&#39;**kern\n4e\n4f\n4g\n*-\n&#39;, &#39;4a\n4b\n4c\n*-\n=\n&#39;, &#39;4d\n4e\n4f\n*-\n&#39;]</span>
<span class="sd">        &gt;&gt;&gt; document, indexes = kp.concat(contents)</span>
<span class="sd">        &gt;&gt;&gt; indexes</span>
<span class="sd">        [(0, 3), (3, 6), (6, 9)]</span>
<span class="sd">        &gt;&gt;&gt; document, indexes = kp.concat(contents, separator=&#39;\n&#39;)</span>
<span class="sd">        &gt;&gt;&gt; indexes</span>
<span class="sd">        [(0, 3), (3, 6), (6, 9)]</span>
<span class="sd">        &gt;&gt;&gt; document, indexes = kp.concat(contents, separator=&#39;&#39;)</span>
<span class="sd">        &gt;&gt;&gt; indexes</span>
<span class="sd">        [(0, 3), (3, 6), (6, 9)]</span>
<span class="sd">        &gt;&gt;&gt; for start, end in indexes:</span>
<span class="sd">        &gt;&gt;&gt;     print(kp.dumps(document, from_measure=start, to_measure=end)))</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">generic</span><span class="o">.</span><span class="n">Generic</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span>
        <span class="n">contents</span><span class="o">=</span><span class="n">contents</span><span class="p">,</span>
        <span class="n">separator</span><span class="o">=</span><span class="n">separator</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="kernpy.create" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">create</span><span class="p">(</span><span class="n">content</span><span class="p">,</span> <span class="n">strict</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <pre><code>Create a Document object from a string encoded in Humdrum **kern format.

Args:
    content: String encoded in Humdrum **kern format
    strict: If True, raise an error if the **kern file has any errors. Otherwise, return a list of errors.

Returns (Document, list): Document object and list of error messages. Empty list if no errors.

Examples:
    &gt;&gt;&gt; import kernpy as kp
    &gt;&gt;&gt; document, errors = kp.create('**kern
</code></pre>
<p>4e
4f
4g
<em>-
')
        &gt;&gt;&gt; if len(errors) &gt; 0:
        &gt;&gt;&gt;     print(errors)
        ['Error: Invalid </em><em>kern spine: 1', 'Error: Invalid </em>*kern spine: 2']</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/generic.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@deprecated</span><span class="p">(</span><span class="s2">&quot;Use &#39;loads&#39; instead.&quot;</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">create</span><span class="p">(</span>
        <span class="n">content</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">strict</span><span class="o">=</span><span class="kc">False</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="p">(</span><span class="n">Document</span><span class="p">,</span> <span class="p">[]):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Create a Document object from a string encoded in Humdrum **kern format.</span>

<span class="sd">    Args:</span>
<span class="sd">        content: String encoded in Humdrum **kern format</span>
<span class="sd">        strict: If True, raise an error if the **kern file has any errors. Otherwise, return a list of errors.</span>

<span class="sd">    Returns (Document, list): Document object and list of error messages. Empty list if no errors.</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; import kernpy as kp</span>
<span class="sd">        &gt;&gt;&gt; document, errors = kp.create(&#39;**kern\n4e\n4f\n4g\n*-\n&#39;)</span>
<span class="sd">        &gt;&gt;&gt; if len(errors) &gt; 0:</span>
<span class="sd">        &gt;&gt;&gt;     print(errors)</span>
<span class="sd">        [&#39;Error: Invalid **kern spine: 1&#39;, &#39;Error: Invalid **kern spine: 2&#39;]</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">Generic</span><span class="o">.</span><span class="n">create</span><span class="p">(</span>
        <span class="n">content</span><span class="o">=</span><span class="n">content</span><span class="p">,</span>
        <span class="n">strict</span><span class="o">=</span><span class="n">strict</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="kernpy.distance" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">distance</span><span class="p">(</span><span class="n">first_encoding</span><span class="p">,</span> <span class="n">second_encoding</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">first_format</span><span class="o">=</span><span class="n">NotationEncoding</span><span class="o">.</span><span class="n">HUMDRUM</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">second_format</span><span class="o">=</span><span class="n">NotationEncoding</span><span class="o">.</span><span class="n">HUMDRUM</span><span class="o">.</span><span class="n">value</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Calculate the distance in semitones between two pitches.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>first_encoding</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The first pitch to compare.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>second_encoding</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The second pitch to compare.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>first_format</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The encoding format of the first pitch. Default is HUMDRUM.</p>
              </div>
            </td>
            <td>
                  <code><span title="kernpy.core.pitch_models.NotationEncoding.HUMDRUM">HUMDRUM</span>.value</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>second_format</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The encoding format of the second pitch. Default is HUMDRUM.</p>
              </div>
            </td>
            <td>
                  <code><span title="kernpy.core.pitch_models.NotationEncoding.HUMDRUM">HUMDRUM</span>.value</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>int</code></td>            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The distance in semitones between the two pitches.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">distance</span><span class="p">(</span><span class="s1">&#39;C4&#39;</span><span class="p">,</span> <span class="s1">&#39;E4&#39;</span><span class="p">)</span>
<span class="go">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">distance</span><span class="p">(</span><span class="s1">&#39;C4&#39;</span><span class="p">,</span> <span class="s1">&#39;B3&#39;</span><span class="p">)</span>
<span class="go">-1</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/transposer.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">distance</span><span class="p">(</span>
    <span class="n">first_encoding</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">second_encoding</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">first_format</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">NotationEncoding</span><span class="o">.</span><span class="n">HUMDRUM</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
    <span class="n">second_format</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">NotationEncoding</span><span class="o">.</span><span class="n">HUMDRUM</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Calculate the distance in semitones between two pitches.</span>

<span class="sd">    Args:</span>
<span class="sd">        first_encoding (str): The first pitch to compare.</span>
<span class="sd">        second_encoding (str): The second pitch to compare.</span>
<span class="sd">        first_format (str): The encoding format of the first pitch. Default is HUMDRUM.</span>
<span class="sd">        second_format (str): The encoding format of the second pitch. Default is HUMDRUM.</span>

<span class="sd">    Returns:</span>
<span class="sd">        int: The distance in semitones between the two pitches.</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; distance(&#39;C4&#39;, &#39;E4&#39;)</span>
<span class="sd">        4</span>
<span class="sd">        &gt;&gt;&gt; distance(&#39;C4&#39;, &#39;B3&#39;)</span>
<span class="sd">        -1</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">first_importer</span> <span class="o">=</span> <span class="n">PitchImporterFactory</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">first_format</span><span class="p">)</span>
    <span class="n">first_pitch</span><span class="p">:</span> <span class="n">AgnosticPitch</span> <span class="o">=</span> <span class="n">first_importer</span><span class="o">.</span><span class="n">import_pitch</span><span class="p">(</span><span class="n">first_encoding</span><span class="p">)</span>

    <span class="n">second_importer</span> <span class="o">=</span> <span class="n">PitchImporterFactory</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">second_format</span><span class="p">)</span>
    <span class="n">second_pitch</span><span class="p">:</span> <span class="n">AgnosticPitch</span> <span class="o">=</span> <span class="n">second_importer</span><span class="o">.</span><span class="n">import_pitch</span><span class="p">(</span><span class="n">second_encoding</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">agnostic_distance</span><span class="p">(</span><span class="n">first_pitch</span><span class="p">,</span> <span class="n">second_pitch</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="kernpy.download_polish_scores" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">download_polish_scores</span><span class="p">(</span><span class="n">input_directory</span><span class="p">,</span> <span class="n">output_directory</span><span class="p">,</span> <span class="n">remove_empty_directories</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">kern_spines_filter</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">exporter_kern_type</span><span class="o">=</span><span class="s1">&#39;ekern&#39;</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Process the files in the input_directory and save the results in the output_directory.
http requests are made to download the images.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>input_directory</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>directory where the input files are found</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>output_directory</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>directory where the output files are saved</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>remove_empty_directories</code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[bool]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>remove empty directories when finish processing the files</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>kern_spines_filter</code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[int]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Only process files with the number of **kern spines specified.            Use it to export 2-voice files. Default is 2.            Use None to process all files.</p>
              </div>
            </td>
            <td>
                  <code>2</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>exporter_kern_type</code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[str]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the type of kern exporter. It can be 'krn' or 'ekrn'</p>
              </div>
            </td>
            <td>
                  <code>&#39;ekern&#39;</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>None</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">main</span><span class="p">(</span><span class="s1">&#39;/kern_files&#39;</span><span class="p">,</span> <span class="s1">&#39;/output_ekern&#39;</span><span class="p">)</span>
<span class="go">None</span>
</code></pre></div>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">main</span><span class="p">(</span><span class="s1">&#39;/kern_files&#39;</span><span class="p">,</span> <span class="s1">&#39;/output_ekern&#39;</span><span class="p">,</span> <span class="n">remove_empty_directories</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="go">None</span>
</code></pre></div>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">main</span><span class="p">(</span><span class="s1">&#39;/kern_files&#39;</span><span class="p">,</span> <span class="s1">&#39;/output_ekern&#39;</span><span class="p">,</span> <span class="n">kern_spines_filter</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">remove_empty_directories</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="go">None</span>
</code></pre></div>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">main</span><span class="p">(</span><span class="s1">&#39;/kern_files&#39;</span><span class="p">,</span> <span class="s1">&#39;/output_ekern&#39;</span><span class="p">,</span> <span class="n">kern_spines_filter</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">remove_empty_directories</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="go">None</span>
</code></pre></div>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">main</span><span class="p">(</span><span class="s1">&#39;/kern_files&#39;</span><span class="p">,</span> <span class="s1">&#39;/output_ekern&#39;</span><span class="p">,</span> <span class="n">exporter_kern_type</span><span class="o">=</span><span class="s1">&#39;krn&#39;</span><span class="p">,</span> <span class="n">remove_empty_directories</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">None</span>
</code></pre></div>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">main</span><span class="p">(</span><span class="s1">&#39;/kern_files&#39;</span><span class="p">,</span> <span class="s1">&#39;/output_ekern&#39;</span><span class="p">,</span> <span class="n">exporter_kern_type</span><span class="o">=</span><span class="s1">&#39;ekrn&#39;</span><span class="p">,</span> <span class="n">remove_empty_directories</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">kern_spines_filter</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="go">None</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>kernpy/polish_scores/download_polish_dataset.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span>
        <span class="n">input_directory</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">output_directory</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">remove_empty_directories</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
        <span class="n">kern_spines_filter</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
        <span class="n">exporter_kern_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;ekern&#39;</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Process the files in the input_directory and save the results in the output_directory.</span>
<span class="sd">    http requests are made to download the images.</span>

<span class="sd">    Args:</span>
<span class="sd">        input_directory (str): directory where the input files are found</span>
<span class="sd">        output_directory (str): directory where the output files are saved</span>
<span class="sd">        remove_empty_directories (Optional[bool]): remove empty directories when finish processing the files</span>
<span class="sd">        kern_spines_filter (Optional[int]): Only process files with the number of **kern spines specified.\</span>
<span class="sd">            Use it to export 2-voice files. Default is 2.\</span>
<span class="sd">            Use None to process all files.</span>
<span class="sd">        exporter_kern_type (Optional[str]): the type of kern exporter. It can be &#39;krn&#39; or &#39;ekrn&#39;</span>



<span class="sd">    Returns:</span>
<span class="sd">        None</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; main(&#39;/kern_files&#39;, &#39;/output_ekern&#39;)</span>
<span class="sd">        None</span>

<span class="sd">        &gt;&gt;&gt; main(&#39;/kern_files&#39;, &#39;/output_ekern&#39;, remove_empty_directories=False)</span>
<span class="sd">        None</span>

<span class="sd">        &gt;&gt;&gt; main(&#39;/kern_files&#39;, &#39;/output_ekern&#39;, kern_spines_filter=2, remove_empty_directories=False)</span>
<span class="sd">        None</span>

<span class="sd">        &gt;&gt;&gt; main(&#39;/kern_files&#39;, &#39;/output_ekern&#39;, kern_spines_filter=None, remove_empty_directories=False)</span>
<span class="sd">        None</span>

<span class="sd">        &gt;&gt;&gt; main(&#39;/kern_files&#39;, &#39;/output_ekern&#39;, exporter_kern_type=&#39;krn&#39;, remove_empty_directories=True)</span>
<span class="sd">        None</span>

<span class="sd">        &gt;&gt;&gt; main(&#39;/kern_files&#39;, &#39;/output_ekern&#39;, exporter_kern_type=&#39;ekrn&#39;, remove_empty_directories=True, kern_spines_filter=2)</span>
<span class="sd">        None</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Processing files in </span><span class="si">{</span><span class="n">input_directory</span><span class="si">}</span><span class="s1"> and saving to </span><span class="si">{</span><span class="n">output_directory</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="n">kern_with_bboxes</span> <span class="o">=</span> <span class="n">search_files_with_string</span><span class="p">(</span><span class="n">input_directory</span><span class="p">,</span> <span class="s1">&#39;xywh&#39;</span><span class="p">)</span>
    <span class="n">ok_files</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">ko_files</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">log_file</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">output_directory</span><span class="p">,</span> <span class="n">LOG_FILENAME</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="mi">25</span><span class="o">*</span><span class="s1">&#39;=&#39;</span><span class="si">}</span><span class="s2">&quot;</span>
          <span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Processing </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">kern_with_bboxes</span><span class="p">)</span><span class="si">}</span><span class="s2"> files.&quot;</span>
          <span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Log will be saved in </span><span class="si">{</span><span class="n">log_file</span><span class="si">}</span><span class="s2">.&quot;</span>
          <span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="si">{</span><span class="mi">25</span><span class="o">*</span><span class="s1">&#39;=&#39;</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">kern</span> <span class="ow">in</span> <span class="n">kern_with_bboxes</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">filename</span> <span class="o">=</span> <span class="n">remove_extension</span><span class="p">(</span><span class="n">kern</span><span class="p">)</span>
            <span class="n">kern_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">input_directory</span><span class="p">,</span> <span class="n">kern</span><span class="p">)</span>
            <span class="n">output_kern_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">output_directory</span><span class="p">,</span> <span class="n">filename</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">output_kern_path</span><span class="p">):</span>
                <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">output_kern_path</span><span class="p">)</span>
            <span class="n">convert_and_download_file</span><span class="p">(</span><span class="n">kern_path</span><span class="p">,</span> <span class="n">output_kern_path</span><span class="p">,</span> <span class="n">log_filename</span><span class="o">=</span><span class="n">log_file</span><span class="p">,</span> <span class="n">kern_spines_filter</span><span class="o">=</span><span class="n">kern_spines_filter</span><span class="p">,</span> <span class="n">exporter_kern_type</span><span class="o">=</span><span class="n">exporter_kern_type</span><span class="p">)</span>
            <span class="n">ok_files</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">kern</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
            <span class="n">ko_files</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">kern</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Errors in </span><span class="si">{</span><span class="n">kern</span><span class="si">}</span><span class="s1">: </span><span class="si">{</span><span class="n">error</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="n">store_error_log</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">output_directory</span><span class="p">,</span> <span class="s1">&#39;errors.json&#39;</span><span class="p">),</span> <span class="p">{</span><span class="s1">&#39;kern&#39;</span><span class="p">:</span> <span class="n">kern</span><span class="p">,</span> <span class="s1">&#39;error&#39;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)})</span>

    <span class="k">if</span> <span class="n">remove_empty_directories</span><span class="p">:</span>
        <span class="n">remove_empty_dirs</span><span class="p">(</span><span class="n">output_directory</span><span class="p">)</span>

    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;----&gt; OK files #</span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">ok_files</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;----&gt; KO files #</span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">ko_files</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">ko_files</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="kernpy.dump" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">dump</span><span class="p">(</span><span class="n">document</span><span class="p">,</span> <span class="n">fp</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">spine_types</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">include</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">exclude</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">from_measure</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">to_measure</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">tokenizer</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">instruments</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">show_measure_numbers</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">spine_ids</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">



<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>document</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.Document" href="#kernpy.core.Document">Document</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The Document object to write to the file.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>fp</code></td>
            <td>
                  <code><span title="typing.Union">Union</span>[str, <span title="pathlib.Path">Path</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The file path to write the Document object.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>spine_types</code></td>
            <td>
                  <code>Iterable</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p><strong>kern, </strong>mens, etc...</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>include</code></td>
            <td>
                  <code>Iterable</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The token categories to include in the exported file. When None, all the token categories will be exported.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>exclude</code></td>
            <td>
                  <code>Iterable</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The token categories to exclude from the exported file. When None, no token categories will be excluded.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>from_measure</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The measure to start exporting. When None, the exporter will start from the beginning of the file. The first measure is 1</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>to_measure</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The measure to end exporting. When None, the exporter will end at the end of the file.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>tokenizer</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.KernTypeExporter" href="#kernpy.KernTypeExporter">KernTypeExporter</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The type of the **kern file to export.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>instruments</code></td>
            <td>
                  <code>Iterable</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The instruments to export. If None, all the instruments will be exported.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>show_measure_numbers</code></td>
            <td>
                  <code>Bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Show the measure numbers in the exported file.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>spine_ids</code></td>
            <td>
                  <code>Iterable</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The ids of the spines to export. When None, all the spines will be exported.             Spines ids start from 0, and they are increased by 1 for each spine to the right.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns (None): None</p>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>ValueError</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the document could not be exported.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">kernpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">kp</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">document</span><span class="p">,</span> <span class="n">errors</span> <span class="o">=</span> <span class="n">kp</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s1">&#39;BWV565.krn&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kp</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">document</span><span class="p">,</span> <span class="s1">&#39;BWV565_normalized.krn&#39;</span><span class="p">)</span>
<span class="go">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># File &#39;BWV565_normalized.krn&#39; will be created with the normalized **kern representation.</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>kernpy/io/public.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">dump</span><span class="p">(</span><span class="n">document</span><span class="p">:</span> <span class="n">Document</span><span class="p">,</span> <span class="n">fp</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Path</span><span class="p">],</span> <span class="o">*</span><span class="p">,</span>
         <span class="n">spine_types</span><span class="p">:</span> <span class="p">[]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
         <span class="n">include</span><span class="p">:</span> <span class="p">[]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
         <span class="n">exclude</span><span class="p">:</span> <span class="p">[]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
         <span class="n">from_measure</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
         <span class="n">to_measure</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
         <span class="n">tokenizer</span><span class="p">:</span> <span class="n">KernTypeExporter</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
         <span class="n">instruments</span><span class="p">:</span> <span class="p">[]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
         <span class="n">show_measure_numbers</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
         <span class="n">spine_ids</span><span class="p">:</span> <span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
         <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>

<span class="sd">    Args:</span>
<span class="sd">        document (Document): The Document object to write to the file.</span>
<span class="sd">        fp (Union[str, Path]): The file path to write the Document object.</span>
<span class="sd">        spine_types (Iterable): **kern, **mens, etc...</span>
<span class="sd">        include (Iterable): The token categories to include in the exported file. When None, all the token categories will be exported.</span>
<span class="sd">        exclude (Iterable): The token categories to exclude from the exported file. When None, no token categories will be excluded.</span>
<span class="sd">        from_measure (int): The measure to start exporting. When None, the exporter will start from the beginning of the file. The first measure is 1</span>
<span class="sd">        to_measure (int): The measure to end exporting. When None, the exporter will end at the end of the file.</span>
<span class="sd">        tokenizer (KernTypeExporter): The type of the **kern file to export.</span>
<span class="sd">        instruments (Iterable): The instruments to export. If None, all the instruments will be exported.</span>
<span class="sd">        show_measure_numbers (Bool): Show the measure numbers in the exported file.</span>
<span class="sd">        spine_ids (Iterable): The ids of the spines to export. When None, all the spines will be exported. \</span>
<span class="sd">            Spines ids start from 0, and they are increased by 1 for each spine to the right.</span>


<span class="sd">    Returns (None): None</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If the document could not be exported.</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; import kernpy as kp</span>
<span class="sd">        &gt;&gt;&gt; document, errors = kp.load(&#39;BWV565.krn&#39;)</span>
<span class="sd">        &gt;&gt;&gt; kp.dump(document, &#39;BWV565_normalized.krn&#39;)</span>
<span class="sd">        None</span>
<span class="sd">        &gt;&gt;&gt; # File &#39;BWV565_normalized.krn&#39; will be created with the normalized **kern representation.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Create an ExportOptions instance with only user-modified arguments</span>
    <span class="n">options</span> <span class="o">=</span> <span class="n">generic</span><span class="o">.</span><span class="n">Generic</span><span class="o">.</span><span class="n">parse_options_to_ExportOptions</span><span class="p">(</span>
        <span class="n">spine_types</span><span class="o">=</span><span class="n">spine_types</span><span class="p">,</span>
        <span class="n">include</span><span class="o">=</span><span class="n">include</span><span class="p">,</span>
        <span class="n">exclude</span><span class="o">=</span><span class="n">exclude</span><span class="p">,</span>
        <span class="n">from_measure</span><span class="o">=</span><span class="n">from_measure</span><span class="p">,</span>
        <span class="n">to_measure</span><span class="o">=</span><span class="n">to_measure</span><span class="p">,</span>
        <span class="n">kern_type</span><span class="o">=</span><span class="n">tokenizer</span><span class="p">,</span>
        <span class="n">instruments</span><span class="o">=</span><span class="n">instruments</span><span class="p">,</span>
        <span class="n">show_measure_numbers</span><span class="o">=</span><span class="n">show_measure_numbers</span><span class="p">,</span>
        <span class="n">spine_ids</span><span class="o">=</span><span class="n">spine_ids</span>
    <span class="p">)</span>

    <span class="k">return</span> <span class="n">generic</span><span class="o">.</span><span class="n">Generic</span><span class="o">.</span><span class="n">store</span><span class="p">(</span>
        <span class="n">document</span><span class="o">=</span><span class="n">document</span><span class="p">,</span>
        <span class="n">path</span><span class="o">=</span><span class="n">fp</span><span class="p">,</span>
        <span class="n">options</span><span class="o">=</span><span class="n">options</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="kernpy.dumps" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">dumps</span><span class="p">(</span><span class="n">document</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">spine_types</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">include</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">exclude</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">from_measure</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">to_measure</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">tokenizer</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">instruments</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">show_measure_numbers</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">spine_ids</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <pre><code>Args:
    document (Document): The Document object to write to the file.
    fp (Union[str, Path]): The file path to write the Document object.
    spine_types (Iterable): **kern, **mens, etc...
    include (Iterable): The token categories to include in the exported file. When None, all the token categories will be exported.
    exclude (Iterable): The token categories to exclude from the exported file. When None, no token categories will be excluded.
    from_measure (int): The measure to start exporting. When None, the exporter will start from the beginning of the file. The first measure is 1
    to_measure (int): The measure to end exporting. When None, the exporter will end at the end of the file.
    tokenizer (KernTypeExporter): The type of the **kern file to export.
    instruments (Iterable): The instruments to export. If None, all the instruments will be exported.
    show_measure_numbers (Bool): Show the measure numbers in the exported file.
    spine_ids (Iterable): The ids of the spines to export. When None, all the spines will be exported.             Spines ids start from 0, and they are increased by 1 for each spine to the right.


Returns (None): None

Raises:
    ValueError: If the document could not be exported.

Examples:
    &gt;&gt;&gt; import kernpy as kp
    &gt;&gt;&gt; document, errors = kp.load('score.krn')
    &gt;&gt;&gt; kp.dumps(document)
    '**kern
</code></pre>
<p><em>clefG2
=1
4c
4d
4e
4f
</em>-'</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/io/public.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">dumps</span><span class="p">(</span><span class="n">document</span><span class="p">:</span> <span class="n">Document</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span>
          <span class="n">spine_types</span><span class="p">:</span> <span class="p">[]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
          <span class="n">include</span><span class="p">:</span> <span class="p">[]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
          <span class="n">exclude</span><span class="p">:</span> <span class="p">[]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
          <span class="n">from_measure</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
          <span class="n">to_measure</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
          <span class="n">tokenizer</span><span class="p">:</span> <span class="n">KernTypeExporter</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
          <span class="n">instruments</span><span class="p">:</span> <span class="p">[]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
          <span class="n">show_measure_numbers</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
          <span class="n">spine_ids</span><span class="p">:</span> <span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
          <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>

<span class="sd">    Args:</span>
<span class="sd">        document (Document): The Document object to write to the file.</span>
<span class="sd">        fp (Union[str, Path]): The file path to write the Document object.</span>
<span class="sd">        spine_types (Iterable): **kern, **mens, etc...</span>
<span class="sd">        include (Iterable): The token categories to include in the exported file. When None, all the token categories will be exported.</span>
<span class="sd">        exclude (Iterable): The token categories to exclude from the exported file. When None, no token categories will be excluded.</span>
<span class="sd">        from_measure (int): The measure to start exporting. When None, the exporter will start from the beginning of the file. The first measure is 1</span>
<span class="sd">        to_measure (int): The measure to end exporting. When None, the exporter will end at the end of the file.</span>
<span class="sd">        tokenizer (KernTypeExporter): The type of the **kern file to export.</span>
<span class="sd">        instruments (Iterable): The instruments to export. If None, all the instruments will be exported.</span>
<span class="sd">        show_measure_numbers (Bool): Show the measure numbers in the exported file.</span>
<span class="sd">        spine_ids (Iterable): The ids of the spines to export. When None, all the spines will be exported. \</span>
<span class="sd">            Spines ids start from 0, and they are increased by 1 for each spine to the right.</span>


<span class="sd">    Returns (None): None</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If the document could not be exported.</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; import kernpy as kp</span>
<span class="sd">        &gt;&gt;&gt; document, errors = kp.load(&#39;score.krn&#39;)</span>
<span class="sd">        &gt;&gt;&gt; kp.dumps(document)</span>
<span class="sd">        &#39;**kern\n*clefG2\n=1\n4c\n4d\n4e\n4f\n*-&#39;</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Create an ExportOptions instance with only user-modified arguments</span>
    <span class="n">options</span> <span class="o">=</span> <span class="n">generic</span><span class="o">.</span><span class="n">Generic</span><span class="o">.</span><span class="n">parse_options_to_ExportOptions</span><span class="p">(</span>
        <span class="n">spine_types</span><span class="o">=</span><span class="n">spine_types</span><span class="p">,</span>
        <span class="n">include</span><span class="o">=</span><span class="n">include</span><span class="p">,</span>
        <span class="n">exclude</span><span class="o">=</span><span class="n">exclude</span><span class="p">,</span>
        <span class="n">from_measure</span><span class="o">=</span><span class="n">from_measure</span><span class="p">,</span>
        <span class="n">to_measure</span><span class="o">=</span><span class="n">to_measure</span><span class="p">,</span>
        <span class="n">kern_type</span><span class="o">=</span><span class="n">tokenizer</span><span class="p">,</span>
        <span class="n">instruments</span><span class="o">=</span><span class="n">instruments</span><span class="p">,</span>
        <span class="n">show_measure_numbers</span><span class="o">=</span><span class="n">show_measure_numbers</span><span class="p">,</span>
        <span class="n">spine_ids</span><span class="o">=</span><span class="n">spine_ids</span>
    <span class="p">)</span>

    <span class="k">return</span> <span class="n">generic</span><span class="o">.</span><span class="n">Generic</span><span class="o">.</span><span class="n">export</span><span class="p">(</span>
        <span class="n">document</span><span class="o">=</span><span class="n">document</span><span class="p">,</span>
        <span class="n">options</span><span class="o">=</span><span class="n">options</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="kernpy.ekern_to_krn" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">ekern_to_krn</span><span class="p">(</span><span class="n">input_file</span><span class="p">,</span> <span class="n">output_file</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Convert one .ekrn file to .krn file.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>input_file</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Filepath to the input **ekern</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>output_file</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Filepath to the output **kern</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns:
    None</p>


<details class="example" open>
  <summary>Example</summary>
  <h3 id="kernpy.ekern_to_krn--convert-ekrn-to-krn">Convert .ekrn to .krn</h3>
<blockquote>
<blockquote>
<blockquote>
<p>ekern_to_krn('path/to/file.ekrn', 'path/to/file.krn')</p>
</blockquote>
</blockquote>
</blockquote>
<h3 id="kernpy.ekern_to_krn--convert-a-list-of-ekrn-files-to-krn-files">Convert a list of .ekrn files to .krn files</h3>
<pre><code class="language-python">ekrn_files = your_modue.get_files()

# Use the wrapper to avoid stopping the process if an error occurs
def ekern_to_krn_wrapper(ekern_file, kern_file):
    try:
        ekern_to_krn(ekrn_files, output_folder)
    except Exception as e:
        print(f'Error:{e}')

# Convert all the files
for ekern_file in ekrn_files:
    output_file = ekern_file.replace('.ekrn', '.krn')
    ekern_to_krn_wrapper(ekern_file, output_file)
</code></pre>
</details>
            <details class="quote">
              <summary>Source code in <code>kernpy/core/exporter.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span>
<span class="normal">475</span>
<span class="normal">476</span>
<span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">ekern_to_krn</span><span class="p">(</span>
        <span class="n">input_file</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">output_file</span><span class="p">:</span> <span class="nb">str</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Convert one .ekrn file to .krn file.</span>

<span class="sd">    Args:</span>
<span class="sd">        input_file (str): Filepath to the input **ekern</span>
<span class="sd">        output_file (str): Filepath to the output **kern</span>
<span class="sd">    Returns:</span>
<span class="sd">        None</span>

<span class="sd">    Example:</span>
<span class="sd">        # Convert .ekrn to .krn</span>
<span class="sd">        &gt;&gt;&gt; ekern_to_krn(&#39;path/to/file.ekrn&#39;, &#39;path/to/file.krn&#39;)</span>

<span class="sd">        # Convert a list of .ekrn files to .krn files</span>
<span class="sd">        ```python</span>
<span class="sd">        ekrn_files = your_modue.get_files()</span>

<span class="sd">        # Use the wrapper to avoid stopping the process if an error occurs</span>
<span class="sd">        def ekern_to_krn_wrapper(ekern_file, kern_file):</span>
<span class="sd">            try:</span>
<span class="sd">                ekern_to_krn(ekrn_files, output_folder)</span>
<span class="sd">            except Exception as e:</span>
<span class="sd">                print(f&#39;Error:{e}&#39;)</span>

<span class="sd">        # Convert all the files</span>
<span class="sd">        for ekern_file in ekrn_files:</span>
<span class="sd">            output_file = ekern_file.replace(&#39;.ekrn&#39;, &#39;.krn&#39;)</span>
<span class="sd">            ekern_to_krn_wrapper(ekern_file, output_file)</span>
<span class="sd">        ```</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">input_file</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
        <span class="n">content</span> <span class="o">=</span> <span class="n">file</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

    <span class="n">kern_content</span> <span class="o">=</span> <span class="n">get_kern_from_ekern</span><span class="p">(</span><span class="n">content</span><span class="p">)</span>

    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">output_file</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
        <span class="n">file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">kern_content</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="kernpy.export" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">export</span><span class="p">(</span><span class="n">document</span><span class="p">,</span> <span class="n">options</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Export a Document object to a string.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>document</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.Document" href="#kernpy.core.Document">Document</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Document object to export</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>options</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.ExportOptions" href="#kernpy.core.ExportOptions">ExportOptions</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Export options</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns: Exported string</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">kernpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">kp</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">document</span><span class="p">,</span> <span class="n">errors</span> <span class="o">=</span> <span class="n">kp</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s1">&#39;path/to/file.krn&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">options</span> <span class="o">=</span> <span class="n">kp</span><span class="o">.</span><span class="n">ExportOptions</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">content</span> <span class="o">=</span> <span class="n">kp</span><span class="o">.</span><span class="n">export</span><span class="p">(</span><span class="n">document</span><span class="p">,</span> <span class="n">options</span><span class="p">)</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/generic.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@deprecated</span><span class="p">(</span><span class="s2">&quot;Use &#39;dumps&#39; instead.&quot;</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">export</span><span class="p">(</span>
        <span class="n">document</span><span class="p">:</span> <span class="n">Document</span><span class="p">,</span>
        <span class="n">options</span><span class="p">:</span> <span class="n">ExportOptions</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Export a Document object to a string.</span>

<span class="sd">    Args:</span>
<span class="sd">        document: Document object to export</span>
<span class="sd">        options: Export options</span>

<span class="sd">    Returns: Exported string</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; import kernpy as kp</span>
<span class="sd">        &gt;&gt;&gt; document, errors = kp.read(&#39;path/to/file.krn&#39;)</span>
<span class="sd">        &gt;&gt;&gt; options = kp.ExportOptions()</span>
<span class="sd">        &gt;&gt;&gt; content = kp.export(document, options)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">Generic</span><span class="o">.</span><span class="n">export</span><span class="p">(</span>
        <span class="n">document</span><span class="o">=</span><span class="n">document</span><span class="p">,</span>
        <span class="n">options</span><span class="o">=</span><span class="n">options</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="kernpy.get_kern_from_ekern" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_kern_from_ekern</span><span class="p">(</span><span class="n">ekern_content</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Read the content of a <strong>ekern file and return the </strong>kern content.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>ekern_content</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The content of the **ekern file.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns:
    The content of the **kern file.</p>


<details class="example" open>
  <summary>Example</summary>
  <pre><code class="language-python"># Read **ekern file
ekern_file = 'path/to/file.ekrn'
with open(ekern_file, 'r') as file:
    ekern_content = file.read()

# Get **kern content
kern_content = get_kern_from_ekern(ekern_content)
with open('path/to/file.krn', 'w') as file:
    file.write(kern_content)

</code></pre>
</details>
            <details class="quote">
              <summary>Source code in <code>kernpy/core/exporter.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_kern_from_ekern</span><span class="p">(</span><span class="n">ekern_content</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Read the content of a **ekern file and return the **kern content.</span>

<span class="sd">    Args:</span>
<span class="sd">        ekern_content: The content of the **ekern file.</span>
<span class="sd">    Returns:</span>
<span class="sd">        The content of the **kern file.</span>

<span class="sd">    Example:</span>
<span class="sd">        ```python</span>
<span class="sd">        # Read **ekern file</span>
<span class="sd">        ekern_file = &#39;path/to/file.ekrn&#39;</span>
<span class="sd">        with open(ekern_file, &#39;r&#39;) as file:</span>
<span class="sd">            ekern_content = file.read()</span>

<span class="sd">        # Get **kern content</span>
<span class="sd">        kern_content = get_kern_from_ekern(ekern_content)</span>
<span class="sd">        with open(&#39;path/to/file.krn&#39;, &#39;w&#39;) as file:</span>
<span class="sd">            file.write(kern_content)</span>

<span class="sd">        ```</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">content</span> <span class="o">=</span> <span class="n">ekern_content</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;**ekern&quot;</span><span class="p">,</span> <span class="s2">&quot;**kern&quot;</span><span class="p">)</span>  <span class="c1"># TODO Constante según las cabeceras</span>
    <span class="n">content</span> <span class="o">=</span> <span class="n">content</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">TOKEN_SEPARATOR</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
    <span class="n">content</span> <span class="o">=</span> <span class="n">content</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">DECORATION_SEPARATOR</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">content</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="kernpy.get_spine_types" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_spine_types</span><span class="p">(</span><span class="n">document</span><span class="p">,</span> <span class="n">spine_types</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Get the spines of a Document object.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>document</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.Document" href="#kernpy.core.Document">Document</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Document object to get spines from</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>spine_types</code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="collections.abc.Sequence">Sequence</span>[str]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List of spine types to get. If None, all spines are returned.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns (List[str]): List of spines</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">kernpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">kp</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">document</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">kp</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s1">&#39;path/to/file.krn&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kp</span><span class="o">.</span><span class="n">get_spine_types</span><span class="p">(</span><span class="n">document</span><span class="p">)</span>
<span class="go">[&#39;**kern&#39;, &#39;**kern&#39;, &#39;**kern&#39;, &#39;**kern&#39;, &#39;**root&#39;, &#39;**harm&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kp</span><span class="o">.</span><span class="n">get_spine_types</span><span class="p">(</span><span class="n">document</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
<span class="go">[&#39;**kern&#39;, &#39;**kern&#39;, &#39;**kern&#39;, &#39;**kern&#39;, &#39;**root&#39;, &#39;**harm&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kp</span><span class="o">.</span><span class="n">get_spine_types</span><span class="p">(</span><span class="n">document</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;**kern&#39;</span><span class="p">])</span>
<span class="go">[&#39;**kern&#39;, &#39;**kern&#39;, &#39;**kern&#39;, &#39;**kern&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kp</span><span class="o">.</span><span class="n">get_spine_types</span><span class="p">(</span><span class="n">document</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;**kern&#39;</span><span class="p">,</span> <span class="s1">&#39;**root&#39;</span><span class="p">])</span>
<span class="go">[&#39;**kern&#39;, &#39;**kern&#39;, &#39;**kern&#39;, &#39;**kern&#39;, &#39;**root&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kp</span><span class="o">.</span><span class="n">get_spine_types</span><span class="p">(</span><span class="n">document</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;**kern&#39;</span><span class="p">,</span> <span class="s1">&#39;**root&#39;</span><span class="p">,</span> <span class="s1">&#39;**harm&#39;</span><span class="p">])</span>
<span class="go">[&#39;**kern&#39;, &#39;**kern&#39;, &#39;**kern&#39;, &#39;**kern&#39;, &#39;**root&#39;, &#39;**harm&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kp</span><span class="o">.</span><span class="n">get_spine_types</span><span class="p">(</span><span class="n">document</span><span class="p">,</span> <span class="p">[])</span>
<span class="go">[]</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/generic.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@deprecated</span><span class="p">(</span><span class="s2">&quot;Use &#39;spine_types&#39; instead.&quot;</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">get_spine_types</span><span class="p">(</span>
        <span class="n">document</span><span class="p">:</span> <span class="n">Document</span><span class="p">,</span>
        <span class="n">spine_types</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Sequence</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get the spines of a Document object.</span>

<span class="sd">    Args:</span>
<span class="sd">        document (Document): Document object to get spines from</span>
<span class="sd">        spine_types (Optional[Sequence[str]]): List of spine types to get. If None, all spines are returned.</span>

<span class="sd">    Returns (List[str]): List of spines</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; import kernpy as kp</span>
<span class="sd">        &gt;&gt;&gt; document, _ = kp.read(&#39;path/to/file.krn&#39;)</span>
<span class="sd">        &gt;&gt;&gt; kp.get_spine_types(document)</span>
<span class="sd">        [&#39;**kern&#39;, &#39;**kern&#39;, &#39;**kern&#39;, &#39;**kern&#39;, &#39;**root&#39;, &#39;**harm&#39;]</span>
<span class="sd">        &gt;&gt;&gt; kp.get_spine_types(document, None)</span>
<span class="sd">        [&#39;**kern&#39;, &#39;**kern&#39;, &#39;**kern&#39;, &#39;**kern&#39;, &#39;**root&#39;, &#39;**harm&#39;]</span>
<span class="sd">        &gt;&gt;&gt; kp.get_spine_types(document, [&#39;**kern&#39;])</span>
<span class="sd">        [&#39;**kern&#39;, &#39;**kern&#39;, &#39;**kern&#39;, &#39;**kern&#39;]</span>
<span class="sd">        &gt;&gt;&gt; kp.get_spine_types(document, [&#39;**kern&#39;, &#39;**root&#39;])</span>
<span class="sd">        [&#39;**kern&#39;, &#39;**kern&#39;, &#39;**kern&#39;, &#39;**kern&#39;, &#39;**root&#39;]</span>
<span class="sd">        &gt;&gt;&gt; kp.get_spine_types(document, [&#39;**kern&#39;, &#39;**root&#39;, &#39;**harm&#39;])</span>
<span class="sd">        [&#39;**kern&#39;, &#39;**kern&#39;, &#39;**kern&#39;, &#39;**kern&#39;, &#39;**root&#39;, &#39;**harm&#39;]</span>
<span class="sd">        &gt;&gt;&gt; kp.get_spine_types(document, [])</span>
<span class="sd">        []</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">Generic</span><span class="o">.</span><span class="n">get_spine_types</span><span class="p">(</span>
        <span class="n">document</span><span class="o">=</span><span class="n">document</span><span class="p">,</span>
        <span class="n">spine_types</span><span class="o">=</span><span class="n">spine_types</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="kernpy.graph" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">graph</span><span class="p">(</span><span class="n">document</span><span class="p">,</span> <span class="n">fp</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Create a graph representation of a Document object using Graphviz. Save the graph as a .dot file or indicate the     output file path or stream. If the output file path is None, the function will return the graphviz content as a        string to the standard output.</p>
<p>Use the Graphviz software to convert the .dot file to an image.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>document</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.Document" href="#kernpy.core.Document">Document</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The Document object to export as a graphviz file.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>fp</code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="typing.Union">Union</span>[str, <span title="pathlib.Path">Path</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The file path to write the graphviz file. If None, the function will return the            graphviz content as a string to the standard output.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns (None): None</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">kernpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">kp</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">document</span><span class="p">,</span> <span class="n">errors</span> <span class="o">=</span> <span class="n">kp</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s1">&#39;score.krn&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kp</span><span class="o">.</span><span class="n">graph</span><span class="p">(</span><span class="n">document</span><span class="p">,</span> <span class="s1">&#39;score.dot&#39;</span><span class="p">)</span>
<span class="go">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># File &#39;score.dot&#39; will be created with the graphviz representation of the Document object.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kp</span><span class="o">.</span><span class="n">graph</span><span class="p">(</span><span class="n">document</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
<span class="go">&#39;digraph G { ... }&#39;</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>kernpy/io/public.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">graph</span><span class="p">(</span><span class="n">document</span><span class="p">:</span> <span class="n">Document</span><span class="p">,</span> <span class="n">fp</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Path</span><span class="p">]])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Create a graph representation of a Document object using Graphviz. Save the graph as a .dot file or indicate the\</span>
<span class="sd">     output file path or stream. If the output file path is None, the function will return the graphviz content as a\</span>
<span class="sd">        string to the standard output.</span>

<span class="sd">    Use the Graphviz software to convert the .dot file to an image.</span>


<span class="sd">    Args:</span>
<span class="sd">        document (Document): The Document object to export as a graphviz file.</span>
<span class="sd">        fp (Optional[Union[str, Path]]): The file path to write the graphviz file. If None, the function will return the\</span>
<span class="sd">            graphviz content as a string to the standard output.</span>

<span class="sd">    Returns (None): None</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; import kernpy as kp</span>
<span class="sd">        &gt;&gt;&gt; document, errors = kp.load(&#39;score.krn&#39;)</span>
<span class="sd">        &gt;&gt;&gt; kp.graph(document, &#39;score.dot&#39;)</span>
<span class="sd">        None</span>
<span class="sd">        &gt;&gt;&gt; # File &#39;score.dot&#39; will be created with the graphviz representation of the Document object.</span>
<span class="sd">        &gt;&gt;&gt; kp.graph(document, None)</span>
<span class="sd">        &#39;digraph G { ... }&#39;</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">generic</span><span class="o">.</span><span class="n">Generic</span><span class="o">.</span><span class="n">store_graph</span><span class="p">(</span>
        <span class="n">document</span><span class="o">=</span><span class="n">document</span><span class="p">,</span>
        <span class="n">path</span><span class="o">=</span><span class="n">fp</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="kernpy.kern_to_ekern" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">kern_to_ekern</span><span class="p">(</span><span class="n">input_file</span><span class="p">,</span> <span class="n">output_file</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Convert one .krn file to .ekrn file</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>input_file</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Filepath to the input **kern</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>output_file</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Filepath to the output **ekern</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>None</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="example" open>
  <summary>Example</summary>
  <h3 id="kernpy.kern_to_ekern--convert-krn-to-ekrn">Convert .krn to .ekrn</h3>
<blockquote>
<blockquote>
<blockquote>
<p>kern_to_ekern('path/to/file.krn', 'path/to/file.ekrn')</p>
</blockquote>
</blockquote>
</blockquote>
<h3 id="kernpy.kern_to_ekern--convert-a-list-of-krn-files-to-ekrn-files">Convert a list of .krn files to .ekrn files</h3>
<pre><code class="language-python">krn_files = your_module.get_files()

# Use the wrapper to avoid stopping the process if an error occurs
def kern_to_ekern_wrapper(krn_file, ekern_file):
    try:
        kern_to_ekern(krn_file, ekern_file)
    except Exception as e:
        print(f'Error:{e}')

# Convert all the files
for krn_file in krn_files:
    output_file = krn_file.replace('.krn', '.ekrn')
    kern_to_ekern_wrapper(krn_file, output_file)
</code></pre>
</details>
            <details class="quote">
              <summary>Source code in <code>kernpy/core/exporter.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">487</span>
<span class="normal">488</span>
<span class="normal">489</span>
<span class="normal">490</span>
<span class="normal">491</span>
<span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span>
<span class="normal">496</span>
<span class="normal">497</span>
<span class="normal">498</span>
<span class="normal">499</span>
<span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span>
<span class="normal">507</span>
<span class="normal">508</span>
<span class="normal">509</span>
<span class="normal">510</span>
<span class="normal">511</span>
<span class="normal">512</span>
<span class="normal">513</span>
<span class="normal">514</span>
<span class="normal">515</span>
<span class="normal">516</span>
<span class="normal">517</span>
<span class="normal">518</span>
<span class="normal">519</span>
<span class="normal">520</span>
<span class="normal">521</span>
<span class="normal">522</span>
<span class="normal">523</span>
<span class="normal">524</span>
<span class="normal">525</span>
<span class="normal">526</span>
<span class="normal">527</span>
<span class="normal">528</span>
<span class="normal">529</span>
<span class="normal">530</span>
<span class="normal">531</span>
<span class="normal">532</span>
<span class="normal">533</span>
<span class="normal">534</span>
<span class="normal">535</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">kern_to_ekern</span><span class="p">(</span>
        <span class="n">input_file</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">output_file</span><span class="p">:</span> <span class="nb">str</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Convert one .krn file to .ekrn file</span>

<span class="sd">    Args:</span>
<span class="sd">        input_file (str): Filepath to the input **kern</span>
<span class="sd">        output_file (str): Filepath to the output **ekern</span>

<span class="sd">    Returns:</span>
<span class="sd">        None</span>

<span class="sd">    Example:</span>
<span class="sd">        # Convert .krn to .ekrn</span>
<span class="sd">        &gt;&gt;&gt; kern_to_ekern(&#39;path/to/file.krn&#39;, &#39;path/to/file.ekrn&#39;)</span>

<span class="sd">        # Convert a list of .krn files to .ekrn files</span>
<span class="sd">        ```python</span>
<span class="sd">        krn_files = your_module.get_files()</span>

<span class="sd">        # Use the wrapper to avoid stopping the process if an error occurs</span>
<span class="sd">        def kern_to_ekern_wrapper(krn_file, ekern_file):</span>
<span class="sd">            try:</span>
<span class="sd">                kern_to_ekern(krn_file, ekern_file)</span>
<span class="sd">            except Exception as e:</span>
<span class="sd">                print(f&#39;Error:{e}&#39;)</span>

<span class="sd">        # Convert all the files</span>
<span class="sd">        for krn_file in krn_files:</span>
<span class="sd">            output_file = krn_file.replace(&#39;.krn&#39;, &#39;.ekrn&#39;)</span>
<span class="sd">            kern_to_ekern_wrapper(krn_file, output_file)</span>
<span class="sd">        ```</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">importer</span> <span class="o">=</span> <span class="n">Importer</span><span class="p">()</span>
    <span class="n">document</span> <span class="o">=</span> <span class="n">importer</span><span class="o">.</span><span class="n">import_file</span><span class="p">(</span><span class="n">input_file</span><span class="p">)</span>

    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">importer</span><span class="o">.</span><span class="n">errors</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;ERROR: </span><span class="si">{</span><span class="n">input_file</span><span class="si">}</span><span class="s1"> has errors </span><span class="si">{</span><span class="n">importer</span><span class="o">.</span><span class="n">get_error_messages</span><span class="p">()</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

    <span class="n">export_options</span> <span class="o">=</span> <span class="n">ExportOptions</span><span class="p">(</span><span class="n">spine_types</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;**kern&#39;</span><span class="p">],</span> <span class="n">token_categories</span><span class="o">=</span><span class="n">BEKERN_CATEGORIES</span><span class="p">,</span>
                                   <span class="n">kern_type</span><span class="o">=</span><span class="n">KernTypeExporter</span><span class="o">.</span><span class="n">eKern</span><span class="p">)</span>
    <span class="n">exporter</span> <span class="o">=</span> <span class="n">Exporter</span><span class="p">()</span>
    <span class="n">exported_ekern</span> <span class="o">=</span> <span class="n">exporter</span><span class="o">.</span><span class="n">export_string</span><span class="p">(</span><span class="n">document</span><span class="p">,</span> <span class="n">export_options</span><span class="p">)</span>

    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">output_file</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
        <span class="n">file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">exported_ekern</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="kernpy.load" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">load</span><span class="p">(</span><span class="n">fp</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">raise_on_errors</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Load a Document object from a Humdrum **kern file-like object.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>fp</code></td>
            <td>
                  <code><span title="typing.Union">Union</span>[str, <span title="pathlib.Path">Path</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A path-like object representing a **kern file.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>raise_on_errors</code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[bool]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If True, raise an exception if any grammar error is detected            during parsing.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns ((Document, List[str])): A tuple containing the Document object and a list of messages representing         grammar errors detected during parsing. If the list is empty,        the parsing did not detect any errors.</p>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>ValueError</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the Humdrum **kern representation could not be parsed.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">kernpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">kp</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">document</span><span class="p">,</span> <span class="n">errors</span> <span class="o">=</span> <span class="n">kp</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s1">&#39;BWV565.krn&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">errors</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Grammar didn&#39;t recognize the following errors: </span><span class="si">{</span><span class="n">errors</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="go">[&#39;Error: Invalid **kern spine: 1&#39;, &#39;Error: Invalid **kern spine: 2&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="c1"># Anyway, we can use the Document</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="nb">print</span><span class="p">(</span><span class="n">document</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">else</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="nb">print</span><span class="p">(</span><span class="n">document</span><span class="p">)</span>
<span class="go">&lt;kernpy.core.document.Document object at 0x7f8b3b7b3d90&gt;</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>kernpy/io/public.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">load</span><span class="p">(</span><span class="n">fp</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Path</span><span class="p">],</span> <span class="o">*</span><span class="p">,</span> <span class="n">raise_on_errors</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="p">(</span><span class="n">Document</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Load a Document object from a Humdrum **kern file-like object.</span>

<span class="sd">    Args:</span>
<span class="sd">        fp (Union[str, Path]): A path-like object representing a **kern file.</span>
<span class="sd">        raise_on_errors (Optional[bool], optional): If True, raise an exception if any grammar error is detected\</span>
<span class="sd">            during parsing.</span>

<span class="sd">    Returns ((Document, List[str])): A tuple containing the Document object and a list of messages representing \</span>
<span class="sd">        grammar errors detected during parsing. If the list is empty,\</span>
<span class="sd">        the parsing did not detect any errors.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If the Humdrum **kern representation could not be parsed.</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; import kernpy as kp</span>
<span class="sd">        &gt;&gt;&gt; document, errors = kp.load(&#39;BWV565.krn&#39;)</span>
<span class="sd">        &gt;&gt;&gt; if len(errors) &gt; 0:</span>
<span class="sd">        &gt;&gt;&gt;     print(f&quot;Grammar didn&#39;t recognize the following errors: {errors}&quot;)</span>
<span class="sd">        [&#39;Error: Invalid **kern spine: 1&#39;, &#39;Error: Invalid **kern spine: 2&#39;]</span>
<span class="sd">        &gt;&gt;&gt;     # Anyway, we can use the Document</span>
<span class="sd">        &gt;&gt;&gt;     print(document)</span>
<span class="sd">        &gt;&gt;&gt; else:</span>
<span class="sd">        &gt;&gt;&gt;     print(document)</span>
<span class="sd">        &lt;kernpy.core.document.Document object at 0x7f8b3b7b3d90&gt;</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">generic</span><span class="o">.</span><span class="n">Generic</span><span class="o">.</span><span class="n">read</span><span class="p">(</span>
        <span class="n">path</span><span class="o">=</span><span class="n">fp</span><span class="p">,</span>
        <span class="n">strict</span><span class="o">=</span><span class="n">raise_on_errors</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="kernpy.loads" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">loads</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">raise_on_errors</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <pre><code>Load a Document object from a string encoded in Humdrum **kern.

Args:
    s (str): A string containing a **kern file.
    raise_on_errors (Optional[bool], optional): If True, raise an exception if any grammar error is detected            during parsing.

Returns ((Document, List[str])): A tuple containing the Document object and a list of messages representing         grammar errors detected during parsing. If the list is empty,        the parsing did not detect any errors.

Raises:
    ValueError: If the Humdrum **kern representation could not be parsed.

Examples:
    &gt;&gt;&gt; import kernpy as kp
    &gt;&gt;&gt; document, errors = kp.loads('**kern
</code></pre>
<p><em>clefG2
=1
4c
4d
4e
4f
')
        &gt;&gt;&gt; if len(errors) &gt; 0:
        &gt;&gt;&gt;     print(f"Grammar didn't recognize the following errors: {errors}")
        ['Error: Invalid </em>*kern spine: 1']
        &gt;&gt;&gt;     # Anyway, we can use the Document
        &gt;&gt;&gt;     print(document)
        &gt;&gt;&gt; else:
        &gt;&gt;&gt;     print(document)
        <kernpy.core.document.Document object at 0x7f8b3b7b3d90></p>

            <details class="quote">
              <summary>Source code in <code>kernpy/io/public.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">loads</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">raise_on_errors</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="p">(</span><span class="n">Document</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Load a Document object from a string encoded in Humdrum **kern.</span>

<span class="sd">    Args:</span>
<span class="sd">        s (str): A string containing a **kern file.</span>
<span class="sd">        raise_on_errors (Optional[bool], optional): If True, raise an exception if any grammar error is detected\</span>
<span class="sd">            during parsing.</span>

<span class="sd">    Returns ((Document, List[str])): A tuple containing the Document object and a list of messages representing \</span>
<span class="sd">        grammar errors detected during parsing. If the list is empty,\</span>
<span class="sd">        the parsing did not detect any errors.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If the Humdrum **kern representation could not be parsed.</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; import kernpy as kp</span>
<span class="sd">        &gt;&gt;&gt; document, errors = kp.loads(&#39;**kern\n*clefG2\n=1\n4c\n4d\n4e\n4f\n&#39;)</span>
<span class="sd">        &gt;&gt;&gt; if len(errors) &gt; 0:</span>
<span class="sd">        &gt;&gt;&gt;     print(f&quot;Grammar didn&#39;t recognize the following errors: {errors}&quot;)</span>
<span class="sd">        [&#39;Error: Invalid **kern spine: 1&#39;]</span>
<span class="sd">        &gt;&gt;&gt;     # Anyway, we can use the Document</span>
<span class="sd">        &gt;&gt;&gt;     print(document)</span>
<span class="sd">        &gt;&gt;&gt; else:</span>
<span class="sd">        &gt;&gt;&gt;     print(document)</span>
<span class="sd">        &lt;kernpy.core.document.Document object at 0x7f8b3b7b3d90&gt;</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">generic</span><span class="o">.</span><span class="n">Generic</span><span class="o">.</span><span class="n">create</span><span class="p">(</span>
        <span class="n">content</span><span class="o">=</span><span class="n">s</span><span class="p">,</span>
        <span class="n">strict</span><span class="o">=</span><span class="n">raise_on_errors</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="kernpy.merge" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">merge</span><span class="p">(</span><span class="n">contents</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">raise_on_errors</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <pre><code>Merge multiple **kern fragments into a single **kern string.      All the fragments should be presented in order. Each fragment does not need to be a complete **kern file. 
Warnings:
    Processing a large number of files in a row may take some time.
     This method performs as many `kp.read` operations as there are fragments to concatenate.
Args:
    contents (Sequence[str]): List of **kern strings
    raise_on_errors (Optional[bool], optional): If True, raise an exception if any grammar error is detected            during parsing.

Returns (Tuple[Document, List[Tuple[int, int]]]): Document object and       and a List of Pairs (Tuple[int, int]) representing the measure fragment indexes of the concatenated document.

Examples:
    &gt;&gt;&gt; import kernpy as kp
    &gt;&gt;&gt; contents = ['**kern
</code></pre>
<p>4e
4f
4g
<em>-
</em>-', '<strong>kern
4a
4b
4c
<em>-
=
</em>-', '</strong>kern
4d
4e
4f
<em>-
</em>-']
        &gt;&gt;&gt; document, indexes = kp.concat(contents)
        &gt;&gt;&gt; indexes
        [(0, 3), (3, 6), (6, 9)]
        &gt;&gt;&gt; document, indexes = kp.concat(contents, separator='
')
        &gt;&gt;&gt; indexes
        [(0, 3), (3, 6), (6, 9)]
        &gt;&gt;&gt; document, indexes = kp.concat(contents, separator='')
        &gt;&gt;&gt; indexes
        [(0, 3), (3, 6), (6, 9)]
        &gt;&gt;&gt; for start, end in indexes:
        &gt;&gt;&gt;     print(kp.dumps(document, from_measure=start, to_measure=end)))</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/io/public.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">merge</span><span class="p">(</span>
        <span class="n">contents</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">raise_on_errors</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">Document</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]]]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Merge multiple **kern fragments into a single **kern string. \</span>
<span class="sd">     All the fragments should be presented in order. Each fragment does not need to be a complete **kern file. \</span>

<span class="sd">    Warnings:</span>
<span class="sd">        Processing a large number of files in a row may take some time.</span>
<span class="sd">         This method performs as many `kp.read` operations as there are fragments to concatenate.</span>
<span class="sd">    Args:</span>
<span class="sd">        contents (Sequence[str]): List of **kern strings</span>
<span class="sd">        raise_on_errors (Optional[bool], optional): If True, raise an exception if any grammar error is detected\</span>
<span class="sd">            during parsing.</span>

<span class="sd">    Returns (Tuple[Document, List[Tuple[int, int]]]): Document object and \</span>
<span class="sd">      and a List of Pairs (Tuple[int, int]) representing the measure fragment indexes of the concatenated document.</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; import kernpy as kp</span>
<span class="sd">        &gt;&gt;&gt; contents = [&#39;**kern\n4e\n4f\n4g\n*-\n*-&#39;, &#39;**kern\n4a\n4b\n4c\n*-\n=\n*-&#39;, &#39;**kern\n4d\n4e\n4f\n*-\n*-&#39;]</span>
<span class="sd">        &gt;&gt;&gt; document, indexes = kp.concat(contents)</span>
<span class="sd">        &gt;&gt;&gt; indexes</span>
<span class="sd">        [(0, 3), (3, 6), (6, 9)]</span>
<span class="sd">        &gt;&gt;&gt; document, indexes = kp.concat(contents, separator=&#39;\n&#39;)</span>
<span class="sd">        &gt;&gt;&gt; indexes</span>
<span class="sd">        [(0, 3), (3, 6), (6, 9)]</span>
<span class="sd">        &gt;&gt;&gt; document, indexes = kp.concat(contents, separator=&#39;&#39;)</span>
<span class="sd">        &gt;&gt;&gt; indexes</span>
<span class="sd">        [(0, 3), (3, 6), (6, 9)]</span>
<span class="sd">        &gt;&gt;&gt; for start, end in indexes:</span>
<span class="sd">        &gt;&gt;&gt;     print(kp.dumps(document, from_measure=start, to_measure=end)))</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">generic</span><span class="o">.</span><span class="n">Generic</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span>
        <span class="n">contents</span><span class="o">=</span><span class="n">contents</span><span class="p">,</span>
        <span class="n">strict</span><span class="o">=</span><span class="n">raise_on_errors</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="kernpy.read" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">read</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">strict</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Read a Humdrum **kern file.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>path</code></td>
            <td>
                  <code><span title="typing.Union">Union</span>[str, <span title="pathlib.Path">Path</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>File path to read</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>strict</code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[bool]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If True, raise an error if the **kern file has any errors. Otherwise, return a list of errors.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns (Document, List[str]): Document object and list of error messages. Empty list if no errors.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">kernpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">kp</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">document</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">kp</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s1">&#39;path/to/file.krn&#39;</span><span class="p">)</span>
</code></pre></div>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">document</span><span class="p">,</span> <span class="n">errors</span> <span class="o">=</span> <span class="n">kp</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s1">&#39;path/to/file.krn&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">errors</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="nb">print</span><span class="p">(</span><span class="n">errors</span><span class="p">)</span>
<span class="go">[&#39;Error: Invalid **kern spine: 1&#39;, &#39;Error: Invalid **kern spine: 2&#39;]</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/generic.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@deprecated</span><span class="p">(</span><span class="s2">&quot;Use &#39;load&#39; instead.&quot;</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">read</span><span class="p">(</span>
        <span class="n">path</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Path</span><span class="p">],</span>
        <span class="n">strict</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="p">(</span><span class="n">Document</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Read a Humdrum **kern file.</span>

<span class="sd">    Args:</span>
<span class="sd">        path (Union[str, Path]): File path to read</span>
<span class="sd">        strict (Optional[bool]): If True, raise an error if the **kern file has any errors. Otherwise, return a list of errors.</span>

<span class="sd">    Returns (Document, List[str]): Document object and list of error messages. Empty list if no errors.</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; import kernpy as kp</span>
<span class="sd">        &gt;&gt;&gt; document, _ = kp.read(&#39;path/to/file.krn&#39;)</span>

<span class="sd">        &gt;&gt;&gt; document, errors = kp.read(&#39;path/to/file.krn&#39;)</span>
<span class="sd">        &gt;&gt;&gt; if len(errors) &gt; 0:</span>
<span class="sd">        &gt;&gt;&gt;     print(errors)</span>
<span class="sd">        [&#39;Error: Invalid **kern spine: 1&#39;, &#39;Error: Invalid **kern spine: 2&#39;]</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">Generic</span><span class="o">.</span><span class="n">read</span><span class="p">(</span>
        <span class="n">path</span><span class="o">=</span><span class="n">Path</span><span class="p">(</span><span class="n">path</span><span class="p">),</span>
        <span class="n">strict</span><span class="o">=</span><span class="n">strict</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="kernpy.spine_types" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">spine_types</span><span class="p">(</span><span class="n">document</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Get the spines of a Document object.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>document</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.Document" href="#kernpy.core.Document">Document</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Document object to get spines from</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>headers</code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="typing.Sequence">Sequence</span>[str]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List of spine types to get. If None, all spines are returned. Using a          header will return all the spines of that type.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns (List[str]): List of spines</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">kernpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">kp</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">document</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">kp</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s1">&#39;path/to/file.krn&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kp</span><span class="o">.</span><span class="n">spine_types</span><span class="p">(</span><span class="n">document</span><span class="p">)</span>
<span class="go">[&#39;**kern&#39;, &#39;**kern&#39;, &#39;**kern&#39;, &#39;**kern&#39;, &#39;**root&#39;, &#39;**harm&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kp</span><span class="o">.</span><span class="n">spine_types</span><span class="p">(</span><span class="n">document</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
<span class="go">[&#39;**kern&#39;, &#39;**kern&#39;, &#39;**kern&#39;, &#39;**kern&#39;, &#39;**root&#39;, &#39;**harm&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kp</span><span class="o">.</span><span class="n">spine_types</span><span class="p">(</span><span class="n">document</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="go">[&#39;**kern&#39;, &#39;**kern&#39;, &#39;**kern&#39;, &#39;**kern&#39;, &#39;**root&#39;, &#39;**harm&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kp</span><span class="o">.</span><span class="n">spine_types</span><span class="p">(</span><span class="n">document</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;**kern&#39;</span><span class="p">])</span>
<span class="go">[&#39;**kern&#39;, &#39;**kern&#39;, &#39;**kern&#39;, &#39;**kern&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kp</span><span class="o">.</span><span class="n">spine_types</span><span class="p">(</span><span class="n">document</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;**kern&#39;</span><span class="p">,</span> <span class="s1">&#39;**root&#39;</span><span class="p">])</span>
<span class="go">[&#39;**kern&#39;, &#39;**kern&#39;, &#39;**kern&#39;, &#39;**kern&#39;, &#39;**root&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kp</span><span class="o">.</span><span class="n">spine_types</span><span class="p">(</span><span class="n">document</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;**kern&#39;</span><span class="p">,</span> <span class="s1">&#39;**root&#39;</span><span class="p">,</span> <span class="s1">&#39;**harm&#39;</span><span class="p">])</span>
<span class="go">[&#39;**kern&#39;, &#39;**kern&#39;, &#39;**kern&#39;, &#39;**kern&#39;, &#39;**root&#39;, &#39;**harm&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kp</span><span class="o">.</span><span class="n">spine_types</span><span class="p">(</span><span class="n">document</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="p">[])</span>
<span class="go">[]</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>kernpy/io/public.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">spine_types</span><span class="p">(</span>
        <span class="n">document</span><span class="p">:</span> <span class="n">Document</span><span class="p">,</span>
        <span class="n">headers</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Sequence</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get the spines of a Document object.</span>

<span class="sd">    Args:</span>
<span class="sd">        document (Document): Document object to get spines from</span>
<span class="sd">        headers (Optional[Sequence[str]]): List of spine types to get. If None, all spines are returned. Using a \</span>
<span class="sd">         header will return all the spines of that type.</span>

<span class="sd">    Returns (List[str]): List of spines</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; import kernpy as kp</span>
<span class="sd">        &gt;&gt;&gt; document, _ = kp.read(&#39;path/to/file.krn&#39;)</span>
<span class="sd">        &gt;&gt;&gt; kp.spine_types(document)</span>
<span class="sd">        [&#39;**kern&#39;, &#39;**kern&#39;, &#39;**kern&#39;, &#39;**kern&#39;, &#39;**root&#39;, &#39;**harm&#39;]</span>
<span class="sd">        &gt;&gt;&gt; kp.spine_types(document, None)</span>
<span class="sd">        [&#39;**kern&#39;, &#39;**kern&#39;, &#39;**kern&#39;, &#39;**kern&#39;, &#39;**root&#39;, &#39;**harm&#39;]</span>
<span class="sd">        &gt;&gt;&gt; kp.spine_types(document, headers=None)</span>
<span class="sd">        [&#39;**kern&#39;, &#39;**kern&#39;, &#39;**kern&#39;, &#39;**kern&#39;, &#39;**root&#39;, &#39;**harm&#39;]</span>
<span class="sd">        &gt;&gt;&gt; kp.spine_types(document, headers=[&#39;**kern&#39;])</span>
<span class="sd">        [&#39;**kern&#39;, &#39;**kern&#39;, &#39;**kern&#39;, &#39;**kern&#39;]</span>
<span class="sd">        &gt;&gt;&gt; kp.spine_types(document, headers=[&#39;**kern&#39;, &#39;**root&#39;])</span>
<span class="sd">        [&#39;**kern&#39;, &#39;**kern&#39;, &#39;**kern&#39;, &#39;**kern&#39;, &#39;**root&#39;]</span>
<span class="sd">        &gt;&gt;&gt; kp.spine_types(document, headers=[&#39;**kern&#39;, &#39;**root&#39;, &#39;**harm&#39;])</span>
<span class="sd">        [&#39;**kern&#39;, &#39;**kern&#39;, &#39;**kern&#39;, &#39;**kern&#39;, &#39;**root&#39;, &#39;**harm&#39;]</span>
<span class="sd">        &gt;&gt;&gt; kp.spine_types(document, headers=[])</span>
<span class="sd">        []</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">generic</span><span class="o">.</span><span class="n">Generic</span><span class="o">.</span><span class="n">get_spine_types</span><span class="p">(</span>
        <span class="n">document</span><span class="o">=</span><span class="n">document</span><span class="p">,</span>
        <span class="n">spine_types</span><span class="o">=</span><span class="n">headers</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="kernpy.store" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">store</span><span class="p">(</span><span class="n">document</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="n">options</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Store a Document object to a file.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>document</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.Document" href="#kernpy.core.Document">Document</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Document object to store</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>path</code></td>
            <td>
                  <code><span title="typing.Union">Union</span>[str, <span title="pathlib.Path">Path</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>File path to store</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>options</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.ExportOptions" href="#kernpy.core.ExportOptions">ExportOptions</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Export options</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns: None</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">kernpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">kp</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">document</span><span class="p">,</span> <span class="n">errors</span> <span class="o">=</span> <span class="n">kp</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s1">&#39;path/to/file.krn&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">options</span> <span class="o">=</span> <span class="n">kp</span><span class="o">.</span><span class="n">ExportOptions</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kp</span><span class="o">.</span><span class="n">store</span><span class="p">(</span><span class="n">document</span><span class="p">,</span> <span class="s1">&#39;path/to/store.krn&#39;</span><span class="p">,</span> <span class="n">options</span><span class="p">)</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/generic.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@deprecated</span><span class="p">(</span><span class="s2">&quot;Use &#39;dump&#39; instead.&quot;</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">store</span><span class="p">(</span>
        <span class="n">document</span><span class="p">:</span> <span class="n">Document</span><span class="p">,</span>
        <span class="n">path</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Path</span><span class="p">],</span>
        <span class="n">options</span><span class="p">:</span> <span class="n">ExportOptions</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Store a Document object to a file.</span>

<span class="sd">    Args:</span>
<span class="sd">        document (Document): Document object to store</span>
<span class="sd">        path (Union[str, Path]): File path to store</span>
<span class="sd">        options (ExportOptions): Export options</span>

<span class="sd">    Returns: None</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; import kernpy as kp</span>
<span class="sd">        &gt;&gt;&gt; document, errors = kp.read(&#39;path/to/file.krn&#39;)</span>
<span class="sd">        &gt;&gt;&gt; options = kp.ExportOptions()</span>
<span class="sd">        &gt;&gt;&gt; kp.store(document, &#39;path/to/store.krn&#39;, options)</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">Generic</span><span class="o">.</span><span class="n">store</span><span class="p">(</span>
        <span class="n">document</span><span class="o">=</span><span class="n">document</span><span class="p">,</span>
        <span class="n">path</span><span class="o">=</span><span class="n">Path</span><span class="p">(</span><span class="n">path</span><span class="p">),</span>
        <span class="n">options</span><span class="o">=</span><span class="n">options</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="kernpy.store_graph" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">store_graph</span><span class="p">(</span><span class="n">document</span><span class="p">,</span> <span class="n">path</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Create a graph representation of a Document object using Graphviz. Save the graph to a file.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>document</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.Document" href="#kernpy.core.Document">Document</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Document object to create graph from</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>path</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>File path to save the graph</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns (None): None</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">kernpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">kp</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">document</span><span class="p">,</span> <span class="n">errors</span> <span class="o">=</span> <span class="n">kp</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s1">&#39;path/to/file.krn&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kp</span><span class="o">.</span><span class="n">store_graph</span><span class="p">(</span><span class="n">document</span><span class="p">,</span> <span class="s1">&#39;path/to/graph.dot&#39;</span><span class="p">)</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/generic.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@deprecated</span><span class="p">(</span><span class="s2">&quot;Use &#39;graph&#39; instead.&quot;</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">store_graph</span><span class="p">(</span>
        <span class="n">document</span><span class="p">:</span> <span class="n">Document</span><span class="p">,</span>
        <span class="n">path</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Path</span><span class="p">]</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Create a graph representation of a Document object using Graphviz. Save the graph to a file.</span>

<span class="sd">    Args:</span>
<span class="sd">        document (Document): Document object to create graph from</span>
<span class="sd">        path (str): File path to save the graph</span>

<span class="sd">    Returns (None): None</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; import kernpy as kp</span>
<span class="sd">        &gt;&gt;&gt; document, errors = kp.read(&#39;path/to/file.krn&#39;)</span>
<span class="sd">        &gt;&gt;&gt; kp.store_graph(document, &#39;path/to/graph.dot&#39;)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">Generic</span><span class="o">.</span><span class="n">store_graph</span><span class="p">(</span>
        <span class="n">document</span><span class="o">=</span><span class="n">document</span><span class="p">,</span>
        <span class="n">path</span><span class="o">=</span><span class="n">Path</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="kernpy.transpose" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">transpose</span><span class="p">(</span><span class="n">input_encoding</span><span class="p">,</span> <span class="n">interval</span><span class="p">,</span> <span class="n">input_format</span><span class="o">=</span><span class="n">NotationEncoding</span><span class="o">.</span><span class="n">HUMDRUM</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">output_format</span><span class="o">=</span><span class="n">NotationEncoding</span><span class="o">.</span><span class="n">HUMDRUM</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">direction</span><span class="o">=</span><span class="n">Direction</span><span class="o">.</span><span class="n">UP</span><span class="o">.</span><span class="n">value</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Transpose a pitch by a given interval.</p>
<p>The pitch must be in the American notation.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>input_encoding</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The pitch to transpose.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>interval</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The interval to transpose the pitch.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>input_format</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The encoding format of the pitch. Default is HUMDRUM.</p>
              </div>
            </td>
            <td>
                  <code><span title="kernpy.core.pitch_models.NotationEncoding.HUMDRUM">HUMDRUM</span>.value</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>output_format</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The encoding format of the transposed pitch. Default is HUMDRUM.</p>
              </div>
            </td>
            <td>
                  <code><span title="kernpy.core.pitch_models.NotationEncoding.HUMDRUM">HUMDRUM</span>.value</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>direction</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The direction of the transposition.'UP' or 'DOWN' Default is 'UP'.</p>
              </div>
            </td>
            <td>
                  <code><span title="kernpy.core.pitch_models.Direction.UP">UP</span>.value</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>str</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The transposed pitch.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">transpose</span><span class="p">(</span><span class="s1">&#39;ccc&#39;</span><span class="p">,</span> <span class="n">IntervalsByName</span><span class="p">[</span><span class="s1">&#39;P4&#39;</span><span class="p">],</span> <span class="n">input_format</span><span class="o">=</span><span class="s1">&#39;kern&#39;</span><span class="p">,</span> <span class="n">output_format</span><span class="o">=</span><span class="s1">&#39;kern&#39;</span><span class="p">)</span>
<span class="go">&#39;fff&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">transpose</span><span class="p">(</span><span class="s1">&#39;ccc&#39;</span><span class="p">,</span> <span class="n">IntervalsByName</span><span class="p">[</span><span class="s1">&#39;P4&#39;</span><span class="p">],</span> <span class="n">input_format</span><span class="o">=</span><span class="n">NotationEncoding</span><span class="o">.</span><span class="n">HUMDRUM</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
<span class="go">&#39;fff&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">transpose</span><span class="p">(</span><span class="s1">&#39;ccc&#39;</span><span class="p">,</span> <span class="n">IntervalsByName</span><span class="p">[</span><span class="s1">&#39;P4&#39;</span><span class="p">],</span> <span class="n">input_format</span><span class="o">=</span><span class="s1">&#39;kern&#39;</span><span class="p">,</span> <span class="n">direction</span><span class="o">=</span><span class="s1">&#39;down&#39;</span><span class="p">)</span>
<span class="go">&#39;gg&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">transpose</span><span class="p">(</span><span class="s1">&#39;ccc&#39;</span><span class="p">,</span> <span class="n">IntervalsByName</span><span class="p">[</span><span class="s1">&#39;P4&#39;</span><span class="p">],</span> <span class="n">input_format</span><span class="o">=</span><span class="s1">&#39;kern&#39;</span><span class="p">,</span> <span class="n">direction</span><span class="o">=</span><span class="n">Direction</span><span class="o">.</span><span class="n">DOWN</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
<span class="go">&#39;gg&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">transpose</span><span class="p">(</span><span class="s1">&#39;ccc#&#39;</span><span class="p">,</span> <span class="n">IntervalsByName</span><span class="p">[</span><span class="s1">&#39;P4&#39;</span><span class="p">])</span>
<span class="go">&#39;fff#&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">transpose</span><span class="p">(</span><span class="s1">&#39;G4&#39;</span><span class="p">,</span> <span class="n">IntervalsByName</span><span class="p">[</span><span class="s1">&#39;m3&#39;</span><span class="p">],</span> <span class="n">input_format</span><span class="o">=</span><span class="s1">&#39;american&#39;</span><span class="p">)</span>
<span class="go">&#39;Bb4&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">transpose</span><span class="p">(</span><span class="s1">&#39;G4&#39;</span><span class="p">,</span> <span class="n">IntervalsByName</span><span class="p">[</span><span class="s1">&#39;m3&#39;</span><span class="p">],</span> <span class="n">input_format</span><span class="o">=</span><span class="n">NotationEncoding</span><span class="o">.</span><span class="n">AMERICAN</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
<span class="go">&#39;Bb4&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">transpose</span><span class="p">(</span><span class="s1">&#39;C3&#39;</span><span class="p">,</span> <span class="n">IntervalsByName</span><span class="p">[</span><span class="s1">&#39;P4&#39;</span><span class="p">],</span> <span class="n">input_format</span><span class="o">=</span><span class="s1">&#39;american&#39;</span><span class="p">,</span> <span class="n">direction</span><span class="o">=</span><span class="s1">&#39;down&#39;</span><span class="p">)</span>
<span class="go">&#39;G2&#39;</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/transposer.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">transpose</span><span class="p">(</span>
        <span class="n">input_encoding</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">interval</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">input_format</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">NotationEncoding</span><span class="o">.</span><span class="n">HUMDRUM</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
        <span class="n">output_format</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">NotationEncoding</span><span class="o">.</span><span class="n">HUMDRUM</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
        <span class="n">direction</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Direction</span><span class="o">.</span><span class="n">UP</span><span class="o">.</span><span class="n">value</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Transpose a pitch by a given interval.</span>

<span class="sd">    The pitch must be in the American notation.</span>

<span class="sd">    Args:</span>
<span class="sd">        input_encoding (str): The pitch to transpose.</span>
<span class="sd">        interval (int): The interval to transpose the pitch.</span>
<span class="sd">        input_format (str): The encoding format of the pitch. Default is HUMDRUM.</span>
<span class="sd">        output_format (str): The encoding format of the transposed pitch. Default is HUMDRUM.</span>
<span class="sd">        direction (str): The direction of the transposition.&#39;UP&#39; or &#39;DOWN&#39; Default is &#39;UP&#39;.</span>

<span class="sd">    Returns:</span>
<span class="sd">        str: The transposed pitch.</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; transpose(&#39;ccc&#39;, IntervalsByName[&#39;P4&#39;], input_format=&#39;kern&#39;, output_format=&#39;kern&#39;)</span>
<span class="sd">        &#39;fff&#39;</span>
<span class="sd">        &gt;&gt;&gt; transpose(&#39;ccc&#39;, IntervalsByName[&#39;P4&#39;], input_format=NotationEncoding.HUMDRUM.value)</span>
<span class="sd">        &#39;fff&#39;</span>
<span class="sd">        &gt;&gt;&gt; transpose(&#39;ccc&#39;, IntervalsByName[&#39;P4&#39;], input_format=&#39;kern&#39;, direction=&#39;down&#39;)</span>
<span class="sd">        &#39;gg&#39;</span>
<span class="sd">        &gt;&gt;&gt; transpose(&#39;ccc&#39;, IntervalsByName[&#39;P4&#39;], input_format=&#39;kern&#39;, direction=Direction.DOWN.value)</span>
<span class="sd">        &#39;gg&#39;</span>
<span class="sd">        &gt;&gt;&gt; transpose(&#39;ccc#&#39;, IntervalsByName[&#39;P4&#39;])</span>
<span class="sd">        &#39;fff#&#39;</span>
<span class="sd">        &gt;&gt;&gt; transpose(&#39;G4&#39;, IntervalsByName[&#39;m3&#39;], input_format=&#39;american&#39;)</span>
<span class="sd">        &#39;Bb4&#39;</span>
<span class="sd">        &gt;&gt;&gt; transpose(&#39;G4&#39;, IntervalsByName[&#39;m3&#39;], input_format=NotationEncoding.AMERICAN.value)</span>
<span class="sd">        &#39;Bb4&#39;</span>
<span class="sd">        &gt;&gt;&gt; transpose(&#39;C3&#39;, IntervalsByName[&#39;P4&#39;], input_format=&#39;american&#39;, direction=&#39;down&#39;)</span>
<span class="sd">        &#39;G2&#39;</span>


<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">importer</span> <span class="o">=</span> <span class="n">PitchImporterFactory</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">input_format</span><span class="p">)</span>
    <span class="n">pitch</span><span class="p">:</span> <span class="n">AgnosticPitch</span> <span class="o">=</span> <span class="n">importer</span><span class="o">.</span><span class="n">import_pitch</span><span class="p">(</span><span class="n">input_encoding</span><span class="p">)</span>

    <span class="n">transposed_pitch</span> <span class="o">=</span> <span class="n">transpose_agnostics</span><span class="p">(</span><span class="n">pitch</span><span class="p">,</span> <span class="n">interval</span><span class="p">,</span> <span class="n">direction</span><span class="o">=</span><span class="n">direction</span><span class="p">)</span>

    <span class="n">exporter</span> <span class="o">=</span> <span class="n">PitchExporterFactory</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">output_format</span><span class="p">)</span>
    <span class="n">content</span> <span class="o">=</span> <span class="n">exporter</span><span class="o">.</span><span class="n">export_pitch</span><span class="p">(</span><span class="n">transposed_pitch</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">content</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="kernpy.transpose_agnostic_to_encoding" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">transpose_agnostic_to_encoding</span><span class="p">(</span><span class="n">agnostic_pitch</span><span class="p">,</span> <span class="n">interval</span><span class="p">,</span> <span class="n">output_format</span><span class="o">=</span><span class="n">NotationEncoding</span><span class="o">.</span><span class="n">HUMDRUM</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">direction</span><span class="o">=</span><span class="n">Direction</span><span class="o">.</span><span class="n">UP</span><span class="o">.</span><span class="n">value</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Transpose an AgnosticPitch by a given interval.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>agnostic_pitch</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.pitch_models.AgnosticPitch" href="#kernpy.core.AgnosticPitch">AgnosticPitch</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The pitch to transpose.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>interval</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The interval to transpose the pitch.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>output_format</code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[str]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The encoding format of the transposed pitch. Default is HUMDRUM.</p>
              </div>
            </td>
            <td>
                  <code><span title="kernpy.core.pitch_models.NotationEncoding.HUMDRUM">HUMDRUM</span>.value</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>direction</code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[str]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The direction of the transposition.'UP' or 'DOWN' Default is 'UP'.</p>
              </div>
            </td>
            <td>
                  <code><span title="kernpy.core.pitch_models.Direction.UP">UP</span>.value</code>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns (str):
    str: The transposed pitch.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">transpose_agnostic_to_encoding</span><span class="p">(</span><span class="n">AgnosticPitch</span><span class="p">(</span><span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="n">IntervalsByName</span><span class="p">[</span><span class="s1">&#39;P4&#39;</span><span class="p">])</span>
<span class="go">&#39;F4&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">transpose_agnostic_to_encoding</span><span class="p">(</span><span class="n">AgnosticPitch</span><span class="p">(</span><span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="n">IntervalsByName</span><span class="p">[</span><span class="s1">&#39;P4&#39;</span><span class="p">],</span> <span class="n">direction</span><span class="o">=</span><span class="s1">&#39;down&#39;</span><span class="p">)</span>
<span class="go">&#39;G3&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">transpose_agnostic_to_encoding</span><span class="p">(</span><span class="n">AgnosticPitch</span><span class="p">(</span><span class="s1">&#39;C#&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="n">IntervalsByName</span><span class="p">[</span><span class="s1">&#39;P4&#39;</span><span class="p">])</span>
<span class="go">&#39;F#4&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">transpose_agnostic_to_encoding</span><span class="p">(</span><span class="n">AgnosticPitch</span><span class="p">(</span><span class="s1">&#39;G&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="n">IntervalsByName</span><span class="p">[</span><span class="s1">&#39;m3&#39;</span><span class="p">],</span> <span class="n">direction</span><span class="o">=</span><span class="s1">&#39;down&#39;</span><span class="p">)</span>
<span class="go">&#39;Bb4&#39;</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/transposer.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">transpose_agnostic_to_encoding</span><span class="p">(</span>
        <span class="n">agnostic_pitch</span><span class="p">:</span> <span class="n">AgnosticPitch</span><span class="p">,</span>
        <span class="n">interval</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">output_format</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">NotationEncoding</span><span class="o">.</span><span class="n">HUMDRUM</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
        <span class="n">direction</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Direction</span><span class="o">.</span><span class="n">UP</span><span class="o">.</span><span class="n">value</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Transpose an AgnosticPitch by a given interval.</span>

<span class="sd">    Args:</span>
<span class="sd">        agnostic_pitch (AgnosticPitch): The pitch to transpose.</span>
<span class="sd">        interval (int): The interval to transpose the pitch.</span>
<span class="sd">        output_format (Optional[str]): The encoding format of the transposed pitch. Default is HUMDRUM.</span>
<span class="sd">        direction (Optional[str]): The direction of the transposition.&#39;UP&#39; or &#39;DOWN&#39; Default is &#39;UP&#39;.</span>

<span class="sd">    Returns (str):</span>
<span class="sd">        str: The transposed pitch.</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; transpose_agnostic_to_encoding(AgnosticPitch(&#39;C&#39;, 4), IntervalsByName[&#39;P4&#39;])</span>
<span class="sd">        &#39;F4&#39;</span>
<span class="sd">        &gt;&gt;&gt; transpose_agnostic_to_encoding(AgnosticPitch(&#39;C&#39;, 4), IntervalsByName[&#39;P4&#39;], direction=&#39;down&#39;)</span>
<span class="sd">        &#39;G3&#39;</span>
<span class="sd">        &gt;&gt;&gt; transpose_agnostic_to_encoding(AgnosticPitch(&#39;C#&#39;, 4), IntervalsByName[&#39;P4&#39;])</span>
<span class="sd">        &#39;F#4&#39;</span>
<span class="sd">        &gt;&gt;&gt; transpose_agnostic_to_encoding(AgnosticPitch(&#39;G&#39;, 4), IntervalsByName[&#39;m3&#39;], direction=&#39;down&#39;)</span>
<span class="sd">        &#39;Bb4&#39;</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">exporter</span> <span class="o">=</span> <span class="n">PitchExporterFactory</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">output_format</span><span class="p">)</span>
    <span class="n">transposed_pitch</span> <span class="o">=</span> <span class="n">transpose_agnostics</span><span class="p">(</span><span class="n">agnostic_pitch</span><span class="p">,</span> <span class="n">interval</span><span class="p">,</span> <span class="n">direction</span><span class="o">=</span><span class="n">direction</span><span class="p">)</span>
    <span class="n">content</span> <span class="o">=</span> <span class="n">exporter</span><span class="o">.</span><span class="n">export_pitch</span><span class="p">(</span><span class="n">transposed_pitch</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">content</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="kernpy.transpose_agnostics" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">transpose_agnostics</span><span class="p">(</span><span class="n">input_pitch</span><span class="p">,</span> <span class="n">interval</span><span class="p">,</span> <span class="n">direction</span><span class="o">=</span><span class="n">Direction</span><span class="o">.</span><span class="n">UP</span><span class="o">.</span><span class="n">value</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Transpose an AgnosticPitch by a given interval.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>input_pitch</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.pitch_models.AgnosticPitch" href="#kernpy.core.AgnosticPitch">AgnosticPitch</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The pitch to transpose.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>interval</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The interval to transpose the pitch.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>direction</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The direction of the transposition. 'UP' or 'DOWN'. Default is 'UP'.</p>
              </div>
            </td>
            <td>
                  <code><span title="kernpy.core.pitch_models.Direction.UP">UP</span>.value</code>
            </td>
          </tr>
      </tbody>
    </table>


<details class="returns-" open>
  <summary>Returns</summary>
  <p>AgnosticPitch: The transposed pitch.</p>
</details>

<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">transpose_agnostics</span><span class="p">(</span><span class="n">AgnosticPitch</span><span class="p">(</span><span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="n">IntervalsByName</span><span class="p">[</span><span class="s1">&#39;P4&#39;</span><span class="p">])</span>
<span class="go">AgnosticPitch(&#39;F&#39;, 4)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">transpose_agnostics</span><span class="p">(</span><span class="n">AgnosticPitch</span><span class="p">(</span><span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="n">IntervalsByName</span><span class="p">[</span><span class="s1">&#39;P4&#39;</span><span class="p">],</span> <span class="n">direction</span><span class="o">=</span><span class="s1">&#39;down&#39;</span><span class="p">)</span>
<span class="go">AgnosticPitch(&#39;G&#39;, 3)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">transpose_agnostics</span><span class="p">(</span><span class="n">AgnosticPitch</span><span class="p">(</span><span class="s1">&#39;C#&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="n">IntervalsByName</span><span class="p">[</span><span class="s1">&#39;P4&#39;</span><span class="p">])</span>
<span class="go">AgnosticPitch(&#39;F#&#39;, 4)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">transpose_agnostics</span><span class="p">(</span><span class="n">AgnosticPitch</span><span class="p">(</span><span class="s1">&#39;G&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="n">IntervalsByName</span><span class="p">[</span><span class="s1">&#39;m3&#39;</span><span class="p">],</span> <span class="n">direction</span><span class="o">=</span><span class="s1">&#39;down&#39;</span><span class="p">)</span>
<span class="go">AgnosticPitch(&#39;Bb&#39;, 4)</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/transposer.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">transpose_agnostics</span><span class="p">(</span>
        <span class="n">input_pitch</span><span class="p">:</span> <span class="n">AgnosticPitch</span><span class="p">,</span>
        <span class="n">interval</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">direction</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Direction</span><span class="o">.</span><span class="n">UP</span><span class="o">.</span><span class="n">value</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AgnosticPitch</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Transpose an AgnosticPitch by a given interval.</span>

<span class="sd">    Args:</span>
<span class="sd">        input_pitch (AgnosticPitch): The pitch to transpose.</span>
<span class="sd">        interval (int): The interval to transpose the pitch.</span>
<span class="sd">        direction (str): The direction of the transposition. &#39;UP&#39; or &#39;DOWN&#39;. Default is &#39;UP&#39;.</span>

<span class="sd">    Returns :</span>
<span class="sd">        AgnosticPitch: The transposed pitch.</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; transpose_agnostics(AgnosticPitch(&#39;C&#39;, 4), IntervalsByName[&#39;P4&#39;])</span>
<span class="sd">        AgnosticPitch(&#39;F&#39;, 4)</span>
<span class="sd">        &gt;&gt;&gt; transpose_agnostics(AgnosticPitch(&#39;C&#39;, 4), IntervalsByName[&#39;P4&#39;], direction=&#39;down&#39;)</span>
<span class="sd">        AgnosticPitch(&#39;G&#39;, 3)</span>
<span class="sd">        &gt;&gt;&gt; transpose_agnostics(AgnosticPitch(&#39;C#&#39;, 4), IntervalsByName[&#39;P4&#39;])</span>
<span class="sd">        AgnosticPitch(&#39;F#&#39;, 4)</span>
<span class="sd">        &gt;&gt;&gt; transpose_agnostics(AgnosticPitch(&#39;G&#39;, 4), IntervalsByName[&#39;m3&#39;], direction=&#39;down&#39;)</span>
<span class="sd">        AgnosticPitch(&#39;Bb&#39;, 4)</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">AgnosticPitch</span><span class="o">.</span><span class="n">to_transposed</span><span class="p">(</span><span class="n">input_pitch</span><span class="p">,</span> <span class="n">interval</span><span class="p">,</span> <span class="n">direction</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="kernpy.transpose_encoding_to_agnostic" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">transpose_encoding_to_agnostic</span><span class="p">(</span><span class="n">input_encoding</span><span class="p">,</span> <span class="n">interval</span><span class="p">,</span> <span class="n">input_format</span><span class="o">=</span><span class="n">NotationEncoding</span><span class="o">.</span><span class="n">HUMDRUM</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">direction</span><span class="o">=</span><span class="n">Direction</span><span class="o">.</span><span class="n">UP</span><span class="o">.</span><span class="n">value</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Transpose a pitch by a given interval.</p>
<p>The pitch must be in the American notation.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>input_encoding</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The pitch to transpose.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>interval</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The interval to transpose the pitch.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>input_format</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The encoding format of the pitch. Default is HUMDRUM.</p>
              </div>
            </td>
            <td>
                  <code><span title="kernpy.core.pitch_models.NotationEncoding.HUMDRUM">HUMDRUM</span>.value</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>direction</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The direction of the transposition.'UP' or 'DOWN' Default is 'UP'.</p>
              </div>
            </td>
            <td>
                  <code><span title="kernpy.core.pitch_models.Direction.UP">UP</span>.value</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>AgnosticPitch</code></td>            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.pitch_models.AgnosticPitch" href="#kernpy.core.AgnosticPitch">AgnosticPitch</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The transposed pitch.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">transpose_encoding_to_agnostic</span><span class="p">(</span><span class="s1">&#39;ccc&#39;</span><span class="p">,</span> <span class="n">IntervalsByName</span><span class="p">[</span><span class="s1">&#39;P4&#39;</span><span class="p">],</span> <span class="n">input_format</span><span class="o">=</span><span class="s1">&#39;kern&#39;</span><span class="p">)</span>
<span class="go">AgnosticPitch(&#39;fff&#39;, 4)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">transpose_encoding_to_agnostic</span><span class="p">(</span><span class="s1">&#39;ccc&#39;</span><span class="p">,</span> <span class="n">IntervalsByName</span><span class="p">[</span><span class="s1">&#39;P4&#39;</span><span class="p">],</span> <span class="n">input_format</span><span class="o">=</span><span class="n">NotationEncoding</span><span class="o">.</span><span class="n">HUMDRUM</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
<span class="go">AgnosticPitch(&#39;fff&#39;, 4)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">transpose_encoding_to_agnostic</span><span class="p">(</span><span class="s1">&#39;ccc&#39;</span><span class="p">,</span> <span class="n">IntervalsByName</span><span class="p">[</span><span class="s1">&#39;P4&#39;</span><span class="p">],</span> <span class="n">input_format</span><span class="o">=</span><span class="s1">&#39;kern&#39;</span><span class="p">,</span> <span class="n">direction</span><span class="o">=</span><span class="s1">&#39;down&#39;</span><span class="p">)</span>
<span class="go">AgnosticPitch(&#39;gg&#39;, 3)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">transpose_encoding_to_agnostic</span><span class="p">(</span><span class="s1">&#39;ccc#&#39;</span><span class="p">,</span> <span class="n">IntervalsByName</span><span class="p">[</span><span class="s1">&#39;P4&#39;</span><span class="p">])</span>
<span class="go">AgnosticPitch(&#39;fff#&#39;, 4)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">transpose_encoding_to_agnostic</span><span class="p">(</span><span class="s1">&#39;G4&#39;</span><span class="p">,</span> <span class="n">IntervalsByName</span><span class="p">[</span><span class="s1">&#39;m3&#39;</span><span class="p">],</span> <span class="n">input_format</span><span class="o">=</span><span class="s1">&#39;american&#39;</span><span class="p">)</span>
<span class="go">AgnosticPitch(&#39;Bb4&#39;, 4)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">transpose_encoding_to_agnostic</span><span class="p">(</span><span class="s1">&#39;C3&#39;</span><span class="p">,</span> <span class="n">IntervalsByName</span><span class="p">[</span><span class="s1">&#39;P4&#39;</span><span class="p">],</span> <span class="n">input_format</span><span class="o">=</span><span class="s1">&#39;american&#39;</span><span class="p">,</span> <span class="n">direction</span><span class="o">=</span><span class="s1">&#39;down&#39;</span><span class="p">)</span>
<span class="go">AgnosticPitch(&#39;G2&#39;, 2)</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/transposer.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">transpose_encoding_to_agnostic</span><span class="p">(</span>
        <span class="n">input_encoding</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">interval</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">input_format</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">NotationEncoding</span><span class="o">.</span><span class="n">HUMDRUM</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
        <span class="n">direction</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Direction</span><span class="o">.</span><span class="n">UP</span><span class="o">.</span><span class="n">value</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AgnosticPitch</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Transpose a pitch by a given interval.</span>

<span class="sd">    The pitch must be in the American notation.</span>

<span class="sd">    Args:</span>
<span class="sd">        input_encoding (str): The pitch to transpose.</span>
<span class="sd">        interval (int): The interval to transpose the pitch.</span>
<span class="sd">        input_format (str): The encoding format of the pitch. Default is HUMDRUM.</span>
<span class="sd">        direction (str): The direction of the transposition.&#39;UP&#39; or &#39;DOWN&#39; Default is &#39;UP&#39;.</span>

<span class="sd">    Returns:</span>
<span class="sd">        AgnosticPitch: The transposed pitch.</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; transpose_encoding_to_agnostic(&#39;ccc&#39;, IntervalsByName[&#39;P4&#39;], input_format=&#39;kern&#39;)</span>
<span class="sd">        AgnosticPitch(&#39;fff&#39;, 4)</span>
<span class="sd">        &gt;&gt;&gt; transpose_encoding_to_agnostic(&#39;ccc&#39;, IntervalsByName[&#39;P4&#39;], input_format=NotationEncoding.HUMDRUM.value)</span>
<span class="sd">        AgnosticPitch(&#39;fff&#39;, 4)</span>
<span class="sd">        &gt;&gt;&gt; transpose_encoding_to_agnostic(&#39;ccc&#39;, IntervalsByName[&#39;P4&#39;], input_format=&#39;kern&#39;, direction=&#39;down&#39;)</span>
<span class="sd">        AgnosticPitch(&#39;gg&#39;, 3)</span>
<span class="sd">        &gt;&gt;&gt; transpose_encoding_to_agnostic(&#39;ccc#&#39;, IntervalsByName[&#39;P4&#39;])</span>
<span class="sd">        AgnosticPitch(&#39;fff#&#39;, 4)</span>
<span class="sd">        &gt;&gt;&gt; transpose_encoding_to_agnostic(&#39;G4&#39;, IntervalsByName[&#39;m3&#39;], input_format=&#39;american&#39;)</span>
<span class="sd">        AgnosticPitch(&#39;Bb4&#39;, 4)</span>
<span class="sd">        &gt;&gt;&gt; transpose_encoding_to_agnostic(&#39;C3&#39;, IntervalsByName[&#39;P4&#39;], input_format=&#39;american&#39;, direction=&#39;down&#39;)</span>
<span class="sd">        AgnosticPitch(&#39;G2&#39;, 2)</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">importer</span> <span class="o">=</span> <span class="n">PitchImporterFactory</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">input_format</span><span class="p">)</span>
    <span class="n">pitch</span><span class="p">:</span> <span class="n">AgnosticPitch</span> <span class="o">=</span> <span class="n">importer</span><span class="o">.</span><span class="n">import_pitch</span><span class="p">(</span><span class="n">input_encoding</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">transpose_agnostics</span><span class="p">(</span><span class="n">pitch</span><span class="p">,</span> <span class="n">interval</span><span class="p">,</span> <span class="n">direction</span><span class="o">=</span><span class="n">direction</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div><h2 id="modules">Modules</h2>


<div class="doc doc-object doc-module">



<a id="kernpy.core"></a>
    <div class="doc doc-contents first">

        <p>kernpy.core</p>
<p>=====</p>
<p>This module contains the core functionality of the <code>kernpy</code> package.</p>



  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h2 id="kernpy.core.Intervals" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">Intervals</span> <span class="o">=</span> <span class="p">{</span><span class="o">-</span><span class="mi">2</span><span class="p">:</span> <span class="s1">&#39;dd1&#39;</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span> <span class="s1">&#39;d1&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">:</span> <span class="s1">&#39;P1&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">:</span> <span class="s1">&#39;A1&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span> <span class="s1">&#39;AA1&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="s1">&#39;dd2&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">:</span> <span class="s1">&#39;d2&#39;</span><span class="p">,</span> <span class="mi">5</span><span class="p">:</span> <span class="s1">&#39;m2&#39;</span><span class="p">,</span> <span class="mi">6</span><span class="p">:</span> <span class="s1">&#39;M2&#39;</span><span class="p">,</span> <span class="mi">7</span><span class="p">:</span> <span class="s1">&#39;A2&#39;</span><span class="p">,</span> <span class="mi">8</span><span class="p">:</span> <span class="s1">&#39;AA2&#39;</span><span class="p">,</span> <span class="mi">9</span><span class="p">:</span> <span class="s1">&#39;dd3&#39;</span><span class="p">,</span> <span class="mi">10</span><span class="p">:</span> <span class="s1">&#39;d3&#39;</span><span class="p">,</span> <span class="mi">11</span><span class="p">:</span> <span class="s1">&#39;m3&#39;</span><span class="p">,</span> <span class="mi">12</span><span class="p">:</span> <span class="s1">&#39;M3&#39;</span><span class="p">,</span> <span class="mi">13</span><span class="p">:</span> <span class="s1">&#39;A3&#39;</span><span class="p">,</span> <span class="mi">14</span><span class="p">:</span> <span class="s1">&#39;AA3&#39;</span><span class="p">,</span> <span class="mi">15</span><span class="p">:</span> <span class="s1">&#39;dd4&#39;</span><span class="p">,</span> <span class="mi">16</span><span class="p">:</span> <span class="s1">&#39;d4&#39;</span><span class="p">,</span> <span class="mi">17</span><span class="p">:</span> <span class="s1">&#39;P4&#39;</span><span class="p">,</span> <span class="mi">18</span><span class="p">:</span> <span class="s1">&#39;A4&#39;</span><span class="p">,</span> <span class="mi">19</span><span class="p">:</span> <span class="s1">&#39;AA4&#39;</span><span class="p">,</span> <span class="mi">21</span><span class="p">:</span> <span class="s1">&#39;dd5&#39;</span><span class="p">,</span> <span class="mi">22</span><span class="p">:</span> <span class="s1">&#39;d5&#39;</span><span class="p">,</span> <span class="mi">23</span><span class="p">:</span> <span class="s1">&#39;P5&#39;</span><span class="p">,</span> <span class="mi">24</span><span class="p">:</span> <span class="s1">&#39;A5&#39;</span><span class="p">,</span> <span class="mi">25</span><span class="p">:</span> <span class="s1">&#39;AA5&#39;</span><span class="p">,</span> <span class="mi">26</span><span class="p">:</span> <span class="s1">&#39;dd6&#39;</span><span class="p">,</span> <span class="mi">27</span><span class="p">:</span> <span class="s1">&#39;d6&#39;</span><span class="p">,</span> <span class="mi">28</span><span class="p">:</span> <span class="s1">&#39;m6&#39;</span><span class="p">,</span> <span class="mi">29</span><span class="p">:</span> <span class="s1">&#39;M6&#39;</span><span class="p">,</span> <span class="mi">30</span><span class="p">:</span> <span class="s1">&#39;A6&#39;</span><span class="p">,</span> <span class="mi">31</span><span class="p">:</span> <span class="s1">&#39;AA6&#39;</span><span class="p">,</span> <span class="mi">32</span><span class="p">:</span> <span class="s1">&#39;dd7&#39;</span><span class="p">,</span> <span class="mi">33</span><span class="p">:</span> <span class="s1">&#39;d7&#39;</span><span class="p">,</span> <span class="mi">34</span><span class="p">:</span> <span class="s1">&#39;m7&#39;</span><span class="p">,</span> <span class="mi">35</span><span class="p">:</span> <span class="s1">&#39;M7&#39;</span><span class="p">,</span> <span class="mi">36</span><span class="p">:</span> <span class="s1">&#39;A7&#39;</span><span class="p">,</span> <span class="mi">37</span><span class="p">:</span> <span class="s1">&#39;AA7&#39;</span><span class="p">,</span> <span class="mi">40</span><span class="p">:</span> <span class="s1">&#39;octave&#39;</span><span class="p">}</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Base-40 interval classes (d=diminished, m=minor, M=major, P=perfect, A=augmented)</p>
    </div>

</div>


<div class="doc doc-object doc-class">



<h2 id="kernpy.core.AbstractToken" class="doc doc-heading">
            <code>AbstractToken</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="abc.ABC">ABC</span></code></p>


        <p>An abstract base class representing a token.</p>
<p>This class serves as a blueprint for creating various types of tokens, which are
categorized based on their TokenCategory.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="kernpy.core.AbstractToken.encoding">encoding</span></code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The original representation of the token.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="kernpy.core.AbstractToken.category">category</span></code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.tokens.TokenCategory" href="#kernpy.core.TokenCategory">TokenCategory</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The category of the token.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="kernpy.core.AbstractToken.hidden">hidden</span></code></td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A flag indicating whether the token is hidden. Defaults to False.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

              <details class="quote">
                <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1384</span>
<span class="normal">1385</span>
<span class="normal">1386</span>
<span class="normal">1387</span>
<span class="normal">1388</span>
<span class="normal">1389</span>
<span class="normal">1390</span>
<span class="normal">1391</span>
<span class="normal">1392</span>
<span class="normal">1393</span>
<span class="normal">1394</span>
<span class="normal">1395</span>
<span class="normal">1396</span>
<span class="normal">1397</span>
<span class="normal">1398</span>
<span class="normal">1399</span>
<span class="normal">1400</span>
<span class="normal">1401</span>
<span class="normal">1402</span>
<span class="normal">1403</span>
<span class="normal">1404</span>
<span class="normal">1405</span>
<span class="normal">1406</span>
<span class="normal">1407</span>
<span class="normal">1408</span>
<span class="normal">1409</span>
<span class="normal">1410</span>
<span class="normal">1411</span>
<span class="normal">1412</span>
<span class="normal">1413</span>
<span class="normal">1414</span>
<span class="normal">1415</span>
<span class="normal">1416</span>
<span class="normal">1417</span>
<span class="normal">1418</span>
<span class="normal">1419</span>
<span class="normal">1420</span>
<span class="normal">1421</span>
<span class="normal">1422</span>
<span class="normal">1423</span>
<span class="normal">1424</span>
<span class="normal">1425</span>
<span class="normal">1426</span>
<span class="normal">1427</span>
<span class="normal">1428</span>
<span class="normal">1429</span>
<span class="normal">1430</span>
<span class="normal">1431</span>
<span class="normal">1432</span>
<span class="normal">1433</span>
<span class="normal">1434</span>
<span class="normal">1435</span>
<span class="normal">1436</span>
<span class="normal">1437</span>
<span class="normal">1438</span>
<span class="normal">1439</span>
<span class="normal">1440</span>
<span class="normal">1441</span>
<span class="normal">1442</span>
<span class="normal">1443</span>
<span class="normal">1444</span>
<span class="normal">1445</span>
<span class="normal">1446</span>
<span class="normal">1447</span>
<span class="normal">1448</span>
<span class="normal">1449</span>
<span class="normal">1450</span>
<span class="normal">1451</span>
<span class="normal">1452</span>
<span class="normal">1453</span>
<span class="normal">1454</span>
<span class="normal">1455</span>
<span class="normal">1456</span>
<span class="normal">1457</span>
<span class="normal">1458</span>
<span class="normal">1459</span>
<span class="normal">1460</span>
<span class="normal">1461</span>
<span class="normal">1462</span>
<span class="normal">1463</span>
<span class="normal">1464</span>
<span class="normal">1465</span>
<span class="normal">1466</span>
<span class="normal">1467</span>
<span class="normal">1468</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">AbstractToken</span><span class="p">(</span><span class="n">ABC</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    An abstract base class representing a token.</span>

<span class="sd">    This class serves as a blueprint for creating various types of tokens, which are</span>
<span class="sd">    categorized based on their TokenCategory.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        encoding (str): The original representation of the token.</span>
<span class="sd">        category (TokenCategory): The category of the token.</span>
<span class="sd">        hidden (bool): A flag indicating whether the token is hidden. Defaults to False.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">encoding</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">category</span><span class="p">:</span> <span class="n">TokenCategory</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        AbstractToken constructor</span>

<span class="sd">        Args:</span>
<span class="sd">            encoding (str): The original representation of the token.</span>
<span class="sd">            category (TokenCategory): The category of the token.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">encoding</span> <span class="o">=</span> <span class="n">encoding</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">category</span> <span class="o">=</span> <span class="n">category</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">hidden</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">export</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Exports the token.</span>

<span class="sd">        Keyword Arguments:</span>
<span class="sd">            filter_categories (Optional[Callable[[TokenCategory], bool]]): A function that takes a TokenCategory and returns a boolean</span>
<span class="sd">                indicating whether the token should be included in the export. If provided, only tokens for which the</span>
<span class="sd">                function returns True will be exported. Defaults to None. If None, all tokens will be exported.</span>

<span class="sd">        Returns:</span>
<span class="sd">            str: The encoded token representation, potentially filtered if a filter_categories function is provided.</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; token = AbstractToken(&#39;*clefF4&#39;, TokenCategory.SIGNATURES)</span>
<span class="sd">            &gt;&gt;&gt; token.export()</span>
<span class="sd">            &#39;*clefF4&#39;</span>
<span class="sd">            &gt;&gt;&gt; token.export(filter_categories=lambda cat: cat in {TokenCategory.SIGNATURES, TokenCategory.SIGNATURES.DURATION})</span>
<span class="sd">            &#39;*clefF4&#39;</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">pass</span>


    <span class="k">def</span><span class="w"> </span><span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the string representation of the token.</span>

<span class="sd">        Returns (str): The string representation of the token without processing.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">export</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Compare two tokens.</span>

<span class="sd">        Args:</span>
<span class="sd">            other (AbstractToken): The other token to compare.</span>
<span class="sd">        Returns (bool): True if the tokens are equal, False otherwise.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">AbstractToken</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">encoding</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">encoding</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">category</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">category</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__ne__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Compare two tokens.</span>

<span class="sd">        Args:</span>
<span class="sd">            other (AbstractToken): The other token to compare.</span>
<span class="sd">        Returns (bool): True if the tokens are different, False otherwise.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__eq__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__hash__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the hash of the token.</span>

<span class="sd">        Returns (int): The hash of the token.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">hash</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">export</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">category</span><span class="p">))</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="kernpy.core.AbstractToken.__eq__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__eq__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Compare two tokens.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>other</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.tokens.AbstractToken" href="#kernpy.core.AbstractToken">AbstractToken</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The other token to compare.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns (bool): True if the tokens are equal, False otherwise.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1440</span>
<span class="normal">1441</span>
<span class="normal">1442</span>
<span class="normal">1443</span>
<span class="normal">1444</span>
<span class="normal">1445</span>
<span class="normal">1446</span>
<span class="normal">1447</span>
<span class="normal">1448</span>
<span class="normal">1449</span>
<span class="normal">1450</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Compare two tokens.</span>

<span class="sd">    Args:</span>
<span class="sd">        other (AbstractToken): The other token to compare.</span>
<span class="sd">    Returns (bool): True if the tokens are equal, False otherwise.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">AbstractToken</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">encoding</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">encoding</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">category</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">category</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.AbstractToken.__hash__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__hash__</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Returns the hash of the token.</p>
<p>Returns (int): The hash of the token.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1462</span>
<span class="normal">1463</span>
<span class="normal">1464</span>
<span class="normal">1465</span>
<span class="normal">1466</span>
<span class="normal">1467</span>
<span class="normal">1468</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__hash__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns the hash of the token.</span>

<span class="sd">    Returns (int): The hash of the token.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="nb">hash</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">export</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">category</span><span class="p">))</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.AbstractToken.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">encoding</span><span class="p">,</span> <span class="n">category</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>AbstractToken constructor</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>encoding</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The original representation of the token.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>category</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.tokens.TokenCategory" href="#kernpy.core.TokenCategory">TokenCategory</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The category of the token.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1397</span>
<span class="normal">1398</span>
<span class="normal">1399</span>
<span class="normal">1400</span>
<span class="normal">1401</span>
<span class="normal">1402</span>
<span class="normal">1403</span>
<span class="normal">1404</span>
<span class="normal">1405</span>
<span class="normal">1406</span>
<span class="normal">1407</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">encoding</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">category</span><span class="p">:</span> <span class="n">TokenCategory</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    AbstractToken constructor</span>

<span class="sd">    Args:</span>
<span class="sd">        encoding (str): The original representation of the token.</span>
<span class="sd">        category (TokenCategory): The category of the token.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">encoding</span> <span class="o">=</span> <span class="n">encoding</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">category</span> <span class="o">=</span> <span class="n">category</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">hidden</span> <span class="o">=</span> <span class="kc">False</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.AbstractToken.__ne__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__ne__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Compare two tokens.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>other</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.tokens.AbstractToken" href="#kernpy.core.AbstractToken">AbstractToken</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The other token to compare.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns (bool): True if the tokens are different, False otherwise.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1452</span>
<span class="normal">1453</span>
<span class="normal">1454</span>
<span class="normal">1455</span>
<span class="normal">1456</span>
<span class="normal">1457</span>
<span class="normal">1458</span>
<span class="normal">1459</span>
<span class="normal">1460</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__ne__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Compare two tokens.</span>

<span class="sd">    Args:</span>
<span class="sd">        other (AbstractToken): The other token to compare.</span>
<span class="sd">    Returns (bool): True if the tokens are different, False otherwise.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__eq__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.AbstractToken.__str__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__str__</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Returns the string representation of the token.</p>
<p>Returns (str): The string representation of the token without processing.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1432</span>
<span class="normal">1433</span>
<span class="normal">1434</span>
<span class="normal">1435</span>
<span class="normal">1436</span>
<span class="normal">1437</span>
<span class="normal">1438</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns the string representation of the token.</span>

<span class="sd">    Returns (str): The string representation of the token without processing.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">export</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.AbstractToken.export" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">export</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-abstractmethod"><code>abstractmethod</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>Exports the token.</p>


<p><span class="doc-section-title">Other Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>filter_categories</code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[Callable[[<a class="autorefs autorefs-internal" title="kernpy.core.tokens.TokenCategory" href="#kernpy.core.TokenCategory">TokenCategory</a>], bool]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A function that takes a TokenCategory and returns a boolean
indicating whether the token should be included in the export. If provided, only tokens for which the
function returns True will be exported. Defaults to None. If None, all tokens will be exported.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>str</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The encoded token representation, potentially filtered if a filter_categories function is provided.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">token</span> <span class="o">=</span> <span class="n">AbstractToken</span><span class="p">(</span><span class="s1">&#39;*clefF4&#39;</span><span class="p">,</span> <span class="n">TokenCategory</span><span class="o">.</span><span class="n">SIGNATURES</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">token</span><span class="o">.</span><span class="n">export</span><span class="p">()</span>
<span class="go">&#39;*clefF4&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">token</span><span class="o">.</span><span class="n">export</span><span class="p">(</span><span class="n">filter_categories</span><span class="o">=</span><span class="k">lambda</span> <span class="n">cat</span><span class="p">:</span> <span class="n">cat</span> <span class="ow">in</span> <span class="p">{</span><span class="n">TokenCategory</span><span class="o">.</span><span class="n">SIGNATURES</span><span class="p">,</span> <span class="n">TokenCategory</span><span class="o">.</span><span class="n">SIGNATURES</span><span class="o">.</span><span class="n">DURATION</span><span class="p">})</span>
<span class="go">&#39;*clefF4&#39;</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1409</span>
<span class="normal">1410</span>
<span class="normal">1411</span>
<span class="normal">1412</span>
<span class="normal">1413</span>
<span class="normal">1414</span>
<span class="normal">1415</span>
<span class="normal">1416</span>
<span class="normal">1417</span>
<span class="normal">1418</span>
<span class="normal">1419</span>
<span class="normal">1420</span>
<span class="normal">1421</span>
<span class="normal">1422</span>
<span class="normal">1423</span>
<span class="normal">1424</span>
<span class="normal">1425</span>
<span class="normal">1426</span>
<span class="normal">1427</span>
<span class="normal">1428</span>
<span class="normal">1429</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">export</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Exports the token.</span>

<span class="sd">    Keyword Arguments:</span>
<span class="sd">        filter_categories (Optional[Callable[[TokenCategory], bool]]): A function that takes a TokenCategory and returns a boolean</span>
<span class="sd">            indicating whether the token should be included in the export. If provided, only tokens for which the</span>
<span class="sd">            function returns True will be exported. Defaults to None. If None, all tokens will be exported.</span>

<span class="sd">    Returns:</span>
<span class="sd">        str: The encoded token representation, potentially filtered if a filter_categories function is provided.</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; token = AbstractToken(&#39;*clefF4&#39;, TokenCategory.SIGNATURES)</span>
<span class="sd">        &gt;&gt;&gt; token.export()</span>
<span class="sd">        &#39;*clefF4&#39;</span>
<span class="sd">        &gt;&gt;&gt; token.export(filter_categories=lambda cat: cat in {TokenCategory.SIGNATURES, TokenCategory.SIGNATURES.DURATION})</span>
<span class="sd">        &#39;*clefF4&#39;</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">pass</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="kernpy.core.AgnosticPitch" class="doc doc-heading">
            <code>AgnosticPitch</code>


</h2>


    <div class="doc doc-contents ">


        <p>Represents a pitch in a generic way, independent of the notation system used.</p>

              <details class="quote">
                <summary>Source code in <code>kernpy/core/pitch_models.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">AgnosticPitch</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Represents a pitch in a generic way, independent of the notation system used.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">ASCENDANT_ACCIDENTAL_ALTERATION</span> <span class="o">=</span> <span class="s1">&#39;+&#39;</span>
    <span class="n">DESCENDENT_ACCIDENTAL_ALTERATION</span> <span class="o">=</span> <span class="s1">&#39;-&#39;</span>
    <span class="n">ACCIDENTAL_ALTERATIONS</span> <span class="o">=</span> <span class="p">{</span>
        <span class="n">ASCENDANT_ACCIDENTAL_ALTERATION</span><span class="p">,</span>
        <span class="n">DESCENDENT_ACCIDENTAL_ALTERATION</span>
    <span class="p">}</span>


    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">octave</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initialize the AgnosticPitch object.</span>

<span class="sd">        Args:</span>
<span class="sd">            name (str): The name of the pitch (e.g., &#39;C&#39;, &#39;D#&#39;, &#39;Bb&#39;).</span>
<span class="sd">            octave (int): The octave of the pitch (e.g., 4 for middle C).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">octave</span> <span class="o">=</span> <span class="n">octave</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">name</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__name</span>

    <span class="nd">@name</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="n">accidentals</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">c</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">name</span> <span class="k">if</span> <span class="n">c</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="s1">&#39;+&#39;</span><span class="p">]])</span>
        <span class="n">name</span> <span class="o">=</span> <span class="n">name</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span>
        <span class="n">name</span> <span class="o">=</span> <span class="n">name</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;#&#39;</span><span class="p">,</span> <span class="s1">&#39;+&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;-&#39;</span><span class="p">)</span>

        <span class="n">check_name</span> <span class="o">=</span> <span class="n">name</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;+&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">check_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">pitches</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Invalid pitch: </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">accidentals</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">3</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Invalid pitch: </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">. Maximum of 3 accidentals allowed. &quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__name</span> <span class="o">=</span> <span class="n">name</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">octave</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__octave</span>

    <span class="nd">@octave</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">octave</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">octave</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">octave</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Invalid octave: </span><span class="si">{</span><span class="n">octave</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__octave</span> <span class="o">=</span> <span class="n">octave</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_chroma</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="mi">40</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">octave</span> <span class="o">+</span> <span class="n">Chromas</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">]</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">to_transposed</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">agnostic_pitch</span><span class="p">:</span> <span class="s1">&#39;AgnosticPitch&#39;</span><span class="p">,</span> <span class="n">raw_interval</span><span class="p">,</span> <span class="n">direction</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Direction</span><span class="o">.</span><span class="n">UP</span><span class="o">.</span><span class="n">value</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s1">&#39;AgnosticPitch&#39;</span><span class="p">:</span>
        <span class="n">delta</span> <span class="o">=</span> <span class="n">raw_interval</span> <span class="k">if</span> <span class="n">direction</span> <span class="o">==</span> <span class="n">Direction</span><span class="o">.</span><span class="n">UP</span><span class="o">.</span><span class="n">value</span> <span class="k">else</span> <span class="o">-</span> <span class="n">raw_interval</span>
        <span class="n">chroma</span> <span class="o">=</span> <span class="n">agnostic_pitch</span><span class="o">.</span><span class="n">get_chroma</span><span class="p">()</span> <span class="o">+</span> <span class="n">delta</span>
        <span class="n">name</span> <span class="o">=</span> <span class="n">ChromasByValue</span><span class="p">[</span><span class="n">chroma</span> <span class="o">%</span> <span class="mi">40</span><span class="p">]</span>
        <span class="n">octave</span> <span class="o">=</span> <span class="n">chroma</span> <span class="o">//</span> <span class="mi">40</span>
        <span class="k">return</span> <span class="n">AgnosticPitch</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">octave</span><span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">get_chroma_from_interval</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">pitch_a</span><span class="p">:</span> <span class="s1">&#39;AgnosticPitch&#39;</span><span class="p">,</span> <span class="n">pitch_b</span><span class="p">:</span> <span class="s1">&#39;AgnosticPitch&#39;</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">pitch_b</span><span class="o">.</span><span class="n">get_chroma</span><span class="p">()</span> <span class="o">-</span> <span class="n">pitch_a</span><span class="o">.</span><span class="n">get_chroma</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;&lt;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">, </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">octave</span><span class="si">}</span><span class="s2">&gt;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">__name</span><span class="si">}</span><span class="s2">(name=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">, octave=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">octave</span><span class="si">}</span><span class="s2">)&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">AgnosticPitch</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">name</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">octave</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">octave</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__ne__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">AgnosticPitch</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">True</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">!=</span> <span class="n">other</span><span class="o">.</span><span class="n">name</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">octave</span> <span class="o">!=</span> <span class="n">other</span><span class="o">.</span><span class="n">octave</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__hash__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">hash</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">octave</span><span class="p">))</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__lt__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">AgnosticPitch</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">NotImplemented</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">octave</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">octave</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">Chromas</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">Chromas</span><span class="p">[</span><span class="n">other</span><span class="o">.</span><span class="n">name</span><span class="p">]</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">octave</span> <span class="o">&lt;</span> <span class="n">other</span><span class="o">.</span><span class="n">octave</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__gt__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">AgnosticPitch</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">NotImplemented</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">octave</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">octave</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">Chromas</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">Chromas</span><span class="p">[</span><span class="n">other</span><span class="o">.</span><span class="n">name</span><span class="p">]</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">octave</span> <span class="o">&gt;</span> <span class="n">other</span><span class="o">.</span><span class="n">octave</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="kernpy.core.AgnosticPitch.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">octave</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Initialize the AgnosticPitch object.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>name</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the pitch (e.g., 'C', 'D#', 'Bb').</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>octave</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The octave of the pitch (e.g., 4 for middle C).</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/pitch_models.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span>
<span class="normal">90</span>
<span class="normal">91</span>
<span class="normal">92</span>
<span class="normal">93</span>
<span class="normal">94</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">octave</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Initialize the AgnosticPitch object.</span>

<span class="sd">    Args:</span>
<span class="sd">        name (str): The name of the pitch (e.g., &#39;C&#39;, &#39;D#&#39;, &#39;Bb&#39;).</span>
<span class="sd">        octave (int): The octave of the pitch (e.g., 4 for middle C).</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">octave</span> <span class="o">=</span> <span class="n">octave</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="kernpy.core.Alteration" class="doc doc-heading">
            <code>Alteration</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="enum.Enum">Enum</span></code></p>


        <p>Enum for the alteration of a pitch.</p>

              <details class="quote">
                <summary>Source code in <code>kernpy/core/gkern.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">Alteration</span><span class="p">(</span><span class="n">Enum</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Enum for the alteration of a pitch.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">NONE</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">SHARP</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">FLAT</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
    <span class="n">DOUBLE_SHARP</span> <span class="o">=</span> <span class="mi">2</span>
    <span class="n">DOUBLE_FLAT</span> <span class="o">=</span> <span class="o">-</span><span class="mi">2</span>
    <span class="n">TRIPLE_SHARP</span> <span class="o">=</span> <span class="mi">3</span>
    <span class="n">TRIPLE_FLAT</span> <span class="o">=</span> <span class="o">-</span><span class="mi">3</span>
    <span class="n">HALF_SHARP</span> <span class="o">=</span> <span class="mf">0.5</span>
    <span class="n">HALF_FLAT</span> <span class="o">=</span> <span class="o">-</span><span class="mf">0.5</span>
    <span class="n">QUARTER_SHARP</span> <span class="o">=</span> <span class="mf">0.25</span>
    <span class="n">QUARTER_FLAT</span> <span class="o">=</span> <span class="o">-</span><span class="mf">0.25</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="kernpy.core.BarToken" class="doc doc-heading">
            <code>BarToken</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="kernpy.core.tokens.SimpleToken" href="#kernpy.core.SimpleToken">SimpleToken</a></code></p>


        <p>BarToken class.</p>

              <details class="quote">
                <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1645</span>
<span class="normal">1646</span>
<span class="normal">1647</span>
<span class="normal">1648</span>
<span class="normal">1649</span>
<span class="normal">1650</span>
<span class="normal">1651</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">BarToken</span><span class="p">(</span><span class="n">SimpleToken</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    BarToken class.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">encoding</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">encoding</span><span class="p">,</span> <span class="n">TokenCategory</span><span class="o">.</span><span class="n">BARLINES</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="kernpy.core.BasicSpineImporter" class="doc doc-heading">
            <code>BasicSpineImporter</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="kernpy.core.spine_importer.SpineImporter" href="#kernpy.core.SpineImporter">SpineImporter</a></code></p>


              <details class="quote">
                <summary>Source code in <code>kernpy/core/basic_spine_importer.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">BasicSpineImporter</span><span class="p">(</span><span class="n">SpineImporter</span><span class="p">):</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">verbose</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        KernSpineImporter constructor.</span>

<span class="sd">        Args:</span>
<span class="sd">            verbose (Optional[bool]): Level of verbosity for error messages.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="n">verbose</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">import_listener</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BaseANTLRSpineParserListener</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">KernSpineListener</span><span class="p">()</span>  <span class="c1"># TODO: Create a custom functional listener for BasicSpineImporter</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">import_token</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">encoding</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Token</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_raise_error_if_wrong_input</span><span class="p">(</span><span class="n">encoding</span><span class="p">)</span>

        <span class="n">kern_spine_importer</span> <span class="o">=</span> <span class="n">KernSpineImporter</span><span class="p">()</span>
        <span class="n">token</span> <span class="o">=</span> <span class="n">kern_spine_importer</span><span class="o">.</span><span class="n">import_token</span><span class="p">(</span><span class="n">encoding</span><span class="p">)</span>

        <span class="n">ACCEPTED_CATEGORIES</span> <span class="o">=</span> <span class="p">{</span>
            <span class="n">TokenCategory</span><span class="o">.</span><span class="n">STRUCTURAL</span><span class="p">,</span>
            <span class="n">TokenCategory</span><span class="o">.</span><span class="n">SIGNATURES</span><span class="p">,</span>
            <span class="n">TokenCategory</span><span class="o">.</span><span class="n">EMPTY</span><span class="p">,</span>
            <span class="n">TokenCategory</span><span class="o">.</span><span class="n">BARLINES</span><span class="p">,</span>
            <span class="n">TokenCategory</span><span class="o">.</span><span class="n">IMAGE_ANNOTATIONS</span><span class="p">,</span>
            <span class="n">TokenCategory</span><span class="o">.</span><span class="n">BARLINES</span><span class="p">,</span>
            <span class="n">TokenCategory</span><span class="o">.</span><span class="n">COMMENTS</span><span class="p">,</span>
        <span class="p">}</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="nb">any</span><span class="p">(</span><span class="n">TokenCategory</span><span class="o">.</span><span class="n">is_child</span><span class="p">(</span><span class="n">child</span><span class="o">=</span><span class="n">token</span><span class="o">.</span><span class="n">category</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="n">cat</span><span class="p">)</span> <span class="k">for</span> <span class="n">cat</span> <span class="ow">in</span> <span class="n">ACCEPTED_CATEGORIES</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">SimpleToken</span><span class="p">(</span><span class="n">encoding</span><span class="p">,</span> <span class="n">TokenCategory</span><span class="o">.</span><span class="n">OTHER</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">token</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="kernpy.core.BasicSpineImporter.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>KernSpineImporter constructor.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>verbose</code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[bool]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Level of verbosity for error messages.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/basic_spine_importer.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">verbose</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    KernSpineImporter constructor.</span>

<span class="sd">    Args:</span>
<span class="sd">        verbose (Optional[bool]): Level of verbosity for error messages.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="n">verbose</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="kernpy.core.BekernTokenizer" class="doc doc-heading">
            <code>BekernTokenizer</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="kernpy.core.tokenizers.Tokenizer" href="#kernpy.core.Tokenizer">Tokenizer</a></code></p>


        <p>BekernTokenizer converts a Token into a bekern (Basic Extended **kern) string representation. This format use a '@' separator for the     main tokens but discards all the decorations tokens.</p>

              <details class="quote">
                <summary>Source code in <code>kernpy/core/tokenizers.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">BekernTokenizer</span><span class="p">(</span><span class="n">Tokenizer</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    BekernTokenizer converts a Token into a bekern (Basic Extended **kern) string representation. This format use a &#39;@&#39; separator for the \</span>
<span class="sd">    main tokens but discards all the decorations tokens.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">token_categories</span><span class="p">:</span> <span class="n">Set</span><span class="p">[</span><span class="s1">&#39;TokenCategory&#39;</span><span class="p">]):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Create a new BekernTokenizer</span>

<span class="sd">        Args:</span>
<span class="sd">            token_categories (Set[TokenCategory]): List of categories to be tokenized. If None will raise an exception.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">token_categories</span><span class="o">=</span><span class="n">token_categories</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">tokenize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">token</span><span class="p">:</span> <span class="n">Token</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Tokenize a token into a bekern string representation.</span>
<span class="sd">        Args:</span>
<span class="sd">            token (Token): Token to be tokenized.</span>

<span class="sd">        Returns (str): bekern string representation.</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; token.encoding</span>
<span class="sd">            &#39;2@.@bb@-·_·L&#39;</span>
<span class="sd">            &gt;&gt;&gt; BekernTokenizer().tokenize(token)</span>
<span class="sd">            &#39;2@.@bb@-&#39;</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">ekern_content</span> <span class="o">=</span> <span class="n">token</span><span class="o">.</span><span class="n">export</span><span class="p">(</span><span class="n">filter_categories</span><span class="o">=</span><span class="k">lambda</span> <span class="n">cat</span><span class="p">:</span> <span class="n">cat</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">token_categories</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">DECORATION_SEPARATOR</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">ekern_content</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">ekern_content</span>

        <span class="n">reduced_content</span> <span class="o">=</span> <span class="n">ekern_content</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">DECORATION_SEPARATOR</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">reduced_content</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">TOKEN_SEPARATOR</span><span class="p">):</span>
            <span class="n">reduced_content</span> <span class="o">=</span> <span class="n">reduced_content</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

        <span class="k">return</span> <span class="n">reduced_content</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="kernpy.core.BekernTokenizer.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="p">,</span> <span class="n">token_categories</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Create a new BekernTokenizer</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>token_categories</code></td>
            <td>
                  <code><span title="typing.Set">Set</span>[<a class="autorefs autorefs-internal" title="kernpy.core.gkern.TokenCategory" href="#kernpy.core.TokenCategory">TokenCategory</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List of categories to be tokenized. If None will raise an exception.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokenizers.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">token_categories</span><span class="p">:</span> <span class="n">Set</span><span class="p">[</span><span class="s1">&#39;TokenCategory&#39;</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Create a new BekernTokenizer</span>

<span class="sd">    Args:</span>
<span class="sd">        token_categories (Set[TokenCategory]): List of categories to be tokenized. If None will raise an exception.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">token_categories</span><span class="o">=</span><span class="n">token_categories</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.BekernTokenizer.tokenize" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">tokenize</span><span class="p">(</span><span class="n">token</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Tokenize a token into a bekern string representation.
Args:
    token (Token): Token to be tokenized.</p>
<p>Returns (str): bekern string representation.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">token</span><span class="o">.</span><span class="n">encoding</span>
<span class="go">&#39;2@.@bb@-·_·L&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">BekernTokenizer</span><span class="p">()</span><span class="o">.</span><span class="n">tokenize</span><span class="p">(</span><span class="n">token</span><span class="p">)</span>
<span class="go">&#39;2@.@bb@-&#39;</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokenizers.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">tokenize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">token</span><span class="p">:</span> <span class="n">Token</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Tokenize a token into a bekern string representation.</span>
<span class="sd">    Args:</span>
<span class="sd">        token (Token): Token to be tokenized.</span>

<span class="sd">    Returns (str): bekern string representation.</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; token.encoding</span>
<span class="sd">        &#39;2@.@bb@-·_·L&#39;</span>
<span class="sd">        &gt;&gt;&gt; BekernTokenizer().tokenize(token)</span>
<span class="sd">        &#39;2@.@bb@-&#39;</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">ekern_content</span> <span class="o">=</span> <span class="n">token</span><span class="o">.</span><span class="n">export</span><span class="p">(</span><span class="n">filter_categories</span><span class="o">=</span><span class="k">lambda</span> <span class="n">cat</span><span class="p">:</span> <span class="n">cat</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">token_categories</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">DECORATION_SEPARATOR</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">ekern_content</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">ekern_content</span>

    <span class="n">reduced_content</span> <span class="o">=</span> <span class="n">ekern_content</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">DECORATION_SEPARATOR</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">reduced_content</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">TOKEN_SEPARATOR</span><span class="p">):</span>
        <span class="n">reduced_content</span> <span class="o">=</span> <span class="n">reduced_content</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

    <span class="k">return</span> <span class="n">reduced_content</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="kernpy.core.BkernTokenizer" class="doc doc-heading">
            <code>BkernTokenizer</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="kernpy.core.tokenizers.Tokenizer" href="#kernpy.core.Tokenizer">Tokenizer</a></code></p>


        <p>BkernTokenizer converts a Token into a bkern (Basic <strong>kern) string representation. This format use     the main tokens but not the decorations tokens. This format is a lightweight version of the classic
Humdrum </strong>kern format.</p>

              <details class="quote">
                <summary>Source code in <code>kernpy/core/tokenizers.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">BkernTokenizer</span><span class="p">(</span><span class="n">Tokenizer</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    BkernTokenizer converts a Token into a bkern (Basic **kern) string representation. This format use \</span>
<span class="sd">    the main tokens but not the decorations tokens. This format is a lightweight version of the classic</span>
<span class="sd">    Humdrum **kern format.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">token_categories</span><span class="p">:</span> <span class="n">Set</span><span class="p">[</span><span class="s1">&#39;TokenCategory&#39;</span><span class="p">]):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Create a new BkernTokenizer</span>

<span class="sd">        Args:</span>
<span class="sd">            token_categories (Set[TokenCategory]): List of categories to be tokenized. If None will raise an exception.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">token_categories</span><span class="o">=</span><span class="n">token_categories</span><span class="p">)</span>


    <span class="k">def</span><span class="w"> </span><span class="nf">tokenize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">token</span><span class="p">:</span> <span class="n">Token</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Tokenize a token into a bkern string representation.</span>
<span class="sd">        Args:</span>
<span class="sd">            token (Token): Token to be tokenized.</span>

<span class="sd">        Returns (str): bkern string representation.</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; token.encoding</span>
<span class="sd">            &#39;2@.@bb@-·_·L&#39;</span>
<span class="sd">            &gt;&gt;&gt; BkernTokenizer().tokenize(token)</span>
<span class="sd">            &#39;2.bb-&#39;</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">BekernTokenizer</span><span class="p">(</span><span class="n">token_categories</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">token_categories</span><span class="p">)</span><span class="o">.</span><span class="n">tokenize</span><span class="p">(</span><span class="n">token</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">TOKEN_SEPARATOR</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="kernpy.core.BkernTokenizer.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="p">,</span> <span class="n">token_categories</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Create a new BkernTokenizer</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>token_categories</code></td>
            <td>
                  <code><span title="typing.Set">Set</span>[<a class="autorefs autorefs-internal" title="kernpy.core.gkern.TokenCategory" href="#kernpy.core.TokenCategory">TokenCategory</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List of categories to be tokenized. If None will raise an exception.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokenizers.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">token_categories</span><span class="p">:</span> <span class="n">Set</span><span class="p">[</span><span class="s1">&#39;TokenCategory&#39;</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Create a new BkernTokenizer</span>

<span class="sd">    Args:</span>
<span class="sd">        token_categories (Set[TokenCategory]): List of categories to be tokenized. If None will raise an exception.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">token_categories</span><span class="o">=</span><span class="n">token_categories</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.BkernTokenizer.tokenize" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">tokenize</span><span class="p">(</span><span class="n">token</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Tokenize a token into a bkern string representation.
Args:
    token (Token): Token to be tokenized.</p>
<p>Returns (str): bkern string representation.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">token</span><span class="o">.</span><span class="n">encoding</span>
<span class="go">&#39;2@.@bb@-·_·L&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">BkernTokenizer</span><span class="p">()</span><span class="o">.</span><span class="n">tokenize</span><span class="p">(</span><span class="n">token</span><span class="p">)</span>
<span class="go">&#39;2.bb-&#39;</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokenizers.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">tokenize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">token</span><span class="p">:</span> <span class="n">Token</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Tokenize a token into a bkern string representation.</span>
<span class="sd">    Args:</span>
<span class="sd">        token (Token): Token to be tokenized.</span>

<span class="sd">    Returns (str): bkern string representation.</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; token.encoding</span>
<span class="sd">        &#39;2@.@bb@-·_·L&#39;</span>
<span class="sd">        &gt;&gt;&gt; BkernTokenizer().tokenize(token)</span>
<span class="sd">        &#39;2.bb-&#39;</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">BekernTokenizer</span><span class="p">(</span><span class="n">token_categories</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">token_categories</span><span class="p">)</span><span class="o">.</span><span class="n">tokenize</span><span class="p">(</span><span class="n">token</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">TOKEN_SEPARATOR</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="kernpy.core.BoundingBox" class="doc doc-heading">
            <code>BoundingBox</code>


</h2>


    <div class="doc doc-contents ">


        <p>BoundingBox class.</p>
<p>It contains the coordinates of the score bounding box. Useful for full-page tasks.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="kernpy.core.BoundingBox.from_x">from_x</span></code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The x coordinate of the top left corner</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="kernpy.core.BoundingBox.from_y">from_y</span></code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The y coordinate of the top left corner</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="kernpy.core.BoundingBox.to_x">to_x</span></code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The x coordinate of the bottom right corner</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="kernpy.core.BoundingBox.to_y">to_y</span></code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The y coordinate of the bottom right corner</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

              <details class="quote">
                <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1888</span>
<span class="normal">1889</span>
<span class="normal">1890</span>
<span class="normal">1891</span>
<span class="normal">1892</span>
<span class="normal">1893</span>
<span class="normal">1894</span>
<span class="normal">1895</span>
<span class="normal">1896</span>
<span class="normal">1897</span>
<span class="normal">1898</span>
<span class="normal">1899</span>
<span class="normal">1900</span>
<span class="normal">1901</span>
<span class="normal">1902</span>
<span class="normal">1903</span>
<span class="normal">1904</span>
<span class="normal">1905</span>
<span class="normal">1906</span>
<span class="normal">1907</span>
<span class="normal">1908</span>
<span class="normal">1909</span>
<span class="normal">1910</span>
<span class="normal">1911</span>
<span class="normal">1912</span>
<span class="normal">1913</span>
<span class="normal">1914</span>
<span class="normal">1915</span>
<span class="normal">1916</span>
<span class="normal">1917</span>
<span class="normal">1918</span>
<span class="normal">1919</span>
<span class="normal">1920</span>
<span class="normal">1921</span>
<span class="normal">1922</span>
<span class="normal">1923</span>
<span class="normal">1924</span>
<span class="normal">1925</span>
<span class="normal">1926</span>
<span class="normal">1927</span>
<span class="normal">1928</span>
<span class="normal">1929</span>
<span class="normal">1930</span>
<span class="normal">1931</span>
<span class="normal">1932</span>
<span class="normal">1933</span>
<span class="normal">1934</span>
<span class="normal">1935</span>
<span class="normal">1936</span>
<span class="normal">1937</span>
<span class="normal">1938</span>
<span class="normal">1939</span>
<span class="normal">1940</span>
<span class="normal">1941</span>
<span class="normal">1942</span>
<span class="normal">1943</span>
<span class="normal">1944</span>
<span class="normal">1945</span>
<span class="normal">1946</span>
<span class="normal">1947</span>
<span class="normal">1948</span>
<span class="normal">1949</span>
<span class="normal">1950</span>
<span class="normal">1951</span>
<span class="normal">1952</span>
<span class="normal">1953</span>
<span class="normal">1954</span>
<span class="normal">1955</span>
<span class="normal">1956</span>
<span class="normal">1957</span>
<span class="normal">1958</span>
<span class="normal">1959</span>
<span class="normal">1960</span>
<span class="normal">1961</span>
<span class="normal">1962</span>
<span class="normal">1963</span>
<span class="normal">1964</span>
<span class="normal">1965</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">BoundingBox</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    BoundingBox class.</span>

<span class="sd">    It contains the coordinates of the score bounding box. Useful for full-page tasks.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        from_x (int): The x coordinate of the top left corner</span>
<span class="sd">        from_y (int): The y coordinate of the top left corner</span>
<span class="sd">        to_x (int): The x coordinate of the bottom right corner</span>
<span class="sd">        to_y (int): The y coordinate of the bottom right corner</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">w</span><span class="p">,</span> <span class="n">h</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        BoundingBox constructor.</span>

<span class="sd">        Args:</span>
<span class="sd">            x (int): The x coordinate of the top left corner</span>
<span class="sd">            y (int): The y coordinate of the top left corner</span>
<span class="sd">            w (int): The width</span>
<span class="sd">            h (int): The height</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">from_x</span> <span class="o">=</span> <span class="n">x</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">from_y</span> <span class="o">=</span> <span class="n">y</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">to_x</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="n">w</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">to_y</span> <span class="o">=</span> <span class="n">y</span> <span class="o">+</span> <span class="n">h</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">w</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the width of the box</span>

<span class="sd">        Returns:</span>
<span class="sd">            int: The width of the box</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">to_x</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">from_x</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">h</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the height of the box</span>

<span class="sd">        Returns:</span>
<span class="sd">            int: The height of the box</span>
<span class="sd">        return self.to_y - self.from_y</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">to_y</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">from_y</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">extend</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">bounding_box</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Extends the bounding box. Modify the current object.</span>

<span class="sd">        Args:</span>
<span class="sd">            bounding_box (BoundingBox): The bounding box to extend</span>

<span class="sd">        Returns:</span>
<span class="sd">            None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">from_x</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">from_x</span><span class="p">,</span> <span class="n">bounding_box</span><span class="o">.</span><span class="n">from_x</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">from_y</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">from_y</span><span class="p">,</span> <span class="n">bounding_box</span><span class="o">.</span><span class="n">from_y</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">to_x</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">to_x</span><span class="p">,</span> <span class="n">bounding_box</span><span class="o">.</span><span class="n">to_x</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">to_y</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">to_y</span><span class="p">,</span> <span class="n">bounding_box</span><span class="o">.</span><span class="n">to_y</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a string representation of the bounding box</span>

<span class="sd">        Returns (str): The string representation of the bounding box</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s1">&#39;(x=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">from_x</span><span class="si">}</span><span class="s1">, y=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">from_y</span><span class="si">}</span><span class="s1">, w=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">w</span><span class="p">()</span><span class="si">}</span><span class="s1">, h=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">h</span><span class="p">()</span><span class="si">}</span><span class="s1">)&#39;</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">xywh</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a string representation of the bounding box.</span>

<span class="sd">        Returns:</span>
<span class="sd">            str: The string representation of the bounding box</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">from_x</span><span class="si">}</span><span class="s1">,</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">from_y</span><span class="si">}</span><span class="s1">,</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">w</span><span class="p">()</span><span class="si">}</span><span class="s1">,</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">h</span><span class="p">()</span><span class="si">}</span><span class="s1">&#39;</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="kernpy.core.BoundingBox.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">w</span><span class="p">,</span> <span class="n">h</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>BoundingBox constructor.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>x</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The x coordinate of the top left corner</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>y</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The y coordinate of the top left corner</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>w</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The width</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>h</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The height</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1901</span>
<span class="normal">1902</span>
<span class="normal">1903</span>
<span class="normal">1904</span>
<span class="normal">1905</span>
<span class="normal">1906</span>
<span class="normal">1907</span>
<span class="normal">1908</span>
<span class="normal">1909</span>
<span class="normal">1910</span>
<span class="normal">1911</span>
<span class="normal">1912</span>
<span class="normal">1913</span>
<span class="normal">1914</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">w</span><span class="p">,</span> <span class="n">h</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    BoundingBox constructor.</span>

<span class="sd">    Args:</span>
<span class="sd">        x (int): The x coordinate of the top left corner</span>
<span class="sd">        y (int): The y coordinate of the top left corner</span>
<span class="sd">        w (int): The width</span>
<span class="sd">        h (int): The height</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">from_x</span> <span class="o">=</span> <span class="n">x</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">from_y</span> <span class="o">=</span> <span class="n">y</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">to_x</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="n">w</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">to_y</span> <span class="o">=</span> <span class="n">y</span> <span class="o">+</span> <span class="n">h</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.BoundingBox.__str__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__str__</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Returns a string representation of the bounding box</p>
<p>Returns (str): The string representation of the bounding box</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1950</span>
<span class="normal">1951</span>
<span class="normal">1952</span>
<span class="normal">1953</span>
<span class="normal">1954</span>
<span class="normal">1955</span>
<span class="normal">1956</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns a string representation of the bounding box</span>

<span class="sd">    Returns (str): The string representation of the bounding box</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="sa">f</span><span class="s1">&#39;(x=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">from_x</span><span class="si">}</span><span class="s1">, y=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">from_y</span><span class="si">}</span><span class="s1">, w=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">w</span><span class="p">()</span><span class="si">}</span><span class="s1">, h=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">h</span><span class="p">()</span><span class="si">}</span><span class="s1">)&#39;</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.BoundingBox.extend" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">extend</span><span class="p">(</span><span class="n">bounding_box</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Extends the bounding box. Modify the current object.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>bounding_box</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.tokens.BoundingBox" href="#kernpy.core.BoundingBox">BoundingBox</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The bounding box to extend</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>None</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1935</span>
<span class="normal">1936</span>
<span class="normal">1937</span>
<span class="normal">1938</span>
<span class="normal">1939</span>
<span class="normal">1940</span>
<span class="normal">1941</span>
<span class="normal">1942</span>
<span class="normal">1943</span>
<span class="normal">1944</span>
<span class="normal">1945</span>
<span class="normal">1946</span>
<span class="normal">1947</span>
<span class="normal">1948</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">extend</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">bounding_box</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Extends the bounding box. Modify the current object.</span>

<span class="sd">    Args:</span>
<span class="sd">        bounding_box (BoundingBox): The bounding box to extend</span>

<span class="sd">    Returns:</span>
<span class="sd">        None</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">from_x</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">from_x</span><span class="p">,</span> <span class="n">bounding_box</span><span class="o">.</span><span class="n">from_x</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">from_y</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">from_y</span><span class="p">,</span> <span class="n">bounding_box</span><span class="o">.</span><span class="n">from_y</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">to_x</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">to_x</span><span class="p">,</span> <span class="n">bounding_box</span><span class="o">.</span><span class="n">to_x</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">to_y</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">to_y</span><span class="p">,</span> <span class="n">bounding_box</span><span class="o">.</span><span class="n">to_y</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.BoundingBox.h" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">h</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Returns the height of the box</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>int</code></td>            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The height of the box</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>
        <p>return self.to_y - self.from_y</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1925</span>
<span class="normal">1926</span>
<span class="normal">1927</span>
<span class="normal">1928</span>
<span class="normal">1929</span>
<span class="normal">1930</span>
<span class="normal">1931</span>
<span class="normal">1932</span>
<span class="normal">1933</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">h</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns the height of the box</span>

<span class="sd">    Returns:</span>
<span class="sd">        int: The height of the box</span>
<span class="sd">    return self.to_y - self.from_y</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">to_y</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">from_y</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.BoundingBox.w" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">w</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Returns the width of the box</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>int</code></td>            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The width of the box</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1916</span>
<span class="normal">1917</span>
<span class="normal">1918</span>
<span class="normal">1919</span>
<span class="normal">1920</span>
<span class="normal">1921</span>
<span class="normal">1922</span>
<span class="normal">1923</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">w</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns the width of the box</span>

<span class="sd">    Returns:</span>
<span class="sd">        int: The width of the box</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">to_x</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">from_x</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.BoundingBox.xywh" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">xywh</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Returns a string representation of the bounding box.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>str</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The string representation of the bounding box</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1958</span>
<span class="normal">1959</span>
<span class="normal">1960</span>
<span class="normal">1961</span>
<span class="normal">1962</span>
<span class="normal">1963</span>
<span class="normal">1964</span>
<span class="normal">1965</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">xywh</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns a string representation of the bounding box.</span>

<span class="sd">    Returns:</span>
<span class="sd">        str: The string representation of the bounding box</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">from_x</span><span class="si">}</span><span class="s1">,</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">from_y</span><span class="si">}</span><span class="s1">,</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">w</span><span class="p">()</span><span class="si">}</span><span class="s1">,</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">h</span><span class="p">()</span><span class="si">}</span><span class="s1">&#39;</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="kernpy.core.BoundingBoxMeasures" class="doc doc-heading">
            <code>BoundingBoxMeasures</code>


</h2>


    <div class="doc doc-contents ">


        <p>BoundingBoxMeasures class.</p>

              <details class="quote">
                <summary>Source code in <code>kernpy/core/document.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">BoundingBoxMeasures</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    BoundingBoxMeasures class.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span>
            <span class="n">bounding_box</span><span class="p">,</span>
            <span class="n">from_measure</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
            <span class="n">to_measure</span><span class="p">:</span> <span class="nb">int</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Create an instance of BoundingBoxMeasures.</span>

<span class="sd">        Args:</span>
<span class="sd">            bounding_box: The bounding box object of the node.</span>
<span class="sd">            from_measure (int): The first measure of the score in the BoundingBoxMeasures object.</span>
<span class="sd">            to_measure (int): The last measure of the score in the BoundingBoxMeasures object.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">from_measure</span> <span class="o">=</span> <span class="n">from_measure</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">to_measure</span> <span class="o">=</span> <span class="n">to_measure</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bounding_box</span> <span class="o">=</span> <span class="n">bounding_box</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="kernpy.core.BoundingBoxMeasures.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">bounding_box</span><span class="p">,</span> <span class="n">from_measure</span><span class="p">,</span> <span class="n">to_measure</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Create an instance of BoundingBoxMeasures.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>bounding_box</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The bounding box object of the node.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>from_measure</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The first measure of the score in the BoundingBoxMeasures object.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>to_measure</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The last measure of the score in the BoundingBoxMeasures object.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/document.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">bounding_box</span><span class="p">,</span>
        <span class="n">from_measure</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">to_measure</span><span class="p">:</span> <span class="nb">int</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Create an instance of BoundingBoxMeasures.</span>

<span class="sd">    Args:</span>
<span class="sd">        bounding_box: The bounding box object of the node.</span>
<span class="sd">        from_measure (int): The first measure of the score in the BoundingBoxMeasures object.</span>
<span class="sd">        to_measure (int): The last measure of the score in the BoundingBoxMeasures object.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">from_measure</span> <span class="o">=</span> <span class="n">from_measure</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">to_measure</span> <span class="o">=</span> <span class="n">to_measure</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">bounding_box</span> <span class="o">=</span> <span class="n">bounding_box</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="kernpy.core.BoundingBoxToken" class="doc doc-heading">
            <code>BoundingBoxToken</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="kernpy.core.tokens.Token" href="#kernpy.core.Token">Token</a></code></p>


        <p>BoundingBoxToken class.</p>
<p>It contains the coordinates of the score bounding box. Useful for full-page tasks.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="kernpy.core.BoundingBoxToken.encoding">encoding</span></code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The complete unprocessed encoding</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="kernpy.core.BoundingBoxToken.page_number">page_number</span></code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The page number</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="kernpy.core.BoundingBoxToken.bounding_box">bounding_box</span></code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.tokens.BoundingBox" href="#kernpy.core.BoundingBox">BoundingBox</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The bounding box</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

              <details class="quote">
                <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1968</span>
<span class="normal">1969</span>
<span class="normal">1970</span>
<span class="normal">1971</span>
<span class="normal">1972</span>
<span class="normal">1973</span>
<span class="normal">1974</span>
<span class="normal">1975</span>
<span class="normal">1976</span>
<span class="normal">1977</span>
<span class="normal">1978</span>
<span class="normal">1979</span>
<span class="normal">1980</span>
<span class="normal">1981</span>
<span class="normal">1982</span>
<span class="normal">1983</span>
<span class="normal">1984</span>
<span class="normal">1985</span>
<span class="normal">1986</span>
<span class="normal">1987</span>
<span class="normal">1988</span>
<span class="normal">1989</span>
<span class="normal">1990</span>
<span class="normal">1991</span>
<span class="normal">1992</span>
<span class="normal">1993</span>
<span class="normal">1994</span>
<span class="normal">1995</span>
<span class="normal">1996</span>
<span class="normal">1997</span>
<span class="normal">1998</span>
<span class="normal">1999</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">BoundingBoxToken</span><span class="p">(</span><span class="n">Token</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    BoundingBoxToken class.</span>

<span class="sd">    It contains the coordinates of the score bounding box. Useful for full-page tasks.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        encoding (str): The complete unprocessed encoding</span>
<span class="sd">        page_number (int): The page number</span>
<span class="sd">        bounding_box (BoundingBox): The bounding box</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span>
            <span class="n">encoding</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
            <span class="n">page_number</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
            <span class="n">bounding_box</span><span class="p">:</span> <span class="n">BoundingBox</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        BoundingBoxToken constructor.</span>

<span class="sd">        Args:</span>
<span class="sd">            encoding (str): The complete unprocessed encoding</span>
<span class="sd">            page_number (int): The page number</span>
<span class="sd">            bounding_box (BoundingBox): The bounding box</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">encoding</span><span class="p">,</span> <span class="n">TokenCategory</span><span class="o">.</span><span class="n">BOUNDING_BOXES</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">page_number</span> <span class="o">=</span> <span class="n">page_number</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bounding_box</span> <span class="o">=</span> <span class="n">bounding_box</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">export</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">encoding</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="kernpy.core.BoundingBoxToken.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">encoding</span><span class="p">,</span> <span class="n">page_number</span><span class="p">,</span> <span class="n">bounding_box</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>BoundingBoxToken constructor.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>encoding</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The complete unprocessed encoding</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>page_number</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The page number</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>bounding_box</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.tokens.BoundingBox" href="#kernpy.core.BoundingBox">BoundingBox</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The bounding box</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1980</span>
<span class="normal">1981</span>
<span class="normal">1982</span>
<span class="normal">1983</span>
<span class="normal">1984</span>
<span class="normal">1985</span>
<span class="normal">1986</span>
<span class="normal">1987</span>
<span class="normal">1988</span>
<span class="normal">1989</span>
<span class="normal">1990</span>
<span class="normal">1991</span>
<span class="normal">1992</span>
<span class="normal">1993</span>
<span class="normal">1994</span>
<span class="normal">1995</span>
<span class="normal">1996</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">encoding</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">page_number</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">bounding_box</span><span class="p">:</span> <span class="n">BoundingBox</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    BoundingBoxToken constructor.</span>

<span class="sd">    Args:</span>
<span class="sd">        encoding (str): The complete unprocessed encoding</span>
<span class="sd">        page_number (int): The page number</span>
<span class="sd">        bounding_box (BoundingBox): The bounding box</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">encoding</span><span class="p">,</span> <span class="n">TokenCategory</span><span class="o">.</span><span class="n">BOUNDING_BOXES</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">page_number</span> <span class="o">=</span> <span class="n">page_number</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">bounding_box</span> <span class="o">=</span> <span class="n">bounding_box</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="kernpy.core.C1Clef" class="doc doc-heading">
            <code>C1Clef</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="kernpy.core.gkern.Clef" href="#kernpy.core.Clef">Clef</a></code></p>


              <details class="quote">
                <summary>Source code in <code>kernpy/core/gkern.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">C1Clef</span><span class="p">(</span><span class="n">Clef</span><span class="p">):</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initializes the C Clef object.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">DiatonicPitch</span><span class="p">(</span><span class="s1">&#39;C&#39;</span><span class="p">),</span> <span class="mi">1</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">bottom_line</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AgnosticPitch</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the pitch of the bottom line of the staff.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">AgnosticPitch</span><span class="p">(</span><span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="kernpy.core.C1Clef.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Initializes the C Clef object.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/gkern.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Initializes the C Clef object.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">DiatonicPitch</span><span class="p">(</span><span class="s1">&#39;C&#39;</span><span class="p">),</span> <span class="mi">1</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.C1Clef.bottom_line" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">bottom_line</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Returns the pitch of the bottom line of the staff.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/gkern.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">bottom_line</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AgnosticPitch</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns the pitch of the bottom line of the staff.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">AgnosticPitch</span><span class="p">(</span><span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="kernpy.core.C2Clef" class="doc doc-heading">
            <code>C2Clef</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="kernpy.core.gkern.Clef" href="#kernpy.core.Clef">Clef</a></code></p>


              <details class="quote">
                <summary>Source code in <code>kernpy/core/gkern.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">C2Clef</span><span class="p">(</span><span class="n">Clef</span><span class="p">):</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initializes the C Clef object.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">DiatonicPitch</span><span class="p">(</span><span class="s1">&#39;A&#39;</span><span class="p">),</span> <span class="mi">2</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">bottom_line</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AgnosticPitch</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the pitch of the bottom line of the staff.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">AgnosticPitch</span><span class="p">(</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="kernpy.core.C2Clef.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Initializes the C Clef object.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/gkern.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Initializes the C Clef object.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">DiatonicPitch</span><span class="p">(</span><span class="s1">&#39;A&#39;</span><span class="p">),</span> <span class="mi">2</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.C2Clef.bottom_line" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">bottom_line</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Returns the pitch of the bottom line of the staff.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/gkern.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">bottom_line</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AgnosticPitch</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns the pitch of the bottom line of the staff.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">AgnosticPitch</span><span class="p">(</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="kernpy.core.C3Clef" class="doc doc-heading">
            <code>C3Clef</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="kernpy.core.gkern.Clef" href="#kernpy.core.Clef">Clef</a></code></p>


              <details class="quote">
                <summary>Source code in <code>kernpy/core/gkern.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">C3Clef</span><span class="p">(</span><span class="n">Clef</span><span class="p">):</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initializes the C Clef object.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">DiatonicPitch</span><span class="p">(</span><span class="s1">&#39;C&#39;</span><span class="p">),</span> <span class="mi">3</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">bottom_line</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AgnosticPitch</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the pitch of the bottom line of the staff.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">AgnosticPitch</span><span class="p">(</span><span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="kernpy.core.C3Clef.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Initializes the C Clef object.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/gkern.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Initializes the C Clef object.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">DiatonicPitch</span><span class="p">(</span><span class="s1">&#39;C&#39;</span><span class="p">),</span> <span class="mi">3</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.C3Clef.bottom_line" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">bottom_line</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Returns the pitch of the bottom line of the staff.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/gkern.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">bottom_line</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AgnosticPitch</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns the pitch of the bottom line of the staff.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">AgnosticPitch</span><span class="p">(</span><span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="kernpy.core.C4Clef" class="doc doc-heading">
            <code>C4Clef</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="kernpy.core.gkern.Clef" href="#kernpy.core.Clef">Clef</a></code></p>


              <details class="quote">
                <summary>Source code in <code>kernpy/core/gkern.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">C4Clef</span><span class="p">(</span><span class="n">Clef</span><span class="p">):</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initializes the C Clef object.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">DiatonicPitch</span><span class="p">(</span><span class="s1">&#39;C&#39;</span><span class="p">),</span> <span class="mi">4</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">bottom_line</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AgnosticPitch</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the pitch of the bottom line of the staff.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">AgnosticPitch</span><span class="p">(</span><span class="s1">&#39;D&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="kernpy.core.C4Clef.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Initializes the C Clef object.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/gkern.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Initializes the C Clef object.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">DiatonicPitch</span><span class="p">(</span><span class="s1">&#39;C&#39;</span><span class="p">),</span> <span class="mi">4</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.C4Clef.bottom_line" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">bottom_line</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Returns the pitch of the bottom line of the staff.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/gkern.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">bottom_line</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AgnosticPitch</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns the pitch of the bottom line of the staff.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">AgnosticPitch</span><span class="p">(</span><span class="s1">&#39;D&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="kernpy.core.ChordToken" class="doc doc-heading">
            <code>ChordToken</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="kernpy.core.tokens.SimpleToken" href="#kernpy.core.SimpleToken">SimpleToken</a></code></p>


        <p>ChordToken class.</p>
<p>It contains a list of compound tokens</p>

              <details class="quote">
                <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1854</span>
<span class="normal">1855</span>
<span class="normal">1856</span>
<span class="normal">1857</span>
<span class="normal">1858</span>
<span class="normal">1859</span>
<span class="normal">1860</span>
<span class="normal">1861</span>
<span class="normal">1862</span>
<span class="normal">1863</span>
<span class="normal">1864</span>
<span class="normal">1865</span>
<span class="normal">1866</span>
<span class="normal">1867</span>
<span class="normal">1868</span>
<span class="normal">1869</span>
<span class="normal">1870</span>
<span class="normal">1871</span>
<span class="normal">1872</span>
<span class="normal">1873</span>
<span class="normal">1874</span>
<span class="normal">1875</span>
<span class="normal">1876</span>
<span class="normal">1877</span>
<span class="normal">1878</span>
<span class="normal">1879</span>
<span class="normal">1880</span>
<span class="normal">1881</span>
<span class="normal">1882</span>
<span class="normal">1883</span>
<span class="normal">1884</span>
<span class="normal">1885</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">ChordToken</span><span class="p">(</span><span class="n">SimpleToken</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    ChordToken class.</span>

<span class="sd">    It contains a list of compound tokens</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                 <span class="n">encoding</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                 <span class="n">category</span><span class="p">:</span> <span class="n">TokenCategory</span><span class="p">,</span>
                 <span class="n">notes_tokens</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Token</span><span class="p">]</span>
                 <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        ChordToken constructor.</span>

<span class="sd">        Args:</span>
<span class="sd">            encoding (str): The complete unprocessed encoding</span>
<span class="sd">            category (TokenCategory): The token category, one of TokenCategory</span>
<span class="sd">            notes_tokens (Sequence[Token]): The subtokens for the notes. Individual elements of the token, of type token</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">encoding</span><span class="p">,</span> <span class="n">category</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">notes_tokens</span> <span class="o">=</span> <span class="n">notes_tokens</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">export</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="n">result</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
        <span class="k">for</span> <span class="n">note_token</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">notes_tokens</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">result</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">result</span> <span class="o">+=</span> <span class="s1">&#39; &#39;</span>

            <span class="n">result</span> <span class="o">+=</span> <span class="n">note_token</span><span class="o">.</span><span class="n">export</span><span class="p">()</span>

        <span class="k">return</span> <span class="n">result</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="kernpy.core.ChordToken.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">encoding</span><span class="p">,</span> <span class="n">category</span><span class="p">,</span> <span class="n">notes_tokens</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>ChordToken constructor.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>encoding</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The complete unprocessed encoding</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>category</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.tokens.TokenCategory" href="#kernpy.core.TokenCategory">TokenCategory</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The token category, one of TokenCategory</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>notes_tokens</code></td>
            <td>
                  <code><span title="collections.abc.Sequence">Sequence</span>[<a class="autorefs autorefs-internal" title="kernpy.core.tokens.Token" href="#kernpy.core.Token">Token</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The subtokens for the notes. Individual elements of the token, of type token</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1861</span>
<span class="normal">1862</span>
<span class="normal">1863</span>
<span class="normal">1864</span>
<span class="normal">1865</span>
<span class="normal">1866</span>
<span class="normal">1867</span>
<span class="normal">1868</span>
<span class="normal">1869</span>
<span class="normal">1870</span>
<span class="normal">1871</span>
<span class="normal">1872</span>
<span class="normal">1873</span>
<span class="normal">1874</span>
<span class="normal">1875</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
             <span class="n">encoding</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
             <span class="n">category</span><span class="p">:</span> <span class="n">TokenCategory</span><span class="p">,</span>
             <span class="n">notes_tokens</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Token</span><span class="p">]</span>
             <span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    ChordToken constructor.</span>

<span class="sd">    Args:</span>
<span class="sd">        encoding (str): The complete unprocessed encoding</span>
<span class="sd">        category (TokenCategory): The token category, one of TokenCategory</span>
<span class="sd">        notes_tokens (Sequence[Token]): The subtokens for the notes. Individual elements of the token, of type token</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">encoding</span><span class="p">,</span> <span class="n">category</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">notes_tokens</span> <span class="o">=</span> <span class="n">notes_tokens</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="kernpy.core.Clef" class="doc doc-heading">
            <code>Clef</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="abc.ABC">ABC</span></code></p>


        <p>Abstract class representing a clef.</p>

              <details class="quote">
                <summary>Source code in <code>kernpy/core/gkern.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">Clef</span><span class="p">(</span><span class="n">ABC</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Abstract class representing a clef.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">diatonic_pitch</span><span class="p">:</span> <span class="n">DiatonicPitch</span><span class="p">,</span> <span class="n">on_line</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initializes the Clef object.</span>
<span class="sd">        Args:</span>
<span class="sd">            diatonic_pitch (DiatonicPitch): The diatonic pitch of the clef (e.g., &#39;C&#39;, &#39;G&#39;, &#39;F&#39;). This value is used as a decorator.</span>
<span class="sd">            on_line (int): The line number on which the clef is placed (1 for bottom line, 2 for 1st line from bottom, etc.). This value is used as a decorator.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">diatonic_pitch</span> <span class="o">=</span> <span class="n">diatonic_pitch</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">on_line</span> <span class="o">=</span> <span class="n">on_line</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">bottom_line</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AgnosticPitch</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the pitch of the bottom line of the staff.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="o">...</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">name</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the name of the clef.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">diatonic_pitch</span><span class="si">}</span><span class="s2"> on line </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">on_line</span><span class="si">}</span><span class="s2">&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">reference_point</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PitchPositionReferenceSystem</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the reference point for the clef.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">PitchPositionReferenceSystem</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">bottom_line</span><span class="p">())</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns:</span>
<span class="sd">            str: The string representation of the clef.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">diatonic_pitch</span><span class="o">.</span><span class="n">encoding</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span><span class="si">}</span><span class="s1"> on the </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">on_line</span><span class="si">}{</span><span class="bp">self</span><span class="o">.</span><span class="n">_ordinal_suffix</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">on_line</span><span class="p">)</span><span class="si">}</span><span class="s1"> line&#39;</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_ordinal_suffix</span><span class="p">(</span><span class="n">number</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the ordinal suffix for a given integer (e.g. &#39;st&#39;, &#39;nd&#39;, &#39;rd&#39;, &#39;th&#39;).</span>

<span class="sd">        Args:</span>
<span class="sd">            number (int): The number to get the suffix for.</span>

<span class="sd">        Returns:</span>
<span class="sd">            str: The ordinal suffix.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># 11, 12, 13 always take “th”</span>
        <span class="k">if</span> <span class="mi">11</span> <span class="o">&lt;=</span> <span class="p">(</span><span class="n">number</span> <span class="o">%</span> <span class="mi">100</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mi">13</span><span class="p">:</span>
            <span class="k">return</span> <span class="s1">&#39;th&#39;</span>
        <span class="c1"># otherwise use last digit</span>
        <span class="n">last</span> <span class="o">=</span> <span class="n">number</span> <span class="o">%</span> <span class="mi">10</span>
        <span class="k">if</span> <span class="n">last</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">return</span> <span class="s1">&#39;st&#39;</span>
        <span class="k">elif</span> <span class="n">last</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
            <span class="k">return</span> <span class="s1">&#39;nd&#39;</span>
        <span class="k">elif</span> <span class="n">last</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
            <span class="k">return</span> <span class="s1">&#39;rd&#39;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="s1">&#39;th&#39;</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="kernpy.core.Clef.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">diatonic_pitch</span><span class="p">,</span> <span class="n">on_line</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Initializes the Clef object.
Args:
    diatonic_pitch (DiatonicPitch): The diatonic pitch of the clef (e.g., 'C', 'G', 'F'). This value is used as a decorator.
    on_line (int): The line number on which the clef is placed (1 for bottom line, 2 for 1st line from bottom, etc.). This value is used as a decorator.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/gkern.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">diatonic_pitch</span><span class="p">:</span> <span class="n">DiatonicPitch</span><span class="p">,</span> <span class="n">on_line</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Initializes the Clef object.</span>
<span class="sd">    Args:</span>
<span class="sd">        diatonic_pitch (DiatonicPitch): The diatonic pitch of the clef (e.g., &#39;C&#39;, &#39;G&#39;, &#39;F&#39;). This value is used as a decorator.</span>
<span class="sd">        on_line (int): The line number on which the clef is placed (1 for bottom line, 2 for 1st line from bottom, etc.). This value is used as a decorator.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">diatonic_pitch</span> <span class="o">=</span> <span class="n">diatonic_pitch</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">on_line</span> <span class="o">=</span> <span class="n">on_line</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.Clef.__str__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__str__</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">



    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>str</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The string representation of the clef.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/gkern.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns:</span>
<span class="sd">        str: The string representation of the clef.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">diatonic_pitch</span><span class="o">.</span><span class="n">encoding</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span><span class="si">}</span><span class="s1"> on the </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">on_line</span><span class="si">}{</span><span class="bp">self</span><span class="o">.</span><span class="n">_ordinal_suffix</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">on_line</span><span class="p">)</span><span class="si">}</span><span class="s1"> line&#39;</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.Clef.bottom_line" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">bottom_line</span><span class="p">()</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-abstractmethod"><code>abstractmethod</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>Returns the pitch of the bottom line of the staff.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/gkern.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">bottom_line</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AgnosticPitch</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns the pitch of the bottom line of the staff.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="o">...</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.Clef.name" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">name</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Returns the name of the clef.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/gkern.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">name</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns the name of the clef.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">diatonic_pitch</span><span class="si">}</span><span class="s2"> on line </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">on_line</span><span class="si">}</span><span class="s2">&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.Clef.reference_point" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">reference_point</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Returns the reference point for the clef.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/gkern.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">reference_point</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PitchPositionReferenceSystem</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns the reference point for the clef.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">PitchPositionReferenceSystem</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">bottom_line</span><span class="p">())</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="kernpy.core.ClefFactory" class="doc doc-heading">
            <code>ClefFactory</code>


</h2>


    <div class="doc doc-contents ">


              <details class="quote">
                <summary>Source code in <code>kernpy/core/gkern.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span>
<span class="normal">475</span>
<span class="normal">476</span>
<span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span>
<span class="normal">485</span>
<span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span>
<span class="normal">489</span>
<span class="normal">490</span>
<span class="normal">491</span>
<span class="normal">492</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">ClefFactory</span><span class="p">:</span>
    <span class="n">CLEF_NAMES</span> <span class="o">=</span> <span class="p">{</span> <span class="s1">&#39;G&#39;</span><span class="p">,</span> <span class="s1">&#39;F&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span> <span class="p">}</span>
    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">create_clef</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">encoding</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Clef</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates a Clef object based on the given token.</span>

<span class="sd">        Clefs are encoded in interpretation tokens that start with a single * followed by the string clef and then the shape and line position of the clef. For example, a treble clef is *clefG2, with G meaning a G-clef, and 2 meaning that the clef is centered on the second line up from the bottom of the staff. The bass clef is *clefF4 since it is an F-clef on the fourth line of the staff.</span>
<span class="sd">        A vocal tenor clef is represented by *clefGv2, where the v means the music should be played an octave lower than the regular clef’s sounding pitches. Try creating a vocal tenor clef in the above interactive example. The v operator also works on the other clefs (but these sorts of clefs are very rare). Another rare clef is *clefG^2 which is the opposite of *clefGv2, where the music is written an octave lower than actually sounding pitch for the normal form of the clef. You can also try to create exotic two-octave clefs by doubling the ^^ and vv markers.</span>

<span class="sd">        Args:</span>
<span class="sd">            encoding (str): The encoding of the clef token.</span>

<span class="sd">        Returns:</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">encoding</span> <span class="o">=</span> <span class="n">encoding</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;*clef&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>

        <span class="c1"># at this point the encoding is like G2, F4,... or Gv2, F^4,... or G^^2, Fvv4,... or G^^...^^2, Fvvv4,...</span>
        <span class="n">name</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="ow">in</span> <span class="bp">cls</span><span class="o">.</span><span class="n">CLEF_NAMES</span><span class="p">,</span> <span class="n">encoding</span><span class="p">))[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">line</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">isdigit</span><span class="p">(),</span> <span class="n">encoding</span><span class="p">))[</span><span class="mi">0</span><span class="p">])</span>
        <span class="n">decorators</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;^&#39;</span><span class="p">,</span> <span class="s1">&#39;v&#39;</span><span class="p">],</span> <span class="n">encoding</span><span class="p">))</span>

        <span class="k">if</span> <span class="n">name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">cls</span><span class="o">.</span><span class="n">CLEF_NAMES</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Invalid clef name: </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">. Expected one of </span><span class="si">{</span><span class="bp">cls</span><span class="o">.</span><span class="n">CLEF_NAMES</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">name</span> <span class="o">==</span> <span class="s1">&#39;G&#39;</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">GClef</span><span class="p">()</span>
        <span class="k">elif</span> <span class="n">name</span> <span class="o">==</span> <span class="s1">&#39;F&#39;</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">line</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">F3Clef</span><span class="p">()</span>
            <span class="k">elif</span> <span class="n">line</span> <span class="o">==</span> <span class="mi">4</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">F4Clef</span><span class="p">()</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Invalid F clef line: </span><span class="si">{</span><span class="n">line</span><span class="si">}</span><span class="s2">. Expected 3 or 4.&quot;</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">name</span> <span class="o">==</span> <span class="s1">&#39;C&#39;</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">line</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">C1Clef</span><span class="p">()</span>
            <span class="k">elif</span> <span class="n">line</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">C2Clef</span><span class="p">()</span>
            <span class="k">elif</span> <span class="n">line</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">C3Clef</span><span class="p">()</span>
            <span class="k">elif</span> <span class="n">line</span> <span class="o">==</span> <span class="mi">4</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">C4Clef</span><span class="p">()</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Invalid C clef line: </span><span class="si">{</span><span class="n">line</span><span class="si">}</span><span class="s2">. Expected 1, 2, 3 or 4.&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Invalid clef name: </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">. Expected one of </span><span class="si">{</span><span class="bp">cls</span><span class="o">.</span><span class="n">CLEF_NAMES</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="kernpy.core.ClefFactory.create_clef" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">create_clef</span><span class="p">(</span><span class="n">encoding</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>Creates a Clef object based on the given token.</p>
<p>Clefs are encoded in interpretation tokens that start with a single * followed by the string clef and then the shape and line position of the clef. For example, a treble clef is <em>clefG2, with G meaning a G-clef, and 2 meaning that the clef is centered on the second line up from the bottom of the staff. The bass clef is </em>clefF4 since it is an F-clef on the fourth line of the staff.
A vocal tenor clef is represented by <em>clefGv2, where the v means the music should be played an octave lower than the regular clef’s sounding pitches. Try creating a vocal tenor clef in the above interactive example. The v operator also works on the other clefs (but these sorts of clefs are very rare). Another rare clef is </em>clefG^2 which is the opposite of *clefGv2, where the music is written an octave lower than actually sounding pitch for the normal form of the clef. You can also try to create exotic two-octave clefs by doubling the ^^ and vv markers.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>encoding</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The encoding of the clef token.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns:</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/gkern.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span>
<span class="normal">475</span>
<span class="normal">476</span>
<span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span>
<span class="normal">485</span>
<span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span>
<span class="normal">489</span>
<span class="normal">490</span>
<span class="normal">491</span>
<span class="normal">492</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">create_clef</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">encoding</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Clef</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Creates a Clef object based on the given token.</span>

<span class="sd">    Clefs are encoded in interpretation tokens that start with a single * followed by the string clef and then the shape and line position of the clef. For example, a treble clef is *clefG2, with G meaning a G-clef, and 2 meaning that the clef is centered on the second line up from the bottom of the staff. The bass clef is *clefF4 since it is an F-clef on the fourth line of the staff.</span>
<span class="sd">    A vocal tenor clef is represented by *clefGv2, where the v means the music should be played an octave lower than the regular clef’s sounding pitches. Try creating a vocal tenor clef in the above interactive example. The v operator also works on the other clefs (but these sorts of clefs are very rare). Another rare clef is *clefG^2 which is the opposite of *clefGv2, where the music is written an octave lower than actually sounding pitch for the normal form of the clef. You can also try to create exotic two-octave clefs by doubling the ^^ and vv markers.</span>

<span class="sd">    Args:</span>
<span class="sd">        encoding (str): The encoding of the clef token.</span>

<span class="sd">    Returns:</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">encoding</span> <span class="o">=</span> <span class="n">encoding</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;*clef&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>

    <span class="c1"># at this point the encoding is like G2, F4,... or Gv2, F^4,... or G^^2, Fvv4,... or G^^...^^2, Fvvv4,...</span>
    <span class="n">name</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="ow">in</span> <span class="bp">cls</span><span class="o">.</span><span class="n">CLEF_NAMES</span><span class="p">,</span> <span class="n">encoding</span><span class="p">))[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">line</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">isdigit</span><span class="p">(),</span> <span class="n">encoding</span><span class="p">))[</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">decorators</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;^&#39;</span><span class="p">,</span> <span class="s1">&#39;v&#39;</span><span class="p">],</span> <span class="n">encoding</span><span class="p">))</span>

    <span class="k">if</span> <span class="n">name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">cls</span><span class="o">.</span><span class="n">CLEF_NAMES</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Invalid clef name: </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">. Expected one of </span><span class="si">{</span><span class="bp">cls</span><span class="o">.</span><span class="n">CLEF_NAMES</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">name</span> <span class="o">==</span> <span class="s1">&#39;G&#39;</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">GClef</span><span class="p">()</span>
    <span class="k">elif</span> <span class="n">name</span> <span class="o">==</span> <span class="s1">&#39;F&#39;</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">line</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">F3Clef</span><span class="p">()</span>
        <span class="k">elif</span> <span class="n">line</span> <span class="o">==</span> <span class="mi">4</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">F4Clef</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Invalid F clef line: </span><span class="si">{</span><span class="n">line</span><span class="si">}</span><span class="s2">. Expected 3 or 4.&quot;</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">name</span> <span class="o">==</span> <span class="s1">&#39;C&#39;</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">line</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">C1Clef</span><span class="p">()</span>
        <span class="k">elif</span> <span class="n">line</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">C2Clef</span><span class="p">()</span>
        <span class="k">elif</span> <span class="n">line</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">C3Clef</span><span class="p">()</span>
        <span class="k">elif</span> <span class="n">line</span> <span class="o">==</span> <span class="mi">4</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">C4Clef</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Invalid C clef line: </span><span class="si">{</span><span class="n">line</span><span class="si">}</span><span class="s2">. Expected 1, 2, 3 or 4.&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Invalid clef name: </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">. Expected one of </span><span class="si">{</span><span class="bp">cls</span><span class="o">.</span><span class="n">CLEF_NAMES</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="kernpy.core.ClefToken" class="doc doc-heading">
            <code>ClefToken</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="kernpy.core.tokens.SignatureToken" href="#kernpy.core.SignatureToken">SignatureToken</a></code></p>


        <p>ClefToken class.</p>

              <details class="quote">
                <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1663</span>
<span class="normal">1664</span>
<span class="normal">1665</span>
<span class="normal">1666</span>
<span class="normal">1667</span>
<span class="normal">1668</span>
<span class="normal">1669</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">ClefToken</span><span class="p">(</span><span class="n">SignatureToken</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    ClefToken class.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">encoding</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">encoding</span><span class="p">,</span> <span class="n">TokenCategory</span><span class="o">.</span><span class="n">CLEF</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="kernpy.core.ComplexToken" class="doc doc-heading">
            <code>ComplexToken</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="kernpy.core.tokens.Token" href="#kernpy.core.Token">Token</a></code>, <code><span title="abc.ABC">ABC</span></code></p>


        <p>Abstract ComplexToken class. This abstract class ensures that the subclasses implement the export method using     the 'filter_categories' parameter to filter the subtokens.</p>
<p>Passing the argument 'filter_categories' by **kwargs don't break the compatibility with parent classes.</p>
<p>Here we're trying to get the Liskov substitution principle done...</p>

              <details class="quote">
                <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1708</span>
<span class="normal">1709</span>
<span class="normal">1710</span>
<span class="normal">1711</span>
<span class="normal">1712</span>
<span class="normal">1713</span>
<span class="normal">1714</span>
<span class="normal">1715</span>
<span class="normal">1716</span>
<span class="normal">1717</span>
<span class="normal">1718</span>
<span class="normal">1719</span>
<span class="normal">1720</span>
<span class="normal">1721</span>
<span class="normal">1722</span>
<span class="normal">1723</span>
<span class="normal">1724</span>
<span class="normal">1725</span>
<span class="normal">1726</span>
<span class="normal">1727</span>
<span class="normal">1728</span>
<span class="normal">1729</span>
<span class="normal">1730</span>
<span class="normal">1731</span>
<span class="normal">1732</span>
<span class="normal">1733</span>
<span class="normal">1734</span>
<span class="normal">1735</span>
<span class="normal">1736</span>
<span class="normal">1737</span>
<span class="normal">1738</span>
<span class="normal">1739</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">ComplexToken</span><span class="p">(</span><span class="n">Token</span><span class="p">,</span> <span class="n">ABC</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Abstract ComplexToken class. This abstract class ensures that the subclasses implement the export method using\</span>
<span class="sd">     the &#39;filter_categories&#39; parameter to filter the subtokens.</span>

<span class="sd">     Passing the argument &#39;filter_categories&#39; by **kwargs don&#39;t break the compatibility with parent classes.</span>

<span class="sd">     Here we&#39;re trying to get the Liskov substitution principle done...</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">encoding</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">category</span><span class="p">:</span> <span class="n">TokenCategory</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Constructor for the ComplexToken</span>

<span class="sd">        Args:</span>
<span class="sd">            encoding (str): The original representation of the token.</span>
<span class="sd">            category (TokenCategory) : The category of the token.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">encoding</span><span class="p">,</span> <span class="n">category</span><span class="p">)</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">export</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Exports the token.</span>

<span class="sd">        Keyword Arguments:</span>
<span class="sd">            filter_categories (Optional[Callable[[TokenCategory], bool]]): A function that takes a TokenCategory and returns a boolean</span>
<span class="sd">                indicating whether the token should be included in the export. If provided, only tokens for which the</span>
<span class="sd">                function returns True will be exported. Defaults to None. If None, all tokens will be exported.</span>

<span class="sd">        Returns (str): The exported token.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">pass</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="kernpy.core.ComplexToken.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">encoding</span><span class="p">,</span> <span class="n">category</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Constructor for the ComplexToken</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>encoding</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The original representation of the token.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>category</code></td>
            <td>
                  <code>TokenCategory) </code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The category of the token.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1717</span>
<span class="normal">1718</span>
<span class="normal">1719</span>
<span class="normal">1720</span>
<span class="normal">1721</span>
<span class="normal">1722</span>
<span class="normal">1723</span>
<span class="normal">1724</span>
<span class="normal">1725</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">encoding</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">category</span><span class="p">:</span> <span class="n">TokenCategory</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Constructor for the ComplexToken</span>

<span class="sd">    Args:</span>
<span class="sd">        encoding (str): The original representation of the token.</span>
<span class="sd">        category (TokenCategory) : The category of the token.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">encoding</span><span class="p">,</span> <span class="n">category</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.ComplexToken.export" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">export</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-abstractmethod"><code>abstractmethod</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>Exports the token.</p>


<p><span class="doc-section-title">Other Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>filter_categories</code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[Callable[[<a class="autorefs autorefs-internal" title="kernpy.core.tokens.TokenCategory" href="#kernpy.core.TokenCategory">TokenCategory</a>], bool]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A function that takes a TokenCategory and returns a boolean
indicating whether the token should be included in the export. If provided, only tokens for which the
function returns True will be exported. Defaults to None. If None, all tokens will be exported.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns (str): The exported token.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1727</span>
<span class="normal">1728</span>
<span class="normal">1729</span>
<span class="normal">1730</span>
<span class="normal">1731</span>
<span class="normal">1732</span>
<span class="normal">1733</span>
<span class="normal">1734</span>
<span class="normal">1735</span>
<span class="normal">1736</span>
<span class="normal">1737</span>
<span class="normal">1738</span>
<span class="normal">1739</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">export</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Exports the token.</span>

<span class="sd">    Keyword Arguments:</span>
<span class="sd">        filter_categories (Optional[Callable[[TokenCategory], bool]]): A function that takes a TokenCategory and returns a boolean</span>
<span class="sd">            indicating whether the token should be included in the export. If provided, only tokens for which the</span>
<span class="sd">            function returns True will be exported. Defaults to None. If None, all tokens will be exported.</span>

<span class="sd">    Returns (str): The exported token.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">pass</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="kernpy.core.CompoundToken" class="doc doc-heading">
            <code>CompoundToken</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="kernpy.core.tokens.ComplexToken" href="#kernpy.core.ComplexToken">ComplexToken</a></code></p>


              <details class="quote">
                <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1742</span>
<span class="normal">1743</span>
<span class="normal">1744</span>
<span class="normal">1745</span>
<span class="normal">1746</span>
<span class="normal">1747</span>
<span class="normal">1748</span>
<span class="normal">1749</span>
<span class="normal">1750</span>
<span class="normal">1751</span>
<span class="normal">1752</span>
<span class="normal">1753</span>
<span class="normal">1754</span>
<span class="normal">1755</span>
<span class="normal">1756</span>
<span class="normal">1757</span>
<span class="normal">1758</span>
<span class="normal">1759</span>
<span class="normal">1760</span>
<span class="normal">1761</span>
<span class="normal">1762</span>
<span class="normal">1763</span>
<span class="normal">1764</span>
<span class="normal">1765</span>
<span class="normal">1766</span>
<span class="normal">1767</span>
<span class="normal">1768</span>
<span class="normal">1769</span>
<span class="normal">1770</span>
<span class="normal">1771</span>
<span class="normal">1772</span>
<span class="normal">1773</span>
<span class="normal">1774</span>
<span class="normal">1775</span>
<span class="normal">1776</span>
<span class="normal">1777</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">CompoundToken</span><span class="p">(</span><span class="n">ComplexToken</span><span class="p">):</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">encoding</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">category</span><span class="p">:</span> <span class="n">TokenCategory</span><span class="p">,</span> <span class="n">subtokens</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Subtoken</span><span class="p">]):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Args:</span>
<span class="sd">            encoding (str): The complete unprocessed encoding</span>
<span class="sd">            category (TokenCategory): The token category, one of &#39;TokenCategory&#39;</span>
<span class="sd">            subtokens (List[Subtoken]): The individual elements of the token. Also of type &#39;TokenCategory&#39; but \</span>
<span class="sd">                in the hierarchy they must be children of the current token.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">encoding</span><span class="p">,</span> <span class="n">category</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">subtoken</span> <span class="ow">in</span> <span class="n">subtokens</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">subtoken</span><span class="p">,</span> <span class="n">Subtoken</span><span class="p">):</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;All subtokens must be instances of Subtoken. Found </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">subtoken</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">subtokens</span> <span class="o">=</span> <span class="n">subtokens</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">export</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Exports the token.</span>

<span class="sd">        Keyword Arguments:</span>
<span class="sd">            filter_categories (Optional[Callable[[TokenCategory], bool]]): A function that takes a TokenCategory and returns a boolean</span>
<span class="sd">                indicating whether the token should be included in the export. If provided, only tokens for which the</span>
<span class="sd">                function returns True will be exported. Defaults to None. If None, all tokens will be exported.</span>

<span class="sd">        Returns (str): The exported token.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">filter_categories_fn</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;filter_categories&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="n">parts</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">subtoken</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">subtokens</span><span class="p">:</span>
            <span class="c1"># Only export the subtoken if it passes the filter_categories (if provided)</span>
            <span class="k">if</span> <span class="n">filter_categories_fn</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">filter_categories_fn</span><span class="p">(</span><span class="n">subtoken</span><span class="o">.</span><span class="n">category</span><span class="p">):</span>
                <span class="c1"># parts.append(subtoken.export(**kwargs)) in the future when SubTokens will be Tokens</span>
                <span class="n">parts</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">subtoken</span><span class="o">.</span><span class="n">encoding</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">TOKEN_SEPARATOR</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">parts</span><span class="p">)</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">parts</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="k">else</span> <span class="n">EMPTY_TOKEN</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="kernpy.core.CompoundToken.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">encoding</span><span class="p">,</span> <span class="n">category</span><span class="p">,</span> <span class="n">subtokens</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">



<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>encoding</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The complete unprocessed encoding</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>category</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.tokens.TokenCategory" href="#kernpy.core.TokenCategory">TokenCategory</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The token category, one of 'TokenCategory'</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>subtokens</code></td>
            <td>
                  <code><span title="typing.List">List</span>[<a class="autorefs autorefs-internal" title="kernpy.core.tokens.Subtoken" href="#kernpy.core.Subtoken">Subtoken</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The individual elements of the token. Also of type 'TokenCategory' but                 in the hierarchy they must be children of the current token.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1743</span>
<span class="normal">1744</span>
<span class="normal">1745</span>
<span class="normal">1746</span>
<span class="normal">1747</span>
<span class="normal">1748</span>
<span class="normal">1749</span>
<span class="normal">1750</span>
<span class="normal">1751</span>
<span class="normal">1752</span>
<span class="normal">1753</span>
<span class="normal">1754</span>
<span class="normal">1755</span>
<span class="normal">1756</span>
<span class="normal">1757</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">encoding</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">category</span><span class="p">:</span> <span class="n">TokenCategory</span><span class="p">,</span> <span class="n">subtokens</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Subtoken</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Args:</span>
<span class="sd">        encoding (str): The complete unprocessed encoding</span>
<span class="sd">        category (TokenCategory): The token category, one of &#39;TokenCategory&#39;</span>
<span class="sd">        subtokens (List[Subtoken]): The individual elements of the token. Also of type &#39;TokenCategory&#39; but \</span>
<span class="sd">            in the hierarchy they must be children of the current token.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">encoding</span><span class="p">,</span> <span class="n">category</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">subtoken</span> <span class="ow">in</span> <span class="n">subtokens</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">subtoken</span><span class="p">,</span> <span class="n">Subtoken</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;All subtokens must be instances of Subtoken. Found </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">subtoken</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">subtokens</span> <span class="o">=</span> <span class="n">subtokens</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.CompoundToken.export" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">export</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Exports the token.</p>


<p><span class="doc-section-title">Other Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>filter_categories</code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[Callable[[<a class="autorefs autorefs-internal" title="kernpy.core.tokens.TokenCategory" href="#kernpy.core.TokenCategory">TokenCategory</a>], bool]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A function that takes a TokenCategory and returns a boolean
indicating whether the token should be included in the export. If provided, only tokens for which the
function returns True will be exported. Defaults to None. If None, all tokens will be exported.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns (str): The exported token.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1759</span>
<span class="normal">1760</span>
<span class="normal">1761</span>
<span class="normal">1762</span>
<span class="normal">1763</span>
<span class="normal">1764</span>
<span class="normal">1765</span>
<span class="normal">1766</span>
<span class="normal">1767</span>
<span class="normal">1768</span>
<span class="normal">1769</span>
<span class="normal">1770</span>
<span class="normal">1771</span>
<span class="normal">1772</span>
<span class="normal">1773</span>
<span class="normal">1774</span>
<span class="normal">1775</span>
<span class="normal">1776</span>
<span class="normal">1777</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">export</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Exports the token.</span>

<span class="sd">    Keyword Arguments:</span>
<span class="sd">        filter_categories (Optional[Callable[[TokenCategory], bool]]): A function that takes a TokenCategory and returns a boolean</span>
<span class="sd">            indicating whether the token should be included in the export. If provided, only tokens for which the</span>
<span class="sd">            function returns True will be exported. Defaults to None. If None, all tokens will be exported.</span>

<span class="sd">    Returns (str): The exported token.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">filter_categories_fn</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;filter_categories&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="n">parts</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">subtoken</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">subtokens</span><span class="p">:</span>
        <span class="c1"># Only export the subtoken if it passes the filter_categories (if provided)</span>
        <span class="k">if</span> <span class="n">filter_categories_fn</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">filter_categories_fn</span><span class="p">(</span><span class="n">subtoken</span><span class="o">.</span><span class="n">category</span><span class="p">):</span>
            <span class="c1"># parts.append(subtoken.export(**kwargs)) in the future when SubTokens will be Tokens</span>
            <span class="n">parts</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">subtoken</span><span class="o">.</span><span class="n">encoding</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">TOKEN_SEPARATOR</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">parts</span><span class="p">)</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">parts</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="k">else</span> <span class="n">EMPTY_TOKEN</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="kernpy.core.Document" class="doc doc-heading">
            <code>Document</code>


</h2>


    <div class="doc doc-contents ">


        <p>Document class.</p>
<p>This class store the score content using an agnostic tree structure.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="kernpy.core.Document.tree">tree</span></code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.document.MultistageTree" href="#kernpy.core.MultistageTree">MultistageTree</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The tree structure of the document where all the nodes are stored.             Each stage of the tree corresponds to a row in the Humdrum **kern file encoding.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="kernpy.core.Document.measure_start_tree_stages">measure_start_tree_stages</span></code></td>
            <td>
                  <code><span title="typing.List">List</span>[<span title="typing.List">List</span>[<a class="autorefs autorefs-internal" title="kernpy.core.document.Node" href="#kernpy.core.Node">Node</a>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The list of nodes that corresponds to the measures.             Empty list by default.
The index of the list is starting from 1. Rows after removing empty lines and line comments</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="kernpy.core.Document.page_bounding_boxes">page_bounding_boxes</span></code></td>
            <td>
                  <code><span title="typing.Dict">Dict</span>[int, <a class="autorefs autorefs-internal" title="kernpy.core.document.BoundingBoxMeasures" href="#kernpy.core.BoundingBoxMeasures">BoundingBoxMeasures</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The dictionary of page bounding boxes.             - key: page number
- value: BoundingBoxMeasures object</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="kernpy.core.Document.header_stage">header_stage</span></code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The index of the stage that contains the headers. None by default.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

              <details class="quote">
                <summary>Source code in <code>kernpy/core/document.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span>
<span class="normal">475</span>
<span class="normal">476</span>
<span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span>
<span class="normal">485</span>
<span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span>
<span class="normal">489</span>
<span class="normal">490</span>
<span class="normal">491</span>
<span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span>
<span class="normal">496</span>
<span class="normal">497</span>
<span class="normal">498</span>
<span class="normal">499</span>
<span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span>
<span class="normal">507</span>
<span class="normal">508</span>
<span class="normal">509</span>
<span class="normal">510</span>
<span class="normal">511</span>
<span class="normal">512</span>
<span class="normal">513</span>
<span class="normal">514</span>
<span class="normal">515</span>
<span class="normal">516</span>
<span class="normal">517</span>
<span class="normal">518</span>
<span class="normal">519</span>
<span class="normal">520</span>
<span class="normal">521</span>
<span class="normal">522</span>
<span class="normal">523</span>
<span class="normal">524</span>
<span class="normal">525</span>
<span class="normal">526</span>
<span class="normal">527</span>
<span class="normal">528</span>
<span class="normal">529</span>
<span class="normal">530</span>
<span class="normal">531</span>
<span class="normal">532</span>
<span class="normal">533</span>
<span class="normal">534</span>
<span class="normal">535</span>
<span class="normal">536</span>
<span class="normal">537</span>
<span class="normal">538</span>
<span class="normal">539</span>
<span class="normal">540</span>
<span class="normal">541</span>
<span class="normal">542</span>
<span class="normal">543</span>
<span class="normal">544</span>
<span class="normal">545</span>
<span class="normal">546</span>
<span class="normal">547</span>
<span class="normal">548</span>
<span class="normal">549</span>
<span class="normal">550</span>
<span class="normal">551</span>
<span class="normal">552</span>
<span class="normal">553</span>
<span class="normal">554</span>
<span class="normal">555</span>
<span class="normal">556</span>
<span class="normal">557</span>
<span class="normal">558</span>
<span class="normal">559</span>
<span class="normal">560</span>
<span class="normal">561</span>
<span class="normal">562</span>
<span class="normal">563</span>
<span class="normal">564</span>
<span class="normal">565</span>
<span class="normal">566</span>
<span class="normal">567</span>
<span class="normal">568</span>
<span class="normal">569</span>
<span class="normal">570</span>
<span class="normal">571</span>
<span class="normal">572</span>
<span class="normal">573</span>
<span class="normal">574</span>
<span class="normal">575</span>
<span class="normal">576</span>
<span class="normal">577</span>
<span class="normal">578</span>
<span class="normal">579</span>
<span class="normal">580</span>
<span class="normal">581</span>
<span class="normal">582</span>
<span class="normal">583</span>
<span class="normal">584</span>
<span class="normal">585</span>
<span class="normal">586</span>
<span class="normal">587</span>
<span class="normal">588</span>
<span class="normal">589</span>
<span class="normal">590</span>
<span class="normal">591</span>
<span class="normal">592</span>
<span class="normal">593</span>
<span class="normal">594</span>
<span class="normal">595</span>
<span class="normal">596</span>
<span class="normal">597</span>
<span class="normal">598</span>
<span class="normal">599</span>
<span class="normal">600</span>
<span class="normal">601</span>
<span class="normal">602</span>
<span class="normal">603</span>
<span class="normal">604</span>
<span class="normal">605</span>
<span class="normal">606</span>
<span class="normal">607</span>
<span class="normal">608</span>
<span class="normal">609</span>
<span class="normal">610</span>
<span class="normal">611</span>
<span class="normal">612</span>
<span class="normal">613</span>
<span class="normal">614</span>
<span class="normal">615</span>
<span class="normal">616</span>
<span class="normal">617</span>
<span class="normal">618</span>
<span class="normal">619</span>
<span class="normal">620</span>
<span class="normal">621</span>
<span class="normal">622</span>
<span class="normal">623</span>
<span class="normal">624</span>
<span class="normal">625</span>
<span class="normal">626</span>
<span class="normal">627</span>
<span class="normal">628</span>
<span class="normal">629</span>
<span class="normal">630</span>
<span class="normal">631</span>
<span class="normal">632</span>
<span class="normal">633</span>
<span class="normal">634</span>
<span class="normal">635</span>
<span class="normal">636</span>
<span class="normal">637</span>
<span class="normal">638</span>
<span class="normal">639</span>
<span class="normal">640</span>
<span class="normal">641</span>
<span class="normal">642</span>
<span class="normal">643</span>
<span class="normal">644</span>
<span class="normal">645</span>
<span class="normal">646</span>
<span class="normal">647</span>
<span class="normal">648</span>
<span class="normal">649</span>
<span class="normal">650</span>
<span class="normal">651</span>
<span class="normal">652</span>
<span class="normal">653</span>
<span class="normal">654</span>
<span class="normal">655</span>
<span class="normal">656</span>
<span class="normal">657</span>
<span class="normal">658</span>
<span class="normal">659</span>
<span class="normal">660</span>
<span class="normal">661</span>
<span class="normal">662</span>
<span class="normal">663</span>
<span class="normal">664</span>
<span class="normal">665</span>
<span class="normal">666</span>
<span class="normal">667</span>
<span class="normal">668</span>
<span class="normal">669</span>
<span class="normal">670</span>
<span class="normal">671</span>
<span class="normal">672</span>
<span class="normal">673</span>
<span class="normal">674</span>
<span class="normal">675</span>
<span class="normal">676</span>
<span class="normal">677</span>
<span class="normal">678</span>
<span class="normal">679</span>
<span class="normal">680</span>
<span class="normal">681</span>
<span class="normal">682</span>
<span class="normal">683</span>
<span class="normal">684</span>
<span class="normal">685</span>
<span class="normal">686</span>
<span class="normal">687</span>
<span class="normal">688</span>
<span class="normal">689</span>
<span class="normal">690</span>
<span class="normal">691</span>
<span class="normal">692</span>
<span class="normal">693</span>
<span class="normal">694</span>
<span class="normal">695</span>
<span class="normal">696</span>
<span class="normal">697</span>
<span class="normal">698</span>
<span class="normal">699</span>
<span class="normal">700</span>
<span class="normal">701</span>
<span class="normal">702</span>
<span class="normal">703</span>
<span class="normal">704</span>
<span class="normal">705</span>
<span class="normal">706</span>
<span class="normal">707</span>
<span class="normal">708</span>
<span class="normal">709</span>
<span class="normal">710</span>
<span class="normal">711</span>
<span class="normal">712</span>
<span class="normal">713</span>
<span class="normal">714</span>
<span class="normal">715</span>
<span class="normal">716</span>
<span class="normal">717</span>
<span class="normal">718</span>
<span class="normal">719</span>
<span class="normal">720</span>
<span class="normal">721</span>
<span class="normal">722</span>
<span class="normal">723</span>
<span class="normal">724</span>
<span class="normal">725</span>
<span class="normal">726</span>
<span class="normal">727</span>
<span class="normal">728</span>
<span class="normal">729</span>
<span class="normal">730</span>
<span class="normal">731</span>
<span class="normal">732</span>
<span class="normal">733</span>
<span class="normal">734</span>
<span class="normal">735</span>
<span class="normal">736</span>
<span class="normal">737</span>
<span class="normal">738</span>
<span class="normal">739</span>
<span class="normal">740</span>
<span class="normal">741</span>
<span class="normal">742</span>
<span class="normal">743</span>
<span class="normal">744</span>
<span class="normal">745</span>
<span class="normal">746</span>
<span class="normal">747</span>
<span class="normal">748</span>
<span class="normal">749</span>
<span class="normal">750</span>
<span class="normal">751</span>
<span class="normal">752</span>
<span class="normal">753</span>
<span class="normal">754</span>
<span class="normal">755</span>
<span class="normal">756</span>
<span class="normal">757</span>
<span class="normal">758</span>
<span class="normal">759</span>
<span class="normal">760</span>
<span class="normal">761</span>
<span class="normal">762</span>
<span class="normal">763</span>
<span class="normal">764</span>
<span class="normal">765</span>
<span class="normal">766</span>
<span class="normal">767</span>
<span class="normal">768</span>
<span class="normal">769</span>
<span class="normal">770</span>
<span class="normal">771</span>
<span class="normal">772</span>
<span class="normal">773</span>
<span class="normal">774</span>
<span class="normal">775</span>
<span class="normal">776</span>
<span class="normal">777</span>
<span class="normal">778</span>
<span class="normal">779</span>
<span class="normal">780</span>
<span class="normal">781</span>
<span class="normal">782</span>
<span class="normal">783</span>
<span class="normal">784</span>
<span class="normal">785</span>
<span class="normal">786</span>
<span class="normal">787</span>
<span class="normal">788</span>
<span class="normal">789</span>
<span class="normal">790</span>
<span class="normal">791</span>
<span class="normal">792</span>
<span class="normal">793</span>
<span class="normal">794</span>
<span class="normal">795</span>
<span class="normal">796</span>
<span class="normal">797</span>
<span class="normal">798</span>
<span class="normal">799</span>
<span class="normal">800</span>
<span class="normal">801</span>
<span class="normal">802</span>
<span class="normal">803</span>
<span class="normal">804</span>
<span class="normal">805</span>
<span class="normal">806</span>
<span class="normal">807</span>
<span class="normal">808</span>
<span class="normal">809</span>
<span class="normal">810</span>
<span class="normal">811</span>
<span class="normal">812</span>
<span class="normal">813</span>
<span class="normal">814</span>
<span class="normal">815</span>
<span class="normal">816</span>
<span class="normal">817</span>
<span class="normal">818</span>
<span class="normal">819</span>
<span class="normal">820</span>
<span class="normal">821</span>
<span class="normal">822</span>
<span class="normal">823</span>
<span class="normal">824</span>
<span class="normal">825</span>
<span class="normal">826</span>
<span class="normal">827</span>
<span class="normal">828</span>
<span class="normal">829</span>
<span class="normal">830</span>
<span class="normal">831</span>
<span class="normal">832</span>
<span class="normal">833</span>
<span class="normal">834</span>
<span class="normal">835</span>
<span class="normal">836</span>
<span class="normal">837</span>
<span class="normal">838</span>
<span class="normal">839</span>
<span class="normal">840</span>
<span class="normal">841</span>
<span class="normal">842</span>
<span class="normal">843</span>
<span class="normal">844</span>
<span class="normal">845</span>
<span class="normal">846</span>
<span class="normal">847</span>
<span class="normal">848</span>
<span class="normal">849</span>
<span class="normal">850</span>
<span class="normal">851</span>
<span class="normal">852</span>
<span class="normal">853</span>
<span class="normal">854</span>
<span class="normal">855</span>
<span class="normal">856</span>
<span class="normal">857</span>
<span class="normal">858</span>
<span class="normal">859</span>
<span class="normal">860</span>
<span class="normal">861</span>
<span class="normal">862</span>
<span class="normal">863</span>
<span class="normal">864</span>
<span class="normal">865</span>
<span class="normal">866</span>
<span class="normal">867</span>
<span class="normal">868</span>
<span class="normal">869</span>
<span class="normal">870</span>
<span class="normal">871</span>
<span class="normal">872</span>
<span class="normal">873</span>
<span class="normal">874</span>
<span class="normal">875</span>
<span class="normal">876</span>
<span class="normal">877</span>
<span class="normal">878</span>
<span class="normal">879</span>
<span class="normal">880</span>
<span class="normal">881</span>
<span class="normal">882</span>
<span class="normal">883</span>
<span class="normal">884</span>
<span class="normal">885</span>
<span class="normal">886</span>
<span class="normal">887</span>
<span class="normal">888</span>
<span class="normal">889</span>
<span class="normal">890</span>
<span class="normal">891</span>
<span class="normal">892</span>
<span class="normal">893</span>
<span class="normal">894</span>
<span class="normal">895</span>
<span class="normal">896</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">Document</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Document class.</span>

<span class="sd">    This class store the score content using an agnostic tree structure.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        tree (MultistageTree): The tree structure of the document where all the nodes are stored. \</span>
<span class="sd">            Each stage of the tree corresponds to a row in the Humdrum **kern file encoding.</span>
<span class="sd">        measure_start_tree_stages (List[List[Node]]): The list of nodes that corresponds to the measures. \</span>
<span class="sd">            Empty list by default.</span>
<span class="sd">            The index of the list is starting from 1. Rows after removing empty lines and line comments</span>
<span class="sd">        page_bounding_boxes (Dict[int, BoundingBoxMeasures]): The dictionary of page bounding boxes. \</span>
<span class="sd">            - key: page number</span>
<span class="sd">            - value: BoundingBoxMeasures object</span>
<span class="sd">        header_stage (int): The index of the stage that contains the headers. None by default.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tree</span><span class="p">:</span> <span class="n">MultistageTree</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Constructor for Document class.</span>

<span class="sd">        Args:</span>
<span class="sd">            tree (MultistageTree): The tree structure of the document where all the nodes are stored.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tree</span> <span class="o">=</span> <span class="n">tree</span>  <span class="c1"># TODO: ? Should we use copy.deepcopy() here?</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">measure_start_tree_stages</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">page_bounding_boxes</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">header_stage</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="n">FIRST_MEASURE</span> <span class="o">=</span> <span class="mi">1</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_header_stage</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">Node</span><span class="p">],</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">Node</span><span class="p">]]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the Node list of the header stage.</span>

<span class="sd">        Returns: (Union[List[Node], List[List[Node]]]) The Node list of the header stage.</span>

<span class="sd">        Raises: Exception - If the document has no header stage.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">header_stage</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tree</span><span class="o">.</span><span class="n">stages</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">header_stage</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;No header stage found&#39;</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_leaves</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Node</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the leaves of the tree.</span>

<span class="sd">        Returns: (List[Node]) The leaves of the tree.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tree</span><span class="o">.</span><span class="n">stages</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tree</span><span class="o">.</span><span class="n">stages</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_spine_count</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the number of spines in the document.</span>

<span class="sd">        Returns (int): The number of spines in the document.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_header_stage</span><span class="p">())</span>  <span class="c1"># TODO: test refactor</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_first_measure</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the index of the first measure of the document.</span>

<span class="sd">        Returns: (Int) The index of the first measure of the document.</span>

<span class="sd">        Raises: Exception - If the document has no measures.</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; import kernpy as kp</span>
<span class="sd">            &gt;&gt;&gt; document, err = kp.read(&#39;score.krn&#39;)</span>
<span class="sd">            &gt;&gt;&gt; document.get_first_measure()</span>
<span class="sd">            1</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">measure_start_tree_stages</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;No measures found&#39;</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">FIRST_MEASURE</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">measures_count</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the index of the last measure of the document.</span>

<span class="sd">        Returns: (Int) The index of the last measure of the document.</span>

<span class="sd">        Raises: Exception - If the document has no measures.</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; document, _ = kernpy.read(&#39;score.krn&#39;)</span>
<span class="sd">            &gt;&gt;&gt; document.measures_count()</span>
<span class="sd">            10</span>
<span class="sd">            &gt;&gt;&gt; for i in range(document.get_first_measure(), document.measures_count() + 1):</span>
<span class="sd">            &gt;&gt;&gt;   options = kernpy.ExportOptions(from_measure=i, to_measure=i+4)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">measure_start_tree_stages</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;No measures found&#39;</span><span class="p">)</span>

        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">measure_start_tree_stages</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_metacomments</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">KeyComment</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">clear</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get all metacomments in the document</span>

<span class="sd">        Args:</span>
<span class="sd">            KeyComment: Filter by a specific metacomment key: e.g. Use &#39;COM&#39; to get only comments starting with\</span>
<span class="sd">                &#39;!!!COM: &#39;. If None, all metacomments are returned.</span>
<span class="sd">            clear: If True, the metacomment key is removed from the comment. E.g. &#39;!!!COM: Coltrane&#39; -&gt; &#39;Coltrane&#39;.\</span>
<span class="sd">                If False, the metacomment key is kept. E.g. &#39;!!!COM: Coltrane&#39; -&gt; &#39;!!!COM: Coltrane&#39;. \</span>
<span class="sd">                The clear functionality is equivalent to the following code:</span>
<span class="sd">                ```python</span>
<span class="sd">                comment = &#39;!!!COM: Coltrane&#39;</span>
<span class="sd">                clean_comment = comment.replace(f&quot;!!!{KeyComment}: &quot;, &quot;&quot;)</span>
<span class="sd">                ```</span>
<span class="sd">                Other formats are not supported.</span>

<span class="sd">        Returns: A list of metacomments.</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; document.get_metacomments()</span>
<span class="sd">            [&#39;!!!COM: Coltrane&#39;, &#39;!!!voices: 1&#39;, &#39;!!!OPR: Blue Train&#39;]</span>
<span class="sd">            &gt;&gt;&gt; document.get_metacomments(KeyComment=&#39;COM&#39;)</span>
<span class="sd">            [&#39;!!!COM: Coltrane&#39;]</span>
<span class="sd">            &gt;&gt;&gt; document.get_metacomments(KeyComment=&#39;COM&#39;, clear=True)</span>
<span class="sd">            [&#39;Coltrane&#39;]</span>
<span class="sd">            &gt;&gt;&gt; document.get_metacomments(KeyComment=&#39;non_existing_key&#39;)</span>
<span class="sd">            []</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">traversal</span> <span class="o">=</span> <span class="n">MetacommentsTraversal</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tree</span><span class="o">.</span><span class="n">dfs_iterative</span><span class="p">(</span><span class="n">traversal</span><span class="p">)</span>
        <span class="n">result</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">metacomment</span> <span class="ow">in</span> <span class="n">traversal</span><span class="o">.</span><span class="n">metacomments</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">KeyComment</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">metacomment</span><span class="o">.</span><span class="n">encoding</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;!!!</span><span class="si">{</span><span class="n">KeyComment</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">):</span>
                <span class="n">new_comment</span> <span class="o">=</span> <span class="n">metacomment</span><span class="o">.</span><span class="n">encoding</span>
                <span class="k">if</span> <span class="n">clear</span><span class="p">:</span>
                    <span class="n">new_comment</span> <span class="o">=</span> <span class="n">metacomment</span><span class="o">.</span><span class="n">encoding</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;!!!</span><span class="si">{</span><span class="n">KeyComment</span><span class="si">}</span><span class="s2">: &quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
                <span class="n">result</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">new_comment</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">result</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">tokens_to_encodings</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">tokens</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">AbstractToken</span><span class="p">]):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the encodings of a list of tokens.</span>

<span class="sd">        The method is equivalent to the following code:</span>
<span class="sd">            &gt;&gt;&gt; tokens = kp.get_all_tokens()</span>
<span class="sd">            &gt;&gt;&gt; [token.encoding for token in tokens if token.encoding is not None]</span>

<span class="sd">        Args:</span>
<span class="sd">            tokens (Sequence[AbstractToken]): list - A list of tokens.</span>

<span class="sd">        Returns: List[str] - A list of token encodings.</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; tokens = document.get_all_tokens()</span>
<span class="sd">            &gt;&gt;&gt; Document.tokens_to_encodings(tokens)</span>
<span class="sd">            [&#39;!!!COM: Coltrane&#39;, &#39;!!!voices: 1&#39;, &#39;!!!OPR: Blue Train&#39;]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">encodings</span> <span class="o">=</span> <span class="p">[</span><span class="n">token</span><span class="o">.</span><span class="n">encoding</span> <span class="k">for</span> <span class="n">token</span> <span class="ow">in</span> <span class="n">tokens</span> <span class="k">if</span> <span class="n">token</span><span class="o">.</span><span class="n">encoding</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">encodings</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_all_tokens</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filter_by_categories</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Sequence</span><span class="p">[</span><span class="n">TokenCategory</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">AbstractToken</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Args:</span>
<span class="sd">            filter_by_categories (Optional[Sequence[TokenCategory]]): A list of categories to filter the tokens. If None, all tokens are returned.</span>

<span class="sd">        Returns:</span>
<span class="sd">            List[AbstractToken] - A list of all tokens.</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; tokens = document.get_all_tokens()</span>
<span class="sd">            &gt;&gt;&gt; Document.tokens_to_encodings(tokens)</span>
<span class="sd">            &gt;&gt;&gt; [type(t) for t in tokens]</span>
<span class="sd">            [&lt;class &#39;kernpy.core.token.Token&#39;&gt;, &lt;class &#39;kernpy.core.token.Token&#39;&gt;, &lt;class &#39;kernpy.core.token.Token&#39;&gt;]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">computed_categories</span> <span class="o">=</span> <span class="n">TokenCategory</span><span class="o">.</span><span class="n">valid</span><span class="p">(</span><span class="n">include</span><span class="o">=</span><span class="n">filter_by_categories</span><span class="p">)</span>
        <span class="n">traversal</span> <span class="o">=</span> <span class="n">TokensTraversal</span><span class="p">(</span><span class="kc">False</span><span class="p">,</span> <span class="n">computed_categories</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tree</span><span class="o">.</span><span class="n">dfs_iterative</span><span class="p">(</span><span class="n">traversal</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">traversal</span><span class="o">.</span><span class="n">tokens</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_all_tokens_encodings</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span>
            <span class="n">filter_by_categories</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Sequence</span><span class="p">[</span><span class="n">TokenCategory</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Args:</span>
<span class="sd">            filter_by_categories (Optional[Sequence[TokenCategory]]): A list of categories to filter the tokens. If None, all tokens are returned.</span>


<span class="sd">        Returns:</span>
<span class="sd">            list[str] - A list of all token encodings.</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; tokens = document.get_all_tokens_encodings()</span>
<span class="sd">            &gt;&gt;&gt; Document.tokens_to_encodings(tokens)</span>
<span class="sd">            [&#39;!!!COM: Coltrane&#39;, &#39;!!!voices: 1&#39;, &#39;!!!OPR: Blue Train&#39;]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">tokens</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_all_tokens</span><span class="p">(</span><span class="n">filter_by_categories</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">Document</span><span class="o">.</span><span class="n">tokens_to_encodings</span><span class="p">(</span><span class="n">tokens</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_unique_tokens</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span>
            <span class="n">filter_by_categories</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Sequence</span><span class="p">[</span><span class="n">TokenCategory</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">AbstractToken</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get unique tokens.</span>

<span class="sd">        Args:</span>
<span class="sd">            filter_by_categories (Optional[Sequence[TokenCategory]]): A list of categories to filter the tokens. If None, all tokens are returned.</span>

<span class="sd">        Returns:</span>
<span class="sd">            List[AbstractToken] - A list of unique tokens.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">computed_categories</span> <span class="o">=</span> <span class="n">TokenCategory</span><span class="o">.</span><span class="n">valid</span><span class="p">(</span><span class="n">include</span><span class="o">=</span><span class="n">filter_by_categories</span><span class="p">)</span>
        <span class="n">traversal</span> <span class="o">=</span> <span class="n">TokensTraversal</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="n">computed_categories</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tree</span><span class="o">.</span><span class="n">dfs_iterative</span><span class="p">(</span><span class="n">traversal</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">traversal</span><span class="o">.</span><span class="n">tokens</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_unique_token_encodings</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span>
            <span class="n">filter_by_categories</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Sequence</span><span class="p">[</span><span class="n">TokenCategory</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get unique token encodings.</span>

<span class="sd">        Args:</span>
<span class="sd">            filter_by_categories (Optional[Sequence[TokenCategory]]): A list of categories to filter the tokens. If None, all tokens are returned.</span>

<span class="sd">        Returns: List[str] - A list of unique token encodings.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">tokens</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_unique_tokens</span><span class="p">(</span><span class="n">filter_by_categories</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">Document</span><span class="o">.</span><span class="n">tokens_to_encodings</span><span class="p">(</span><span class="n">tokens</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_voices</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">clean</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the voices of the document.</span>

<span class="sd">        Args</span>
<span class="sd">            clean (bool): Remove the first &#39;!&#39; from the voice name.</span>

<span class="sd">        Returns: A list of voices.</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; document.get_voices()</span>
<span class="sd">            [&#39;!sax&#39;, &#39;!piano&#39;, &#39;!bass&#39;]</span>
<span class="sd">            &gt;&gt;&gt; document.get_voices(clean=True)</span>
<span class="sd">            [&#39;sax&#39;, &#39;piano&#39;, &#39;bass&#39;]</span>
<span class="sd">            &gt;&gt;&gt; document.get_voices(clean=False)</span>
<span class="sd">            [&#39;!sax&#39;, &#39;!piano&#39;, &#39;!bass&#39;]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span><span class="w"> </span><span class="nn">kernpy.core</span><span class="w"> </span><span class="kn">import</span> <span class="n">TokenCategory</span>
        <span class="n">voices</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_all_tokens</span><span class="p">(</span><span class="n">filter_by_categories</span><span class="o">=</span><span class="p">[</span><span class="n">TokenCategory</span><span class="o">.</span><span class="n">INSTRUMENTS</span><span class="p">])</span>

        <span class="k">if</span> <span class="n">clean</span><span class="p">:</span>
            <span class="n">voices</span> <span class="o">=</span> <span class="p">[</span><span class="n">voice</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span> <span class="k">for</span> <span class="n">voice</span> <span class="ow">in</span> <span class="n">voices</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">voices</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">clone</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Create a deep copy of the Document instance.</span>

<span class="sd">        Returns: A new instance of Document with the tree copied.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">Document</span><span class="p">(</span><span class="n">copy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tree</span><span class="p">))</span>
        <span class="n">result</span><span class="o">.</span><span class="n">measure_start_tree_stages</span> <span class="o">=</span> <span class="n">copy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">measure_start_tree_stages</span><span class="p">)</span>
        <span class="n">result</span><span class="o">.</span><span class="n">page_bounding_boxes</span> <span class="o">=</span> <span class="n">copy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">page_bounding_boxes</span><span class="p">)</span>
        <span class="n">result</span><span class="o">.</span><span class="n">header_stage</span> <span class="o">=</span> <span class="n">copy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">header_stage</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">append_spines</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">spines</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Append the spines directly to current document tree.</span>

<span class="sd">        Args:</span>
<span class="sd">            spines(list): A list of spines to append.</span>

<span class="sd">        Returns: None</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; import kernpy as kp</span>
<span class="sd">            &gt;&gt;&gt; doc, _ = kp.read(&#39;score.krn&#39;)</span>
<span class="sd">            &gt;&gt;&gt; spines = [</span>
<span class="sd">            &gt;&gt;&gt; &#39;4e\t4f\t4g\t4a\n4b\t4c\t4d\t4e\n=\t=\t=\t=\n&#39;,</span>
<span class="sd">            &gt;&gt;&gt; &#39;4c\t4d\t4e\t4f\n4g\t4a\t4b\t4c\n=\t=\t=\t=\n&#39;,</span>
<span class="sd">           &gt;&gt;&gt; ]</span>
<span class="sd">           &gt;&gt;&gt; doc.append_spines(spines)</span>
<span class="sd">           None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">spines</span><span class="p">)</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_spine_count</span><span class="p">():</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Spines count mismatch: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">spines</span><span class="p">)</span><span class="si">}</span><span class="s2"> != </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">get_spine_count</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">spine</span> <span class="ow">in</span> <span class="n">spines</span><span class="p">:</span>
            <span class="k">return</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">add</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="s1">&#39;Document&#39;</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">check_core_spines_only</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s1">&#39;Document&#39;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Concatenate one document to the current document: Modify the current object!</span>

<span class="sd">        Args:</span>
<span class="sd">            other: The document to concatenate.</span>
<span class="sd">            check_core_spines_only: If True, only the core spines (**kern and **mens) are checked. If False, all spines are checked.</span>

<span class="sd">        Returns (&#39;Document&#39;): The current document (self) with the other document concatenated.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">Document</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">,</span> <span class="n">check_core_spines_only</span><span class="o">=</span><span class="n">check_core_spines_only</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Documents are not compatible for addition. &#39;</span>
                            <span class="sa">f</span><span class="s1">&#39;Headers do not match with check_core_spines_only=</span><span class="si">{</span><span class="n">check_core_spines_only</span><span class="si">}</span><span class="s1">. &#39;</span>
                            <span class="sa">f</span><span class="s1">&#39;self: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">get_header_nodes</span><span class="p">()</span><span class="si">}</span><span class="s1">, other: </span><span class="si">{</span><span class="n">other</span><span class="o">.</span><span class="n">get_header_nodes</span><span class="p">()</span><span class="si">}</span><span class="s1">. &#39;</span><span class="p">)</span>

        <span class="n">current_header_nodes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_header_stage</span><span class="p">()</span>
        <span class="n">other_header_nodes</span> <span class="o">=</span> <span class="n">other</span><span class="o">.</span><span class="n">get_header_stage</span><span class="p">()</span>

        <span class="n">current_leaf_nodes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_leaves</span><span class="p">()</span>
        <span class="n">flatten</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">lst</span><span class="p">:</span> <span class="p">[</span><span class="n">item</span> <span class="k">for</span> <span class="n">sublist</span> <span class="ow">in</span> <span class="n">lst</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">sublist</span><span class="p">]</span>
        <span class="n">other_first_level_children</span> <span class="o">=</span> <span class="p">[</span><span class="n">flatten</span><span class="p">(</span><span class="n">c</span><span class="o">.</span><span class="n">children</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">other_header_nodes</span><span class="p">]</span>  <span class="c1"># avoid header stage</span>

        <span class="k">for</span> <span class="n">current_leaf</span><span class="p">,</span> <span class="n">other_first_level_child</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">current_leaf_nodes</span><span class="p">,</span> <span class="n">other_first_level_children</span><span class="p">,</span> <span class="n">strict</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
            <span class="c1"># Ignore extra spines from other document.</span>
            <span class="c1"># But if there are extra spines in the current document, it will raise an exception.</span>
            <span class="k">if</span> <span class="n">current_leaf</span><span class="o">.</span><span class="n">token</span><span class="o">.</span><span class="n">encoding</span> <span class="o">==</span> <span class="n">TERMINATOR</span><span class="p">:</span>
                <span class="c1"># remove the &#39;*-&#39; token from the current document</span>
                <span class="n">current_leaf_index</span> <span class="o">=</span> <span class="n">current_leaf</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">children</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">current_leaf</span><span class="p">)</span>
                <span class="n">current_leaf</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">children</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">current_leaf_index</span><span class="p">)</span>
                <span class="n">current_leaf</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">children</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">current_leaf_index</span><span class="p">,</span> <span class="n">other_first_level_child</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">tree</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span>
                <span class="n">stage</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tree</span><span class="o">.</span><span class="n">stages</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span>  <span class="c1"># TODO: check offset 0, +1, -1 ????</span>
                <span class="n">parent</span><span class="o">=</span><span class="n">current_leaf</span><span class="p">,</span>
                <span class="n">token</span><span class="o">=</span><span class="n">other_first_level_child</span><span class="o">.</span><span class="n">token</span><span class="p">,</span>
                <span class="n">last_spine_operator_node</span><span class="o">=</span><span class="n">other_first_level_child</span><span class="o">.</span><span class="n">last_spine_operator_node</span><span class="p">,</span>
                <span class="n">previous_signature_nodes</span><span class="o">=</span><span class="n">other_first_level_child</span><span class="o">.</span><span class="n">last_signature_nodes</span><span class="p">,</span>
                <span class="n">header_node</span><span class="o">=</span><span class="n">other_first_level_child</span><span class="o">.</span><span class="n">header_node</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_header_nodes</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">HeaderToken</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the header nodes of the current document.</span>

<span class="sd">        Returns: List[HeaderToken]: A list with the header nodes of the current document.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">token</span> <span class="k">for</span> <span class="n">token</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_all_tokens</span><span class="p">(</span><span class="n">filter_by_categories</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">token</span><span class="p">,</span> <span class="n">HeaderToken</span><span class="p">)]</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_spine_ids</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">                Get the indexes of the current document.</span>

<span class="sd">                Returns List[int]: A list with the indexes of the current document.</span>

<span class="sd">                Examples:</span>
<span class="sd">                    &gt;&gt;&gt; document.get_all_spine_indexes()</span>
<span class="sd">                    [0, 1, 2, 3, 4]</span>
<span class="sd">                &quot;&quot;&quot;</span>
        <span class="n">header_nodes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_header_nodes</span><span class="p">()</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">node</span><span class="o">.</span><span class="n">spine_id</span> <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">header_nodes</span><span class="p">]</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">frequencies</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">token_categories</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Sequence</span><span class="p">[</span><span class="n">TokenCategory</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Frequency of tokens in the document.</span>


<span class="sd">        Args:</span>
<span class="sd">            token_categories (Optional[Sequence[TokenCategory]]): If None, all tokens are considered.</span>
<span class="sd">        Returns (Dict):</span>
<span class="sd">            A dictionary with the category and the number of occurrences of each token.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">tokens</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_all_tokens</span><span class="p">(</span><span class="n">filter_by_categories</span><span class="o">=</span><span class="n">token_categories</span><span class="p">)</span>
        <span class="n">frequencies</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">tokens</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">t</span><span class="o">.</span><span class="n">encoding</span> <span class="ow">in</span> <span class="n">frequencies</span><span class="p">:</span>
                <span class="n">frequencies</span><span class="p">[</span><span class="n">t</span><span class="o">.</span><span class="n">encoding</span><span class="p">][</span><span class="s1">&#39;occurrences&#39;</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">frequencies</span><span class="p">[</span><span class="n">t</span><span class="o">.</span><span class="n">encoding</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
                    <span class="s1">&#39;occurrences&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                    <span class="s1">&#39;category&#39;</span><span class="p">:</span> <span class="n">t</span><span class="o">.</span><span class="n">category</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                <span class="p">}</span>

        <span class="k">return</span> <span class="n">frequencies</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">split</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="s1">&#39;Document&#39;</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Split the current document into a list of documents, one for each **kern spine.</span>
<span class="sd">        Each resulting document will contain one **kern spine along with all non-kern spines.</span>

<span class="sd">        Returns:</span>
<span class="sd">            List[&#39;Document&#39;]: A list of documents, where each document contains one **kern spine</span>
<span class="sd">            and all non-kern spines from the original document.</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; document.split()</span>
<span class="sd">            [&lt;Document: score.krn&gt;, &lt;Document: score.krn&gt;, &lt;Document: score.krn&gt;]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span>
        <span class="n">new_documents</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">self_document_copy</span> <span class="o">=</span> <span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="n">kern_header_nodes</span> <span class="o">=</span> <span class="p">[</span><span class="n">node</span> <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">self_document_copy</span><span class="o">.</span><span class="n">get_header_nodes</span><span class="p">()</span> <span class="k">if</span> <span class="n">node</span><span class="o">.</span><span class="n">encoding</span> <span class="o">==</span> <span class="s1">&#39;**kern&#39;</span><span class="p">]</span>
        <span class="n">other_header_nodes</span> <span class="o">=</span> <span class="p">[</span><span class="n">node</span> <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">self_document_copy</span><span class="o">.</span><span class="n">get_header_nodes</span><span class="p">()</span> <span class="k">if</span> <span class="n">node</span><span class="o">.</span><span class="n">encoding</span> <span class="o">!=</span> <span class="s1">&#39;**kern&#39;</span><span class="p">]</span>
        <span class="n">spine_ids</span> <span class="o">=</span> <span class="n">self_document_copy</span><span class="o">.</span><span class="n">get_spine_ids</span><span class="p">()</span>

        <span class="k">for</span> <span class="n">header_node</span> <span class="ow">in</span> <span class="n">kern_header_nodes</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">header_node</span><span class="o">.</span><span class="n">spine_id</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">spine_ids</span><span class="p">:</span>
                <span class="k">continue</span>

            <span class="n">spine_ids</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">header_node</span><span class="o">.</span><span class="n">spine_id</span><span class="p">)</span>

            <span class="n">new_tree</span> <span class="o">=</span> <span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tree</span><span class="p">)</span>
            <span class="n">prev_node</span> <span class="o">=</span> <span class="n">new_tree</span><span class="o">.</span><span class="n">root</span>
            <span class="k">while</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">prev_node</span><span class="p">,</span> <span class="n">HeaderToken</span><span class="p">):</span>
                <span class="n">prev_node</span> <span class="o">=</span> <span class="n">prev_node</span><span class="o">.</span><span class="n">children</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

            <span class="k">if</span> <span class="ow">not</span> <span class="n">prev_node</span> <span class="ow">or</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">prev_node</span><span class="p">,</span> <span class="n">HeaderToken</span><span class="p">):</span>
                <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Header node not found: </span><span class="si">{</span><span class="n">prev_node</span><span class="si">}</span><span class="s1"> in </span><span class="si">{</span><span class="n">header_node</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

            <span class="n">new_children</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">spine_id</span> <span class="o">==</span> <span class="n">header_node</span><span class="o">.</span><span class="n">spine_id</span><span class="p">,</span> <span class="n">prev_node</span><span class="o">.</span><span class="n">children</span><span class="p">))</span>
            <span class="n">new_tree</span><span class="o">.</span><span class="n">root</span> <span class="o">=</span> <span class="n">new_children</span>

            <span class="n">new_document</span> <span class="o">=</span> <span class="n">Document</span><span class="p">(</span><span class="n">new_tree</span><span class="p">)</span>

            <span class="n">new_documents</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">new_document</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">new_documents</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">to_concat</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">first_doc</span><span class="p">:</span> <span class="s1">&#39;Document&#39;</span><span class="p">,</span> <span class="n">second_doc</span><span class="p">:</span> <span class="s1">&#39;Document&#39;</span><span class="p">,</span> <span class="n">deep_copy</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s1">&#39;Document&#39;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Concatenate two documents.</span>

<span class="sd">        Args:</span>
<span class="sd">            first_doc (Document): The first document.</span>
<span class="sd">            second_doc (Document: The second document.</span>
<span class="sd">            deep_copy (bool): If True, the documents are deep copied. If False, the documents are shallow copied.</span>

<span class="sd">        Returns: A new instance of Document with the documents concatenated.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">first_doc</span> <span class="o">=</span> <span class="n">first_doc</span><span class="o">.</span><span class="n">clone</span><span class="p">()</span> <span class="k">if</span> <span class="n">deep_copy</span> <span class="k">else</span> <span class="n">first_doc</span>
        <span class="n">second_doc</span> <span class="o">=</span> <span class="n">second_doc</span><span class="o">.</span><span class="n">clone</span><span class="p">()</span> <span class="k">if</span> <span class="n">deep_copy</span> <span class="k">else</span> <span class="n">second_doc</span>
        <span class="n">first_doc</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">second_doc</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">first_doc</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">match</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">a</span><span class="p">:</span> <span class="s1">&#39;Document&#39;</span><span class="p">,</span> <span class="n">b</span><span class="p">:</span> <span class="s1">&#39;Document&#39;</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">check_core_spines_only</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Match two documents. Two documents match if they have the same spine structure.</span>

<span class="sd">        Args:</span>
<span class="sd">            a (Document): The first document.</span>
<span class="sd">            b (Document): The second document.</span>
<span class="sd">            check_core_spines_only (Optional[bool]): If True, only the core spines (**kern and **mens) are checked. If False, all spines are checked.</span>

<span class="sd">        Returns: True if the documents match, False otherwise.</span>

<span class="sd">        Examples:</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">check_core_spines_only</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">[</span><span class="n">token</span><span class="o">.</span><span class="n">encoding</span> <span class="k">for</span> <span class="n">token</span> <span class="ow">in</span> <span class="n">a</span><span class="o">.</span><span class="n">get_header_nodes</span><span class="p">()</span> <span class="k">if</span> <span class="n">token</span><span class="o">.</span><span class="n">encoding</span> <span class="ow">in</span> <span class="n">CORE_HEADERS</span><span class="p">]</span> \
                <span class="o">==</span> <span class="p">[</span><span class="n">token</span><span class="o">.</span><span class="n">encoding</span> <span class="k">for</span> <span class="n">token</span> <span class="ow">in</span> <span class="n">b</span><span class="o">.</span><span class="n">get_header_nodes</span><span class="p">()</span> <span class="k">if</span> <span class="n">token</span><span class="o">.</span><span class="n">encoding</span> <span class="ow">in</span> <span class="n">CORE_HEADERS</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">[</span><span class="n">token</span><span class="o">.</span><span class="n">encoding</span> <span class="k">for</span> <span class="n">token</span> <span class="ow">in</span> <span class="n">a</span><span class="o">.</span><span class="n">get_header_nodes</span><span class="p">()]</span> \
                <span class="o">==</span> <span class="p">[</span><span class="n">token</span><span class="o">.</span><span class="n">encoding</span> <span class="k">for</span> <span class="n">token</span> <span class="ow">in</span> <span class="n">b</span><span class="o">.</span><span class="n">get_header_nodes</span><span class="p">()]</span>


    <span class="k">def</span><span class="w"> </span><span class="nf">to_transposed</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">interval</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">direction</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Direction</span><span class="o">.</span><span class="n">UP</span><span class="o">.</span><span class="n">value</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s1">&#39;Document&#39;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Create a new document with the transposed notes without modifying the original document.</span>

<span class="sd">        Args:</span>
<span class="sd">            interval (str): The name of the interval to transpose. It can be &#39;P4&#39;, &#39;P5&#39;, &#39;M2&#39;, etc. Check the \</span>
<span class="sd">             kp.AVAILABLE_INTERVALS for the available intervals.</span>
<span class="sd">            direction (str): The direction to transpose. It can be &#39;up&#39; or &#39;down&#39;.</span>

<span class="sd">        Returns:</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">interval</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">AVAILABLE_INTERVALS</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Interval </span><span class="si">{</span><span class="n">interval</span><span class="si">!r}</span><span class="s2"> is not available. &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;Available intervals are: </span><span class="si">{</span><span class="n">AVAILABLE_INTERVALS</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="n">direction</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">(</span><span class="n">Direction</span><span class="o">.</span><span class="n">UP</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">Direction</span><span class="o">.</span><span class="n">DOWN</span><span class="o">.</span><span class="n">value</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Direction </span><span class="si">{</span><span class="n">direction</span><span class="si">!r}</span><span class="s2"> is not available. &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;Available directions are: &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">Direction</span><span class="o">.</span><span class="n">UP</span><span class="o">.</span><span class="n">value</span><span class="si">!r}</span><span class="s2">, </span><span class="si">{</span><span class="n">Direction</span><span class="o">.</span><span class="n">DOWN</span><span class="o">.</span><span class="n">value</span><span class="si">!r}</span><span class="s2">&quot;</span>
            <span class="p">)</span>

        <span class="n">new_document</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">clone</span><span class="p">()</span>

        <span class="c1"># BFS through the tree</span>
        <span class="n">root</span> <span class="o">=</span> <span class="n">new_document</span><span class="o">.</span><span class="n">tree</span><span class="o">.</span><span class="n">root</span>
        <span class="n">queue</span> <span class="o">=</span> <span class="n">Queue</span><span class="p">()</span>
        <span class="n">queue</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">root</span><span class="p">)</span>

        <span class="k">while</span> <span class="ow">not</span> <span class="n">queue</span><span class="o">.</span><span class="n">empty</span><span class="p">():</span>
            <span class="n">node</span> <span class="o">=</span> <span class="n">queue</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>

            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">token</span><span class="p">,</span> <span class="n">NoteRestToken</span><span class="p">):</span>
                <span class="n">orig_token</span> <span class="o">=</span> <span class="n">node</span><span class="o">.</span><span class="n">token</span>

                <span class="n">new_subtokens</span> <span class="o">=</span> <span class="p">[]</span>
                <span class="n">transposed_pitch_encoding</span> <span class="o">=</span> <span class="kc">None</span>

                <span class="c1"># Transpose each pitch subtoken in the pitch–duration list</span>
                <span class="k">for</span> <span class="n">subtoken</span> <span class="ow">in</span> <span class="n">orig_token</span><span class="o">.</span><span class="n">pitch_duration_subtokens</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">subtoken</span><span class="o">.</span><span class="n">category</span> <span class="o">==</span> <span class="n">TokenCategory</span><span class="o">.</span><span class="n">PITCH</span><span class="p">:</span>
                        <span class="c1"># transpose() returns a new pitch subtoken</span>
                        <span class="n">tp</span> <span class="o">=</span> <span class="n">transpose</span><span class="p">(</span>
                            <span class="n">input_encoding</span><span class="o">=</span><span class="n">subtoken</span><span class="o">.</span><span class="n">encoding</span><span class="p">,</span>
                            <span class="n">interval</span><span class="o">=</span><span class="n">IntervalsByName</span><span class="p">[</span><span class="n">interval</span><span class="p">],</span>
                            <span class="n">direction</span><span class="o">=</span><span class="n">direction</span><span class="p">,</span>
                            <span class="n">input_format</span><span class="o">=</span><span class="n">NotationEncoding</span><span class="o">.</span><span class="n">HUMDRUM</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
                            <span class="n">output_format</span><span class="o">=</span><span class="n">NotationEncoding</span><span class="o">.</span><span class="n">HUMDRUM</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
                        <span class="p">)</span>
                        <span class="n">new_subtokens</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Subtoken</span><span class="p">(</span><span class="n">tp</span><span class="p">,</span> <span class="n">subtoken</span><span class="o">.</span><span class="n">category</span><span class="p">))</span>
                        <span class="n">transposed_pitch_encoding</span> <span class="o">=</span> <span class="n">tp</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="c1"># leave duration subtokens untouched</span>
                        <span class="n">new_subtokens</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Subtoken</span><span class="p">(</span><span class="n">subtoken</span><span class="o">.</span><span class="n">encoding</span><span class="p">,</span> <span class="n">subtoken</span><span class="o">.</span><span class="n">category</span><span class="p">))</span>

                <span class="c1"># Replace the node’s token with a new NoteRestToken</span>
                <span class="n">node</span><span class="o">.</span><span class="n">token</span> <span class="o">=</span> <span class="n">NoteRestToken</span><span class="p">(</span>
                    <span class="n">encoding</span><span class="o">=</span><span class="n">transposed_pitch_encoding</span><span class="p">,</span>
                    <span class="n">pitch_duration_subtokens</span><span class="o">=</span><span class="n">new_subtokens</span><span class="p">,</span>
                    <span class="n">decoration_subtokens</span><span class="o">=</span><span class="n">orig_token</span><span class="o">.</span><span class="n">decoration_subtokens</span><span class="p">,</span>
                <span class="p">)</span>

            <span class="c1"># enqueue children</span>
            <span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="n">node</span><span class="o">.</span><span class="n">children</span><span class="p">:</span>
                <span class="n">queue</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">child</span><span class="p">)</span>

        <span class="c1"># Return the transposed clone</span>
        <span class="k">return</span> <span class="n">new_document</span>


    <span class="k">def</span><span class="w"> </span><span class="fm">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the indexes to export all the document.</span>

<span class="sd">        Returns: An iterator with the indexes to export the document.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">iter</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_first_measure</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">measures_count</span><span class="p">()</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__next__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the next index to export the document.</span>

<span class="sd">        Returns: The next index to export the document.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">next</span><span class="p">(</span><span class="nb">iter</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_first_measure</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">measures_count</span><span class="p">()</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)))</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="kernpy.core.Document.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">tree</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Constructor for Document class.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>tree</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.document.MultistageTree" href="#kernpy.core.MultistageTree">MultistageTree</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The tree structure of the document where all the nodes are stored.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/document.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tree</span><span class="p">:</span> <span class="n">MultistageTree</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Constructor for Document class.</span>

<span class="sd">    Args:</span>
<span class="sd">        tree (MultistageTree): The tree structure of the document where all the nodes are stored.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">tree</span> <span class="o">=</span> <span class="n">tree</span>  <span class="c1"># TODO: ? Should we use copy.deepcopy() here?</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">measure_start_tree_stages</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">page_bounding_boxes</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">header_stage</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.Document.__iter__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__iter__</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Get the indexes to export all the document.</p>
<p>Returns: An iterator with the indexes to export the document.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/document.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">882</span>
<span class="normal">883</span>
<span class="normal">884</span>
<span class="normal">885</span>
<span class="normal">886</span>
<span class="normal">887</span>
<span class="normal">888</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get the indexes to export all the document.</span>

<span class="sd">    Returns: An iterator with the indexes to export the document.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="nb">iter</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_first_measure</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">measures_count</span><span class="p">()</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.Document.__next__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__next__</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Get the next index to export the document.</p>
<p>Returns: The next index to export the document.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/document.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">890</span>
<span class="normal">891</span>
<span class="normal">892</span>
<span class="normal">893</span>
<span class="normal">894</span>
<span class="normal">895</span>
<span class="normal">896</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__next__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get the next index to export the document.</span>

<span class="sd">    Returns: The next index to export the document.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="nb">next</span><span class="p">(</span><span class="nb">iter</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_first_measure</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">measures_count</span><span class="p">()</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)))</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.Document.add" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">add</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">check_core_spines_only</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Concatenate one document to the current document: Modify the current object!</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>other</code></td>
            <td>
                  <code>&#39;Document&#39;</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The document to concatenate.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>check_core_spines_only</code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[bool]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If True, only the core spines (<strong>kern and </strong>mens) are checked. If False, all spines are checked.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns ('Document'): The current document (self) with the other document concatenated.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/document.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">638</span>
<span class="normal">639</span>
<span class="normal">640</span>
<span class="normal">641</span>
<span class="normal">642</span>
<span class="normal">643</span>
<span class="normal">644</span>
<span class="normal">645</span>
<span class="normal">646</span>
<span class="normal">647</span>
<span class="normal">648</span>
<span class="normal">649</span>
<span class="normal">650</span>
<span class="normal">651</span>
<span class="normal">652</span>
<span class="normal">653</span>
<span class="normal">654</span>
<span class="normal">655</span>
<span class="normal">656</span>
<span class="normal">657</span>
<span class="normal">658</span>
<span class="normal">659</span>
<span class="normal">660</span>
<span class="normal">661</span>
<span class="normal">662</span>
<span class="normal">663</span>
<span class="normal">664</span>
<span class="normal">665</span>
<span class="normal">666</span>
<span class="normal">667</span>
<span class="normal">668</span>
<span class="normal">669</span>
<span class="normal">670</span>
<span class="normal">671</span>
<span class="normal">672</span>
<span class="normal">673</span>
<span class="normal">674</span>
<span class="normal">675</span>
<span class="normal">676</span>
<span class="normal">677</span>
<span class="normal">678</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">add</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="s1">&#39;Document&#39;</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">check_core_spines_only</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s1">&#39;Document&#39;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Concatenate one document to the current document: Modify the current object!</span>

<span class="sd">    Args:</span>
<span class="sd">        other: The document to concatenate.</span>
<span class="sd">        check_core_spines_only: If True, only the core spines (**kern and **mens) are checked. If False, all spines are checked.</span>

<span class="sd">    Returns (&#39;Document&#39;): The current document (self) with the other document concatenated.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">Document</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">,</span> <span class="n">check_core_spines_only</span><span class="o">=</span><span class="n">check_core_spines_only</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Documents are not compatible for addition. &#39;</span>
                        <span class="sa">f</span><span class="s1">&#39;Headers do not match with check_core_spines_only=</span><span class="si">{</span><span class="n">check_core_spines_only</span><span class="si">}</span><span class="s1">. &#39;</span>
                        <span class="sa">f</span><span class="s1">&#39;self: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">get_header_nodes</span><span class="p">()</span><span class="si">}</span><span class="s1">, other: </span><span class="si">{</span><span class="n">other</span><span class="o">.</span><span class="n">get_header_nodes</span><span class="p">()</span><span class="si">}</span><span class="s1">. &#39;</span><span class="p">)</span>

    <span class="n">current_header_nodes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_header_stage</span><span class="p">()</span>
    <span class="n">other_header_nodes</span> <span class="o">=</span> <span class="n">other</span><span class="o">.</span><span class="n">get_header_stage</span><span class="p">()</span>

    <span class="n">current_leaf_nodes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_leaves</span><span class="p">()</span>
    <span class="n">flatten</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">lst</span><span class="p">:</span> <span class="p">[</span><span class="n">item</span> <span class="k">for</span> <span class="n">sublist</span> <span class="ow">in</span> <span class="n">lst</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">sublist</span><span class="p">]</span>
    <span class="n">other_first_level_children</span> <span class="o">=</span> <span class="p">[</span><span class="n">flatten</span><span class="p">(</span><span class="n">c</span><span class="o">.</span><span class="n">children</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">other_header_nodes</span><span class="p">]</span>  <span class="c1"># avoid header stage</span>

    <span class="k">for</span> <span class="n">current_leaf</span><span class="p">,</span> <span class="n">other_first_level_child</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">current_leaf_nodes</span><span class="p">,</span> <span class="n">other_first_level_children</span><span class="p">,</span> <span class="n">strict</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="c1"># Ignore extra spines from other document.</span>
        <span class="c1"># But if there are extra spines in the current document, it will raise an exception.</span>
        <span class="k">if</span> <span class="n">current_leaf</span><span class="o">.</span><span class="n">token</span><span class="o">.</span><span class="n">encoding</span> <span class="o">==</span> <span class="n">TERMINATOR</span><span class="p">:</span>
            <span class="c1"># remove the &#39;*-&#39; token from the current document</span>
            <span class="n">current_leaf_index</span> <span class="o">=</span> <span class="n">current_leaf</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">children</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">current_leaf</span><span class="p">)</span>
            <span class="n">current_leaf</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">children</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">current_leaf_index</span><span class="p">)</span>
            <span class="n">current_leaf</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">children</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">current_leaf_index</span><span class="p">,</span> <span class="n">other_first_level_child</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">tree</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span>
            <span class="n">stage</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tree</span><span class="o">.</span><span class="n">stages</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span>  <span class="c1"># TODO: check offset 0, +1, -1 ????</span>
            <span class="n">parent</span><span class="o">=</span><span class="n">current_leaf</span><span class="p">,</span>
            <span class="n">token</span><span class="o">=</span><span class="n">other_first_level_child</span><span class="o">.</span><span class="n">token</span><span class="p">,</span>
            <span class="n">last_spine_operator_node</span><span class="o">=</span><span class="n">other_first_level_child</span><span class="o">.</span><span class="n">last_spine_operator_node</span><span class="p">,</span>
            <span class="n">previous_signature_nodes</span><span class="o">=</span><span class="n">other_first_level_child</span><span class="o">.</span><span class="n">last_signature_nodes</span><span class="p">,</span>
            <span class="n">header_node</span><span class="o">=</span><span class="n">other_first_level_child</span><span class="o">.</span><span class="n">header_node</span>
        <span class="p">)</span>

    <span class="k">return</span> <span class="bp">self</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.Document.append_spines" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">append_spines</span><span class="p">(</span><span class="n">spines</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <pre><code>    Append the spines directly to current document tree.

    Args:
        spines(list): A list of spines to append.

    Returns: None

    Examples:
        &gt;&gt;&gt; import kernpy as kp
        &gt;&gt;&gt; doc, _ = kp.read('score.krn')
        &gt;&gt;&gt; spines = [
        &gt;&gt;&gt; '4e     4f      4g      4a
</code></pre>
<p>4b      4c      4d      4e
=       =       =       =
',
            &gt;&gt;&gt; '4c     4d      4e      4f
4g      4a      4b      4c
=       =       =       =
',
           &gt;&gt;&gt; ]
           &gt;&gt;&gt; doc.append_spines(spines)
           None</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/document.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">612</span>
<span class="normal">613</span>
<span class="normal">614</span>
<span class="normal">615</span>
<span class="normal">616</span>
<span class="normal">617</span>
<span class="normal">618</span>
<span class="normal">619</span>
<span class="normal">620</span>
<span class="normal">621</span>
<span class="normal">622</span>
<span class="normal">623</span>
<span class="normal">624</span>
<span class="normal">625</span>
<span class="normal">626</span>
<span class="normal">627</span>
<span class="normal">628</span>
<span class="normal">629</span>
<span class="normal">630</span>
<span class="normal">631</span>
<span class="normal">632</span>
<span class="normal">633</span>
<span class="normal">634</span>
<span class="normal">635</span>
<span class="normal">636</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">append_spines</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">spines</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Append the spines directly to current document tree.</span>

<span class="sd">    Args:</span>
<span class="sd">        spines(list): A list of spines to append.</span>

<span class="sd">    Returns: None</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; import kernpy as kp</span>
<span class="sd">        &gt;&gt;&gt; doc, _ = kp.read(&#39;score.krn&#39;)</span>
<span class="sd">        &gt;&gt;&gt; spines = [</span>
<span class="sd">        &gt;&gt;&gt; &#39;4e\t4f\t4g\t4a\n4b\t4c\t4d\t4e\n=\t=\t=\t=\n&#39;,</span>
<span class="sd">        &gt;&gt;&gt; &#39;4c\t4d\t4e\t4f\n4g\t4a\t4b\t4c\n=\t=\t=\t=\n&#39;,</span>
<span class="sd">       &gt;&gt;&gt; ]</span>
<span class="sd">       &gt;&gt;&gt; doc.append_spines(spines)</span>
<span class="sd">       None</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">spines</span><span class="p">)</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_spine_count</span><span class="p">():</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Spines count mismatch: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">spines</span><span class="p">)</span><span class="si">}</span><span class="s2"> != </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">get_spine_count</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">spine</span> <span class="ow">in</span> <span class="n">spines</span><span class="p">:</span>
        <span class="k">return</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.Document.clone" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">clone</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Create a deep copy of the Document instance.</p>
<p>Returns: A new instance of Document with the tree copied.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/document.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">598</span>
<span class="normal">599</span>
<span class="normal">600</span>
<span class="normal">601</span>
<span class="normal">602</span>
<span class="normal">603</span>
<span class="normal">604</span>
<span class="normal">605</span>
<span class="normal">606</span>
<span class="normal">607</span>
<span class="normal">608</span>
<span class="normal">609</span>
<span class="normal">610</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">clone</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Create a deep copy of the Document instance.</span>

<span class="sd">    Returns: A new instance of Document with the tree copied.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">Document</span><span class="p">(</span><span class="n">copy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tree</span><span class="p">))</span>
    <span class="n">result</span><span class="o">.</span><span class="n">measure_start_tree_stages</span> <span class="o">=</span> <span class="n">copy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">measure_start_tree_stages</span><span class="p">)</span>
    <span class="n">result</span><span class="o">.</span><span class="n">page_bounding_boxes</span> <span class="o">=</span> <span class="n">copy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">page_bounding_boxes</span><span class="p">)</span>
    <span class="n">result</span><span class="o">.</span><span class="n">header_stage</span> <span class="o">=</span> <span class="n">copy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">header_stage</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">result</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.Document.frequencies" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">frequencies</span><span class="p">(</span><span class="n">token_categories</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Frequency of tokens in the document.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>token_categories</code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="collections.abc.Sequence">Sequence</span>[<a class="autorefs autorefs-internal" title="kernpy.core.TokenCategory" href="#kernpy.core.TokenCategory">TokenCategory</a>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If None, all tokens are considered.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns (Dict):
    A dictionary with the category and the number of occurrences of each token.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/document.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">701</span>
<span class="normal">702</span>
<span class="normal">703</span>
<span class="normal">704</span>
<span class="normal">705</span>
<span class="normal">706</span>
<span class="normal">707</span>
<span class="normal">708</span>
<span class="normal">709</span>
<span class="normal">710</span>
<span class="normal">711</span>
<span class="normal">712</span>
<span class="normal">713</span>
<span class="normal">714</span>
<span class="normal">715</span>
<span class="normal">716</span>
<span class="normal">717</span>
<span class="normal">718</span>
<span class="normal">719</span>
<span class="normal">720</span>
<span class="normal">721</span>
<span class="normal">722</span>
<span class="normal">723</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">frequencies</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">token_categories</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Sequence</span><span class="p">[</span><span class="n">TokenCategory</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Frequency of tokens in the document.</span>


<span class="sd">    Args:</span>
<span class="sd">        token_categories (Optional[Sequence[TokenCategory]]): If None, all tokens are considered.</span>
<span class="sd">    Returns (Dict):</span>
<span class="sd">        A dictionary with the category and the number of occurrences of each token.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">tokens</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_all_tokens</span><span class="p">(</span><span class="n">filter_by_categories</span><span class="o">=</span><span class="n">token_categories</span><span class="p">)</span>
    <span class="n">frequencies</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">tokens</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">t</span><span class="o">.</span><span class="n">encoding</span> <span class="ow">in</span> <span class="n">frequencies</span><span class="p">:</span>
            <span class="n">frequencies</span><span class="p">[</span><span class="n">t</span><span class="o">.</span><span class="n">encoding</span><span class="p">][</span><span class="s1">&#39;occurrences&#39;</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">frequencies</span><span class="p">[</span><span class="n">t</span><span class="o">.</span><span class="n">encoding</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s1">&#39;occurrences&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                <span class="s1">&#39;category&#39;</span><span class="p">:</span> <span class="n">t</span><span class="o">.</span><span class="n">category</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="p">}</span>

    <span class="k">return</span> <span class="n">frequencies</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.Document.get_all_tokens" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_all_tokens</span><span class="p">(</span><span class="n">filter_by_categories</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">



<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>filter_by_categories</code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="collections.abc.Sequence">Sequence</span>[<a class="autorefs autorefs-internal" title="kernpy.core.TokenCategory" href="#kernpy.core.TokenCategory">TokenCategory</a>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of categories to filter the tokens. If None, all tokens are returned.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.List">List</span>[<a class="autorefs autorefs-internal" title="kernpy.core.AbstractToken" href="#kernpy.core.AbstractToken">AbstractToken</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List[AbstractToken] - A list of all tokens.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">tokens</span> <span class="o">=</span> <span class="n">document</span><span class="o">.</span><span class="n">get_all_tokens</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Document</span><span class="o">.</span><span class="n">tokens_to_encodings</span><span class="p">(</span><span class="n">tokens</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="nb">type</span><span class="p">(</span><span class="n">t</span><span class="p">)</span> <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">tokens</span><span class="p">]</span>
<span class="go">[&lt;class &#39;kernpy.core.token.Token&#39;&gt;, &lt;class &#39;kernpy.core.token.Token&#39;&gt;, &lt;class &#39;kernpy.core.token.Token&#39;&gt;]</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/document.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span>
<span class="normal">507</span>
<span class="normal">508</span>
<span class="normal">509</span>
<span class="normal">510</span>
<span class="normal">511</span>
<span class="normal">512</span>
<span class="normal">513</span>
<span class="normal">514</span>
<span class="normal">515</span>
<span class="normal">516</span>
<span class="normal">517</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_all_tokens</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filter_by_categories</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Sequence</span><span class="p">[</span><span class="n">TokenCategory</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">AbstractToken</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Args:</span>
<span class="sd">        filter_by_categories (Optional[Sequence[TokenCategory]]): A list of categories to filter the tokens. If None, all tokens are returned.</span>

<span class="sd">    Returns:</span>
<span class="sd">        List[AbstractToken] - A list of all tokens.</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; tokens = document.get_all_tokens()</span>
<span class="sd">        &gt;&gt;&gt; Document.tokens_to_encodings(tokens)</span>
<span class="sd">        &gt;&gt;&gt; [type(t) for t in tokens]</span>
<span class="sd">        [&lt;class &#39;kernpy.core.token.Token&#39;&gt;, &lt;class &#39;kernpy.core.token.Token&#39;&gt;, &lt;class &#39;kernpy.core.token.Token&#39;&gt;]</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">computed_categories</span> <span class="o">=</span> <span class="n">TokenCategory</span><span class="o">.</span><span class="n">valid</span><span class="p">(</span><span class="n">include</span><span class="o">=</span><span class="n">filter_by_categories</span><span class="p">)</span>
    <span class="n">traversal</span> <span class="o">=</span> <span class="n">TokensTraversal</span><span class="p">(</span><span class="kc">False</span><span class="p">,</span> <span class="n">computed_categories</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">tree</span><span class="o">.</span><span class="n">dfs_iterative</span><span class="p">(</span><span class="n">traversal</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">traversal</span><span class="o">.</span><span class="n">tokens</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.Document.get_all_tokens_encodings" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_all_tokens_encodings</span><span class="p">(</span><span class="n">filter_by_categories</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">



<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>filter_by_categories</code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="collections.abc.Sequence">Sequence</span>[<a class="autorefs autorefs-internal" title="kernpy.core.TokenCategory" href="#kernpy.core.TokenCategory">TokenCategory</a>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of categories to filter the tokens. If None, all tokens are returned.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.List">List</span>[str]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>list[str] - A list of all token encodings.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">tokens</span> <span class="o">=</span> <span class="n">document</span><span class="o">.</span><span class="n">get_all_tokens_encodings</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Document</span><span class="o">.</span><span class="n">tokens_to_encodings</span><span class="p">(</span><span class="n">tokens</span><span class="p">)</span>
<span class="go">[&#39;!!!COM: Coltrane&#39;, &#39;!!!voices: 1&#39;, &#39;!!!OPR: Blue Train&#39;]</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/document.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">519</span>
<span class="normal">520</span>
<span class="normal">521</span>
<span class="normal">522</span>
<span class="normal">523</span>
<span class="normal">524</span>
<span class="normal">525</span>
<span class="normal">526</span>
<span class="normal">527</span>
<span class="normal">528</span>
<span class="normal">529</span>
<span class="normal">530</span>
<span class="normal">531</span>
<span class="normal">532</span>
<span class="normal">533</span>
<span class="normal">534</span>
<span class="normal">535</span>
<span class="normal">536</span>
<span class="normal">537</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_all_tokens_encodings</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">filter_by_categories</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Sequence</span><span class="p">[</span><span class="n">TokenCategory</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Args:</span>
<span class="sd">        filter_by_categories (Optional[Sequence[TokenCategory]]): A list of categories to filter the tokens. If None, all tokens are returned.</span>


<span class="sd">    Returns:</span>
<span class="sd">        list[str] - A list of all token encodings.</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; tokens = document.get_all_tokens_encodings()</span>
<span class="sd">        &gt;&gt;&gt; Document.tokens_to_encodings(tokens)</span>
<span class="sd">        [&#39;!!!COM: Coltrane&#39;, &#39;!!!voices: 1&#39;, &#39;!!!OPR: Blue Train&#39;]</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">tokens</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_all_tokens</span><span class="p">(</span><span class="n">filter_by_categories</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">Document</span><span class="o">.</span><span class="n">tokens_to_encodings</span><span class="p">(</span><span class="n">tokens</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.Document.get_first_measure" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_first_measure</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Get the index of the first measure of the document.</p>
<p>Returns: (Int) The index of the first measure of the document.</p>
<p>Raises: Exception - If the document has no measures.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">kernpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">kp</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">document</span><span class="p">,</span> <span class="n">err</span> <span class="o">=</span> <span class="n">kp</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s1">&#39;score.krn&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">document</span><span class="o">.</span><span class="n">get_first_measure</span><span class="p">()</span>
<span class="go">1</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/document.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_first_measure</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get the index of the first measure of the document.</span>

<span class="sd">    Returns: (Int) The index of the first measure of the document.</span>

<span class="sd">    Raises: Exception - If the document has no measures.</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; import kernpy as kp</span>
<span class="sd">        &gt;&gt;&gt; document, err = kp.read(&#39;score.krn&#39;)</span>
<span class="sd">        &gt;&gt;&gt; document.get_first_measure()</span>
<span class="sd">        1</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">measure_start_tree_stages</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;No measures found&#39;</span><span class="p">)</span>

    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">FIRST_MEASURE</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.Document.get_header_nodes" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_header_nodes</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Get the header nodes of the current document.</p>
<p>Returns: List[HeaderToken]: A list with the header nodes of the current document.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/document.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">680</span>
<span class="normal">681</span>
<span class="normal">682</span>
<span class="normal">683</span>
<span class="normal">684</span>
<span class="normal">685</span>
<span class="normal">686</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_header_nodes</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">HeaderToken</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get the header nodes of the current document.</span>

<span class="sd">    Returns: List[HeaderToken]: A list with the header nodes of the current document.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">token</span> <span class="k">for</span> <span class="n">token</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_all_tokens</span><span class="p">(</span><span class="n">filter_by_categories</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">token</span><span class="p">,</span> <span class="n">HeaderToken</span><span class="p">)]</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.Document.get_header_stage" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_header_stage</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Get the Node list of the header stage.</p>
<p>Returns: (Union[List[Node], List[List[Node]]]) The Node list of the header stage.</p>
<p>Raises: Exception - If the document has no header stage.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/document.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_header_stage</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">Node</span><span class="p">],</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">Node</span><span class="p">]]]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get the Node list of the header stage.</span>

<span class="sd">    Returns: (Union[List[Node], List[List[Node]]]) The Node list of the header stage.</span>

<span class="sd">    Raises: Exception - If the document has no header stage.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">header_stage</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tree</span><span class="o">.</span><span class="n">stages</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">header_stage</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;No header stage found&#39;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.Document.get_leaves" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_leaves</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Get the leaves of the tree.</p>
<p>Returns: (List[Node]) The leaves of the tree.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/document.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_leaves</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Node</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get the leaves of the tree.</span>

<span class="sd">    Returns: (List[Node]) The leaves of the tree.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tree</span><span class="o">.</span><span class="n">stages</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tree</span><span class="o">.</span><span class="n">stages</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.Document.get_metacomments" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_metacomments</span><span class="p">(</span><span class="n">KeyComment</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">clear</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Get all metacomments in the document</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>KeyComment</code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[str]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Filter by a specific metacomment key: e.g. Use 'COM' to get only comments starting with                '!!!COM: '. If None, all metacomments are returned.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>clear</code></td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If True, the metacomment key is removed from the comment. E.g. '!!!COM: Coltrane' -&gt; 'Coltrane'.                If False, the metacomment key is kept. E.g. '!!!COM: Coltrane' -&gt; '!!!COM: Coltrane'.                 The clear functionality is equivalent to the following code:</p>
<pre><code class="language-python">comment = '!!!COM: Coltrane'
clean_comment = comment.replace(f&quot;!!!{KeyComment}: &quot;, &quot;&quot;)
</code></pre>
<p>Other formats are not supported.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns: A list of metacomments.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">document</span><span class="o">.</span><span class="n">get_metacomments</span><span class="p">()</span>
<span class="go">[&#39;!!!COM: Coltrane&#39;, &#39;!!!voices: 1&#39;, &#39;!!!OPR: Blue Train&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">document</span><span class="o">.</span><span class="n">get_metacomments</span><span class="p">(</span><span class="n">KeyComment</span><span class="o">=</span><span class="s1">&#39;COM&#39;</span><span class="p">)</span>
<span class="go">[&#39;!!!COM: Coltrane&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">document</span><span class="o">.</span><span class="n">get_metacomments</span><span class="p">(</span><span class="n">KeyComment</span><span class="o">=</span><span class="s1">&#39;COM&#39;</span><span class="p">,</span> <span class="n">clear</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">[&#39;Coltrane&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">document</span><span class="o">.</span><span class="n">get_metacomments</span><span class="p">(</span><span class="n">KeyComment</span><span class="o">=</span><span class="s1">&#39;non_existing_key&#39;</span><span class="p">)</span>
<span class="go">[]</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/document.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span>
<span class="normal">475</span>
<span class="normal">476</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_metacomments</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">KeyComment</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">clear</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get all metacomments in the document</span>

<span class="sd">    Args:</span>
<span class="sd">        KeyComment: Filter by a specific metacomment key: e.g. Use &#39;COM&#39; to get only comments starting with\</span>
<span class="sd">            &#39;!!!COM: &#39;. If None, all metacomments are returned.</span>
<span class="sd">        clear: If True, the metacomment key is removed from the comment. E.g. &#39;!!!COM: Coltrane&#39; -&gt; &#39;Coltrane&#39;.\</span>
<span class="sd">            If False, the metacomment key is kept. E.g. &#39;!!!COM: Coltrane&#39; -&gt; &#39;!!!COM: Coltrane&#39;. \</span>
<span class="sd">            The clear functionality is equivalent to the following code:</span>
<span class="sd">            ```python</span>
<span class="sd">            comment = &#39;!!!COM: Coltrane&#39;</span>
<span class="sd">            clean_comment = comment.replace(f&quot;!!!{KeyComment}: &quot;, &quot;&quot;)</span>
<span class="sd">            ```</span>
<span class="sd">            Other formats are not supported.</span>

<span class="sd">    Returns: A list of metacomments.</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; document.get_metacomments()</span>
<span class="sd">        [&#39;!!!COM: Coltrane&#39;, &#39;!!!voices: 1&#39;, &#39;!!!OPR: Blue Train&#39;]</span>
<span class="sd">        &gt;&gt;&gt; document.get_metacomments(KeyComment=&#39;COM&#39;)</span>
<span class="sd">        [&#39;!!!COM: Coltrane&#39;]</span>
<span class="sd">        &gt;&gt;&gt; document.get_metacomments(KeyComment=&#39;COM&#39;, clear=True)</span>
<span class="sd">        [&#39;Coltrane&#39;]</span>
<span class="sd">        &gt;&gt;&gt; document.get_metacomments(KeyComment=&#39;non_existing_key&#39;)</span>
<span class="sd">        []</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">traversal</span> <span class="o">=</span> <span class="n">MetacommentsTraversal</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">tree</span><span class="o">.</span><span class="n">dfs_iterative</span><span class="p">(</span><span class="n">traversal</span><span class="p">)</span>
    <span class="n">result</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">metacomment</span> <span class="ow">in</span> <span class="n">traversal</span><span class="o">.</span><span class="n">metacomments</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">KeyComment</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">metacomment</span><span class="o">.</span><span class="n">encoding</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;!!!</span><span class="si">{</span><span class="n">KeyComment</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">):</span>
            <span class="n">new_comment</span> <span class="o">=</span> <span class="n">metacomment</span><span class="o">.</span><span class="n">encoding</span>
            <span class="k">if</span> <span class="n">clear</span><span class="p">:</span>
                <span class="n">new_comment</span> <span class="o">=</span> <span class="n">metacomment</span><span class="o">.</span><span class="n">encoding</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;!!!</span><span class="si">{</span><span class="n">KeyComment</span><span class="si">}</span><span class="s2">: &quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
            <span class="n">result</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">new_comment</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">result</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.Document.get_spine_count" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_spine_count</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Get the number of spines in the document.</p>
<p>Returns (int): The number of spines in the document.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/document.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_spine_count</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get the number of spines in the document.</span>

<span class="sd">    Returns (int): The number of spines in the document.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_header_stage</span><span class="p">())</span>  <span class="c1"># TODO: test refactor</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.Document.get_spine_ids" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_spine_ids</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Get the indexes of the current document.</p>
<p>Returns List[int]: A list with the indexes of the current document.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">document</span><span class="o">.</span><span class="n">get_all_spine_indexes</span><span class="p">()</span>
<span class="go">[0, 1, 2, 3, 4]</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/document.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">688</span>
<span class="normal">689</span>
<span class="normal">690</span>
<span class="normal">691</span>
<span class="normal">692</span>
<span class="normal">693</span>
<span class="normal">694</span>
<span class="normal">695</span>
<span class="normal">696</span>
<span class="normal">697</span>
<span class="normal">698</span>
<span class="normal">699</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_spine_ids</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Get the indexes of the current document.</span>

<span class="sd">            Returns List[int]: A list with the indexes of the current document.</span>

<span class="sd">            Examples:</span>
<span class="sd">                &gt;&gt;&gt; document.get_all_spine_indexes()</span>
<span class="sd">                [0, 1, 2, 3, 4]</span>
<span class="sd">            &quot;&quot;&quot;</span>
    <span class="n">header_nodes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_header_nodes</span><span class="p">()</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">node</span><span class="o">.</span><span class="n">spine_id</span> <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">header_nodes</span><span class="p">]</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.Document.get_unique_token_encodings" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_unique_token_encodings</span><span class="p">(</span><span class="n">filter_by_categories</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Get unique token encodings.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>filter_by_categories</code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="collections.abc.Sequence">Sequence</span>[<a class="autorefs autorefs-internal" title="kernpy.core.TokenCategory" href="#kernpy.core.TokenCategory">TokenCategory</a>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of categories to filter the tokens. If None, all tokens are returned.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns: List[str] - A list of unique token encodings.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/document.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">558</span>
<span class="normal">559</span>
<span class="normal">560</span>
<span class="normal">561</span>
<span class="normal">562</span>
<span class="normal">563</span>
<span class="normal">564</span>
<span class="normal">565</span>
<span class="normal">566</span>
<span class="normal">567</span>
<span class="normal">568</span>
<span class="normal">569</span>
<span class="normal">570</span>
<span class="normal">571</span>
<span class="normal">572</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_unique_token_encodings</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">filter_by_categories</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Sequence</span><span class="p">[</span><span class="n">TokenCategory</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get unique token encodings.</span>

<span class="sd">    Args:</span>
<span class="sd">        filter_by_categories (Optional[Sequence[TokenCategory]]): A list of categories to filter the tokens. If None, all tokens are returned.</span>

<span class="sd">    Returns: List[str] - A list of unique token encodings.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">tokens</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_unique_tokens</span><span class="p">(</span><span class="n">filter_by_categories</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">Document</span><span class="o">.</span><span class="n">tokens_to_encodings</span><span class="p">(</span><span class="n">tokens</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.Document.get_unique_tokens" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_unique_tokens</span><span class="p">(</span><span class="n">filter_by_categories</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Get unique tokens.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>filter_by_categories</code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="collections.abc.Sequence">Sequence</span>[<a class="autorefs autorefs-internal" title="kernpy.core.TokenCategory" href="#kernpy.core.TokenCategory">TokenCategory</a>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of categories to filter the tokens. If None, all tokens are returned.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.List">List</span>[<a class="autorefs autorefs-internal" title="kernpy.core.AbstractToken" href="#kernpy.core.AbstractToken">AbstractToken</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List[AbstractToken] - A list of unique tokens.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/document.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">539</span>
<span class="normal">540</span>
<span class="normal">541</span>
<span class="normal">542</span>
<span class="normal">543</span>
<span class="normal">544</span>
<span class="normal">545</span>
<span class="normal">546</span>
<span class="normal">547</span>
<span class="normal">548</span>
<span class="normal">549</span>
<span class="normal">550</span>
<span class="normal">551</span>
<span class="normal">552</span>
<span class="normal">553</span>
<span class="normal">554</span>
<span class="normal">555</span>
<span class="normal">556</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_unique_tokens</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">filter_by_categories</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Sequence</span><span class="p">[</span><span class="n">TokenCategory</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">AbstractToken</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get unique tokens.</span>

<span class="sd">    Args:</span>
<span class="sd">        filter_by_categories (Optional[Sequence[TokenCategory]]): A list of categories to filter the tokens. If None, all tokens are returned.</span>

<span class="sd">    Returns:</span>
<span class="sd">        List[AbstractToken] - A list of unique tokens.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">computed_categories</span> <span class="o">=</span> <span class="n">TokenCategory</span><span class="o">.</span><span class="n">valid</span><span class="p">(</span><span class="n">include</span><span class="o">=</span><span class="n">filter_by_categories</span><span class="p">)</span>
    <span class="n">traversal</span> <span class="o">=</span> <span class="n">TokensTraversal</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="n">computed_categories</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">tree</span><span class="o">.</span><span class="n">dfs_iterative</span><span class="p">(</span><span class="n">traversal</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">traversal</span><span class="o">.</span><span class="n">tokens</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.Document.get_voices" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_voices</span><span class="p">(</span><span class="n">clean</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Get the voices of the document.</p>
<p>Args
    clean (bool): Remove the first '!' from the voice name.</p>
<p>Returns: A list of voices.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">document</span><span class="o">.</span><span class="n">get_voices</span><span class="p">()</span>
<span class="go">[&#39;!sax&#39;, &#39;!piano&#39;, &#39;!bass&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">document</span><span class="o">.</span><span class="n">get_voices</span><span class="p">(</span><span class="n">clean</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">[&#39;sax&#39;, &#39;piano&#39;, &#39;bass&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">document</span><span class="o">.</span><span class="n">get_voices</span><span class="p">(</span><span class="n">clean</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="go">[&#39;!sax&#39;, &#39;!piano&#39;, &#39;!bass&#39;]</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/document.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">574</span>
<span class="normal">575</span>
<span class="normal">576</span>
<span class="normal">577</span>
<span class="normal">578</span>
<span class="normal">579</span>
<span class="normal">580</span>
<span class="normal">581</span>
<span class="normal">582</span>
<span class="normal">583</span>
<span class="normal">584</span>
<span class="normal">585</span>
<span class="normal">586</span>
<span class="normal">587</span>
<span class="normal">588</span>
<span class="normal">589</span>
<span class="normal">590</span>
<span class="normal">591</span>
<span class="normal">592</span>
<span class="normal">593</span>
<span class="normal">594</span>
<span class="normal">595</span>
<span class="normal">596</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_voices</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">clean</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get the voices of the document.</span>

<span class="sd">    Args</span>
<span class="sd">        clean (bool): Remove the first &#39;!&#39; from the voice name.</span>

<span class="sd">    Returns: A list of voices.</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; document.get_voices()</span>
<span class="sd">        [&#39;!sax&#39;, &#39;!piano&#39;, &#39;!bass&#39;]</span>
<span class="sd">        &gt;&gt;&gt; document.get_voices(clean=True)</span>
<span class="sd">        [&#39;sax&#39;, &#39;piano&#39;, &#39;bass&#39;]</span>
<span class="sd">        &gt;&gt;&gt; document.get_voices(clean=False)</span>
<span class="sd">        [&#39;!sax&#39;, &#39;!piano&#39;, &#39;!bass&#39;]</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="kn">from</span><span class="w"> </span><span class="nn">kernpy.core</span><span class="w"> </span><span class="kn">import</span> <span class="n">TokenCategory</span>
    <span class="n">voices</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_all_tokens</span><span class="p">(</span><span class="n">filter_by_categories</span><span class="o">=</span><span class="p">[</span><span class="n">TokenCategory</span><span class="o">.</span><span class="n">INSTRUMENTS</span><span class="p">])</span>

    <span class="k">if</span> <span class="n">clean</span><span class="p">:</span>
        <span class="n">voices</span> <span class="o">=</span> <span class="p">[</span><span class="n">voice</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span> <span class="k">for</span> <span class="n">voice</span> <span class="ow">in</span> <span class="n">voices</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">voices</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.Document.match" class="doc doc-heading">
            <code class="highlight language-python"><span class="k">match</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">check_core_spines_only</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>Match two documents. Two documents match if they have the same spine structure.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>a</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.document.Document" href="#kernpy.core.Document">Document</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The first document.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>b</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.document.Document" href="#kernpy.core.Document">Document</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The second document.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>check_core_spines_only</code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[bool]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If True, only the core spines (<strong>kern and </strong>mens) are checked. If False, all spines are checked.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns: True if the documents match, False otherwise.</p>
<p>Examples:</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/document.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">786</span>
<span class="normal">787</span>
<span class="normal">788</span>
<span class="normal">789</span>
<span class="normal">790</span>
<span class="normal">791</span>
<span class="normal">792</span>
<span class="normal">793</span>
<span class="normal">794</span>
<span class="normal">795</span>
<span class="normal">796</span>
<span class="normal">797</span>
<span class="normal">798</span>
<span class="normal">799</span>
<span class="normal">800</span>
<span class="normal">801</span>
<span class="normal">802</span>
<span class="normal">803</span>
<span class="normal">804</span>
<span class="normal">805</span>
<span class="normal">806</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">match</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">a</span><span class="p">:</span> <span class="s1">&#39;Document&#39;</span><span class="p">,</span> <span class="n">b</span><span class="p">:</span> <span class="s1">&#39;Document&#39;</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">check_core_spines_only</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Match two documents. Two documents match if they have the same spine structure.</span>

<span class="sd">    Args:</span>
<span class="sd">        a (Document): The first document.</span>
<span class="sd">        b (Document): The second document.</span>
<span class="sd">        check_core_spines_only (Optional[bool]): If True, only the core spines (**kern and **mens) are checked. If False, all spines are checked.</span>

<span class="sd">    Returns: True if the documents match, False otherwise.</span>

<span class="sd">    Examples:</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">check_core_spines_only</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">token</span><span class="o">.</span><span class="n">encoding</span> <span class="k">for</span> <span class="n">token</span> <span class="ow">in</span> <span class="n">a</span><span class="o">.</span><span class="n">get_header_nodes</span><span class="p">()</span> <span class="k">if</span> <span class="n">token</span><span class="o">.</span><span class="n">encoding</span> <span class="ow">in</span> <span class="n">CORE_HEADERS</span><span class="p">]</span> \
            <span class="o">==</span> <span class="p">[</span><span class="n">token</span><span class="o">.</span><span class="n">encoding</span> <span class="k">for</span> <span class="n">token</span> <span class="ow">in</span> <span class="n">b</span><span class="o">.</span><span class="n">get_header_nodes</span><span class="p">()</span> <span class="k">if</span> <span class="n">token</span><span class="o">.</span><span class="n">encoding</span> <span class="ow">in</span> <span class="n">CORE_HEADERS</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">token</span><span class="o">.</span><span class="n">encoding</span> <span class="k">for</span> <span class="n">token</span> <span class="ow">in</span> <span class="n">a</span><span class="o">.</span><span class="n">get_header_nodes</span><span class="p">()]</span> \
            <span class="o">==</span> <span class="p">[</span><span class="n">token</span><span class="o">.</span><span class="n">encoding</span> <span class="k">for</span> <span class="n">token</span> <span class="ow">in</span> <span class="n">b</span><span class="o">.</span><span class="n">get_header_nodes</span><span class="p">()]</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.Document.measures_count" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">measures_count</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Get the index of the last measure of the document.</p>
<p>Returns: (Int) The index of the last measure of the document.</p>
<p>Raises: Exception - If the document has no measures.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">document</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">kernpy</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s1">&#39;score.krn&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">document</span><span class="o">.</span><span class="n">measures_count</span><span class="p">()</span>
<span class="go">10</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">document</span><span class="o">.</span><span class="n">get_first_measure</span><span class="p">(),</span> <span class="n">document</span><span class="o">.</span><span class="n">measures_count</span><span class="p">()</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>  <span class="n">options</span> <span class="o">=</span> <span class="n">kernpy</span><span class="o">.</span><span class="n">ExportOptions</span><span class="p">(</span><span class="n">from_measure</span><span class="o">=</span><span class="n">i</span><span class="p">,</span> <span class="n">to_measure</span><span class="o">=</span><span class="n">i</span><span class="o">+</span><span class="mi">4</span><span class="p">)</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/document.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">measures_count</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get the index of the last measure of the document.</span>

<span class="sd">    Returns: (Int) The index of the last measure of the document.</span>

<span class="sd">    Raises: Exception - If the document has no measures.</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; document, _ = kernpy.read(&#39;score.krn&#39;)</span>
<span class="sd">        &gt;&gt;&gt; document.measures_count()</span>
<span class="sd">        10</span>
<span class="sd">        &gt;&gt;&gt; for i in range(document.get_first_measure(), document.measures_count() + 1):</span>
<span class="sd">        &gt;&gt;&gt;   options = kernpy.ExportOptions(from_measure=i, to_measure=i+4)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">measure_start_tree_stages</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;No measures found&#39;</span><span class="p">)</span>

    <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">measure_start_tree_stages</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.Document.split" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">split</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Split the current document into a list of documents, one for each <strong>kern spine.
Each resulting document will contain one </strong>kern spine along with all non-kern spines.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.List">List</span>[&#39;Document&#39;]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List['Document']: A list of documents, where each document contains one **kern spine</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.List">List</span>[&#39;Document&#39;]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>and all non-kern spines from the original document.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">document</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
<span class="go">[&lt;Document: score.krn&gt;, &lt;Document: score.krn&gt;, &lt;Document: score.krn&gt;]</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/document.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">725</span>
<span class="normal">726</span>
<span class="normal">727</span>
<span class="normal">728</span>
<span class="normal">729</span>
<span class="normal">730</span>
<span class="normal">731</span>
<span class="normal">732</span>
<span class="normal">733</span>
<span class="normal">734</span>
<span class="normal">735</span>
<span class="normal">736</span>
<span class="normal">737</span>
<span class="normal">738</span>
<span class="normal">739</span>
<span class="normal">740</span>
<span class="normal">741</span>
<span class="normal">742</span>
<span class="normal">743</span>
<span class="normal">744</span>
<span class="normal">745</span>
<span class="normal">746</span>
<span class="normal">747</span>
<span class="normal">748</span>
<span class="normal">749</span>
<span class="normal">750</span>
<span class="normal">751</span>
<span class="normal">752</span>
<span class="normal">753</span>
<span class="normal">754</span>
<span class="normal">755</span>
<span class="normal">756</span>
<span class="normal">757</span>
<span class="normal">758</span>
<span class="normal">759</span>
<span class="normal">760</span>
<span class="normal">761</span>
<span class="normal">762</span>
<span class="normal">763</span>
<span class="normal">764</span>
<span class="normal">765</span>
<span class="normal">766</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">split</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="s1">&#39;Document&#39;</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Split the current document into a list of documents, one for each **kern spine.</span>
<span class="sd">    Each resulting document will contain one **kern spine along with all non-kern spines.</span>

<span class="sd">    Returns:</span>
<span class="sd">        List[&#39;Document&#39;]: A list of documents, where each document contains one **kern spine</span>
<span class="sd">        and all non-kern spines from the original document.</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; document.split()</span>
<span class="sd">        [&lt;Document: score.krn&gt;, &lt;Document: score.krn&gt;, &lt;Document: score.krn&gt;]</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">raise</span> <span class="ne">NotImplementedError</span>
    <span class="n">new_documents</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">self_document_copy</span> <span class="o">=</span> <span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
    <span class="n">kern_header_nodes</span> <span class="o">=</span> <span class="p">[</span><span class="n">node</span> <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">self_document_copy</span><span class="o">.</span><span class="n">get_header_nodes</span><span class="p">()</span> <span class="k">if</span> <span class="n">node</span><span class="o">.</span><span class="n">encoding</span> <span class="o">==</span> <span class="s1">&#39;**kern&#39;</span><span class="p">]</span>
    <span class="n">other_header_nodes</span> <span class="o">=</span> <span class="p">[</span><span class="n">node</span> <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">self_document_copy</span><span class="o">.</span><span class="n">get_header_nodes</span><span class="p">()</span> <span class="k">if</span> <span class="n">node</span><span class="o">.</span><span class="n">encoding</span> <span class="o">!=</span> <span class="s1">&#39;**kern&#39;</span><span class="p">]</span>
    <span class="n">spine_ids</span> <span class="o">=</span> <span class="n">self_document_copy</span><span class="o">.</span><span class="n">get_spine_ids</span><span class="p">()</span>

    <span class="k">for</span> <span class="n">header_node</span> <span class="ow">in</span> <span class="n">kern_header_nodes</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">header_node</span><span class="o">.</span><span class="n">spine_id</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">spine_ids</span><span class="p">:</span>
            <span class="k">continue</span>

        <span class="n">spine_ids</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">header_node</span><span class="o">.</span><span class="n">spine_id</span><span class="p">)</span>

        <span class="n">new_tree</span> <span class="o">=</span> <span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tree</span><span class="p">)</span>
        <span class="n">prev_node</span> <span class="o">=</span> <span class="n">new_tree</span><span class="o">.</span><span class="n">root</span>
        <span class="k">while</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">prev_node</span><span class="p">,</span> <span class="n">HeaderToken</span><span class="p">):</span>
            <span class="n">prev_node</span> <span class="o">=</span> <span class="n">prev_node</span><span class="o">.</span><span class="n">children</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">prev_node</span> <span class="ow">or</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">prev_node</span><span class="p">,</span> <span class="n">HeaderToken</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Header node not found: </span><span class="si">{</span><span class="n">prev_node</span><span class="si">}</span><span class="s1"> in </span><span class="si">{</span><span class="n">header_node</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

        <span class="n">new_children</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">spine_id</span> <span class="o">==</span> <span class="n">header_node</span><span class="o">.</span><span class="n">spine_id</span><span class="p">,</span> <span class="n">prev_node</span><span class="o">.</span><span class="n">children</span><span class="p">))</span>
        <span class="n">new_tree</span><span class="o">.</span><span class="n">root</span> <span class="o">=</span> <span class="n">new_children</span>

        <span class="n">new_document</span> <span class="o">=</span> <span class="n">Document</span><span class="p">(</span><span class="n">new_tree</span><span class="p">)</span>

        <span class="n">new_documents</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">new_document</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">new_documents</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.Document.to_concat" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">to_concat</span><span class="p">(</span><span class="n">first_doc</span><span class="p">,</span> <span class="n">second_doc</span><span class="p">,</span> <span class="n">deep_copy</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>Concatenate two documents.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>first_doc</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.document.Document" href="#kernpy.core.Document">Document</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The first document.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>second_doc</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.document.Document" href="#kernpy.core.Document">Document</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The second document.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>deep_copy</code></td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If True, the documents are deep copied. If False, the documents are shallow copied.</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns: A new instance of Document with the documents concatenated.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/document.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">768</span>
<span class="normal">769</span>
<span class="normal">770</span>
<span class="normal">771</span>
<span class="normal">772</span>
<span class="normal">773</span>
<span class="normal">774</span>
<span class="normal">775</span>
<span class="normal">776</span>
<span class="normal">777</span>
<span class="normal">778</span>
<span class="normal">779</span>
<span class="normal">780</span>
<span class="normal">781</span>
<span class="normal">782</span>
<span class="normal">783</span>
<span class="normal">784</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">to_concat</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">first_doc</span><span class="p">:</span> <span class="s1">&#39;Document&#39;</span><span class="p">,</span> <span class="n">second_doc</span><span class="p">:</span> <span class="s1">&#39;Document&#39;</span><span class="p">,</span> <span class="n">deep_copy</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s1">&#39;Document&#39;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Concatenate two documents.</span>

<span class="sd">    Args:</span>
<span class="sd">        first_doc (Document): The first document.</span>
<span class="sd">        second_doc (Document: The second document.</span>
<span class="sd">        deep_copy (bool): If True, the documents are deep copied. If False, the documents are shallow copied.</span>

<span class="sd">    Returns: A new instance of Document with the documents concatenated.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">first_doc</span> <span class="o">=</span> <span class="n">first_doc</span><span class="o">.</span><span class="n">clone</span><span class="p">()</span> <span class="k">if</span> <span class="n">deep_copy</span> <span class="k">else</span> <span class="n">first_doc</span>
    <span class="n">second_doc</span> <span class="o">=</span> <span class="n">second_doc</span><span class="o">.</span><span class="n">clone</span><span class="p">()</span> <span class="k">if</span> <span class="n">deep_copy</span> <span class="k">else</span> <span class="n">second_doc</span>
    <span class="n">first_doc</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">second_doc</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">first_doc</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.Document.to_transposed" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">to_transposed</span><span class="p">(</span><span class="n">interval</span><span class="p">,</span> <span class="n">direction</span><span class="o">=</span><span class="n">Direction</span><span class="o">.</span><span class="n">UP</span><span class="o">.</span><span class="n">value</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Create a new document with the transposed notes without modifying the original document.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>interval</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the interval to transpose. It can be 'P4', 'P5', 'M2', etc. Check the              kp.AVAILABLE_INTERVALS for the available intervals.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>direction</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The direction to transpose. It can be 'up' or 'down'.</p>
              </div>
            </td>
            <td>
                  <code><span title="kernpy.core.transposer.Direction.UP">UP</span>.value</code>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns:</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/document.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">809</span>
<span class="normal">810</span>
<span class="normal">811</span>
<span class="normal">812</span>
<span class="normal">813</span>
<span class="normal">814</span>
<span class="normal">815</span>
<span class="normal">816</span>
<span class="normal">817</span>
<span class="normal">818</span>
<span class="normal">819</span>
<span class="normal">820</span>
<span class="normal">821</span>
<span class="normal">822</span>
<span class="normal">823</span>
<span class="normal">824</span>
<span class="normal">825</span>
<span class="normal">826</span>
<span class="normal">827</span>
<span class="normal">828</span>
<span class="normal">829</span>
<span class="normal">830</span>
<span class="normal">831</span>
<span class="normal">832</span>
<span class="normal">833</span>
<span class="normal">834</span>
<span class="normal">835</span>
<span class="normal">836</span>
<span class="normal">837</span>
<span class="normal">838</span>
<span class="normal">839</span>
<span class="normal">840</span>
<span class="normal">841</span>
<span class="normal">842</span>
<span class="normal">843</span>
<span class="normal">844</span>
<span class="normal">845</span>
<span class="normal">846</span>
<span class="normal">847</span>
<span class="normal">848</span>
<span class="normal">849</span>
<span class="normal">850</span>
<span class="normal">851</span>
<span class="normal">852</span>
<span class="normal">853</span>
<span class="normal">854</span>
<span class="normal">855</span>
<span class="normal">856</span>
<span class="normal">857</span>
<span class="normal">858</span>
<span class="normal">859</span>
<span class="normal">860</span>
<span class="normal">861</span>
<span class="normal">862</span>
<span class="normal">863</span>
<span class="normal">864</span>
<span class="normal">865</span>
<span class="normal">866</span>
<span class="normal">867</span>
<span class="normal">868</span>
<span class="normal">869</span>
<span class="normal">870</span>
<span class="normal">871</span>
<span class="normal">872</span>
<span class="normal">873</span>
<span class="normal">874</span>
<span class="normal">875</span>
<span class="normal">876</span>
<span class="normal">877</span>
<span class="normal">878</span>
<span class="normal">879</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">to_transposed</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">interval</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">direction</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Direction</span><span class="o">.</span><span class="n">UP</span><span class="o">.</span><span class="n">value</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s1">&#39;Document&#39;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Create a new document with the transposed notes without modifying the original document.</span>

<span class="sd">    Args:</span>
<span class="sd">        interval (str): The name of the interval to transpose. It can be &#39;P4&#39;, &#39;P5&#39;, &#39;M2&#39;, etc. Check the \</span>
<span class="sd">         kp.AVAILABLE_INTERVALS for the available intervals.</span>
<span class="sd">        direction (str): The direction to transpose. It can be &#39;up&#39; or &#39;down&#39;.</span>

<span class="sd">    Returns:</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">interval</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">AVAILABLE_INTERVALS</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Interval </span><span class="si">{</span><span class="n">interval</span><span class="si">!r}</span><span class="s2"> is not available. &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;Available intervals are: </span><span class="si">{</span><span class="n">AVAILABLE_INTERVALS</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="n">direction</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">(</span><span class="n">Direction</span><span class="o">.</span><span class="n">UP</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">Direction</span><span class="o">.</span><span class="n">DOWN</span><span class="o">.</span><span class="n">value</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Direction </span><span class="si">{</span><span class="n">direction</span><span class="si">!r}</span><span class="s2"> is not available. &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;Available directions are: &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">Direction</span><span class="o">.</span><span class="n">UP</span><span class="o">.</span><span class="n">value</span><span class="si">!r}</span><span class="s2">, </span><span class="si">{</span><span class="n">Direction</span><span class="o">.</span><span class="n">DOWN</span><span class="o">.</span><span class="n">value</span><span class="si">!r}</span><span class="s2">&quot;</span>
        <span class="p">)</span>

    <span class="n">new_document</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">clone</span><span class="p">()</span>

    <span class="c1"># BFS through the tree</span>
    <span class="n">root</span> <span class="o">=</span> <span class="n">new_document</span><span class="o">.</span><span class="n">tree</span><span class="o">.</span><span class="n">root</span>
    <span class="n">queue</span> <span class="o">=</span> <span class="n">Queue</span><span class="p">()</span>
    <span class="n">queue</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">root</span><span class="p">)</span>

    <span class="k">while</span> <span class="ow">not</span> <span class="n">queue</span><span class="o">.</span><span class="n">empty</span><span class="p">():</span>
        <span class="n">node</span> <span class="o">=</span> <span class="n">queue</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">token</span><span class="p">,</span> <span class="n">NoteRestToken</span><span class="p">):</span>
            <span class="n">orig_token</span> <span class="o">=</span> <span class="n">node</span><span class="o">.</span><span class="n">token</span>

            <span class="n">new_subtokens</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="n">transposed_pitch_encoding</span> <span class="o">=</span> <span class="kc">None</span>

            <span class="c1"># Transpose each pitch subtoken in the pitch–duration list</span>
            <span class="k">for</span> <span class="n">subtoken</span> <span class="ow">in</span> <span class="n">orig_token</span><span class="o">.</span><span class="n">pitch_duration_subtokens</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">subtoken</span><span class="o">.</span><span class="n">category</span> <span class="o">==</span> <span class="n">TokenCategory</span><span class="o">.</span><span class="n">PITCH</span><span class="p">:</span>
                    <span class="c1"># transpose() returns a new pitch subtoken</span>
                    <span class="n">tp</span> <span class="o">=</span> <span class="n">transpose</span><span class="p">(</span>
                        <span class="n">input_encoding</span><span class="o">=</span><span class="n">subtoken</span><span class="o">.</span><span class="n">encoding</span><span class="p">,</span>
                        <span class="n">interval</span><span class="o">=</span><span class="n">IntervalsByName</span><span class="p">[</span><span class="n">interval</span><span class="p">],</span>
                        <span class="n">direction</span><span class="o">=</span><span class="n">direction</span><span class="p">,</span>
                        <span class="n">input_format</span><span class="o">=</span><span class="n">NotationEncoding</span><span class="o">.</span><span class="n">HUMDRUM</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
                        <span class="n">output_format</span><span class="o">=</span><span class="n">NotationEncoding</span><span class="o">.</span><span class="n">HUMDRUM</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
                    <span class="p">)</span>
                    <span class="n">new_subtokens</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Subtoken</span><span class="p">(</span><span class="n">tp</span><span class="p">,</span> <span class="n">subtoken</span><span class="o">.</span><span class="n">category</span><span class="p">))</span>
                    <span class="n">transposed_pitch_encoding</span> <span class="o">=</span> <span class="n">tp</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="c1"># leave duration subtokens untouched</span>
                    <span class="n">new_subtokens</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Subtoken</span><span class="p">(</span><span class="n">subtoken</span><span class="o">.</span><span class="n">encoding</span><span class="p">,</span> <span class="n">subtoken</span><span class="o">.</span><span class="n">category</span><span class="p">))</span>

            <span class="c1"># Replace the node’s token with a new NoteRestToken</span>
            <span class="n">node</span><span class="o">.</span><span class="n">token</span> <span class="o">=</span> <span class="n">NoteRestToken</span><span class="p">(</span>
                <span class="n">encoding</span><span class="o">=</span><span class="n">transposed_pitch_encoding</span><span class="p">,</span>
                <span class="n">pitch_duration_subtokens</span><span class="o">=</span><span class="n">new_subtokens</span><span class="p">,</span>
                <span class="n">decoration_subtokens</span><span class="o">=</span><span class="n">orig_token</span><span class="o">.</span><span class="n">decoration_subtokens</span><span class="p">,</span>
            <span class="p">)</span>

        <span class="c1"># enqueue children</span>
        <span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="n">node</span><span class="o">.</span><span class="n">children</span><span class="p">:</span>
            <span class="n">queue</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">child</span><span class="p">)</span>

    <span class="c1"># Return the transposed clone</span>
    <span class="k">return</span> <span class="n">new_document</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.Document.tokens_to_encodings" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">tokens_to_encodings</span><span class="p">(</span><span class="n">tokens</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>Get the encodings of a list of tokens.</p>


<details class="the-method-is-equivalent-to-the-following-code" open>
  <summary>The method is equivalent to the following code</summary>
  <blockquote>
<blockquote>
<blockquote>
<p>tokens = kp.get_all_tokens()
[token.encoding for token in tokens if token.encoding is not None]</p>
</blockquote>
</blockquote>
</blockquote>
</details>

<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>tokens</code></td>
            <td>
                  <code><span title="collections.abc.Sequence">Sequence</span>[<a class="autorefs autorefs-internal" title="kernpy.core.AbstractToken" href="#kernpy.core.AbstractToken">AbstractToken</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>list - A list of tokens.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns: List[str] - A list of token encodings.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">tokens</span> <span class="o">=</span> <span class="n">document</span><span class="o">.</span><span class="n">get_all_tokens</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Document</span><span class="o">.</span><span class="n">tokens_to_encodings</span><span class="p">(</span><span class="n">tokens</span><span class="p">)</span>
<span class="go">[&#39;!!!COM: Coltrane&#39;, &#39;!!!voices: 1&#39;, &#39;!!!OPR: Blue Train&#39;]</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/document.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span>
<span class="normal">485</span>
<span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span>
<span class="normal">489</span>
<span class="normal">490</span>
<span class="normal">491</span>
<span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span>
<span class="normal">496</span>
<span class="normal">497</span>
<span class="normal">498</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">tokens_to_encodings</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">tokens</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">AbstractToken</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get the encodings of a list of tokens.</span>

<span class="sd">    The method is equivalent to the following code:</span>
<span class="sd">        &gt;&gt;&gt; tokens = kp.get_all_tokens()</span>
<span class="sd">        &gt;&gt;&gt; [token.encoding for token in tokens if token.encoding is not None]</span>

<span class="sd">    Args:</span>
<span class="sd">        tokens (Sequence[AbstractToken]): list - A list of tokens.</span>

<span class="sd">    Returns: List[str] - A list of token encodings.</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; tokens = document.get_all_tokens()</span>
<span class="sd">        &gt;&gt;&gt; Document.tokens_to_encodings(tokens)</span>
<span class="sd">        [&#39;!!!COM: Coltrane&#39;, &#39;!!!voices: 1&#39;, &#39;!!!OPR: Blue Train&#39;]</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">encodings</span> <span class="o">=</span> <span class="p">[</span><span class="n">token</span><span class="o">.</span><span class="n">encoding</span> <span class="k">for</span> <span class="n">token</span> <span class="ow">in</span> <span class="n">tokens</span> <span class="k">if</span> <span class="n">token</span><span class="o">.</span><span class="n">encoding</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">encodings</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="kernpy.core.Duration" class="doc doc-heading">
            <code>Duration</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="abc.ABC">ABC</span></code></p>


        <p>Represents the duration of a note or a rest.</p>
<p>The duration is represented using the Humdrum Kern format.
The duration is a number that represents the number of units of the duration.</p>
<p>The duration of a whole note is 1, half note is 2, quarter note is 4, eighth note is 8, etc.</p>
<p>The duration of a note is represented by a number. The duration of a rest is also represented by a number.</p>
<p>This class do not limit the duration ranges.</p>
<p>In the following example, the duration is represented by the number '2'.</p>
<pre><code>**kern
*clefG2
2c          // whole note
4c          // half note
8c          // quarter note
16c         // eighth note
*-
</code></pre>

              <details class="quote">
                <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 970</span>
<span class="normal"> 971</span>
<span class="normal"> 972</span>
<span class="normal"> 973</span>
<span class="normal"> 974</span>
<span class="normal"> 975</span>
<span class="normal"> 976</span>
<span class="normal"> 977</span>
<span class="normal"> 978</span>
<span class="normal"> 979</span>
<span class="normal"> 980</span>
<span class="normal"> 981</span>
<span class="normal"> 982</span>
<span class="normal"> 983</span>
<span class="normal"> 984</span>
<span class="normal"> 985</span>
<span class="normal"> 986</span>
<span class="normal"> 987</span>
<span class="normal"> 988</span>
<span class="normal"> 989</span>
<span class="normal"> 990</span>
<span class="normal"> 991</span>
<span class="normal"> 992</span>
<span class="normal"> 993</span>
<span class="normal"> 994</span>
<span class="normal"> 995</span>
<span class="normal"> 996</span>
<span class="normal"> 997</span>
<span class="normal"> 998</span>
<span class="normal"> 999</span>
<span class="normal">1000</span>
<span class="normal">1001</span>
<span class="normal">1002</span>
<span class="normal">1003</span>
<span class="normal">1004</span>
<span class="normal">1005</span>
<span class="normal">1006</span>
<span class="normal">1007</span>
<span class="normal">1008</span>
<span class="normal">1009</span>
<span class="normal">1010</span>
<span class="normal">1011</span>
<span class="normal">1012</span>
<span class="normal">1013</span>
<span class="normal">1014</span>
<span class="normal">1015</span>
<span class="normal">1016</span>
<span class="normal">1017</span>
<span class="normal">1018</span>
<span class="normal">1019</span>
<span class="normal">1020</span>
<span class="normal">1021</span>
<span class="normal">1022</span>
<span class="normal">1023</span>
<span class="normal">1024</span>
<span class="normal">1025</span>
<span class="normal">1026</span>
<span class="normal">1027</span>
<span class="normal">1028</span>
<span class="normal">1029</span>
<span class="normal">1030</span>
<span class="normal">1031</span>
<span class="normal">1032</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">Duration</span><span class="p">(</span><span class="n">ABC</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Represents the duration of a note or a rest.</span>

<span class="sd">    The duration is represented using the Humdrum Kern format.</span>
<span class="sd">    The duration is a number that represents the number of units of the duration.</span>

<span class="sd">    The duration of a whole note is 1, half note is 2, quarter note is 4, eighth note is 8, etc.</span>

<span class="sd">    The duration of a note is represented by a number. The duration of a rest is also represented by a number.</span>

<span class="sd">    This class do not limit the duration ranges.</span>

<span class="sd">    In the following example, the duration is represented by the number &#39;2&#39;.</span>
<span class="sd">    ```</span>
<span class="sd">    **kern</span>
<span class="sd">    *clefG2</span>
<span class="sd">    2c          // whole note</span>
<span class="sd">    4c          // half note</span>
<span class="sd">    8c          // quarter note</span>
<span class="sd">    16c         // eighth note</span>
<span class="sd">    *-</span>
<span class="sd">    ```</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">raw_duration</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">encoding</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">raw_duration</span><span class="p">)</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">modify</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ratio</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
        <span class="k">pass</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">__deepcopy__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">memo</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="k">pass</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">pass</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__ne__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">pass</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__gt__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">pass</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__lt__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">pass</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__ge__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">pass</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__le__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">pass</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">pass</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="kernpy.core.DurationClassical" class="doc doc-heading">
            <code>DurationClassical</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="kernpy.core.tokens.Duration" href="#kernpy.core.Duration">Duration</a></code></p>


        <p>Represents the duration in classical notation of a note or a rest.</p>

              <details class="quote">
                <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1078</span>
<span class="normal">1079</span>
<span class="normal">1080</span>
<span class="normal">1081</span>
<span class="normal">1082</span>
<span class="normal">1083</span>
<span class="normal">1084</span>
<span class="normal">1085</span>
<span class="normal">1086</span>
<span class="normal">1087</span>
<span class="normal">1088</span>
<span class="normal">1089</span>
<span class="normal">1090</span>
<span class="normal">1091</span>
<span class="normal">1092</span>
<span class="normal">1093</span>
<span class="normal">1094</span>
<span class="normal">1095</span>
<span class="normal">1096</span>
<span class="normal">1097</span>
<span class="normal">1098</span>
<span class="normal">1099</span>
<span class="normal">1100</span>
<span class="normal">1101</span>
<span class="normal">1102</span>
<span class="normal">1103</span>
<span class="normal">1104</span>
<span class="normal">1105</span>
<span class="normal">1106</span>
<span class="normal">1107</span>
<span class="normal">1108</span>
<span class="normal">1109</span>
<span class="normal">1110</span>
<span class="normal">1111</span>
<span class="normal">1112</span>
<span class="normal">1113</span>
<span class="normal">1114</span>
<span class="normal">1115</span>
<span class="normal">1116</span>
<span class="normal">1117</span>
<span class="normal">1118</span>
<span class="normal">1119</span>
<span class="normal">1120</span>
<span class="normal">1121</span>
<span class="normal">1122</span>
<span class="normal">1123</span>
<span class="normal">1124</span>
<span class="normal">1125</span>
<span class="normal">1126</span>
<span class="normal">1127</span>
<span class="normal">1128</span>
<span class="normal">1129</span>
<span class="normal">1130</span>
<span class="normal">1131</span>
<span class="normal">1132</span>
<span class="normal">1133</span>
<span class="normal">1134</span>
<span class="normal">1135</span>
<span class="normal">1136</span>
<span class="normal">1137</span>
<span class="normal">1138</span>
<span class="normal">1139</span>
<span class="normal">1140</span>
<span class="normal">1141</span>
<span class="normal">1142</span>
<span class="normal">1143</span>
<span class="normal">1144</span>
<span class="normal">1145</span>
<span class="normal">1146</span>
<span class="normal">1147</span>
<span class="normal">1148</span>
<span class="normal">1149</span>
<span class="normal">1150</span>
<span class="normal">1151</span>
<span class="normal">1152</span>
<span class="normal">1153</span>
<span class="normal">1154</span>
<span class="normal">1155</span>
<span class="normal">1156</span>
<span class="normal">1157</span>
<span class="normal">1158</span>
<span class="normal">1159</span>
<span class="normal">1160</span>
<span class="normal">1161</span>
<span class="normal">1162</span>
<span class="normal">1163</span>
<span class="normal">1164</span>
<span class="normal">1165</span>
<span class="normal">1166</span>
<span class="normal">1167</span>
<span class="normal">1168</span>
<span class="normal">1169</span>
<span class="normal">1170</span>
<span class="normal">1171</span>
<span class="normal">1172</span>
<span class="normal">1173</span>
<span class="normal">1174</span>
<span class="normal">1175</span>
<span class="normal">1176</span>
<span class="normal">1177</span>
<span class="normal">1178</span>
<span class="normal">1179</span>
<span class="normal">1180</span>
<span class="normal">1181</span>
<span class="normal">1182</span>
<span class="normal">1183</span>
<span class="normal">1184</span>
<span class="normal">1185</span>
<span class="normal">1186</span>
<span class="normal">1187</span>
<span class="normal">1188</span>
<span class="normal">1189</span>
<span class="normal">1190</span>
<span class="normal">1191</span>
<span class="normal">1192</span>
<span class="normal">1193</span>
<span class="normal">1194</span>
<span class="normal">1195</span>
<span class="normal">1196</span>
<span class="normal">1197</span>
<span class="normal">1198</span>
<span class="normal">1199</span>
<span class="normal">1200</span>
<span class="normal">1201</span>
<span class="normal">1202</span>
<span class="normal">1203</span>
<span class="normal">1204</span>
<span class="normal">1205</span>
<span class="normal">1206</span>
<span class="normal">1207</span>
<span class="normal">1208</span>
<span class="normal">1209</span>
<span class="normal">1210</span>
<span class="normal">1211</span>
<span class="normal">1212</span>
<span class="normal">1213</span>
<span class="normal">1214</span>
<span class="normal">1215</span>
<span class="normal">1216</span>
<span class="normal">1217</span>
<span class="normal">1218</span>
<span class="normal">1219</span>
<span class="normal">1220</span>
<span class="normal">1221</span>
<span class="normal">1222</span>
<span class="normal">1223</span>
<span class="normal">1224</span>
<span class="normal">1225</span>
<span class="normal">1226</span>
<span class="normal">1227</span>
<span class="normal">1228</span>
<span class="normal">1229</span>
<span class="normal">1230</span>
<span class="normal">1231</span>
<span class="normal">1232</span>
<span class="normal">1233</span>
<span class="normal">1234</span>
<span class="normal">1235</span>
<span class="normal">1236</span>
<span class="normal">1237</span>
<span class="normal">1238</span>
<span class="normal">1239</span>
<span class="normal">1240</span>
<span class="normal">1241</span>
<span class="normal">1242</span>
<span class="normal">1243</span>
<span class="normal">1244</span>
<span class="normal">1245</span>
<span class="normal">1246</span>
<span class="normal">1247</span>
<span class="normal">1248</span>
<span class="normal">1249</span>
<span class="normal">1250</span>
<span class="normal">1251</span>
<span class="normal">1252</span>
<span class="normal">1253</span>
<span class="normal">1254</span>
<span class="normal">1255</span>
<span class="normal">1256</span>
<span class="normal">1257</span>
<span class="normal">1258</span>
<span class="normal">1259</span>
<span class="normal">1260</span>
<span class="normal">1261</span>
<span class="normal">1262</span>
<span class="normal">1263</span>
<span class="normal">1264</span>
<span class="normal">1265</span>
<span class="normal">1266</span>
<span class="normal">1267</span>
<span class="normal">1268</span>
<span class="normal">1269</span>
<span class="normal">1270</span>
<span class="normal">1271</span>
<span class="normal">1272</span>
<span class="normal">1273</span>
<span class="normal">1274</span>
<span class="normal">1275</span>
<span class="normal">1276</span>
<span class="normal">1277</span>
<span class="normal">1278</span>
<span class="normal">1279</span>
<span class="normal">1280</span>
<span class="normal">1281</span>
<span class="normal">1282</span>
<span class="normal">1283</span>
<span class="normal">1284</span>
<span class="normal">1285</span>
<span class="normal">1286</span>
<span class="normal">1287</span>
<span class="normal">1288</span>
<span class="normal">1289</span>
<span class="normal">1290</span>
<span class="normal">1291</span>
<span class="normal">1292</span>
<span class="normal">1293</span>
<span class="normal">1294</span>
<span class="normal">1295</span>
<span class="normal">1296</span>
<span class="normal">1297</span>
<span class="normal">1298</span>
<span class="normal">1299</span>
<span class="normal">1300</span>
<span class="normal">1301</span>
<span class="normal">1302</span>
<span class="normal">1303</span>
<span class="normal">1304</span>
<span class="normal">1305</span>
<span class="normal">1306</span>
<span class="normal">1307</span>
<span class="normal">1308</span>
<span class="normal">1309</span>
<span class="normal">1310</span>
<span class="normal">1311</span>
<span class="normal">1312</span>
<span class="normal">1313</span>
<span class="normal">1314</span>
<span class="normal">1315</span>
<span class="normal">1316</span>
<span class="normal">1317</span>
<span class="normal">1318</span>
<span class="normal">1319</span>
<span class="normal">1320</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">DurationClassical</span><span class="p">(</span><span class="n">Duration</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Represents the duration in classical notation of a note or a rest.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">duration</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Create a new Duration object.</span>

<span class="sd">        Args:</span>
<span class="sd">            duration (str): duration representation in Humdrum Kern format</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; duration = DurationClassical(2)</span>
<span class="sd">            True</span>
<span class="sd">            &gt;&gt;&gt; duration = DurationClassical(4)</span>
<span class="sd">            True</span>
<span class="sd">            &gt;&gt;&gt; duration = DurationClassical(32)</span>
<span class="sd">            True</span>
<span class="sd">            &gt;&gt;&gt; duration = DurationClassical(1)</span>
<span class="sd">            True</span>
<span class="sd">            &gt;&gt;&gt; duration = DurationClassical(0)</span>
<span class="sd">            False</span>
<span class="sd">            &gt;&gt;&gt; duration = DurationClassical(-2)</span>
<span class="sd">            False</span>
<span class="sd">            &gt;&gt;&gt; duration = DurationClassical(3)</span>
<span class="sd">            False</span>
<span class="sd">            &gt;&gt;&gt; duration = DurationClassical(7)</span>
<span class="sd">            False</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">duration</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">DurationClassical</span><span class="o">.</span><span class="n">__is_valid_duration</span><span class="p">(</span><span class="n">duration</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Bad duration: </span><span class="si">{</span><span class="n">duration</span><span class="si">}</span><span class="s1"> was provided.&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">duration</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">duration</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">modify</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ratio</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Modify the duration of a note or a rest of the current object.</span>

<span class="sd">        Args:</span>
<span class="sd">            ratio (int): The factor to modify the duration. The factor must be greater than 0.</span>

<span class="sd">        Returns (DurationClassical): The new duration object with the modified duration.</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; duration = DurationClassical(2)</span>
<span class="sd">            &gt;&gt;&gt; new_duration = duration.modify(2)</span>
<span class="sd">            &gt;&gt;&gt; new_duration.duration</span>
<span class="sd">            4</span>
<span class="sd">            &gt;&gt;&gt; duration = DurationClassical(2)</span>
<span class="sd">            &gt;&gt;&gt; new_duration = duration.modify(0)</span>
<span class="sd">            Traceback (most recent call last):</span>
<span class="sd">            ...</span>
<span class="sd">            ValueError: Invalid factor provided: 0. The factor must be greater than 0.</span>
<span class="sd">            &gt;&gt;&gt; duration = DurationClassical(2)</span>
<span class="sd">            &gt;&gt;&gt; new_duration = duration.modify(-2)</span>
<span class="sd">            Traceback (most recent call last):</span>
<span class="sd">            ...</span>
<span class="sd">            ValueError: Invalid factor provided: -2. The factor must be greater than 0.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">ratio</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Invalid factor provided: </span><span class="si">{</span><span class="n">ratio</span><span class="si">}</span><span class="s1">. The factor must be an integer.&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">ratio</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Invalid factor provided: </span><span class="si">{</span><span class="n">ratio</span><span class="si">}</span><span class="s1">. The factor must be greater than 0.&#39;</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">DurationClassical</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">duration</span> <span class="o">*</span> <span class="n">ratio</span><span class="p">))</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">__deepcopy__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">memo</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">memo</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">memo</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="n">new_instance</span> <span class="o">=</span> <span class="n">DurationClassical</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">duration</span><span class="p">)</span>
        <span class="n">new_instance</span><span class="o">.</span><span class="n">duration</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">duration</span>
        <span class="k">return</span> <span class="n">new_instance</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">duration</span><span class="si">}</span><span class="s1">&#39;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="s1">&#39;DurationClassical&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Compare two durations.</span>

<span class="sd">        Args:</span>
<span class="sd">            other (DurationClassical): The other duration to compare</span>

<span class="sd">        Returns (bool): True if the durations are equal, False otherwise</span>


<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; duration = DurationClassical(2)</span>
<span class="sd">            &gt;&gt;&gt; duration2 = DurationClassical(2)</span>
<span class="sd">            &gt;&gt;&gt; duration == duration2</span>
<span class="sd">            True</span>
<span class="sd">            &gt;&gt;&gt; duration = DurationClassical(2)</span>
<span class="sd">            &gt;&gt;&gt; duration2 = DurationClassical(4)</span>
<span class="sd">            &gt;&gt;&gt; duration == duration2</span>
<span class="sd">            False</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">DurationClassical</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">duration</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">duration</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__ne__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="s1">&#39;DurationClassical&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Compare two durations.</span>

<span class="sd">        Args:</span>
<span class="sd">            other (DurationClassical): The other duration to compare</span>

<span class="sd">        Returns (bool):</span>
<span class="sd">            True if the durations are different, False otherwise</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; duration = DurationClassical(2)</span>
<span class="sd">            &gt;&gt;&gt; duration2 = DurationClassical(2)</span>
<span class="sd">            &gt;&gt;&gt; duration != duration2</span>
<span class="sd">            False</span>
<span class="sd">            &gt;&gt;&gt; duration = DurationClassical(2)</span>
<span class="sd">            &gt;&gt;&gt; duration2 = DurationClassical(4)</span>
<span class="sd">            &gt;&gt;&gt; duration != duration2</span>
<span class="sd">            True</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__eq__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__gt__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="s1">&#39;DurationClassical&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Compare two durations.</span>

<span class="sd">        Args:</span>
<span class="sd">            other: The other duration to compare</span>

<span class="sd">        Returns (bool):</span>
<span class="sd">            True if this duration is higher than the other, False otherwise</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; duration = DurationClassical(2)</span>
<span class="sd">            &gt;&gt;&gt; duration2 = DurationClassical(4)</span>
<span class="sd">            &gt;&gt;&gt; duration &gt; duration2</span>
<span class="sd">            False</span>
<span class="sd">            &gt;&gt;&gt; duration = DurationClassical(4)</span>
<span class="sd">            &gt;&gt;&gt; duration2 = DurationClassical(2)</span>
<span class="sd">            &gt;&gt;&gt; duration &gt; duration2</span>
<span class="sd">            True</span>
<span class="sd">            &gt;&gt;&gt; duration = DurationClassical(4)</span>
<span class="sd">            &gt;&gt;&gt; duration2 = DurationClassical(4)</span>
<span class="sd">            &gt;&gt;&gt; duration &gt; duration2</span>
<span class="sd">            False</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">DurationClassical</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Invalid comparison: &gt; operator can not be used to compare duration with </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">other</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">duration</span> <span class="o">&gt;</span> <span class="n">other</span><span class="o">.</span><span class="n">duration</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__lt__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="s1">&#39;DurationClassical&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Compare two durations.</span>

<span class="sd">        Args:</span>
<span class="sd">            other (DurationClassical): The other duration to compare</span>

<span class="sd">        Returns (bool):</span>
<span class="sd">            True if this duration is lower than the other, False otherwise</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; duration = DurationClassical(2)</span>
<span class="sd">            &gt;&gt;&gt; duration2 = DurationClassical(4)</span>
<span class="sd">            &gt;&gt;&gt; duration &lt; duration2</span>
<span class="sd">            True</span>
<span class="sd">            &gt;&gt;&gt; duration = DurationClassical(4)</span>
<span class="sd">            &gt;&gt;&gt; duration2 = DurationClassical(2)</span>
<span class="sd">            &gt;&gt;&gt; duration &lt; duration2</span>
<span class="sd">            False</span>
<span class="sd">            &gt;&gt;&gt; duration = DurationClassical(4)</span>
<span class="sd">            &gt;&gt;&gt; duration2 = DurationClassical(4)</span>
<span class="sd">            &gt;&gt;&gt; duration &lt; duration2</span>
<span class="sd">            False</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">DurationClassical</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Invalid comparison: &lt; operator can not be used to compare duration with </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">other</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">duration</span> <span class="o">&lt;</span> <span class="n">other</span><span class="o">.</span><span class="n">duration</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__ge__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="s1">&#39;DurationClassical&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Compare two durations.</span>

<span class="sd">        Args:</span>
<span class="sd">            other (DurationClassical): The other duration to compare</span>

<span class="sd">        Returns (bool):</span>
<span class="sd">            True if this duration is higher or equal than the other, False otherwise</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; duration = DurationClassical(2)</span>
<span class="sd">            &gt;&gt;&gt; duration2 = DurationClassical(4)</span>
<span class="sd">            &gt;&gt;&gt; duration &gt;= duration2</span>
<span class="sd">            False</span>
<span class="sd">            &gt;&gt;&gt; duration = DurationClassical(4)</span>
<span class="sd">            &gt;&gt;&gt; duration2 = DurationClassical(2)</span>
<span class="sd">            &gt;&gt;&gt; duration &gt;= duration2</span>
<span class="sd">            True</span>
<span class="sd">            &gt;&gt;&gt; duration = DurationClassical(4)</span>
<span class="sd">            &gt;&gt;&gt; duration2 = DurationClassical(4)</span>
<span class="sd">            &gt;&gt;&gt; duration &gt;= duration2</span>
<span class="sd">            True</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__gt__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__eq__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__le__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="s1">&#39;DurationClassical&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Compare two durations.</span>

<span class="sd">        Args:</span>
<span class="sd">            other (DurationClassical): The other duration to compare</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if this duration is lower or equal than the other, False otherwise</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; duration = DurationClassical(2)</span>
<span class="sd">            &gt;&gt;&gt; duration2 = DurationClassical(4)</span>
<span class="sd">            &gt;&gt;&gt; duration &lt;= duration2</span>
<span class="sd">            True</span>
<span class="sd">            &gt;&gt;&gt; duration = DurationClassical(4)</span>
<span class="sd">            &gt;&gt;&gt; duration2 = DurationClassical(2)</span>
<span class="sd">            &gt;&gt;&gt; duration &lt;= duration2</span>
<span class="sd">            False</span>
<span class="sd">            &gt;&gt;&gt; duration = DurationClassical(4)</span>
<span class="sd">            &gt;&gt;&gt; duration2 = DurationClassical(4)</span>
<span class="sd">            &gt;&gt;&gt; duration &lt;= duration2</span>
<span class="sd">            True</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__lt__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__eq__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">__is_valid_duration</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">duration</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">duration</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">duration</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">duration</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">duration</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">False</span>

            <span class="k">return</span> <span class="n">duration</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="ow">and</span> <span class="p">(</span><span class="n">duration</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">duration</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="kernpy.core.DurationClassical.__eq__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__eq__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Compare two durations.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>other</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.tokens.DurationClassical" href="#kernpy.core.DurationClassical">DurationClassical</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The other duration to compare</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns (bool): True if the durations are equal, False otherwise</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">duration</span> <span class="o">=</span> <span class="n">DurationClassical</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">duration2</span> <span class="o">=</span> <span class="n">DurationClassical</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">duration</span> <span class="o">==</span> <span class="n">duration2</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">duration</span> <span class="o">=</span> <span class="n">DurationClassical</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">duration2</span> <span class="o">=</span> <span class="n">DurationClassical</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">duration</span> <span class="o">==</span> <span class="n">duration2</span>
<span class="go">False</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1157</span>
<span class="normal">1158</span>
<span class="normal">1159</span>
<span class="normal">1160</span>
<span class="normal">1161</span>
<span class="normal">1162</span>
<span class="normal">1163</span>
<span class="normal">1164</span>
<span class="normal">1165</span>
<span class="normal">1166</span>
<span class="normal">1167</span>
<span class="normal">1168</span>
<span class="normal">1169</span>
<span class="normal">1170</span>
<span class="normal">1171</span>
<span class="normal">1172</span>
<span class="normal">1173</span>
<span class="normal">1174</span>
<span class="normal">1175</span>
<span class="normal">1176</span>
<span class="normal">1177</span>
<span class="normal">1178</span>
<span class="normal">1179</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="s1">&#39;DurationClassical&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Compare two durations.</span>

<span class="sd">    Args:</span>
<span class="sd">        other (DurationClassical): The other duration to compare</span>

<span class="sd">    Returns (bool): True if the durations are equal, False otherwise</span>


<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; duration = DurationClassical(2)</span>
<span class="sd">        &gt;&gt;&gt; duration2 = DurationClassical(2)</span>
<span class="sd">        &gt;&gt;&gt; duration == duration2</span>
<span class="sd">        True</span>
<span class="sd">        &gt;&gt;&gt; duration = DurationClassical(2)</span>
<span class="sd">        &gt;&gt;&gt; duration2 = DurationClassical(4)</span>
<span class="sd">        &gt;&gt;&gt; duration == duration2</span>
<span class="sd">        False</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">DurationClassical</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">duration</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">duration</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.DurationClassical.__ge__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__ge__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Compare two durations.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>other</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.tokens.DurationClassical" href="#kernpy.core.DurationClassical">DurationClassical</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The other duration to compare</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns (bool):
    True if this duration is higher or equal than the other, False otherwise</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">duration</span> <span class="o">=</span> <span class="n">DurationClassical</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">duration2</span> <span class="o">=</span> <span class="n">DurationClassical</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">duration</span> <span class="o">&gt;=</span> <span class="n">duration2</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">duration</span> <span class="o">=</span> <span class="n">DurationClassical</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">duration2</span> <span class="o">=</span> <span class="n">DurationClassical</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">duration</span> <span class="o">&gt;=</span> <span class="n">duration2</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">duration</span> <span class="o">=</span> <span class="n">DurationClassical</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">duration2</span> <span class="o">=</span> <span class="n">DurationClassical</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">duration</span> <span class="o">&gt;=</span> <span class="n">duration2</span>
<span class="go">True</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1259</span>
<span class="normal">1260</span>
<span class="normal">1261</span>
<span class="normal">1262</span>
<span class="normal">1263</span>
<span class="normal">1264</span>
<span class="normal">1265</span>
<span class="normal">1266</span>
<span class="normal">1267</span>
<span class="normal">1268</span>
<span class="normal">1269</span>
<span class="normal">1270</span>
<span class="normal">1271</span>
<span class="normal">1272</span>
<span class="normal">1273</span>
<span class="normal">1274</span>
<span class="normal">1275</span>
<span class="normal">1276</span>
<span class="normal">1277</span>
<span class="normal">1278</span>
<span class="normal">1279</span>
<span class="normal">1280</span>
<span class="normal">1281</span>
<span class="normal">1282</span>
<span class="normal">1283</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__ge__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="s1">&#39;DurationClassical&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Compare two durations.</span>

<span class="sd">    Args:</span>
<span class="sd">        other (DurationClassical): The other duration to compare</span>

<span class="sd">    Returns (bool):</span>
<span class="sd">        True if this duration is higher or equal than the other, False otherwise</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; duration = DurationClassical(2)</span>
<span class="sd">        &gt;&gt;&gt; duration2 = DurationClassical(4)</span>
<span class="sd">        &gt;&gt;&gt; duration &gt;= duration2</span>
<span class="sd">        False</span>
<span class="sd">        &gt;&gt;&gt; duration = DurationClassical(4)</span>
<span class="sd">        &gt;&gt;&gt; duration2 = DurationClassical(2)</span>
<span class="sd">        &gt;&gt;&gt; duration &gt;= duration2</span>
<span class="sd">        True</span>
<span class="sd">        &gt;&gt;&gt; duration = DurationClassical(4)</span>
<span class="sd">        &gt;&gt;&gt; duration2 = DurationClassical(4)</span>
<span class="sd">        &gt;&gt;&gt; duration &gt;= duration2</span>
<span class="sd">        True</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__gt__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__eq__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.DurationClassical.__gt__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__gt__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Compare two durations.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>other</code></td>
            <td>
                  <code>&#39;DurationClassical&#39;</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The other duration to compare</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns (bool):
    True if this duration is higher than the other, False otherwise</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">duration</span> <span class="o">=</span> <span class="n">DurationClassical</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">duration2</span> <span class="o">=</span> <span class="n">DurationClassical</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">duration</span> <span class="o">&gt;</span> <span class="n">duration2</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">duration</span> <span class="o">=</span> <span class="n">DurationClassical</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">duration2</span> <span class="o">=</span> <span class="n">DurationClassical</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">duration</span> <span class="o">&gt;</span> <span class="n">duration2</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">duration</span> <span class="o">=</span> <span class="n">DurationClassical</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">duration2</span> <span class="o">=</span> <span class="n">DurationClassical</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">duration</span> <span class="o">&gt;</span> <span class="n">duration2</span>
<span class="go">False</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1203</span>
<span class="normal">1204</span>
<span class="normal">1205</span>
<span class="normal">1206</span>
<span class="normal">1207</span>
<span class="normal">1208</span>
<span class="normal">1209</span>
<span class="normal">1210</span>
<span class="normal">1211</span>
<span class="normal">1212</span>
<span class="normal">1213</span>
<span class="normal">1214</span>
<span class="normal">1215</span>
<span class="normal">1216</span>
<span class="normal">1217</span>
<span class="normal">1218</span>
<span class="normal">1219</span>
<span class="normal">1220</span>
<span class="normal">1221</span>
<span class="normal">1222</span>
<span class="normal">1223</span>
<span class="normal">1224</span>
<span class="normal">1225</span>
<span class="normal">1226</span>
<span class="normal">1227</span>
<span class="normal">1228</span>
<span class="normal">1229</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__gt__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="s1">&#39;DurationClassical&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Compare two durations.</span>

<span class="sd">    Args:</span>
<span class="sd">        other: The other duration to compare</span>

<span class="sd">    Returns (bool):</span>
<span class="sd">        True if this duration is higher than the other, False otherwise</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; duration = DurationClassical(2)</span>
<span class="sd">        &gt;&gt;&gt; duration2 = DurationClassical(4)</span>
<span class="sd">        &gt;&gt;&gt; duration &gt; duration2</span>
<span class="sd">        False</span>
<span class="sd">        &gt;&gt;&gt; duration = DurationClassical(4)</span>
<span class="sd">        &gt;&gt;&gt; duration2 = DurationClassical(2)</span>
<span class="sd">        &gt;&gt;&gt; duration &gt; duration2</span>
<span class="sd">        True</span>
<span class="sd">        &gt;&gt;&gt; duration = DurationClassical(4)</span>
<span class="sd">        &gt;&gt;&gt; duration2 = DurationClassical(4)</span>
<span class="sd">        &gt;&gt;&gt; duration &gt; duration2</span>
<span class="sd">        False</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">DurationClassical</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Invalid comparison: &gt; operator can not be used to compare duration with </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">other</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">duration</span> <span class="o">&gt;</span> <span class="n">other</span><span class="o">.</span><span class="n">duration</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.DurationClassical.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">duration</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Create a new Duration object.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>duration</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>duration representation in Humdrum Kern format</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">duration</span> <span class="o">=</span> <span class="n">DurationClassical</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">duration</span> <span class="o">=</span> <span class="n">DurationClassical</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">duration</span> <span class="o">=</span> <span class="n">DurationClassical</span><span class="p">(</span><span class="mi">32</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">duration</span> <span class="o">=</span> <span class="n">DurationClassical</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">duration</span> <span class="o">=</span> <span class="n">DurationClassical</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">duration</span> <span class="o">=</span> <span class="n">DurationClassical</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">duration</span> <span class="o">=</span> <span class="n">DurationClassical</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">duration</span> <span class="o">=</span> <span class="n">DurationClassical</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span>
<span class="go">False</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1083</span>
<span class="normal">1084</span>
<span class="normal">1085</span>
<span class="normal">1086</span>
<span class="normal">1087</span>
<span class="normal">1088</span>
<span class="normal">1089</span>
<span class="normal">1090</span>
<span class="normal">1091</span>
<span class="normal">1092</span>
<span class="normal">1093</span>
<span class="normal">1094</span>
<span class="normal">1095</span>
<span class="normal">1096</span>
<span class="normal">1097</span>
<span class="normal">1098</span>
<span class="normal">1099</span>
<span class="normal">1100</span>
<span class="normal">1101</span>
<span class="normal">1102</span>
<span class="normal">1103</span>
<span class="normal">1104</span>
<span class="normal">1105</span>
<span class="normal">1106</span>
<span class="normal">1107</span>
<span class="normal">1108</span>
<span class="normal">1109</span>
<span class="normal">1110</span>
<span class="normal">1111</span>
<span class="normal">1112</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">duration</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Create a new Duration object.</span>

<span class="sd">    Args:</span>
<span class="sd">        duration (str): duration representation in Humdrum Kern format</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; duration = DurationClassical(2)</span>
<span class="sd">        True</span>
<span class="sd">        &gt;&gt;&gt; duration = DurationClassical(4)</span>
<span class="sd">        True</span>
<span class="sd">        &gt;&gt;&gt; duration = DurationClassical(32)</span>
<span class="sd">        True</span>
<span class="sd">        &gt;&gt;&gt; duration = DurationClassical(1)</span>
<span class="sd">        True</span>
<span class="sd">        &gt;&gt;&gt; duration = DurationClassical(0)</span>
<span class="sd">        False</span>
<span class="sd">        &gt;&gt;&gt; duration = DurationClassical(-2)</span>
<span class="sd">        False</span>
<span class="sd">        &gt;&gt;&gt; duration = DurationClassical(3)</span>
<span class="sd">        False</span>
<span class="sd">        &gt;&gt;&gt; duration = DurationClassical(7)</span>
<span class="sd">        False</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">duration</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">DurationClassical</span><span class="o">.</span><span class="n">__is_valid_duration</span><span class="p">(</span><span class="n">duration</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Bad duration: </span><span class="si">{</span><span class="n">duration</span><span class="si">}</span><span class="s1"> was provided.&#39;</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">duration</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">duration</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.DurationClassical.__le__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__le__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Compare two durations.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>other</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.tokens.DurationClassical" href="#kernpy.core.DurationClassical">DurationClassical</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The other duration to compare</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if this duration is lower or equal than the other, False otherwise</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">duration</span> <span class="o">=</span> <span class="n">DurationClassical</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">duration2</span> <span class="o">=</span> <span class="n">DurationClassical</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">duration</span> <span class="o">&lt;=</span> <span class="n">duration2</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">duration</span> <span class="o">=</span> <span class="n">DurationClassical</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">duration2</span> <span class="o">=</span> <span class="n">DurationClassical</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">duration</span> <span class="o">&lt;=</span> <span class="n">duration2</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">duration</span> <span class="o">=</span> <span class="n">DurationClassical</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">duration2</span> <span class="o">=</span> <span class="n">DurationClassical</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">duration</span> <span class="o">&lt;=</span> <span class="n">duration2</span>
<span class="go">True</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1285</span>
<span class="normal">1286</span>
<span class="normal">1287</span>
<span class="normal">1288</span>
<span class="normal">1289</span>
<span class="normal">1290</span>
<span class="normal">1291</span>
<span class="normal">1292</span>
<span class="normal">1293</span>
<span class="normal">1294</span>
<span class="normal">1295</span>
<span class="normal">1296</span>
<span class="normal">1297</span>
<span class="normal">1298</span>
<span class="normal">1299</span>
<span class="normal">1300</span>
<span class="normal">1301</span>
<span class="normal">1302</span>
<span class="normal">1303</span>
<span class="normal">1304</span>
<span class="normal">1305</span>
<span class="normal">1306</span>
<span class="normal">1307</span>
<span class="normal">1308</span>
<span class="normal">1309</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__le__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="s1">&#39;DurationClassical&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Compare two durations.</span>

<span class="sd">    Args:</span>
<span class="sd">        other (DurationClassical): The other duration to compare</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if this duration is lower or equal than the other, False otherwise</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; duration = DurationClassical(2)</span>
<span class="sd">        &gt;&gt;&gt; duration2 = DurationClassical(4)</span>
<span class="sd">        &gt;&gt;&gt; duration &lt;= duration2</span>
<span class="sd">        True</span>
<span class="sd">        &gt;&gt;&gt; duration = DurationClassical(4)</span>
<span class="sd">        &gt;&gt;&gt; duration2 = DurationClassical(2)</span>
<span class="sd">        &gt;&gt;&gt; duration &lt;= duration2</span>
<span class="sd">        False</span>
<span class="sd">        &gt;&gt;&gt; duration = DurationClassical(4)</span>
<span class="sd">        &gt;&gt;&gt; duration2 = DurationClassical(4)</span>
<span class="sd">        &gt;&gt;&gt; duration &lt;= duration2</span>
<span class="sd">        True</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__lt__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__eq__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.DurationClassical.__lt__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__lt__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Compare two durations.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>other</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.tokens.DurationClassical" href="#kernpy.core.DurationClassical">DurationClassical</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The other duration to compare</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns (bool):
    True if this duration is lower than the other, False otherwise</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">duration</span> <span class="o">=</span> <span class="n">DurationClassical</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">duration2</span> <span class="o">=</span> <span class="n">DurationClassical</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">duration</span> <span class="o">&lt;</span> <span class="n">duration2</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">duration</span> <span class="o">=</span> <span class="n">DurationClassical</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">duration2</span> <span class="o">=</span> <span class="n">DurationClassical</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">duration</span> <span class="o">&lt;</span> <span class="n">duration2</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">duration</span> <span class="o">=</span> <span class="n">DurationClassical</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">duration2</span> <span class="o">=</span> <span class="n">DurationClassical</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">duration</span> <span class="o">&lt;</span> <span class="n">duration2</span>
<span class="go">False</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1231</span>
<span class="normal">1232</span>
<span class="normal">1233</span>
<span class="normal">1234</span>
<span class="normal">1235</span>
<span class="normal">1236</span>
<span class="normal">1237</span>
<span class="normal">1238</span>
<span class="normal">1239</span>
<span class="normal">1240</span>
<span class="normal">1241</span>
<span class="normal">1242</span>
<span class="normal">1243</span>
<span class="normal">1244</span>
<span class="normal">1245</span>
<span class="normal">1246</span>
<span class="normal">1247</span>
<span class="normal">1248</span>
<span class="normal">1249</span>
<span class="normal">1250</span>
<span class="normal">1251</span>
<span class="normal">1252</span>
<span class="normal">1253</span>
<span class="normal">1254</span>
<span class="normal">1255</span>
<span class="normal">1256</span>
<span class="normal">1257</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__lt__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="s1">&#39;DurationClassical&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Compare two durations.</span>

<span class="sd">    Args:</span>
<span class="sd">        other (DurationClassical): The other duration to compare</span>

<span class="sd">    Returns (bool):</span>
<span class="sd">        True if this duration is lower than the other, False otherwise</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; duration = DurationClassical(2)</span>
<span class="sd">        &gt;&gt;&gt; duration2 = DurationClassical(4)</span>
<span class="sd">        &gt;&gt;&gt; duration &lt; duration2</span>
<span class="sd">        True</span>
<span class="sd">        &gt;&gt;&gt; duration = DurationClassical(4)</span>
<span class="sd">        &gt;&gt;&gt; duration2 = DurationClassical(2)</span>
<span class="sd">        &gt;&gt;&gt; duration &lt; duration2</span>
<span class="sd">        False</span>
<span class="sd">        &gt;&gt;&gt; duration = DurationClassical(4)</span>
<span class="sd">        &gt;&gt;&gt; duration2 = DurationClassical(4)</span>
<span class="sd">        &gt;&gt;&gt; duration &lt; duration2</span>
<span class="sd">        False</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">DurationClassical</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Invalid comparison: &lt; operator can not be used to compare duration with </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">other</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">duration</span> <span class="o">&lt;</span> <span class="n">other</span><span class="o">.</span><span class="n">duration</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.DurationClassical.__ne__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__ne__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Compare two durations.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>other</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.tokens.DurationClassical" href="#kernpy.core.DurationClassical">DurationClassical</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The other duration to compare</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns (bool):
    True if the durations are different, False otherwise</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">duration</span> <span class="o">=</span> <span class="n">DurationClassical</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">duration2</span> <span class="o">=</span> <span class="n">DurationClassical</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">duration</span> <span class="o">!=</span> <span class="n">duration2</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">duration</span> <span class="o">=</span> <span class="n">DurationClassical</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">duration2</span> <span class="o">=</span> <span class="n">DurationClassical</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">duration</span> <span class="o">!=</span> <span class="n">duration2</span>
<span class="go">True</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1181</span>
<span class="normal">1182</span>
<span class="normal">1183</span>
<span class="normal">1184</span>
<span class="normal">1185</span>
<span class="normal">1186</span>
<span class="normal">1187</span>
<span class="normal">1188</span>
<span class="normal">1189</span>
<span class="normal">1190</span>
<span class="normal">1191</span>
<span class="normal">1192</span>
<span class="normal">1193</span>
<span class="normal">1194</span>
<span class="normal">1195</span>
<span class="normal">1196</span>
<span class="normal">1197</span>
<span class="normal">1198</span>
<span class="normal">1199</span>
<span class="normal">1200</span>
<span class="normal">1201</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__ne__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="s1">&#39;DurationClassical&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Compare two durations.</span>

<span class="sd">    Args:</span>
<span class="sd">        other (DurationClassical): The other duration to compare</span>

<span class="sd">    Returns (bool):</span>
<span class="sd">        True if the durations are different, False otherwise</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; duration = DurationClassical(2)</span>
<span class="sd">        &gt;&gt;&gt; duration2 = DurationClassical(2)</span>
<span class="sd">        &gt;&gt;&gt; duration != duration2</span>
<span class="sd">        False</span>
<span class="sd">        &gt;&gt;&gt; duration = DurationClassical(2)</span>
<span class="sd">        &gt;&gt;&gt; duration2 = DurationClassical(4)</span>
<span class="sd">        &gt;&gt;&gt; duration != duration2</span>
<span class="sd">        True</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__eq__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.DurationClassical.modify" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">modify</span><span class="p">(</span><span class="n">ratio</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Modify the duration of a note or a rest of the current object.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>ratio</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The factor to modify the duration. The factor must be greater than 0.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns (DurationClassical): The new duration object with the modified duration.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">duration</span> <span class="o">=</span> <span class="n">DurationClassical</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new_duration</span> <span class="o">=</span> <span class="n">duration</span><span class="o">.</span><span class="n">modify</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new_duration</span><span class="o">.</span><span class="n">duration</span>
<span class="go">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">duration</span> <span class="o">=</span> <span class="n">DurationClassical</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new_duration</span> <span class="o">=</span> <span class="n">duration</span><span class="o">.</span><span class="n">modify</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">Invalid factor provided: 0. The factor must be greater than 0.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">duration</span> <span class="o">=</span> <span class="n">DurationClassical</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new_duration</span> <span class="o">=</span> <span class="n">duration</span><span class="o">.</span><span class="n">modify</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">Invalid factor provided: -2. The factor must be greater than 0.</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1114</span>
<span class="normal">1115</span>
<span class="normal">1116</span>
<span class="normal">1117</span>
<span class="normal">1118</span>
<span class="normal">1119</span>
<span class="normal">1120</span>
<span class="normal">1121</span>
<span class="normal">1122</span>
<span class="normal">1123</span>
<span class="normal">1124</span>
<span class="normal">1125</span>
<span class="normal">1126</span>
<span class="normal">1127</span>
<span class="normal">1128</span>
<span class="normal">1129</span>
<span class="normal">1130</span>
<span class="normal">1131</span>
<span class="normal">1132</span>
<span class="normal">1133</span>
<span class="normal">1134</span>
<span class="normal">1135</span>
<span class="normal">1136</span>
<span class="normal">1137</span>
<span class="normal">1138</span>
<span class="normal">1139</span>
<span class="normal">1140</span>
<span class="normal">1141</span>
<span class="normal">1142</span>
<span class="normal">1143</span>
<span class="normal">1144</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">modify</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ratio</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Modify the duration of a note or a rest of the current object.</span>

<span class="sd">    Args:</span>
<span class="sd">        ratio (int): The factor to modify the duration. The factor must be greater than 0.</span>

<span class="sd">    Returns (DurationClassical): The new duration object with the modified duration.</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; duration = DurationClassical(2)</span>
<span class="sd">        &gt;&gt;&gt; new_duration = duration.modify(2)</span>
<span class="sd">        &gt;&gt;&gt; new_duration.duration</span>
<span class="sd">        4</span>
<span class="sd">        &gt;&gt;&gt; duration = DurationClassical(2)</span>
<span class="sd">        &gt;&gt;&gt; new_duration = duration.modify(0)</span>
<span class="sd">        Traceback (most recent call last):</span>
<span class="sd">        ...</span>
<span class="sd">        ValueError: Invalid factor provided: 0. The factor must be greater than 0.</span>
<span class="sd">        &gt;&gt;&gt; duration = DurationClassical(2)</span>
<span class="sd">        &gt;&gt;&gt; new_duration = duration.modify(-2)</span>
<span class="sd">        Traceback (most recent call last):</span>
<span class="sd">        ...</span>
<span class="sd">        ValueError: Invalid factor provided: -2. The factor must be greater than 0.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">ratio</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Invalid factor provided: </span><span class="si">{</span><span class="n">ratio</span><span class="si">}</span><span class="s1">. The factor must be an integer.&#39;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">ratio</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Invalid factor provided: </span><span class="si">{</span><span class="n">ratio</span><span class="si">}</span><span class="s1">. The factor must be greater than 0.&#39;</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">DurationClassical</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">duration</span> <span class="o">*</span> <span class="n">ratio</span><span class="p">))</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="kernpy.core.DurationMensural" class="doc doc-heading">
            <code>DurationMensural</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="kernpy.core.tokens.Duration" href="#kernpy.core.Duration">Duration</a></code></p>


        <p>Represents the duration in mensural notation of a note or a rest.</p>

              <details class="quote">
                <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1041</span>
<span class="normal">1042</span>
<span class="normal">1043</span>
<span class="normal">1044</span>
<span class="normal">1045</span>
<span class="normal">1046</span>
<span class="normal">1047</span>
<span class="normal">1048</span>
<span class="normal">1049</span>
<span class="normal">1050</span>
<span class="normal">1051</span>
<span class="normal">1052</span>
<span class="normal">1053</span>
<span class="normal">1054</span>
<span class="normal">1055</span>
<span class="normal">1056</span>
<span class="normal">1057</span>
<span class="normal">1058</span>
<span class="normal">1059</span>
<span class="normal">1060</span>
<span class="normal">1061</span>
<span class="normal">1062</span>
<span class="normal">1063</span>
<span class="normal">1064</span>
<span class="normal">1065</span>
<span class="normal">1066</span>
<span class="normal">1067</span>
<span class="normal">1068</span>
<span class="normal">1069</span>
<span class="normal">1070</span>
<span class="normal">1071</span>
<span class="normal">1072</span>
<span class="normal">1073</span>
<span class="normal">1074</span>
<span class="normal">1075</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">DurationMensural</span><span class="p">(</span><span class="n">Duration</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Represents the duration in mensural notation of a note or a rest.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">duration</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">duration</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">duration</span> <span class="o">=</span> <span class="n">duration</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">modify</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ratio</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">__deepcopy__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">memo</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__gt__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__lt__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__le__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__ge__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__ne__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="kernpy.core.DynSpineImporter" class="doc doc-heading">
            <code>DynSpineImporter</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="kernpy.core.spine_importer.SpineImporter" href="#kernpy.core.SpineImporter">SpineImporter</a></code></p>


              <details class="quote">
                <summary>Source code in <code>kernpy/core/dyn_importer.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">DynSpineImporter</span><span class="p">(</span><span class="n">SpineImporter</span><span class="p">):</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">verbose</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        KernSpineImporter constructor.</span>

<span class="sd">        Args:</span>
<span class="sd">            verbose (Optional[bool]): Level of verbosity for error messages.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="n">verbose</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">import_listener</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BaseANTLRSpineParserListener</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">KernSpineListener</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">import_token</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">encoding</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Token</span><span class="p">:</span>
        <span class="c1"># TODO: Find out differences between **dyn vs **dynam and change this class. Using the same dor both for now.</span>
        <span class="n">dynam_importer</span> <span class="o">=</span> <span class="n">DynamSpineImporter</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">dynam_importer</span><span class="o">.</span><span class="n">import_token</span><span class="p">(</span><span class="n">encoding</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="kernpy.core.DynSpineImporter.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>KernSpineImporter constructor.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>verbose</code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[bool]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Level of verbosity for error messages.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/dyn_importer.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">verbose</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    KernSpineImporter constructor.</span>

<span class="sd">    Args:</span>
<span class="sd">        verbose (Optional[bool]): Level of verbosity for error messages.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="n">verbose</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="kernpy.core.DynamSpineImporter" class="doc doc-heading">
            <code>DynamSpineImporter</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="kernpy.core.spine_importer.SpineImporter" href="#kernpy.core.SpineImporter">SpineImporter</a></code></p>


              <details class="quote">
                <summary>Source code in <code>kernpy/core/dynam_spine_importer.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">DynamSpineImporter</span><span class="p">(</span><span class="n">SpineImporter</span><span class="p">):</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">verbose</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        KernSpineImporter constructor.</span>

<span class="sd">        Args:</span>
<span class="sd">            verbose (Optional[bool]): Level of verbosity for error messages.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="n">verbose</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">import_listener</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BaseANTLRSpineParserListener</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">KernSpineListener</span><span class="p">()</span>  <span class="c1"># TODO: Create a custom functional listener for DynamSpineImporter</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">import_token</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">encoding</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Token</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_raise_error_if_wrong_input</span><span class="p">(</span><span class="n">encoding</span><span class="p">)</span>

        <span class="n">kern_spine_importer</span> <span class="o">=</span> <span class="n">KernSpineImporter</span><span class="p">()</span>
        <span class="n">token</span> <span class="o">=</span> <span class="n">kern_spine_importer</span><span class="o">.</span><span class="n">import_token</span><span class="p">(</span><span class="n">encoding</span><span class="p">)</span>

        <span class="n">ACCEPTED_CATEGORIES</span> <span class="o">=</span> <span class="p">{</span>
            <span class="n">TokenCategory</span><span class="o">.</span><span class="n">STRUCTURAL</span><span class="p">,</span>
            <span class="n">TokenCategory</span><span class="o">.</span><span class="n">SIGNATURES</span><span class="p">,</span>
            <span class="n">TokenCategory</span><span class="o">.</span><span class="n">EMPTY</span><span class="p">,</span>
            <span class="n">TokenCategory</span><span class="o">.</span><span class="n">IMAGE_ANNOTATIONS</span><span class="p">,</span>
            <span class="n">TokenCategory</span><span class="o">.</span><span class="n">BARLINES</span><span class="p">,</span>
            <span class="n">TokenCategory</span><span class="o">.</span><span class="n">COMMENTS</span><span class="p">,</span>
        <span class="p">}</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="nb">any</span><span class="p">(</span><span class="n">TokenCategory</span><span class="o">.</span><span class="n">is_child</span><span class="p">(</span><span class="n">child</span><span class="o">=</span><span class="n">token</span><span class="o">.</span><span class="n">category</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="n">cat</span><span class="p">)</span> <span class="k">for</span> <span class="n">cat</span> <span class="ow">in</span> <span class="n">ACCEPTED_CATEGORIES</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">SimpleToken</span><span class="p">(</span><span class="n">encoding</span><span class="p">,</span> <span class="n">TokenCategory</span><span class="o">.</span><span class="n">DYNAMICS</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">token</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="kernpy.core.DynamSpineImporter.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>KernSpineImporter constructor.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>verbose</code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[bool]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Level of verbosity for error messages.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/dynam_spine_importer.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">verbose</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    KernSpineImporter constructor.</span>

<span class="sd">    Args:</span>
<span class="sd">        verbose (Optional[bool]): Level of verbosity for error messages.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="n">verbose</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="kernpy.core.EkernTokenizer" class="doc doc-heading">
            <code>EkernTokenizer</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="kernpy.core.tokenizers.Tokenizer" href="#kernpy.core.Tokenizer">Tokenizer</a></code></p>


        <p>EkernTokenizer converts a Token into an eKern (Extended **kern) string representation. This format use a '@' separator for the     main tokens and a '·' separator for the decorations tokens.</p>

              <details class="quote">
                <summary>Source code in <code>kernpy/core/tokenizers.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">EkernTokenizer</span><span class="p">(</span><span class="n">Tokenizer</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    EkernTokenizer converts a Token into an eKern (Extended **kern) string representation. This format use a &#39;@&#39; separator for the \</span>
<span class="sd">    main tokens and a &#39;·&#39; separator for the decorations tokens.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">token_categories</span><span class="p">:</span> <span class="n">Set</span><span class="p">[</span><span class="s1">&#39;TokenCategory&#39;</span><span class="p">]):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Create a new EkernTokenizer</span>

<span class="sd">        Args:</span>
<span class="sd">            token_categories (List[TokenCategory]): List of categories to be tokenized. If None will raise an exception.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">token_categories</span><span class="o">=</span><span class="n">token_categories</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">tokenize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">token</span><span class="p">:</span> <span class="n">Token</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Tokenize a token into an eKern string representation.</span>
<span class="sd">        Args:</span>
<span class="sd">            token (Token): Token to be tokenized.</span>

<span class="sd">        Returns (str): eKern string representation.</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; token.encoding</span>
<span class="sd">            &#39;2@.@bb@-·_·L&#39;</span>
<span class="sd">            &gt;&gt;&gt; EkernTokenizer().tokenize(token)</span>
<span class="sd">            &#39;2@.@bb@-·_·L&#39;</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">token</span><span class="o">.</span><span class="n">export</span><span class="p">(</span><span class="n">filter_categories</span><span class="o">=</span><span class="k">lambda</span> <span class="n">cat</span><span class="p">:</span> <span class="n">cat</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">token_categories</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="kernpy.core.EkernTokenizer.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="p">,</span> <span class="n">token_categories</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Create a new EkernTokenizer</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>token_categories</code></td>
            <td>
                  <code><span title="typing.List">List</span>[<a class="autorefs autorefs-internal" title="kernpy.core.gkern.TokenCategory" href="#kernpy.core.TokenCategory">TokenCategory</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List of categories to be tokenized. If None will raise an exception.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokenizers.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">token_categories</span><span class="p">:</span> <span class="n">Set</span><span class="p">[</span><span class="s1">&#39;TokenCategory&#39;</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Create a new EkernTokenizer</span>

<span class="sd">    Args:</span>
<span class="sd">        token_categories (List[TokenCategory]): List of categories to be tokenized. If None will raise an exception.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">token_categories</span><span class="o">=</span><span class="n">token_categories</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.EkernTokenizer.tokenize" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">tokenize</span><span class="p">(</span><span class="n">token</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Tokenize a token into an eKern string representation.
Args:
    token (Token): Token to be tokenized.</p>
<p>Returns (str): eKern string representation.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">token</span><span class="o">.</span><span class="n">encoding</span>
<span class="go">&#39;2@.@bb@-·_·L&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">EkernTokenizer</span><span class="p">()</span><span class="o">.</span><span class="n">tokenize</span><span class="p">(</span><span class="n">token</span><span class="p">)</span>
<span class="go">&#39;2@.@bb@-·_·L&#39;</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokenizers.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">tokenize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">token</span><span class="p">:</span> <span class="n">Token</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Tokenize a token into an eKern string representation.</span>
<span class="sd">    Args:</span>
<span class="sd">        token (Token): Token to be tokenized.</span>

<span class="sd">    Returns (str): eKern string representation.</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; token.encoding</span>
<span class="sd">        &#39;2@.@bb@-·_·L&#39;</span>
<span class="sd">        &gt;&gt;&gt; EkernTokenizer().tokenize(token)</span>
<span class="sd">        &#39;2@.@bb@-·_·L&#39;</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">token</span><span class="o">.</span><span class="n">export</span><span class="p">(</span><span class="n">filter_categories</span><span class="o">=</span><span class="k">lambda</span> <span class="n">cat</span><span class="p">:</span> <span class="n">cat</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">token_categories</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="kernpy.core.ErrorListener" class="doc doc-heading">
            <code>ErrorListener</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="antlr4.error.ErrorListener.ConsoleErrorListener">ConsoleErrorListener</span></code></p>


              <details class="quote">
                <summary>Source code in <code>kernpy/core/error_listener.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">ErrorListener</span><span class="p">(</span><span class="n">ConsoleErrorListener</span><span class="p">):</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">verbose</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        ErrorListener constructor.</span>
<span class="sd">        Args:</span>
<span class="sd">            verbose (bool): If True, the error messages will be printed to the console using \</span>
<span class="sd">            the `ConsoleErrorListener` interface.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">errors</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">verbose</span> <span class="o">=</span> <span class="n">verbose</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">syntaxError</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">recognizer</span><span class="p">,</span> <span class="n">offendingSymbol</span><span class="p">,</span> <span class="n">line</span><span class="p">,</span> <span class="n">charPositionInLine</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="n">e</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">verbose</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">syntaxError</span><span class="p">(</span><span class="n">recognizer</span><span class="p">,</span> <span class="n">offendingSymbol</span><span class="p">,</span> <span class="n">line</span><span class="p">,</span> <span class="n">charPositionInLine</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">errors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ParseError</span><span class="p">(</span><span class="n">offendingSymbol</span><span class="p">,</span> <span class="n">charPositionInLine</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="n">e</span><span class="p">))</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">getNumberErrorsFound</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">errors</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">sb</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="k">for</span> <span class="n">error</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">errors</span><span class="p">:</span>
            <span class="n">sb</span> <span class="o">+=</span> <span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="k">return</span> <span class="n">sb</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="kernpy.core.ErrorListener.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>ErrorListener constructor.
Args:
    verbose (bool): If True, the error messages will be printed to the console using             the <code>ConsoleErrorListener</code> interface.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/error_listener.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">verbose</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    ErrorListener constructor.</span>
<span class="sd">    Args:</span>
<span class="sd">        verbose (bool): If True, the error messages will be printed to the console using \</span>
<span class="sd">        the `ConsoleErrorListener` interface.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">errors</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">verbose</span> <span class="o">=</span> <span class="n">verbose</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="kernpy.core.ErrorToken" class="doc doc-heading">
            <code>ErrorToken</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="kernpy.core.tokens.SimpleToken" href="#kernpy.core.SimpleToken">SimpleToken</a></code></p>


        <p>Used to wrap tokens that have not been parsed.</p>

              <details class="quote">
                <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1500</span>
<span class="normal">1501</span>
<span class="normal">1502</span>
<span class="normal">1503</span>
<span class="normal">1504</span>
<span class="normal">1505</span>
<span class="normal">1506</span>
<span class="normal">1507</span>
<span class="normal">1508</span>
<span class="normal">1509</span>
<span class="normal">1510</span>
<span class="normal">1511</span>
<span class="normal">1512</span>
<span class="normal">1513</span>
<span class="normal">1514</span>
<span class="normal">1515</span>
<span class="normal">1516</span>
<span class="normal">1517</span>
<span class="normal">1518</span>
<span class="normal">1519</span>
<span class="normal">1520</span>
<span class="normal">1521</span>
<span class="normal">1522</span>
<span class="normal">1523</span>
<span class="normal">1524</span>
<span class="normal">1525</span>
<span class="normal">1526</span>
<span class="normal">1527</span>
<span class="normal">1528</span>
<span class="normal">1529</span>
<span class="normal">1530</span>
<span class="normal">1531</span>
<span class="normal">1532</span>
<span class="normal">1533</span>
<span class="normal">1534</span>
<span class="normal">1535</span>
<span class="normal">1536</span>
<span class="normal">1537</span>
<span class="normal">1538</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">ErrorToken</span><span class="p">(</span><span class="n">SimpleToken</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Used to wrap tokens that have not been parsed.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span>
            <span class="n">encoding</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
            <span class="n">line</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
            <span class="n">error</span><span class="p">:</span> <span class="nb">str</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        ErrorToken constructor</span>

<span class="sd">        Args:</span>
<span class="sd">            encoding (str): The original representation of the token.</span>
<span class="sd">            line (int): The line number of the token in the score.</span>
<span class="sd">            error (str): The error message thrown by the parser.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">encoding</span><span class="p">,</span> <span class="n">TokenCategory</span><span class="o">.</span><span class="n">ERROR</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">error</span> <span class="o">=</span> <span class="n">error</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">line</span> <span class="o">=</span> <span class="n">line</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">export</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Exports the error token.</span>

<span class="sd">        Returns (str): A string representation of the error token.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># return ERROR_TOKEN</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">encoding</span>  <span class="c1"># TODO: add a constant for the error token</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Information about the error token.</span>

<span class="sd">        Returns (str) The information about the error token.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s1">&#39;Error token found at line </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">line</span><span class="si">}</span><span class="s1"> with encoding &quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">encoding</span><span class="si">}</span><span class="s1">&quot;. Description: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">error</span><span class="si">}</span><span class="s1">&#39;</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="kernpy.core.ErrorToken.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">encoding</span><span class="p">,</span> <span class="n">line</span><span class="p">,</span> <span class="n">error</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>ErrorToken constructor</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>encoding</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The original representation of the token.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>line</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The line number of the token in the score.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>error</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The error message thrown by the parser.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1505</span>
<span class="normal">1506</span>
<span class="normal">1507</span>
<span class="normal">1508</span>
<span class="normal">1509</span>
<span class="normal">1510</span>
<span class="normal">1511</span>
<span class="normal">1512</span>
<span class="normal">1513</span>
<span class="normal">1514</span>
<span class="normal">1515</span>
<span class="normal">1516</span>
<span class="normal">1517</span>
<span class="normal">1518</span>
<span class="normal">1519</span>
<span class="normal">1520</span>
<span class="normal">1521</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">encoding</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">line</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">error</span><span class="p">:</span> <span class="nb">str</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    ErrorToken constructor</span>

<span class="sd">    Args:</span>
<span class="sd">        encoding (str): The original representation of the token.</span>
<span class="sd">        line (int): The line number of the token in the score.</span>
<span class="sd">        error (str): The error message thrown by the parser.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">encoding</span><span class="p">,</span> <span class="n">TokenCategory</span><span class="o">.</span><span class="n">ERROR</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">error</span> <span class="o">=</span> <span class="n">error</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">line</span> <span class="o">=</span> <span class="n">line</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.ErrorToken.__str__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__str__</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Information about the error token.</p>
<p>Returns (str) The information about the error token.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1532</span>
<span class="normal">1533</span>
<span class="normal">1534</span>
<span class="normal">1535</span>
<span class="normal">1536</span>
<span class="normal">1537</span>
<span class="normal">1538</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Information about the error token.</span>

<span class="sd">    Returns (str) The information about the error token.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="sa">f</span><span class="s1">&#39;Error token found at line </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">line</span><span class="si">}</span><span class="s1"> with encoding &quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">encoding</span><span class="si">}</span><span class="s1">&quot;. Description: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">error</span><span class="si">}</span><span class="s1">&#39;</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.ErrorToken.export" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">export</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Exports the error token.</p>
<p>Returns (str): A string representation of the error token.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1523</span>
<span class="normal">1524</span>
<span class="normal">1525</span>
<span class="normal">1526</span>
<span class="normal">1527</span>
<span class="normal">1528</span>
<span class="normal">1529</span>
<span class="normal">1530</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">export</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Exports the error token.</span>

<span class="sd">    Returns (str): A string representation of the error token.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># return ERROR_TOKEN</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">encoding</span>  <span class="c1"># TODO: add a constant for the error token</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="kernpy.core.ExportOptions" class="doc doc-heading">
            <code>ExportOptions</code>


</h2>


    <div class="doc doc-contents ">


        <p><code>ExportOptions</code> class.</p>
<p>Store the options to export a **kern file.</p>

              <details class="quote">
                <summary>Source code in <code>kernpy/core/exporter.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 15</span>
<span class="normal"> 16</span>
<span class="normal"> 17</span>
<span class="normal"> 18</span>
<span class="normal"> 19</span>
<span class="normal"> 20</span>
<span class="normal"> 21</span>
<span class="normal"> 22</span>
<span class="normal"> 23</span>
<span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">ExportOptions</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    `ExportOptions` class.</span>

<span class="sd">    Store the options to export a **kern file.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span>
            <span class="n">spine_types</span><span class="p">:</span> <span class="p">[]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">token_categories</span><span class="p">:</span> <span class="p">[]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">from_measure</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">to_measure</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">kern_type</span><span class="p">:</span> <span class="n">KernTypeExporter</span> <span class="o">=</span> <span class="n">KernTypeExporter</span><span class="o">.</span><span class="n">normalizedKern</span><span class="p">,</span>
            <span class="n">instruments</span><span class="p">:</span> <span class="p">[]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">show_measure_numbers</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
            <span class="n">spine_ids</span><span class="p">:</span> <span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Create a new ExportOptions object.</span>

<span class="sd">        Args:</span>
<span class="sd">            spine_types (Iterable): **kern, **mens, etc...</span>
<span class="sd">            token_categories (Iterable): TokenCategory</span>
<span class="sd">            from_measure (int): The measure to start exporting. When None, the exporter will start from the beginning of the file. The first measure is 1</span>
<span class="sd">            to_measure (int): The measure to end exporting. When None, the exporter will end at the end of the file.</span>
<span class="sd">            kern_type (KernTypeExporter): The type of the kern file to export.</span>
<span class="sd">            instruments (Iterable): The instruments to export. When None, all the instruments will be exported.</span>
<span class="sd">            show_measure_numbers (Bool): Show the measure numbers in the exported file.</span>
<span class="sd">            spine_ids (Iterable): The ids of the spines to export. When None, all the spines will be exported. Spines ids start from 0 and they are increased by 1.</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; import kernpy</span>

<span class="sd">            Create the importer and read the file</span>
<span class="sd">            &gt;&gt;&gt; hi = Importer()</span>
<span class="sd">            &gt;&gt;&gt; document = hi.import_file(&#39;file.krn&#39;)</span>
<span class="sd">            &gt;&gt;&gt; exporter = Exporter()</span>

<span class="sd">            Export the file with the specified options</span>
<span class="sd">            &gt;&gt;&gt; options = ExportOptions(spine_types=[&#39;**kern&#39;], token_categories=BEKERN_CATEGORIES)</span>
<span class="sd">            &gt;&gt;&gt; exported_data = exporter.export_string(document, options)</span>

<span class="sd">            Export only the lyrics</span>
<span class="sd">            &gt;&gt;&gt; options = ExportOptions(spine_types=[&#39;**kern&#39;], token_categories=[TokenCategory.LYRICS])</span>
<span class="sd">            &gt;&gt;&gt; exported_data = exporter.export_string(document, options)</span>

<span class="sd">            Export the comments</span>
<span class="sd">            &gt;&gt;&gt; options = ExportOptions(spine_types=[&#39;**kern&#39;], token_categories=[TokenCategory.LINE_COMMENTS, TokenCategory.FIELD_COMMENTS])</span>
<span class="sd">            &gt;&gt;&gt; exported_data = exporter.export_string(document, options)</span>

<span class="sd">            Export using the eKern version</span>
<span class="sd">            &gt;&gt;&gt; options = ExportOptions(spine_types=[&#39;**kern&#39;], token_categories=BEKERN_CATEGORIES, kern_type=KernTypeExporter.eKern)</span>
<span class="sd">            &gt;&gt;&gt; exported_data = exporter.export_string(document, options)</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">spine_types</span> <span class="o">=</span> <span class="n">spine_types</span> <span class="k">if</span> <span class="n">spine_types</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">deepcopy</span><span class="p">(</span><span class="n">HEADERS</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">from_measure</span> <span class="o">=</span> <span class="n">from_measure</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">to_measure</span> <span class="o">=</span> <span class="n">to_measure</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">token_categories</span> <span class="o">=</span> <span class="n">token_categories</span> <span class="k">if</span> <span class="n">token_categories</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="p">[</span><span class="n">c</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">TokenCategory</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">kern_type</span> <span class="o">=</span> <span class="n">kern_type</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">instruments</span> <span class="o">=</span> <span class="n">instruments</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">show_measure_numbers</span> <span class="o">=</span> <span class="n">show_measure_numbers</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">spine_ids</span> <span class="o">=</span> <span class="n">spine_ids</span>  <span class="c1"># When exporting, if spine_ids=None all the spines will be exported.</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="s1">&#39;ExportOptions&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Compare two ExportOptions objects.</span>

<span class="sd">        Args:</span>
<span class="sd">            other: The other ExportOptions object to compare.</span>

<span class="sd">        Returns (bool):</span>
<span class="sd">            True if the objects are equal, False otherwise.</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; options1 = ExportOptions(spine_types=[&#39;**kern&#39;], token_categories=BEKERN_CATEGORIES)</span>
<span class="sd">            &gt;&gt;&gt; options2 = ExportOptions(spine_types=[&#39;**kern&#39;], token_categories=BEKERN_CATEGORIES)</span>
<span class="sd">            &gt;&gt;&gt; options1 == options2</span>
<span class="sd">            True</span>

<span class="sd">            &gt;&gt;&gt; options3 = ExportOptions(spine_types=[&#39;**kern&#39;, &#39;**harm&#39;], token_categories=BEKERN_CATEGORIES)</span>
<span class="sd">            &gt;&gt;&gt; options1 == options3</span>
<span class="sd">            False</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">spine_types</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">spine_types</span> <span class="ow">and</span> \
            <span class="bp">self</span><span class="o">.</span><span class="n">token_categories</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">token_categories</span> <span class="ow">and</span> \
            <span class="bp">self</span><span class="o">.</span><span class="n">from_measure</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">from_measure</span> <span class="ow">and</span> \
            <span class="bp">self</span><span class="o">.</span><span class="n">to_measure</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">to_measure</span> <span class="ow">and</span> \
            <span class="bp">self</span><span class="o">.</span><span class="n">kern_type</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">kern_type</span> <span class="ow">and</span> \
            <span class="bp">self</span><span class="o">.</span><span class="n">instruments</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">instruments</span> <span class="ow">and</span> \
            <span class="bp">self</span><span class="o">.</span><span class="n">show_measure_numbers</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">show_measure_numbers</span> <span class="ow">and</span> \
            <span class="bp">self</span><span class="o">.</span><span class="n">spine_ids</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">spine_ids</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__ne__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="s1">&#39;ExportOptions&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Compare two ExportOptions objects.</span>

<span class="sd">        Args:</span>
<span class="sd">            other (ExportOptions): The other ExportOptions object to compare.</span>

<span class="sd">        Returns (bool):</span>
<span class="sd">            True if the objects are not equal, False otherwise.</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; options1 = ExportOptions(spine_types=[&#39;**kern&#39;], token_categories=BEKERN_CATEGORIES)</span>
<span class="sd">            &gt;&gt;&gt; options2 = ExportOptions(spine_types=[&#39;**kern&#39;], token_categories=BEKERN_CATEGORIES)</span>
<span class="sd">            &gt;&gt;&gt; options1 != options2</span>
<span class="sd">            False</span>

<span class="sd">            &gt;&gt;&gt; options3 = ExportOptions(spine_types=[&#39;**kern&#39;, &#39;**harm&#39;], token_categories=BEKERN_CATEGORIES)</span>
<span class="sd">            &gt;&gt;&gt; options1 != options3</span>
<span class="sd">            True</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__eq__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">default</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span>
            <span class="n">spine_types</span><span class="o">=</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">HEADERS</span><span class="p">),</span>
            <span class="n">token_categories</span><span class="o">=</span><span class="p">[</span><span class="n">c</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">TokenCategory</span><span class="p">],</span>
            <span class="n">from_measure</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="n">to_measure</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="n">kern_type</span><span class="o">=</span><span class="n">KernTypeExporter</span><span class="o">.</span><span class="n">normalizedKern</span><span class="p">,</span>
            <span class="n">instruments</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="n">show_measure_numbers</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
            <span class="n">spine_ids</span><span class="o">=</span><span class="kc">None</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="kernpy.core.ExportOptions.__eq__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__eq__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Compare two ExportOptions objects.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>other</code></td>
            <td>
                  <code>&#39;ExportOptions&#39;</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The other ExportOptions object to compare.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns (bool):
    True if the objects are equal, False otherwise.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">options1</span> <span class="o">=</span> <span class="n">ExportOptions</span><span class="p">(</span><span class="n">spine_types</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;**kern&#39;</span><span class="p">],</span> <span class="n">token_categories</span><span class="o">=</span><span class="n">BEKERN_CATEGORIES</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">options2</span> <span class="o">=</span> <span class="n">ExportOptions</span><span class="p">(</span><span class="n">spine_types</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;**kern&#39;</span><span class="p">],</span> <span class="n">token_categories</span><span class="o">=</span><span class="n">BEKERN_CATEGORIES</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">options1</span> <span class="o">==</span> <span class="n">options2</span>
<span class="go">True</span>
</code></pre></div>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">options3</span> <span class="o">=</span> <span class="n">ExportOptions</span><span class="p">(</span><span class="n">spine_types</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;**kern&#39;</span><span class="p">,</span> <span class="s1">&#39;**harm&#39;</span><span class="p">],</span> <span class="n">token_categories</span><span class="o">=</span><span class="n">BEKERN_CATEGORIES</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">options1</span> <span class="o">==</span> <span class="n">options3</span>
<span class="go">False</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/exporter.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="s1">&#39;ExportOptions&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Compare two ExportOptions objects.</span>

<span class="sd">    Args:</span>
<span class="sd">        other: The other ExportOptions object to compare.</span>

<span class="sd">    Returns (bool):</span>
<span class="sd">        True if the objects are equal, False otherwise.</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; options1 = ExportOptions(spine_types=[&#39;**kern&#39;], token_categories=BEKERN_CATEGORIES)</span>
<span class="sd">        &gt;&gt;&gt; options2 = ExportOptions(spine_types=[&#39;**kern&#39;], token_categories=BEKERN_CATEGORIES)</span>
<span class="sd">        &gt;&gt;&gt; options1 == options2</span>
<span class="sd">        True</span>

<span class="sd">        &gt;&gt;&gt; options3 = ExportOptions(spine_types=[&#39;**kern&#39;, &#39;**harm&#39;], token_categories=BEKERN_CATEGORIES)</span>
<span class="sd">        &gt;&gt;&gt; options1 == options3</span>
<span class="sd">        False</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">spine_types</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">spine_types</span> <span class="ow">and</span> \
        <span class="bp">self</span><span class="o">.</span><span class="n">token_categories</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">token_categories</span> <span class="ow">and</span> \
        <span class="bp">self</span><span class="o">.</span><span class="n">from_measure</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">from_measure</span> <span class="ow">and</span> \
        <span class="bp">self</span><span class="o">.</span><span class="n">to_measure</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">to_measure</span> <span class="ow">and</span> \
        <span class="bp">self</span><span class="o">.</span><span class="n">kern_type</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">kern_type</span> <span class="ow">and</span> \
        <span class="bp">self</span><span class="o">.</span><span class="n">instruments</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">instruments</span> <span class="ow">and</span> \
        <span class="bp">self</span><span class="o">.</span><span class="n">show_measure_numbers</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">show_measure_numbers</span> <span class="ow">and</span> \
        <span class="bp">self</span><span class="o">.</span><span class="n">spine_ids</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">spine_ids</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.ExportOptions.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">spine_types</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">token_categories</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">from_measure</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">to_measure</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">kern_type</span><span class="o">=</span><span class="n">KernTypeExporter</span><span class="o">.</span><span class="n">normalizedKern</span><span class="p">,</span> <span class="n">instruments</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">show_measure_numbers</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">spine_ids</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Create a new ExportOptions object.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>spine_types</code></td>
            <td>
                  <code>Iterable</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p><strong>kern, </strong>mens, etc...</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>token_categories</code></td>
            <td>
                  <code>Iterable</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>TokenCategory</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>from_measure</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The measure to start exporting. When None, the exporter will start from the beginning of the file. The first measure is 1</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>to_measure</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The measure to end exporting. When None, the exporter will end at the end of the file.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>kern_type</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.tokenizers.KernTypeExporter" href="#kernpy.core.KernTypeExporter">KernTypeExporter</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The type of the kern file to export.</p>
              </div>
            </td>
            <td>
                  <code><span title="kernpy.core.tokenizers.KernTypeExporter.normalizedKern">normalizedKern</span></code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>instruments</code></td>
            <td>
                  <code>Iterable</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The instruments to export. When None, all the instruments will be exported.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>show_measure_numbers</code></td>
            <td>
                  <code>Bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Show the measure numbers in the exported file.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>spine_ids</code></td>
            <td>
                  <code>Iterable</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The ids of the spines to export. When None, all the spines will be exported. Spines ids start from 0 and they are increased by 1.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


<details class="example" open>
  <summary>Example</summary>
  <blockquote>
<blockquote>
<blockquote>
<p>import kernpy</p>
</blockquote>
</blockquote>
</blockquote>
<p>Create the importer and read the file</p>
<blockquote>
<blockquote>
<blockquote>
<p>hi = Importer()
document = hi.import_file('file.krn')
exporter = Exporter()</p>
</blockquote>
</blockquote>
</blockquote>
<p>Export the file with the specified options</p>
<blockquote>
<blockquote>
<blockquote>
<p>options = ExportOptions(spine_types=['**kern'], token_categories=BEKERN_CATEGORIES)
exported_data = exporter.export_string(document, options)</p>
</blockquote>
</blockquote>
</blockquote>
<p>Export only the lyrics</p>
<blockquote>
<blockquote>
<blockquote>
<p>options = ExportOptions(spine_types=['**kern'], token_categories=[TokenCategory.LYRICS])
exported_data = exporter.export_string(document, options)</p>
</blockquote>
</blockquote>
</blockquote>
<p>Export the comments</p>
<blockquote>
<blockquote>
<blockquote>
<p>options = ExportOptions(spine_types=['**kern'], token_categories=[TokenCategory.LINE_COMMENTS, TokenCategory.FIELD_COMMENTS])
exported_data = exporter.export_string(document, options)</p>
</blockquote>
</blockquote>
</blockquote>
<p>Export using the eKern version</p>
<blockquote>
<blockquote>
<blockquote>
<p>options = ExportOptions(spine_types=['**kern'], token_categories=BEKERN_CATEGORIES, kern_type=KernTypeExporter.eKern)
exported_data = exporter.export_string(document, options)</p>
</blockquote>
</blockquote>
</blockquote>
</details>
            <details class="quote">
              <summary>Source code in <code>kernpy/core/exporter.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">spine_types</span><span class="p">:</span> <span class="p">[]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">token_categories</span><span class="p">:</span> <span class="p">[]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">from_measure</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">to_measure</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">kern_type</span><span class="p">:</span> <span class="n">KernTypeExporter</span> <span class="o">=</span> <span class="n">KernTypeExporter</span><span class="o">.</span><span class="n">normalizedKern</span><span class="p">,</span>
        <span class="n">instruments</span><span class="p">:</span> <span class="p">[]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">show_measure_numbers</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">spine_ids</span><span class="p">:</span> <span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Create a new ExportOptions object.</span>

<span class="sd">    Args:</span>
<span class="sd">        spine_types (Iterable): **kern, **mens, etc...</span>
<span class="sd">        token_categories (Iterable): TokenCategory</span>
<span class="sd">        from_measure (int): The measure to start exporting. When None, the exporter will start from the beginning of the file. The first measure is 1</span>
<span class="sd">        to_measure (int): The measure to end exporting. When None, the exporter will end at the end of the file.</span>
<span class="sd">        kern_type (KernTypeExporter): The type of the kern file to export.</span>
<span class="sd">        instruments (Iterable): The instruments to export. When None, all the instruments will be exported.</span>
<span class="sd">        show_measure_numbers (Bool): Show the measure numbers in the exported file.</span>
<span class="sd">        spine_ids (Iterable): The ids of the spines to export. When None, all the spines will be exported. Spines ids start from 0 and they are increased by 1.</span>

<span class="sd">    Example:</span>
<span class="sd">        &gt;&gt;&gt; import kernpy</span>

<span class="sd">        Create the importer and read the file</span>
<span class="sd">        &gt;&gt;&gt; hi = Importer()</span>
<span class="sd">        &gt;&gt;&gt; document = hi.import_file(&#39;file.krn&#39;)</span>
<span class="sd">        &gt;&gt;&gt; exporter = Exporter()</span>

<span class="sd">        Export the file with the specified options</span>
<span class="sd">        &gt;&gt;&gt; options = ExportOptions(spine_types=[&#39;**kern&#39;], token_categories=BEKERN_CATEGORIES)</span>
<span class="sd">        &gt;&gt;&gt; exported_data = exporter.export_string(document, options)</span>

<span class="sd">        Export only the lyrics</span>
<span class="sd">        &gt;&gt;&gt; options = ExportOptions(spine_types=[&#39;**kern&#39;], token_categories=[TokenCategory.LYRICS])</span>
<span class="sd">        &gt;&gt;&gt; exported_data = exporter.export_string(document, options)</span>

<span class="sd">        Export the comments</span>
<span class="sd">        &gt;&gt;&gt; options = ExportOptions(spine_types=[&#39;**kern&#39;], token_categories=[TokenCategory.LINE_COMMENTS, TokenCategory.FIELD_COMMENTS])</span>
<span class="sd">        &gt;&gt;&gt; exported_data = exporter.export_string(document, options)</span>

<span class="sd">        Export using the eKern version</span>
<span class="sd">        &gt;&gt;&gt; options = ExportOptions(spine_types=[&#39;**kern&#39;], token_categories=BEKERN_CATEGORIES, kern_type=KernTypeExporter.eKern)</span>
<span class="sd">        &gt;&gt;&gt; exported_data = exporter.export_string(document, options)</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">spine_types</span> <span class="o">=</span> <span class="n">spine_types</span> <span class="k">if</span> <span class="n">spine_types</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">deepcopy</span><span class="p">(</span><span class="n">HEADERS</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">from_measure</span> <span class="o">=</span> <span class="n">from_measure</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">to_measure</span> <span class="o">=</span> <span class="n">to_measure</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">token_categories</span> <span class="o">=</span> <span class="n">token_categories</span> <span class="k">if</span> <span class="n">token_categories</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="p">[</span><span class="n">c</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">TokenCategory</span><span class="p">]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">kern_type</span> <span class="o">=</span> <span class="n">kern_type</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">instruments</span> <span class="o">=</span> <span class="n">instruments</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">show_measure_numbers</span> <span class="o">=</span> <span class="n">show_measure_numbers</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">spine_ids</span> <span class="o">=</span> <span class="n">spine_ids</span>  <span class="c1"># When exporting, if spine_ids=None all the spines will be exported.</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.ExportOptions.__ne__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__ne__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Compare two ExportOptions objects.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>other</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.exporter.ExportOptions" href="#kernpy.core.ExportOptions">ExportOptions</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The other ExportOptions object to compare.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns (bool):
    True if the objects are not equal, False otherwise.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">options1</span> <span class="o">=</span> <span class="n">ExportOptions</span><span class="p">(</span><span class="n">spine_types</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;**kern&#39;</span><span class="p">],</span> <span class="n">token_categories</span><span class="o">=</span><span class="n">BEKERN_CATEGORIES</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">options2</span> <span class="o">=</span> <span class="n">ExportOptions</span><span class="p">(</span><span class="n">spine_types</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;**kern&#39;</span><span class="p">],</span> <span class="n">token_categories</span><span class="o">=</span><span class="n">BEKERN_CATEGORIES</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">options1</span> <span class="o">!=</span> <span class="n">options2</span>
<span class="go">False</span>
</code></pre></div>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">options3</span> <span class="o">=</span> <span class="n">ExportOptions</span><span class="p">(</span><span class="n">spine_types</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;**kern&#39;</span><span class="p">,</span> <span class="s1">&#39;**harm&#39;</span><span class="p">],</span> <span class="n">token_categories</span><span class="o">=</span><span class="n">BEKERN_CATEGORIES</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">options1</span> <span class="o">!=</span> <span class="n">options3</span>
<span class="go">True</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/exporter.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__ne__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="s1">&#39;ExportOptions&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Compare two ExportOptions objects.</span>

<span class="sd">    Args:</span>
<span class="sd">        other (ExportOptions): The other ExportOptions object to compare.</span>

<span class="sd">    Returns (bool):</span>
<span class="sd">        True if the objects are not equal, False otherwise.</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; options1 = ExportOptions(spine_types=[&#39;**kern&#39;], token_categories=BEKERN_CATEGORIES)</span>
<span class="sd">        &gt;&gt;&gt; options2 = ExportOptions(spine_types=[&#39;**kern&#39;], token_categories=BEKERN_CATEGORIES)</span>
<span class="sd">        &gt;&gt;&gt; options1 != options2</span>
<span class="sd">        False</span>

<span class="sd">        &gt;&gt;&gt; options3 = ExportOptions(spine_types=[&#39;**kern&#39;, &#39;**harm&#39;], token_categories=BEKERN_CATEGORIES)</span>
<span class="sd">        &gt;&gt;&gt; options1 != options3</span>
<span class="sd">        True</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__eq__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="kernpy.core.Exporter" class="doc doc-heading">
            <code>Exporter</code>


</h2>


    <div class="doc doc-contents ">


              <details class="quote">
                <summary>Source code in <code>kernpy/core/exporter.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">Exporter</span><span class="p">:</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">export_string</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">document</span><span class="p">:</span> <span class="n">Document</span><span class="p">,</span> <span class="n">options</span><span class="p">:</span> <span class="n">ExportOptions</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">export_options_validator</span><span class="p">(</span><span class="n">document</span><span class="p">,</span> <span class="n">options</span><span class="p">)</span>

        <span class="n">rows</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="k">if</span> <span class="n">options</span><span class="o">.</span><span class="n">to_measure</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">options</span><span class="o">.</span><span class="n">to_measure</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">document</span><span class="o">.</span><span class="n">measure_start_tree_stages</span><span class="p">):</span>

            <span class="k">if</span> <span class="n">options</span><span class="o">.</span><span class="n">to_measure</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">document</span><span class="o">.</span><span class="n">measure_start_tree_stages</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">:</span>
                <span class="n">to_stage</span> <span class="o">=</span> <span class="n">document</span><span class="o">.</span><span class="n">measure_start_tree_stages</span><span class="p">[</span>
                    <span class="n">options</span><span class="o">.</span><span class="n">to_measure</span><span class="p">]</span>  <span class="c1"># take the barlines from the next coming measure</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">to_stage</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">document</span><span class="o">.</span><span class="n">tree</span><span class="o">.</span><span class="n">stages</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span>  <span class="c1"># all stages</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">to_stage</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">document</span><span class="o">.</span><span class="n">tree</span><span class="o">.</span><span class="n">stages</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span>  <span class="c1"># all stages</span>

        <span class="k">if</span> <span class="n">options</span><span class="o">.</span><span class="n">from_measure</span><span class="p">:</span>
            <span class="c1"># In case of beginning not from the first measure, we recover the spine creation and the headers</span>
            <span class="c1"># Traversed in reverse order to only include the active spines at the given measure...</span>
            <span class="n">from_stage</span> <span class="o">=</span> <span class="n">document</span><span class="o">.</span><span class="n">measure_start_tree_stages</span><span class="p">[</span><span class="n">options</span><span class="o">.</span><span class="n">from_measure</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span>
            <span class="n">next_nodes</span> <span class="o">=</span> <span class="n">document</span><span class="o">.</span><span class="n">tree</span><span class="o">.</span><span class="n">stages</span><span class="p">[</span><span class="n">from_stage</span><span class="p">]</span>
            <span class="k">while</span> <span class="n">next_nodes</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">next_nodes</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">next_nodes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">!=</span> <span class="n">document</span><span class="o">.</span><span class="n">tree</span><span class="o">.</span><span class="n">root</span><span class="p">:</span>
                <span class="n">row</span> <span class="o">=</span> <span class="p">[]</span>
                <span class="n">new_next_nodes</span> <span class="o">=</span> <span class="p">[]</span>
                <span class="n">non_place_holder_in_row</span> <span class="o">=</span> <span class="kc">False</span>
                <span class="n">spine_operation_row</span> <span class="o">=</span> <span class="kc">False</span>
                <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">next_nodes</span><span class="p">:</span>
                    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">token</span><span class="p">,</span> <span class="n">SpineOperationToken</span><span class="p">):</span>
                        <span class="n">spine_operation_row</span> <span class="o">=</span> <span class="kc">True</span>
                        <span class="k">break</span>

                <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">next_nodes</span><span class="p">:</span>
                    <span class="n">content</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
                    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">token</span><span class="p">,</span> <span class="n">HeaderToken</span><span class="p">)</span> <span class="ow">and</span> <span class="n">node</span><span class="o">.</span><span class="n">token</span><span class="o">.</span><span class="n">encoding</span> <span class="ow">in</span> <span class="n">options</span><span class="o">.</span><span class="n">spine_types</span><span class="p">:</span>
                        <span class="n">content</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">export_token</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">token</span><span class="p">,</span> <span class="n">options</span><span class="p">)</span>
                        <span class="n">non_place_holder_in_row</span> <span class="o">=</span> <span class="kc">True</span>
                    <span class="k">elif</span> <span class="n">spine_operation_row</span><span class="p">:</span>
                        <span class="c1"># either if it is the split operator that has been cancelled, or the join one</span>
                        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">token</span><span class="p">,</span> <span class="n">SpineOperationToken</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">token</span><span class="o">.</span><span class="n">is_cancelled_at</span><span class="p">(</span>
                                <span class="n">from_stage</span><span class="p">)</span> <span class="ow">or</span> <span class="n">node</span><span class="o">.</span><span class="n">last_spine_operator_node</span> <span class="ow">and</span> <span class="n">node</span><span class="o">.</span><span class="n">last_spine_operator_node</span><span class="o">.</span><span class="n">token</span><span class="o">.</span><span class="n">cancelled_at_stage</span> <span class="o">==</span> <span class="n">node</span><span class="o">.</span><span class="n">stage</span><span class="p">):</span>
                            <span class="n">content</span> <span class="o">=</span> <span class="s1">&#39;*&#39;</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">content</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">export_token</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">token</span><span class="p">,</span> <span class="n">options</span><span class="p">)</span>
                            <span class="n">non_place_holder_in_row</span> <span class="o">=</span> <span class="kc">True</span>
                    <span class="k">if</span> <span class="n">content</span><span class="p">:</span>
                        <span class="n">row</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">content</span><span class="p">)</span>
                    <span class="n">new_next_nodes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">parent</span><span class="p">)</span>
                <span class="n">next_nodes</span> <span class="o">=</span> <span class="n">new_next_nodes</span>
                <span class="k">if</span> <span class="n">non_place_holder_in_row</span><span class="p">:</span>  <span class="c1"># if the row contains just place holders due to an ommitted place holder, don&#39;t add it</span>
                    <span class="n">rows</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">row</span><span class="p">)</span>

            <span class="c1"># now, export the signatures</span>
            <span class="n">node_signatures</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">document</span><span class="o">.</span><span class="n">tree</span><span class="o">.</span><span class="n">stages</span><span class="p">[</span><span class="n">from_stage</span><span class="p">]:</span>
                <span class="n">node_signature_rows</span> <span class="o">=</span> <span class="p">[]</span>
                <span class="k">for</span> <span class="n">signature_node</span> <span class="ow">in</span> <span class="n">node</span><span class="o">.</span><span class="n">last_signature_nodes</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
                    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_signature_cancelled</span><span class="p">(</span><span class="n">signature_node</span><span class="p">,</span> <span class="n">node</span><span class="p">,</span> <span class="n">from_stage</span><span class="p">,</span> <span class="n">to_stage</span><span class="p">):</span>
                        <span class="n">node_signature_rows</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">export_token</span><span class="p">(</span><span class="n">signature_node</span><span class="o">.</span><span class="n">token</span><span class="p">,</span> <span class="n">options</span><span class="p">))</span>
                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">node_signature_rows</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="k">if</span> <span class="ow">not</span> <span class="n">node_signatures</span><span class="p">:</span>
                        <span class="n">node_signatures</span> <span class="o">=</span> <span class="p">[]</span>  <span class="c1"># an array for each spine</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">node_signatures</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="n">node_signature_rows</span><span class="p">):</span>
                            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Node signature mismatch: multiple spines with signatures at measure </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">rows</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>  <span class="c1"># TODO better message</span>
                    <span class="n">node_signatures</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">node_signature_rows</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">node_signatures</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">irow</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">node_signatures</span><span class="p">[</span><span class="mi">0</span><span class="p">])):</span>  <span class="c1"># all spines have the same number of rows</span>
                    <span class="n">row</span> <span class="o">=</span> <span class="p">[]</span>
                    <span class="k">for</span> <span class="n">icol</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">node_signatures</span><span class="p">)):</span>  <span class="c1">#len(node_signatures) = number of spines</span>
                        <span class="n">row</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">node_signatures</span><span class="p">[</span><span class="n">icol</span><span class="p">][</span><span class="n">irow</span><span class="p">])</span>
                    <span class="n">rows</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">row</span><span class="p">)</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="n">from_stage</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="n">rows</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="c1">#if not node.token.category == TokenCategory.LINE_COMMENTS and not node.token.category == TokenCategory.FIELD_COMMENTS:</span>
        <span class="k">for</span> <span class="n">stage</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">from_stage</span><span class="p">,</span> <span class="n">to_stage</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>  <span class="c1"># to_stage included</span>
            <span class="n">row</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">document</span><span class="o">.</span><span class="n">tree</span><span class="o">.</span><span class="n">stages</span><span class="p">[</span><span class="n">stage</span><span class="p">]:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">append_row</span><span class="p">(</span><span class="n">document</span><span class="o">=</span><span class="n">document</span><span class="p">,</span> <span class="n">node</span><span class="o">=</span><span class="n">node</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="n">options</span><span class="p">,</span> <span class="n">row</span><span class="o">=</span><span class="n">row</span><span class="p">)</span>

            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">row</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">rows</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">row</span><span class="p">)</span>

        <span class="c1"># now, add the spine terminate row</span>
        <span class="k">if</span> <span class="n">options</span><span class="o">.</span><span class="n">to_measure</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">rows</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">rows</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">rows</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span>
            <span class="mi">0</span><span class="p">]</span> <span class="o">!=</span> <span class="s1">&#39;*-&#39;</span><span class="p">:</span>  <span class="c1"># if the terminate is not added yet</span>
            <span class="n">spine_count</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">rows</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">rows</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">])</span>
            <span class="n">row</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">spine_count</span><span class="p">):</span>
                <span class="n">row</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;*-&#39;</span><span class="p">)</span>
            <span class="n">rows</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">row</span><span class="p">)</span>

        <span class="n">result</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">rows</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">empty_row</span><span class="p">(</span><span class="n">row</span><span class="p">):</span>
                <span class="n">result</span> <span class="o">+=</span> <span class="s1">&#39;</span><span class="se">\t</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">row</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">compute_header_type</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">HeaderToken</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Compute the header type of the node.</span>

<span class="sd">        Args:</span>
<span class="sd">            node (Node): The node to compute.</span>

<span class="sd">        Returns (Optional[Token]): The header type `Node`object. None if the current node is the header.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">token</span><span class="p">,</span> <span class="n">HeaderToken</span><span class="p">):</span>
            <span class="n">header_type</span> <span class="o">=</span> <span class="n">node</span><span class="o">.</span><span class="n">token</span>
        <span class="k">elif</span> <span class="n">node</span><span class="o">.</span><span class="n">header_node</span><span class="p">:</span>
            <span class="n">header_type</span> <span class="o">=</span> <span class="n">node</span><span class="o">.</span><span class="n">header_node</span><span class="o">.</span><span class="n">token</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">header_type</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">return</span> <span class="n">header_type</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">export_token</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">token</span><span class="p">:</span> <span class="n">Token</span><span class="p">,</span> <span class="n">options</span><span class="p">:</span> <span class="n">ExportOptions</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">token</span><span class="p">,</span> <span class="n">HeaderToken</span><span class="p">):</span>
            <span class="n">new_token</span> <span class="o">=</span> <span class="n">HeaderTokenGenerator</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">token</span><span class="o">=</span><span class="n">token</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="n">options</span><span class="o">.</span><span class="n">kern_type</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">new_token</span> <span class="o">=</span> <span class="n">token</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">TokenizerFactory</span>
                <span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">options</span><span class="o">.</span><span class="n">kern_type</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">token_categories</span><span class="o">=</span><span class="n">options</span><span class="o">.</span><span class="n">token_categories</span><span class="p">)</span>
                <span class="o">.</span><span class="n">tokenize</span><span class="p">(</span><span class="n">new_token</span><span class="p">))</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">append_row</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">document</span><span class="p">:</span> <span class="n">Document</span><span class="p">,</span> <span class="n">node</span><span class="p">,</span> <span class="n">options</span><span class="p">:</span> <span class="n">ExportOptions</span><span class="p">,</span> <span class="n">row</span><span class="p">:</span> <span class="nb">list</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Append a row to the row list if the node accomplishes the requirements.</span>
<span class="sd">        Args:</span>
<span class="sd">            document (Document): The document with the spines.</span>
<span class="sd">            node (Node): The node to append.</span>
<span class="sd">            options (ExportOptions): The export options to filter the token.</span>
<span class="sd">            row (list): The row to append.</span>

<span class="sd">        Returns (bool): True if the row was appended. False if the row was not appended.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">header_type</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">compute_header_type</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>

        <span class="k">if</span> <span class="p">(</span><span class="n">header_type</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
                <span class="ow">and</span> <span class="n">header_type</span><span class="o">.</span><span class="n">encoding</span> <span class="ow">in</span> <span class="n">options</span><span class="o">.</span><span class="n">spine_types</span>
                <span class="ow">and</span> <span class="ow">not</span> <span class="n">node</span><span class="o">.</span><span class="n">token</span><span class="o">.</span><span class="n">hidden</span>
                <span class="ow">and</span> <span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">token</span><span class="p">,</span> <span class="n">ComplexToken</span><span class="p">)</span> <span class="ow">or</span> <span class="n">node</span><span class="o">.</span><span class="n">token</span><span class="o">.</span><span class="n">category</span> <span class="ow">in</span> <span class="n">options</span><span class="o">.</span><span class="n">token_categories</span><span class="p">)</span>
                <span class="ow">and</span> <span class="p">(</span><span class="n">options</span><span class="o">.</span><span class="n">spine_ids</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">header_type</span><span class="o">.</span><span class="n">spine_id</span> <span class="ow">in</span> <span class="n">options</span><span class="o">.</span><span class="n">spine_ids</span><span class="p">)</span>
        <span class="c1"># If None, all the spines will be exported. TODO: put all the spines as spine_ids = None</span>
        <span class="p">):</span>
            <span class="n">row</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">export_token</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">token</span><span class="p">,</span> <span class="n">options</span><span class="p">))</span>
            <span class="k">return</span> <span class="kc">True</span>

        <span class="k">return</span> <span class="kc">False</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_spine_types</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">document</span><span class="p">:</span> <span class="n">Document</span><span class="p">,</span> <span class="n">spine_types</span><span class="p">:</span> <span class="nb">list</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the spine types from the document.</span>

<span class="sd">        Args:</span>
<span class="sd">            document (Document): The document with the spines.</span>
<span class="sd">            spine_types (list): The spine types to export. If None, all the spine types will be exported.</span>

<span class="sd">        Returns: A list with the spine types.</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; exporter = Exporter()</span>
<span class="sd">            &gt;&gt;&gt; exporter.get_spine_types(document)</span>
<span class="sd">            [&#39;**kern&#39;, &#39;**kern&#39;, &#39;**kern&#39;, &#39;**kern&#39;, &#39;**root&#39;, &#39;**harm&#39;]</span>
<span class="sd">            &gt;&gt;&gt; exporter.get_spine_types(document, None)</span>
<span class="sd">            [&#39;**kern&#39;, &#39;**kern&#39;, &#39;**kern&#39;, &#39;**kern&#39;, &#39;**root&#39;, &#39;**harm&#39;]</span>
<span class="sd">            &gt;&gt;&gt; exporter.get_spine_types(document, [&#39;**kern&#39;])</span>
<span class="sd">            [&#39;**kern&#39;, &#39;**kern&#39;, &#39;**kern&#39;, &#39;**kern&#39;]</span>
<span class="sd">            &gt;&gt;&gt; exporter.get_spine_types(document, [&#39;**kern&#39;, &#39;**root&#39;])</span>
<span class="sd">            [&#39;**kern&#39;, &#39;**kern&#39;, &#39;**kern&#39;, &#39;**kern&#39;, &#39;**root&#39;]</span>
<span class="sd">            &gt;&gt;&gt; exporter.get_spine_types(document, [&#39;**kern&#39;, &#39;**root&#39;, &#39;**harm&#39;])</span>
<span class="sd">            [&#39;**kern&#39;, &#39;**kern&#39;, &#39;**kern&#39;, &#39;**kern&#39;, &#39;**root&#39;, &#39;**harm&#39;]</span>
<span class="sd">            &gt;&gt;&gt; exporter.get_spine_types(document, [])</span>
<span class="sd">            []</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">spine_types</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">spine_types</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">[]</span>

        <span class="n">options</span> <span class="o">=</span> <span class="n">ExportOptions</span><span class="p">(</span><span class="n">spine_types</span><span class="o">=</span><span class="n">spine_types</span><span class="p">,</span> <span class="n">token_categories</span><span class="o">=</span><span class="p">[</span><span class="n">TokenCategory</span><span class="o">.</span><span class="n">HEADER</span><span class="p">])</span>
        <span class="n">content</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">export_string</span><span class="p">(</span><span class="n">document</span><span class="p">,</span> <span class="n">options</span><span class="p">)</span>

        <span class="c1"># Remove all after the first line: **kern, **mens, etc... are always in the first row</span>
        <span class="n">lines</span> <span class="o">=</span> <span class="n">content</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="n">first_line</span> <span class="o">=</span> <span class="n">lines</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">tokens</span> <span class="o">=</span> <span class="n">first_line</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\t</span><span class="s1">&#39;</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">tokens</span> <span class="k">if</span> <span class="n">tokens</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[[],</span> <span class="p">[</span><span class="s1">&#39;&#39;</span><span class="p">]]</span> <span class="k">else</span> <span class="p">[]</span>


    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">export_options_validator</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">document</span><span class="p">:</span> <span class="n">Document</span><span class="p">,</span> <span class="n">options</span><span class="p">:</span> <span class="n">ExportOptions</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Validate the export options. Raise an exception if the options are invalid.</span>

<span class="sd">        Args:</span>
<span class="sd">            document: `Document` - The document to export.</span>
<span class="sd">            options: `ExportOptions` - The options to export the document.</span>

<span class="sd">        Returns: None</span>

<span class="sd">        Example:</span>
<span class="sd">            &gt;&gt;&gt; export_options_validator(document, options)</span>
<span class="sd">            ValueError: option from_measure must be &gt;=0 but -1 was found.</span>
<span class="sd">            &gt;&gt;&gt; export_options_validator(document, options2)</span>
<span class="sd">            None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">options</span><span class="o">.</span><span class="n">from_measure</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">options</span><span class="o">.</span><span class="n">from_measure</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;option from_measure must be &gt;=0 but </span><span class="si">{</span><span class="n">options</span><span class="o">.</span><span class="n">from_measure</span><span class="si">}</span><span class="s1"> was found. &#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">options</span><span class="o">.</span><span class="n">to_measure</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">options</span><span class="o">.</span><span class="n">to_measure</span> <span class="o">&gt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">document</span><span class="o">.</span><span class="n">measure_start_tree_stages</span><span class="p">):</span>
            <span class="c1"># &quot;TODO: DAVID, check options.to_measure bounds. len(document.measure_start_tree_stages) or len(document.measure_start_tree_stages) - 1&quot;</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s1">&#39;option to_measure must be &lt;= </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">document</span><span class="o">.</span><span class="n">measure_start_tree_stages</span><span class="p">)</span><span class="si">}</span><span class="s1"> but </span><span class="si">{</span><span class="n">options</span><span class="o">.</span><span class="n">to_measure</span><span class="si">}</span><span class="s1"> was found. &#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">options</span><span class="o">.</span><span class="n">to_measure</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">options</span><span class="o">.</span><span class="n">from_measure</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">options</span><span class="o">.</span><span class="n">to_measure</span> <span class="o">&lt;</span> <span class="n">options</span><span class="o">.</span><span class="n">from_measure</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s1">&#39;option to_measure must be &gt;= from_measure but </span><span class="si">{</span><span class="n">options</span><span class="o">.</span><span class="n">to_measure</span><span class="si">}</span><span class="s1"> &lt; </span><span class="si">{</span><span class="n">options</span><span class="o">.</span><span class="n">from_measure</span><span class="si">}</span><span class="s1"> was found. &#39;</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">is_signature_cancelled</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">signature_node</span><span class="p">,</span> <span class="n">node</span><span class="p">,</span> <span class="n">from_stage</span><span class="p">,</span> <span class="n">to_stage</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">node</span><span class="o">.</span><span class="n">token</span><span class="o">.</span><span class="vm">__class__</span> <span class="o">==</span> <span class="n">signature_node</span><span class="o">.</span><span class="n">token</span><span class="o">.</span><span class="vm">__class__</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">True</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">token</span><span class="p">,</span> <span class="n">NoteRestToken</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">elif</span> <span class="n">from_stage</span> <span class="o">&lt;</span> <span class="n">to_stage</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="n">node</span><span class="o">.</span><span class="n">children</span><span class="p">:</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_signature_cancelled</span><span class="p">(</span><span class="n">signature_node</span><span class="p">,</span> <span class="n">child</span><span class="p">,</span> <span class="n">from_stage</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">to_stage</span><span class="p">):</span>
                    <span class="k">return</span> <span class="kc">True</span>
            <span class="k">return</span> <span class="kc">False</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="kernpy.core.Exporter.append_row" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">append_row</span><span class="p">(</span><span class="n">document</span><span class="p">,</span> <span class="n">node</span><span class="p">,</span> <span class="n">options</span><span class="p">,</span> <span class="n">row</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Append a row to the row list if the node accomplishes the requirements.
Args:
    document (Document): The document with the spines.
    node (Node): The node to append.
    options (ExportOptions): The export options to filter the token.
    row (list): The row to append.</p>
<p>Returns (bool): True if the row was appended. False if the row was not appended.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/exporter.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">append_row</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">document</span><span class="p">:</span> <span class="n">Document</span><span class="p">,</span> <span class="n">node</span><span class="p">,</span> <span class="n">options</span><span class="p">:</span> <span class="n">ExportOptions</span><span class="p">,</span> <span class="n">row</span><span class="p">:</span> <span class="nb">list</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Append a row to the row list if the node accomplishes the requirements.</span>
<span class="sd">    Args:</span>
<span class="sd">        document (Document): The document with the spines.</span>
<span class="sd">        node (Node): The node to append.</span>
<span class="sd">        options (ExportOptions): The export options to filter the token.</span>
<span class="sd">        row (list): The row to append.</span>

<span class="sd">    Returns (bool): True if the row was appended. False if the row was not appended.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">header_type</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">compute_header_type</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>

    <span class="k">if</span> <span class="p">(</span><span class="n">header_type</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
            <span class="ow">and</span> <span class="n">header_type</span><span class="o">.</span><span class="n">encoding</span> <span class="ow">in</span> <span class="n">options</span><span class="o">.</span><span class="n">spine_types</span>
            <span class="ow">and</span> <span class="ow">not</span> <span class="n">node</span><span class="o">.</span><span class="n">token</span><span class="o">.</span><span class="n">hidden</span>
            <span class="ow">and</span> <span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">token</span><span class="p">,</span> <span class="n">ComplexToken</span><span class="p">)</span> <span class="ow">or</span> <span class="n">node</span><span class="o">.</span><span class="n">token</span><span class="o">.</span><span class="n">category</span> <span class="ow">in</span> <span class="n">options</span><span class="o">.</span><span class="n">token_categories</span><span class="p">)</span>
            <span class="ow">and</span> <span class="p">(</span><span class="n">options</span><span class="o">.</span><span class="n">spine_ids</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">header_type</span><span class="o">.</span><span class="n">spine_id</span> <span class="ow">in</span> <span class="n">options</span><span class="o">.</span><span class="n">spine_ids</span><span class="p">)</span>
    <span class="c1"># If None, all the spines will be exported. TODO: put all the spines as spine_ids = None</span>
    <span class="p">):</span>
        <span class="n">row</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">export_token</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">token</span><span class="p">,</span> <span class="n">options</span><span class="p">))</span>
        <span class="k">return</span> <span class="kc">True</span>

    <span class="k">return</span> <span class="kc">False</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.Exporter.compute_header_type" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">compute_header_type</span><span class="p">(</span><span class="n">node</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Compute the header type of the node.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>node</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.graphviz_exporter.Node" href="#kernpy.core.Node">Node</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The node to compute.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns (Optional[Token]): The header type <code>Node</code>object. None if the current node is the header.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/exporter.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">compute_header_type</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">HeaderToken</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Compute the header type of the node.</span>

<span class="sd">    Args:</span>
<span class="sd">        node (Node): The node to compute.</span>

<span class="sd">    Returns (Optional[Token]): The header type `Node`object. None if the current node is the header.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">token</span><span class="p">,</span> <span class="n">HeaderToken</span><span class="p">):</span>
        <span class="n">header_type</span> <span class="o">=</span> <span class="n">node</span><span class="o">.</span><span class="n">token</span>
    <span class="k">elif</span> <span class="n">node</span><span class="o">.</span><span class="n">header_node</span><span class="p">:</span>
        <span class="n">header_type</span> <span class="o">=</span> <span class="n">node</span><span class="o">.</span><span class="n">header_node</span><span class="o">.</span><span class="n">token</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">header_type</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">return</span> <span class="n">header_type</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.Exporter.export_options_validator" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">export_options_validator</span><span class="p">(</span><span class="n">document</span><span class="p">,</span> <span class="n">options</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>Validate the export options. Raise an exception if the options are invalid.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>document</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.Document" href="#kernpy.core.Document">Document</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p><code>Document</code> - The document to export.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>options</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.exporter.ExportOptions" href="#kernpy.core.ExportOptions">ExportOptions</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p><code>ExportOptions</code> - The options to export the document.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns: None</p>


<details class="example" open>
  <summary>Example</summary>
  <blockquote>
<blockquote>
<blockquote>
<p>export_options_validator(document, options)
ValueError: option from_measure must be &gt;=0 but -1 was found.
export_options_validator(document, options2)
None</p>
</blockquote>
</blockquote>
</blockquote>
</details>
            <details class="quote">
              <summary>Source code in <code>kernpy/core/exporter.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">export_options_validator</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">document</span><span class="p">:</span> <span class="n">Document</span><span class="p">,</span> <span class="n">options</span><span class="p">:</span> <span class="n">ExportOptions</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Validate the export options. Raise an exception if the options are invalid.</span>

<span class="sd">    Args:</span>
<span class="sd">        document: `Document` - The document to export.</span>
<span class="sd">        options: `ExportOptions` - The options to export the document.</span>

<span class="sd">    Returns: None</span>

<span class="sd">    Example:</span>
<span class="sd">        &gt;&gt;&gt; export_options_validator(document, options)</span>
<span class="sd">        ValueError: option from_measure must be &gt;=0 but -1 was found.</span>
<span class="sd">        &gt;&gt;&gt; export_options_validator(document, options2)</span>
<span class="sd">        None</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">options</span><span class="o">.</span><span class="n">from_measure</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">options</span><span class="o">.</span><span class="n">from_measure</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;option from_measure must be &gt;=0 but </span><span class="si">{</span><span class="n">options</span><span class="o">.</span><span class="n">from_measure</span><span class="si">}</span><span class="s1"> was found. &#39;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">options</span><span class="o">.</span><span class="n">to_measure</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">options</span><span class="o">.</span><span class="n">to_measure</span> <span class="o">&gt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">document</span><span class="o">.</span><span class="n">measure_start_tree_stages</span><span class="p">):</span>
        <span class="c1"># &quot;TODO: DAVID, check options.to_measure bounds. len(document.measure_start_tree_stages) or len(document.measure_start_tree_stages) - 1&quot;</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s1">&#39;option to_measure must be &lt;= </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">document</span><span class="o">.</span><span class="n">measure_start_tree_stages</span><span class="p">)</span><span class="si">}</span><span class="s1"> but </span><span class="si">{</span><span class="n">options</span><span class="o">.</span><span class="n">to_measure</span><span class="si">}</span><span class="s1"> was found. &#39;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">options</span><span class="o">.</span><span class="n">to_measure</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">options</span><span class="o">.</span><span class="n">from_measure</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">options</span><span class="o">.</span><span class="n">to_measure</span> <span class="o">&lt;</span> <span class="n">options</span><span class="o">.</span><span class="n">from_measure</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s1">&#39;option to_measure must be &gt;= from_measure but </span><span class="si">{</span><span class="n">options</span><span class="o">.</span><span class="n">to_measure</span><span class="si">}</span><span class="s1"> &lt; </span><span class="si">{</span><span class="n">options</span><span class="o">.</span><span class="n">from_measure</span><span class="si">}</span><span class="s1"> was found. &#39;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.Exporter.get_spine_types" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_spine_types</span><span class="p">(</span><span class="n">document</span><span class="p">,</span> <span class="n">spine_types</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Get the spine types from the document.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>document</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.Document" href="#kernpy.core.Document">Document</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The document with the spines.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>spine_types</code></td>
            <td>
                  <code>list</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The spine types to export. If None, all the spine types will be exported.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns: A list with the spine types.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">exporter</span> <span class="o">=</span> <span class="n">Exporter</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">exporter</span><span class="o">.</span><span class="n">get_spine_types</span><span class="p">(</span><span class="n">document</span><span class="p">)</span>
<span class="go">[&#39;**kern&#39;, &#39;**kern&#39;, &#39;**kern&#39;, &#39;**kern&#39;, &#39;**root&#39;, &#39;**harm&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">exporter</span><span class="o">.</span><span class="n">get_spine_types</span><span class="p">(</span><span class="n">document</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
<span class="go">[&#39;**kern&#39;, &#39;**kern&#39;, &#39;**kern&#39;, &#39;**kern&#39;, &#39;**root&#39;, &#39;**harm&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">exporter</span><span class="o">.</span><span class="n">get_spine_types</span><span class="p">(</span><span class="n">document</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;**kern&#39;</span><span class="p">])</span>
<span class="go">[&#39;**kern&#39;, &#39;**kern&#39;, &#39;**kern&#39;, &#39;**kern&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">exporter</span><span class="o">.</span><span class="n">get_spine_types</span><span class="p">(</span><span class="n">document</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;**kern&#39;</span><span class="p">,</span> <span class="s1">&#39;**root&#39;</span><span class="p">])</span>
<span class="go">[&#39;**kern&#39;, &#39;**kern&#39;, &#39;**kern&#39;, &#39;**kern&#39;, &#39;**root&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">exporter</span><span class="o">.</span><span class="n">get_spine_types</span><span class="p">(</span><span class="n">document</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;**kern&#39;</span><span class="p">,</span> <span class="s1">&#39;**root&#39;</span><span class="p">,</span> <span class="s1">&#39;**harm&#39;</span><span class="p">])</span>
<span class="go">[&#39;**kern&#39;, &#39;**kern&#39;, &#39;**kern&#39;, &#39;**kern&#39;, &#39;**root&#39;, &#39;**harm&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">exporter</span><span class="o">.</span><span class="n">get_spine_types</span><span class="p">(</span><span class="n">document</span><span class="p">,</span> <span class="p">[])</span>
<span class="go">[]</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/exporter.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_spine_types</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">document</span><span class="p">:</span> <span class="n">Document</span><span class="p">,</span> <span class="n">spine_types</span><span class="p">:</span> <span class="nb">list</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get the spine types from the document.</span>

<span class="sd">    Args:</span>
<span class="sd">        document (Document): The document with the spines.</span>
<span class="sd">        spine_types (list): The spine types to export. If None, all the spine types will be exported.</span>

<span class="sd">    Returns: A list with the spine types.</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; exporter = Exporter()</span>
<span class="sd">        &gt;&gt;&gt; exporter.get_spine_types(document)</span>
<span class="sd">        [&#39;**kern&#39;, &#39;**kern&#39;, &#39;**kern&#39;, &#39;**kern&#39;, &#39;**root&#39;, &#39;**harm&#39;]</span>
<span class="sd">        &gt;&gt;&gt; exporter.get_spine_types(document, None)</span>
<span class="sd">        [&#39;**kern&#39;, &#39;**kern&#39;, &#39;**kern&#39;, &#39;**kern&#39;, &#39;**root&#39;, &#39;**harm&#39;]</span>
<span class="sd">        &gt;&gt;&gt; exporter.get_spine_types(document, [&#39;**kern&#39;])</span>
<span class="sd">        [&#39;**kern&#39;, &#39;**kern&#39;, &#39;**kern&#39;, &#39;**kern&#39;]</span>
<span class="sd">        &gt;&gt;&gt; exporter.get_spine_types(document, [&#39;**kern&#39;, &#39;**root&#39;])</span>
<span class="sd">        [&#39;**kern&#39;, &#39;**kern&#39;, &#39;**kern&#39;, &#39;**kern&#39;, &#39;**root&#39;]</span>
<span class="sd">        &gt;&gt;&gt; exporter.get_spine_types(document, [&#39;**kern&#39;, &#39;**root&#39;, &#39;**harm&#39;])</span>
<span class="sd">        [&#39;**kern&#39;, &#39;**kern&#39;, &#39;**kern&#39;, &#39;**kern&#39;, &#39;**root&#39;, &#39;**harm&#39;]</span>
<span class="sd">        &gt;&gt;&gt; exporter.get_spine_types(document, [])</span>
<span class="sd">        []</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">spine_types</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">spine_types</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">[]</span>

    <span class="n">options</span> <span class="o">=</span> <span class="n">ExportOptions</span><span class="p">(</span><span class="n">spine_types</span><span class="o">=</span><span class="n">spine_types</span><span class="p">,</span> <span class="n">token_categories</span><span class="o">=</span><span class="p">[</span><span class="n">TokenCategory</span><span class="o">.</span><span class="n">HEADER</span><span class="p">])</span>
    <span class="n">content</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">export_string</span><span class="p">(</span><span class="n">document</span><span class="p">,</span> <span class="n">options</span><span class="p">)</span>

    <span class="c1"># Remove all after the first line: **kern, **mens, etc... are always in the first row</span>
    <span class="n">lines</span> <span class="o">=</span> <span class="n">content</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="n">first_line</span> <span class="o">=</span> <span class="n">lines</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">tokens</span> <span class="o">=</span> <span class="n">first_line</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\t</span><span class="s1">&#39;</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">tokens</span> <span class="k">if</span> <span class="n">tokens</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[[],</span> <span class="p">[</span><span class="s1">&#39;&#39;</span><span class="p">]]</span> <span class="k">else</span> <span class="p">[]</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="kernpy.core.F3Clef" class="doc doc-heading">
            <code>F3Clef</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="kernpy.core.gkern.Clef" href="#kernpy.core.Clef">Clef</a></code></p>


              <details class="quote">
                <summary>Source code in <code>kernpy/core/gkern.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">F3Clef</span><span class="p">(</span><span class="n">Clef</span><span class="p">):</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initializes the F Clef object.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">DiatonicPitch</span><span class="p">(</span><span class="s1">&#39;F&#39;</span><span class="p">),</span> <span class="mi">3</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">bottom_line</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AgnosticPitch</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the pitch of the bottom line of the staff.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">AgnosticPitch</span><span class="p">(</span><span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="kernpy.core.F3Clef.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Initializes the F Clef object.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/gkern.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Initializes the F Clef object.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">DiatonicPitch</span><span class="p">(</span><span class="s1">&#39;F&#39;</span><span class="p">),</span> <span class="mi">3</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.F3Clef.bottom_line" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">bottom_line</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Returns the pitch of the bottom line of the staff.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/gkern.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">bottom_line</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AgnosticPitch</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns the pitch of the bottom line of the staff.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">AgnosticPitch</span><span class="p">(</span><span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="kernpy.core.F4Clef" class="doc doc-heading">
            <code>F4Clef</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="kernpy.core.gkern.Clef" href="#kernpy.core.Clef">Clef</a></code></p>


              <details class="quote">
                <summary>Source code in <code>kernpy/core/gkern.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">F4Clef</span><span class="p">(</span><span class="n">Clef</span><span class="p">):</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initializes the F Clef object.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">DiatonicPitch</span><span class="p">(</span><span class="s1">&#39;F&#39;</span><span class="p">),</span> <span class="mi">4</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">bottom_line</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AgnosticPitch</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the pitch of the bottom line of the staff.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">AgnosticPitch</span><span class="p">(</span><span class="s1">&#39;G&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="kernpy.core.F4Clef.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Initializes the F Clef object.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/gkern.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Initializes the F Clef object.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">DiatonicPitch</span><span class="p">(</span><span class="s1">&#39;F&#39;</span><span class="p">),</span> <span class="mi">4</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.F4Clef.bottom_line" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">bottom_line</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Returns the pitch of the bottom line of the staff.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/gkern.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">bottom_line</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AgnosticPitch</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns the pitch of the bottom line of the staff.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">AgnosticPitch</span><span class="p">(</span><span class="s1">&#39;G&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="kernpy.core.FieldCommentToken" class="doc doc-heading">
            <code>FieldCommentToken</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="kernpy.core.tokens.SimpleToken" href="#kernpy.core.SimpleToken">SimpleToken</a></code></p>


        <p>FieldCommentToken class stores the metacomments of the score.
Usually these are comments starting with <code>!!!</code>.</p>

              <details class="quote">
                <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1575</span>
<span class="normal">1576</span>
<span class="normal">1577</span>
<span class="normal">1578</span>
<span class="normal">1579</span>
<span class="normal">1580</span>
<span class="normal">1581</span>
<span class="normal">1582</span>
<span class="normal">1583</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">FieldCommentToken</span><span class="p">(</span><span class="n">SimpleToken</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    FieldCommentToken class stores the metacomments of the score.</span>
<span class="sd">    Usually these are comments starting with `!!!`.</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">encoding</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">encoding</span><span class="p">,</span> <span class="n">TokenCategory</span><span class="o">.</span><span class="n">FIELD_COMMENTS</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="kernpy.core.FingSpineImporter" class="doc doc-heading">
            <code>FingSpineImporter</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="kernpy.core.spine_importer.SpineImporter" href="#kernpy.core.SpineImporter">SpineImporter</a></code></p>


              <details class="quote">
                <summary>Source code in <code>kernpy/core/fing_spine_importer.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">FingSpineImporter</span><span class="p">(</span><span class="n">SpineImporter</span><span class="p">):</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">verbose</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        KernSpineImporter constructor.</span>

<span class="sd">        Args:</span>
<span class="sd">            verbose (Optional[bool]): Level of verbosity for error messages.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="n">verbose</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">import_listener</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BaseANTLRSpineParserListener</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">KernSpineListener</span><span class="p">()</span>


    <span class="k">def</span><span class="w"> </span><span class="nf">import_token</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">encoding</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Token</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_raise_error_if_wrong_input</span><span class="p">(</span><span class="n">encoding</span><span class="p">)</span>

        <span class="n">kern_spine_importer</span> <span class="o">=</span> <span class="n">KernSpineImporter</span><span class="p">()</span>
        <span class="n">token</span> <span class="o">=</span> <span class="n">kern_spine_importer</span><span class="o">.</span><span class="n">import_token</span><span class="p">(</span><span class="n">encoding</span><span class="p">)</span>

        <span class="n">ACCEPTED_CATEGORIES</span> <span class="o">=</span> <span class="p">{</span>
            <span class="n">TokenCategory</span><span class="o">.</span><span class="n">STRUCTURAL</span><span class="p">,</span>
            <span class="n">TokenCategory</span><span class="o">.</span><span class="n">SIGNATURES</span><span class="p">,</span>
            <span class="n">TokenCategory</span><span class="o">.</span><span class="n">EMPTY</span><span class="p">,</span>
            <span class="n">TokenCategory</span><span class="o">.</span><span class="n">IMAGE_ANNOTATIONS</span><span class="p">,</span>
            <span class="n">TokenCategory</span><span class="o">.</span><span class="n">BARLINES</span><span class="p">,</span>
            <span class="n">TokenCategory</span><span class="o">.</span><span class="n">COMMENTS</span><span class="p">,</span>
        <span class="p">}</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="nb">any</span><span class="p">(</span><span class="n">TokenCategory</span><span class="o">.</span><span class="n">is_child</span><span class="p">(</span><span class="n">child</span><span class="o">=</span><span class="n">token</span><span class="o">.</span><span class="n">category</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="n">cat</span><span class="p">)</span> <span class="k">for</span> <span class="n">cat</span> <span class="ow">in</span> <span class="n">ACCEPTED_CATEGORIES</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">SimpleToken</span><span class="p">(</span><span class="n">encoding</span><span class="p">,</span> <span class="n">TokenCategory</span><span class="o">.</span><span class="n">FINGERING</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">token</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="kernpy.core.FingSpineImporter.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>KernSpineImporter constructor.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>verbose</code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[bool]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Level of verbosity for error messages.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/fing_spine_importer.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">verbose</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    KernSpineImporter constructor.</span>

<span class="sd">    Args:</span>
<span class="sd">        verbose (Optional[bool]): Level of verbosity for error messages.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="n">verbose</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="kernpy.core.GClef" class="doc doc-heading">
            <code>GClef</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="kernpy.core.gkern.Clef" href="#kernpy.core.Clef">Clef</a></code></p>


              <details class="quote">
                <summary>Source code in <code>kernpy/core/gkern.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">GClef</span><span class="p">(</span><span class="n">Clef</span><span class="p">):</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initializes the G Clef object.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">DiatonicPitch</span><span class="p">(</span><span class="s1">&#39;G&#39;</span><span class="p">),</span> <span class="mi">2</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">bottom_line</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AgnosticPitch</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the pitch of the bottom line of the staff.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">AgnosticPitch</span><span class="p">(</span><span class="s1">&#39;E&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="kernpy.core.GClef.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Initializes the G Clef object.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/gkern.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Initializes the G Clef object.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">DiatonicPitch</span><span class="p">(</span><span class="s1">&#39;G&#39;</span><span class="p">),</span> <span class="mi">2</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.GClef.bottom_line" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">bottom_line</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Returns the pitch of the bottom line of the staff.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/gkern.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">bottom_line</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AgnosticPitch</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns the pitch of the bottom line of the staff.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">AgnosticPitch</span><span class="p">(</span><span class="s1">&#39;E&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="kernpy.core.GKernExporter" class="doc doc-heading">
            <code>GKernExporter</code>


</h2>


    <div class="doc doc-contents ">


              <details class="quote">
                <summary>Source code in <code>kernpy/core/gkern.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">508</span>
<span class="normal">509</span>
<span class="normal">510</span>
<span class="normal">511</span>
<span class="normal">512</span>
<span class="normal">513</span>
<span class="normal">514</span>
<span class="normal">515</span>
<span class="normal">516</span>
<span class="normal">517</span>
<span class="normal">518</span>
<span class="normal">519</span>
<span class="normal">520</span>
<span class="normal">521</span>
<span class="normal">522</span>
<span class="normal">523</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">GKernExporter</span><span class="p">:</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">clef</span><span class="p">:</span> <span class="n">Clef</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">clef</span> <span class="o">=</span> <span class="n">clef</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">export</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">staff</span><span class="p">:</span> <span class="n">Staff</span><span class="p">,</span> <span class="n">pitch</span><span class="p">:</span> <span class="n">AgnosticPitch</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Exports the given pitch to a graphic **kern encoding.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">position</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">agnostic_position</span><span class="p">(</span><span class="n">staff</span><span class="p">,</span> <span class="n">pitch</span><span class="p">)</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">GRAPHIC_TOKEN_SEPARATOR</span><span class="si">}{</span><span class="nb">str</span><span class="p">(</span><span class="n">position</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">agnostic_position</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">staff</span><span class="p">:</span> <span class="n">Staff</span><span class="p">,</span> <span class="n">pitch</span><span class="p">:</span> <span class="n">AgnosticPitch</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PositionInStaff</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the agnostic position in staff for the given pitch.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">staff</span><span class="o">.</span><span class="n">position_in_staff</span><span class="p">(</span><span class="n">clef</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">clef</span><span class="p">,</span> <span class="n">pitch</span><span class="o">=</span><span class="n">pitch</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="kernpy.core.GKernExporter.agnostic_position" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">agnostic_position</span><span class="p">(</span><span class="n">staff</span><span class="p">,</span> <span class="n">pitch</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Returns the agnostic position in staff for the given pitch.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/gkern.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">519</span>
<span class="normal">520</span>
<span class="normal">521</span>
<span class="normal">522</span>
<span class="normal">523</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">agnostic_position</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">staff</span><span class="p">:</span> <span class="n">Staff</span><span class="p">,</span> <span class="n">pitch</span><span class="p">:</span> <span class="n">AgnosticPitch</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PositionInStaff</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns the agnostic position in staff for the given pitch.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">staff</span><span class="o">.</span><span class="n">position_in_staff</span><span class="p">(</span><span class="n">clef</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">clef</span><span class="p">,</span> <span class="n">pitch</span><span class="o">=</span><span class="n">pitch</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.GKernExporter.export" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">export</span><span class="p">(</span><span class="n">staff</span><span class="p">,</span> <span class="n">pitch</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Exports the given pitch to a graphic **kern encoding.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/gkern.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">512</span>
<span class="normal">513</span>
<span class="normal">514</span>
<span class="normal">515</span>
<span class="normal">516</span>
<span class="normal">517</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">export</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">staff</span><span class="p">:</span> <span class="n">Staff</span><span class="p">,</span> <span class="n">pitch</span><span class="p">:</span> <span class="n">AgnosticPitch</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Exports the given pitch to a graphic **kern encoding.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">position</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">agnostic_position</span><span class="p">(</span><span class="n">staff</span><span class="p">,</span> <span class="n">pitch</span><span class="p">)</span>
    <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">GRAPHIC_TOKEN_SEPARATOR</span><span class="si">}{</span><span class="nb">str</span><span class="p">(</span><span class="n">position</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="kernpy.core.Generic" class="doc doc-heading">
            <code>Generic</code>


</h2>


    <div class="doc doc-contents ">


        <p>Generic class.</p>
<p>This class provides support to the public API for KernPy.</p>
<p>The main functions implementation are provided here.</p>

              <details class="quote">
                <summary>Source code in <code>kernpy/core/generic.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 17</span>
<span class="normal"> 18</span>
<span class="normal"> 19</span>
<span class="normal"> 20</span>
<span class="normal"> 21</span>
<span class="normal"> 22</span>
<span class="normal"> 23</span>
<span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">Generic</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Generic class.</span>

<span class="sd">    This class provides support to the public API for KernPy.</span>

<span class="sd">    The main functions implementation are provided here.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">read</span><span class="p">(</span>
            <span class="bp">cls</span><span class="p">,</span>
            <span class="n">path</span><span class="p">:</span> <span class="n">Path</span><span class="p">,</span>
            <span class="n">strict</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="p">(</span><span class="n">Document</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        Args:</span>
<span class="sd">            path:</span>
<span class="sd">            strict:</span>

<span class="sd">        Returns:</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">importer</span> <span class="o">=</span> <span class="n">Importer</span><span class="p">()</span>
        <span class="n">document</span> <span class="o">=</span> <span class="n">importer</span><span class="o">.</span><span class="n">import_file</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
        <span class="n">errors</span> <span class="o">=</span> <span class="n">importer</span><span class="o">.</span><span class="n">errors</span>

        <span class="k">if</span> <span class="n">strict</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">errors</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="n">importer</span><span class="o">.</span><span class="n">get_error_messages</span><span class="p">())</span>

        <span class="k">return</span> <span class="n">document</span><span class="p">,</span> <span class="n">errors</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">create</span><span class="p">(</span>
            <span class="bp">cls</span><span class="p">,</span>
            <span class="n">content</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
            <span class="n">strict</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="p">(</span><span class="n">Document</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        Args:</span>
<span class="sd">            content:</span>
<span class="sd">            strict:</span>

<span class="sd">        Returns:</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">importer</span> <span class="o">=</span> <span class="n">Importer</span><span class="p">()</span>
        <span class="n">document</span> <span class="o">=</span> <span class="n">importer</span><span class="o">.</span><span class="n">import_string</span><span class="p">(</span><span class="n">content</span><span class="p">)</span>
        <span class="n">errors</span> <span class="o">=</span> <span class="n">importer</span><span class="o">.</span><span class="n">errors</span>

        <span class="k">if</span> <span class="n">strict</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">errors</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="n">importer</span><span class="o">.</span><span class="n">get_error_messages</span><span class="p">())</span>

        <span class="k">return</span> <span class="n">document</span><span class="p">,</span> <span class="n">errors</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">export</span><span class="p">(</span>
            <span class="bp">cls</span><span class="p">,</span>
            <span class="n">document</span><span class="p">:</span> <span class="n">Document</span><span class="p">,</span>
            <span class="n">options</span><span class="p">:</span> <span class="n">ExportOptions</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        Args:</span>
<span class="sd">            document:</span>
<span class="sd">            options:</span>

<span class="sd">        Returns:</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">exporter</span> <span class="o">=</span> <span class="n">Exporter</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">exporter</span><span class="o">.</span><span class="n">export_string</span><span class="p">(</span><span class="n">document</span><span class="p">,</span> <span class="n">options</span><span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">store</span><span class="p">(</span>
            <span class="bp">cls</span><span class="p">,</span>
            <span class="n">document</span><span class="p">:</span> <span class="n">Document</span><span class="p">,</span>
            <span class="n">path</span><span class="p">:</span> <span class="n">Path</span><span class="p">,</span>
            <span class="n">options</span><span class="p">:</span> <span class="n">ExportOptions</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        Args:</span>
<span class="sd">            document:</span>
<span class="sd">            path:</span>
<span class="sd">            options:</span>

<span class="sd">        Returns:</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">content</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">export</span><span class="p">(</span><span class="n">document</span><span class="p">,</span> <span class="n">options</span><span class="p">)</span>
        <span class="n">_write</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">content</span><span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">store_graph</span><span class="p">(</span>
            <span class="bp">cls</span><span class="p">,</span>
            <span class="n">document</span><span class="p">:</span> <span class="n">Document</span><span class="p">,</span>
            <span class="n">path</span><span class="p">:</span> <span class="n">Path</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        Args:</span>
<span class="sd">            document:</span>
<span class="sd">            path:</span>

<span class="sd">        Returns:</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">graph_exporter</span> <span class="o">=</span> <span class="n">GraphvizExporter</span><span class="p">()</span>
        <span class="n">graph_exporter</span><span class="o">.</span><span class="n">export_to_dot</span><span class="p">(</span><span class="n">document</span><span class="o">.</span><span class="n">tree</span><span class="p">,</span> <span class="n">path</span><span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">get_spine_types</span><span class="p">(</span>
            <span class="bp">cls</span><span class="p">,</span>
            <span class="n">document</span><span class="p">:</span> <span class="n">Document</span><span class="p">,</span>
            <span class="n">spine_types</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Sequence</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        Args:</span>
<span class="sd">            document:</span>
<span class="sd">            spine_types:</span>

<span class="sd">        Returns:</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">exporter</span> <span class="o">=</span> <span class="n">Exporter</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">exporter</span><span class="o">.</span><span class="n">get_spine_types</span><span class="p">(</span><span class="n">document</span><span class="p">,</span> <span class="n">spine_types</span><span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">merge</span><span class="p">(</span>
            <span class="bp">cls</span><span class="p">,</span>
            <span class="n">contents</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span>
            <span class="n">strict</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">Document</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        Args:</span>
<span class="sd">            contents:</span>
<span class="sd">            strict:</span>

<span class="sd">        Returns:</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">contents</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Concatenation action requires at least two documents to concatenate.&quot;</span>
                             <span class="sa">f</span><span class="s2">&quot;But </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">contents</span><span class="p">)</span><span class="si">}</span><span class="s2"> was given.&quot;</span><span class="p">)</span>

        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s2">&quot;The merge function is not implemented yet.&quot;</span><span class="p">)</span>

        <span class="n">doc_a</span><span class="p">,</span> <span class="n">err_a</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">contents</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">strict</span><span class="o">=</span><span class="n">strict</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">content</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">contents</span><span class="p">[</span><span class="mi">1</span><span class="p">:]):</span>
            <span class="n">doc_b</span><span class="p">,</span> <span class="n">err_b</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">content</span><span class="p">,</span> <span class="n">strict</span><span class="o">=</span><span class="n">strict</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">strict</span> <span class="ow">and</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">err_a</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="ow">or</span> <span class="nb">len</span><span class="p">(</span><span class="n">err_b</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">):</span>
                <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Errors were found during the creation of the documents &quot;</span>
                                <span class="sa">f</span><span class="s2">&quot;while using the strict=True option. &quot;</span>
                                <span class="sa">f</span><span class="s2">&quot;Description: concatenating: </span><span class="si">{</span><span class="n">err_a</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="nb">len</span><span class="p">(</span><span class="n">err_a</span><span class="p">)</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="n">err_b</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

            <span class="n">doc_a</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">doc_b</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">export</span><span class="p">(</span>
            <span class="n">document</span><span class="o">=</span><span class="n">doc_a</span><span class="p">,</span>
            <span class="n">options</span><span class="o">=</span><span class="n">options</span>
        <span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">concat</span><span class="p">(</span>
            <span class="bp">cls</span><span class="p">,</span>
            <span class="n">contents</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span>
            <span class="n">separator</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">Document</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        Args:</span>
<span class="sd">            contents:</span>
<span class="sd">            separator:</span>

<span class="sd">        Returns:</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Raw kern content</span>
        <span class="k">if</span> <span class="n">separator</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">separator</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>

        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">contents</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;No contents to merge. At least one content is required.&quot;</span><span class="p">)</span>

        <span class="n">raw_kern</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
        <span class="n">document</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">indexes</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">low_index</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">high_index</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="c1"># Merge all fragments</span>
        <span class="k">for</span> <span class="n">content</span> <span class="ow">in</span> <span class="n">contents</span><span class="p">:</span>
            <span class="n">raw_kern</span> <span class="o">+=</span> <span class="n">separator</span> <span class="o">+</span> <span class="n">content</span>
            <span class="n">document</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">create</span><span class="p">(</span><span class="n">raw_kern</span><span class="p">)</span>
            <span class="n">high_index</span> <span class="o">=</span> <span class="n">document</span><span class="o">.</span><span class="n">measures_count</span><span class="p">()</span>
            <span class="n">indexes</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">low_index</span><span class="p">,</span> <span class="n">high_index</span><span class="p">))</span>

            <span class="n">low_index</span> <span class="o">=</span> <span class="n">high_index</span> <span class="o">+</span> <span class="mi">1</span>  <span class="c1"># Next fragment start is the previous fragment end + 1</span>

        <span class="k">if</span> <span class="n">document</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;Failed to merge the contents. The document is None.&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">document</span><span class="p">,</span> <span class="n">indexes</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">parse_options_to_ExportOptions</span><span class="p">(</span>
            <span class="bp">cls</span><span class="p">,</span>
            <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ExportOptions</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        Args:</span>
<span class="sd">            **kwargs:</span>

<span class="sd">        Returns:</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">options</span> <span class="o">=</span> <span class="n">ExportOptions</span><span class="o">.</span><span class="n">default</span><span class="p">()</span>

        <span class="c1"># Compute the valid token categories</span>
        <span class="n">options</span><span class="o">.</span><span class="n">token_categories</span> <span class="o">=</span> <span class="n">TokenCategoryHierarchyMapper</span><span class="o">.</span><span class="n">valid</span><span class="p">(</span>
            <span class="n">include</span><span class="o">=</span><span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;include&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
            <span class="n">exclude</span><span class="o">=</span><span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;exclude&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="p">)</span>

        <span class="c1"># Use kwargs to update the ExportOptions object</span>
        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;include&#39;</span><span class="p">,</span> <span class="s1">&#39;exclude&#39;</span><span class="p">,</span> <span class="s1">&#39;token_categories&#39;</span><span class="p">]:</span>  <span class="c1"># Skip these keys: generated manually</span>
                <span class="k">continue</span>

            <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="nb">setattr</span><span class="p">(</span><span class="n">options</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">options</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="kernpy.core.Generic.concat" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">concat</span><span class="p">(</span><span class="n">contents</span><span class="p">,</span> <span class="n">separator</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">



<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>contents</code></td>
            <td>
                  <code><span title="collections.abc.Sequence">Sequence</span>[str]</code>
            </td>
            <td>
              <div class="doc-md-description">
                
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>separator</code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[str]</code>
            </td>
            <td>
              <div class="doc-md-description">
                
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns:</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/generic.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">concat</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span>
        <span class="n">contents</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span>
        <span class="n">separator</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">Document</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]]]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>

<span class="sd">    Args:</span>
<span class="sd">        contents:</span>
<span class="sd">        separator:</span>

<span class="sd">    Returns:</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Raw kern content</span>
    <span class="k">if</span> <span class="n">separator</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">separator</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>

    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">contents</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;No contents to merge. At least one content is required.&quot;</span><span class="p">)</span>

    <span class="n">raw_kern</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
    <span class="n">document</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">indexes</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">low_index</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">high_index</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="c1"># Merge all fragments</span>
    <span class="k">for</span> <span class="n">content</span> <span class="ow">in</span> <span class="n">contents</span><span class="p">:</span>
        <span class="n">raw_kern</span> <span class="o">+=</span> <span class="n">separator</span> <span class="o">+</span> <span class="n">content</span>
        <span class="n">document</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">create</span><span class="p">(</span><span class="n">raw_kern</span><span class="p">)</span>
        <span class="n">high_index</span> <span class="o">=</span> <span class="n">document</span><span class="o">.</span><span class="n">measures_count</span><span class="p">()</span>
        <span class="n">indexes</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">low_index</span><span class="p">,</span> <span class="n">high_index</span><span class="p">))</span>

        <span class="n">low_index</span> <span class="o">=</span> <span class="n">high_index</span> <span class="o">+</span> <span class="mi">1</span>  <span class="c1"># Next fragment start is the previous fragment end + 1</span>

    <span class="k">if</span> <span class="n">document</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;Failed to merge the contents. The document is None.&quot;</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">document</span><span class="p">,</span> <span class="n">indexes</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.Generic.create" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">create</span><span class="p">(</span><span class="n">content</span><span class="p">,</span> <span class="n">strict</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">



<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>content</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>strict</code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[bool]</code>
            </td>
            <td>
              <div class="doc-md-description">
                
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns:</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/generic.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">create</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span>
        <span class="n">content</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">strict</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="p">(</span><span class="n">Document</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>

<span class="sd">    Args:</span>
<span class="sd">        content:</span>
<span class="sd">        strict:</span>

<span class="sd">    Returns:</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">importer</span> <span class="o">=</span> <span class="n">Importer</span><span class="p">()</span>
    <span class="n">document</span> <span class="o">=</span> <span class="n">importer</span><span class="o">.</span><span class="n">import_string</span><span class="p">(</span><span class="n">content</span><span class="p">)</span>
    <span class="n">errors</span> <span class="o">=</span> <span class="n">importer</span><span class="o">.</span><span class="n">errors</span>

    <span class="k">if</span> <span class="n">strict</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">errors</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="n">importer</span><span class="o">.</span><span class="n">get_error_messages</span><span class="p">())</span>

    <span class="k">return</span> <span class="n">document</span><span class="p">,</span> <span class="n">errors</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.Generic.export" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">export</span><span class="p">(</span><span class="n">document</span><span class="p">,</span> <span class="n">options</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">



<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>document</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.Document" href="#kernpy.core.Document">Document</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>options</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.ExportOptions" href="#kernpy.core.ExportOptions">ExportOptions</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns:</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/generic.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span>
<span class="normal">90</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">export</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span>
        <span class="n">document</span><span class="p">:</span> <span class="n">Document</span><span class="p">,</span>
        <span class="n">options</span><span class="p">:</span> <span class="n">ExportOptions</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>

<span class="sd">    Args:</span>
<span class="sd">        document:</span>
<span class="sd">        options:</span>

<span class="sd">    Returns:</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">exporter</span> <span class="o">=</span> <span class="n">Exporter</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">exporter</span><span class="o">.</span><span class="n">export_string</span><span class="p">(</span><span class="n">document</span><span class="p">,</span> <span class="n">options</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.Generic.get_spine_types" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_spine_types</span><span class="p">(</span><span class="n">document</span><span class="p">,</span> <span class="n">spine_types</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">



<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>document</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.Document" href="#kernpy.core.Document">Document</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>spine_types</code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="collections.abc.Sequence">Sequence</span>[str]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns:</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/generic.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">get_spine_types</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span>
        <span class="n">document</span><span class="p">:</span> <span class="n">Document</span><span class="p">,</span>
        <span class="n">spine_types</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Sequence</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>

<span class="sd">    Args:</span>
<span class="sd">        document:</span>
<span class="sd">        spine_types:</span>

<span class="sd">    Returns:</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">exporter</span> <span class="o">=</span> <span class="n">Exporter</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">exporter</span><span class="o">.</span><span class="n">get_spine_types</span><span class="p">(</span><span class="n">document</span><span class="p">,</span> <span class="n">spine_types</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.Generic.merge" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">merge</span><span class="p">(</span><span class="n">contents</span><span class="p">,</span> <span class="n">strict</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">



<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>contents</code></td>
            <td>
                  <code><span title="collections.abc.Sequence">Sequence</span>[str]</code>
            </td>
            <td>
              <div class="doc-md-description">
                
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>strict</code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[bool]</code>
            </td>
            <td>
              <div class="doc-md-description">
                
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns:</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/generic.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">merge</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span>
        <span class="n">contents</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span>
        <span class="n">strict</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">Document</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]]]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>

<span class="sd">    Args:</span>
<span class="sd">        contents:</span>
<span class="sd">        strict:</span>

<span class="sd">    Returns:</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">contents</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Concatenation action requires at least two documents to concatenate.&quot;</span>
                         <span class="sa">f</span><span class="s2">&quot;But </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">contents</span><span class="p">)</span><span class="si">}</span><span class="s2"> was given.&quot;</span><span class="p">)</span>

    <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s2">&quot;The merge function is not implemented yet.&quot;</span><span class="p">)</span>

    <span class="n">doc_a</span><span class="p">,</span> <span class="n">err_a</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">contents</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">strict</span><span class="o">=</span><span class="n">strict</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">content</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">contents</span><span class="p">[</span><span class="mi">1</span><span class="p">:]):</span>
        <span class="n">doc_b</span><span class="p">,</span> <span class="n">err_b</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">content</span><span class="p">,</span> <span class="n">strict</span><span class="o">=</span><span class="n">strict</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">strict</span> <span class="ow">and</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">err_a</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="ow">or</span> <span class="nb">len</span><span class="p">(</span><span class="n">err_b</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Errors were found during the creation of the documents &quot;</span>
                            <span class="sa">f</span><span class="s2">&quot;while using the strict=True option. &quot;</span>
                            <span class="sa">f</span><span class="s2">&quot;Description: concatenating: </span><span class="si">{</span><span class="n">err_a</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="nb">len</span><span class="p">(</span><span class="n">err_a</span><span class="p">)</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="n">err_b</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="n">doc_a</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">doc_b</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">export</span><span class="p">(</span>
        <span class="n">document</span><span class="o">=</span><span class="n">doc_a</span><span class="p">,</span>
        <span class="n">options</span><span class="o">=</span><span class="n">options</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.Generic.parse_options_to_ExportOptions" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">parse_options_to_ExportOptions</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">



<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>**kwargs</code></td>
            <td>
                  <code><span title="typing.Any">Any</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                
              </div>
            </td>
            <td>
                  <code>{}</code>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns:</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/generic.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">parse_options_to_ExportOptions</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ExportOptions</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>

<span class="sd">    Args:</span>
<span class="sd">        **kwargs:</span>

<span class="sd">    Returns:</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">options</span> <span class="o">=</span> <span class="n">ExportOptions</span><span class="o">.</span><span class="n">default</span><span class="p">()</span>

    <span class="c1"># Compute the valid token categories</span>
    <span class="n">options</span><span class="o">.</span><span class="n">token_categories</span> <span class="o">=</span> <span class="n">TokenCategoryHierarchyMapper</span><span class="o">.</span><span class="n">valid</span><span class="p">(</span>
        <span class="n">include</span><span class="o">=</span><span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;include&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
        <span class="n">exclude</span><span class="o">=</span><span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;exclude&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="p">)</span>

    <span class="c1"># Use kwargs to update the ExportOptions object</span>
    <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;include&#39;</span><span class="p">,</span> <span class="s1">&#39;exclude&#39;</span><span class="p">,</span> <span class="s1">&#39;token_categories&#39;</span><span class="p">]:</span>  <span class="c1"># Skip these keys: generated manually</span>
            <span class="k">continue</span>

        <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">setattr</span><span class="p">(</span><span class="n">options</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">options</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.Generic.read" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">read</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">strict</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">



<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>path</code></td>
            <td>
                  <code><span title="pathlib.Path">Path</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>strict</code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[bool]</code>
            </td>
            <td>
              <div class="doc-md-description">
                
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns:</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/generic.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">read</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span>
        <span class="n">path</span><span class="p">:</span> <span class="n">Path</span><span class="p">,</span>
        <span class="n">strict</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="p">(</span><span class="n">Document</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>

<span class="sd">    Args:</span>
<span class="sd">        path:</span>
<span class="sd">        strict:</span>

<span class="sd">    Returns:</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">importer</span> <span class="o">=</span> <span class="n">Importer</span><span class="p">()</span>
    <span class="n">document</span> <span class="o">=</span> <span class="n">importer</span><span class="o">.</span><span class="n">import_file</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
    <span class="n">errors</span> <span class="o">=</span> <span class="n">importer</span><span class="o">.</span><span class="n">errors</span>

    <span class="k">if</span> <span class="n">strict</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">errors</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="n">importer</span><span class="o">.</span><span class="n">get_error_messages</span><span class="p">())</span>

    <span class="k">return</span> <span class="n">document</span><span class="p">,</span> <span class="n">errors</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.Generic.store" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">store</span><span class="p">(</span><span class="n">document</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="n">options</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">



<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>document</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.Document" href="#kernpy.core.Document">Document</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>path</code></td>
            <td>
                  <code><span title="pathlib.Path">Path</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>options</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.ExportOptions" href="#kernpy.core.ExportOptions">ExportOptions</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns:</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/generic.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">store</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span>
        <span class="n">document</span><span class="p">:</span> <span class="n">Document</span><span class="p">,</span>
        <span class="n">path</span><span class="p">:</span> <span class="n">Path</span><span class="p">,</span>
        <span class="n">options</span><span class="p">:</span> <span class="n">ExportOptions</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>

<span class="sd">    Args:</span>
<span class="sd">        document:</span>
<span class="sd">        path:</span>
<span class="sd">        options:</span>

<span class="sd">    Returns:</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">content</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">export</span><span class="p">(</span><span class="n">document</span><span class="p">,</span> <span class="n">options</span><span class="p">)</span>
    <span class="n">_write</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">content</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.Generic.store_graph" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">store_graph</span><span class="p">(</span><span class="n">document</span><span class="p">,</span> <span class="n">path</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">



<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>document</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.Document" href="#kernpy.core.Document">Document</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>path</code></td>
            <td>
                  <code><span title="pathlib.Path">Path</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns:</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/generic.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">store_graph</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span>
        <span class="n">document</span><span class="p">:</span> <span class="n">Document</span><span class="p">,</span>
        <span class="n">path</span><span class="p">:</span> <span class="n">Path</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>

<span class="sd">    Args:</span>
<span class="sd">        document:</span>
<span class="sd">        path:</span>

<span class="sd">    Returns:</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">graph_exporter</span> <span class="o">=</span> <span class="n">GraphvizExporter</span><span class="p">()</span>
    <span class="n">graph_exporter</span><span class="o">.</span><span class="n">export_to_dot</span><span class="p">(</span><span class="n">document</span><span class="o">.</span><span class="n">tree</span><span class="p">,</span> <span class="n">path</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="kernpy.core.GraphvizExporter" class="doc doc-heading">
            <code>GraphvizExporter</code>


</h2>


    <div class="doc doc-contents ">


              <details class="quote">
                <summary>Source code in <code>kernpy/core/graphviz_exporter.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">GraphvizExporter</span><span class="p">:</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">export_token</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">token</span><span class="p">:</span> <span class="n">Token</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">token</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">token</span><span class="o">.</span><span class="n">encoding</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="s1">&#39;&#39;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">token</span><span class="o">.</span><span class="n">encoding</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\&quot;</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39;</span><span class="se">\\</span><span class="s1">&quot;&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\\</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39;</span><span class="se">\\\\</span><span class="s1">&#39;</span><span class="p">)</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">node_id</span><span class="p">(</span><span class="n">node</span><span class="p">:</span> <span class="n">Node</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;node</span><span class="si">{</span><span class="nb">id</span><span class="p">(</span><span class="n">node</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">export_to_dot</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tree</span><span class="p">:</span> <span class="n">MultistageTree</span><span class="p">,</span> <span class="n">filename</span><span class="p">:</span> <span class="n">Path</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Export the given MultistageTree to DOT format.</span>

<span class="sd">        Args:</span>
<span class="sd">            tree (MultistageTree): The tree to export.</span>
<span class="sd">            filename (Path or None): The output file path. If None, prints to stdout.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">file</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">stdout</span> <span class="k">if</span> <span class="n">filename</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;digraph G {</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="n">file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;    node [shape=record];</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="n">file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;    rankdir=TB;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>  <span class="c1"># Ensure top-to-bottom layout</span>

            <span class="c1"># Create subgraphs for each stage</span>
            <span class="k">for</span> <span class="n">stage_index</span><span class="p">,</span> <span class="n">stage</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">tree</span><span class="o">.</span><span class="n">stages</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">stage</span><span class="p">:</span>
                    <span class="n">file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;  {rank=same; &#39;</span><span class="p">)</span>
                    <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">stage</span><span class="p">:</span>
                        <span class="n">file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">node_id</span><span class="p">(</span><span class="n">node</span><span class="p">)</span><span class="si">}</span><span class="s1">&quot;; &#39;</span><span class="p">)</span>
                    <span class="n">file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;}</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>

            <span class="c1"># Write nodes and their connections</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_write_nodes_iterative</span><span class="p">(</span><span class="n">tree</span><span class="o">.</span><span class="n">root</span><span class="p">,</span> <span class="n">file</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_write_edges_iterative</span><span class="p">(</span><span class="n">tree</span><span class="o">.</span><span class="n">root</span><span class="p">,</span> <span class="n">file</span><span class="p">)</span>

            <span class="n">file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;}</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>

        <span class="k">finally</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">filename</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">file</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>  <span class="c1"># Close only if we explicitly opened a file</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_write_nodes_iterative</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">root</span><span class="p">,</span> <span class="n">file</span><span class="p">):</span>
        <span class="n">stack</span> <span class="o">=</span> <span class="p">[</span><span class="n">root</span><span class="p">]</span>

        <span class="k">while</span> <span class="n">stack</span><span class="p">:</span>
            <span class="n">node</span> <span class="o">=</span> <span class="n">stack</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
            <span class="n">header_label</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;header #</span><span class="si">{</span><span class="n">node</span><span class="o">.</span><span class="n">header_node</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s1">&#39;</span> <span class="k">if</span> <span class="n">node</span><span class="o">.</span><span class="n">header_node</span> <span class="k">else</span> <span class="s1">&#39;&#39;</span>
            <span class="n">last_spine_operator_label</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;last spine op. #</span><span class="si">{</span><span class="n">node</span><span class="o">.</span><span class="n">last_spine_operator_node</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s1">&#39;</span> <span class="k">if</span> <span class="n">node</span><span class="o">.</span><span class="n">last_spine_operator_node</span> <span class="k">else</span> <span class="s1">&#39;&#39;</span>
            <span class="n">category_name</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="nb">getattr</span><span class="p">(</span><span class="nb">getattr</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="s2">&quot;token&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span> <span class="s2">&quot;category&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span> <span class="s2">&quot;_name_&quot;</span><span class="p">,</span> <span class="s2">&quot;Non defined category&quot;</span><span class="p">)</span>


            <span class="n">top_record_label</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="se">{{</span><span class="s1"> #</span><span class="si">{</span><span class="n">node</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s1">| stage </span><span class="si">{</span><span class="n">node</span><span class="o">.</span><span class="n">stage</span><span class="si">}</span><span class="s1"> | </span><span class="si">{</span><span class="n">header_label</span><span class="si">}</span><span class="s1"> | </span><span class="si">{</span><span class="n">last_spine_operator_label</span><span class="si">}</span><span class="s1"> | </span><span class="si">{</span><span class="n">category_name</span><span class="si">}</span><span class="s1"> </span><span class="se">}}</span><span class="s1">&#39;</span>
            <span class="n">signatures_label</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
            <span class="k">if</span> <span class="n">node</span><span class="o">.</span><span class="n">last_signature_nodes</span> <span class="ow">and</span> <span class="n">node</span><span class="o">.</span><span class="n">last_signature_nodes</span><span class="o">.</span><span class="n">nodes</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">node</span><span class="o">.</span><span class="n">last_signature_nodes</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                    <span class="k">if</span> <span class="n">signatures_label</span><span class="p">:</span>
                        <span class="n">signatures_label</span> <span class="o">+=</span> <span class="s1">&#39;|&#39;</span>
                    <span class="n">signatures_label</span> <span class="o">+=</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">k</span><span class="si">}</span><span class="s1"> #</span><span class="si">{</span><span class="n">v</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s1">&#39;</span>

            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">token</span><span class="p">,</span> <span class="n">SpineOperationToken</span><span class="p">)</span> <span class="ow">and</span> <span class="n">node</span><span class="o">.</span><span class="n">token</span><span class="o">.</span><span class="n">cancelled_at_stage</span><span class="p">:</span>
                <span class="n">signatures_label</span> <span class="o">+=</span> <span class="sa">f</span><span class="s1">&#39;| </span><span class="se">{{</span><span class="s1"> cancelled at stage </span><span class="si">{</span><span class="n">node</span><span class="o">.</span><span class="n">token</span><span class="o">.</span><span class="n">cancelled_at_stage</span><span class="si">}</span><span class="s1"> </span><span class="se">}}</span><span class="s1">&#39;</span>

            <span class="n">file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;  &quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">node_id</span><span class="p">(</span><span class="n">node</span><span class="p">)</span><span class="si">}</span><span class="s1">&quot; [label=&quot;</span><span class="se">{{</span><span class="s1"> </span><span class="si">{</span><span class="n">top_record_label</span><span class="si">}</span><span class="s1"> | </span><span class="si">{</span><span class="n">signatures_label</span><span class="si">}</span><span class="s1"> | </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">export_token</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">token</span><span class="p">)</span><span class="si">}</span><span class="s1"> </span><span class="se">}}</span><span class="s1">&quot;];</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>

            <span class="c1"># Add children to the stack to be processed</span>
            <span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="nb">reversed</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">children</span><span class="p">):</span>
                <span class="n">stack</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">child</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_write_edges_iterative</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">root</span><span class="p">,</span> <span class="n">file</span><span class="p">):</span>
        <span class="n">stack</span> <span class="o">=</span> <span class="p">[</span><span class="n">root</span><span class="p">]</span>

        <span class="k">while</span> <span class="n">stack</span><span class="p">:</span>
            <span class="n">node</span> <span class="o">=</span> <span class="n">stack</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
            <span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="n">node</span><span class="o">.</span><span class="n">children</span><span class="p">:</span>
                <span class="n">file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;  &quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">node_id</span><span class="p">(</span><span class="n">node</span><span class="p">)</span><span class="si">}</span><span class="s1">&quot; -&gt; &quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">node_id</span><span class="p">(</span><span class="n">child</span><span class="p">)</span><span class="si">}</span><span class="s1">&quot;;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
                <span class="n">stack</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">child</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="kernpy.core.GraphvizExporter.export_to_dot" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">export_to_dot</span><span class="p">(</span><span class="n">tree</span><span class="p">,</span> <span class="n">filename</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Export the given MultistageTree to DOT format.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>tree</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.document.MultistageTree" href="#kernpy.core.MultistageTree">MultistageTree</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The tree to export.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>filename</code></td>
            <td>
                  <code><span title="pathlib.Path">Path</span> or None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The output file path. If None, prints to stdout.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/graphviz_exporter.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">export_to_dot</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tree</span><span class="p">:</span> <span class="n">MultistageTree</span><span class="p">,</span> <span class="n">filename</span><span class="p">:</span> <span class="n">Path</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Export the given MultistageTree to DOT format.</span>

<span class="sd">    Args:</span>
<span class="sd">        tree (MultistageTree): The tree to export.</span>
<span class="sd">        filename (Path or None): The output file path. If None, prints to stdout.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">file</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">stdout</span> <span class="k">if</span> <span class="n">filename</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;digraph G {</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="n">file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;    node [shape=record];</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="n">file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;    rankdir=TB;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>  <span class="c1"># Ensure top-to-bottom layout</span>

        <span class="c1"># Create subgraphs for each stage</span>
        <span class="k">for</span> <span class="n">stage_index</span><span class="p">,</span> <span class="n">stage</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">tree</span><span class="o">.</span><span class="n">stages</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">stage</span><span class="p">:</span>
                <span class="n">file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;  {rank=same; &#39;</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">stage</span><span class="p">:</span>
                    <span class="n">file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">node_id</span><span class="p">(</span><span class="n">node</span><span class="p">)</span><span class="si">}</span><span class="s1">&quot;; &#39;</span><span class="p">)</span>
                <span class="n">file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;}</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>

        <span class="c1"># Write nodes and their connections</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_write_nodes_iterative</span><span class="p">(</span><span class="n">tree</span><span class="o">.</span><span class="n">root</span><span class="p">,</span> <span class="n">file</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_write_edges_iterative</span><span class="p">(</span><span class="n">tree</span><span class="o">.</span><span class="n">root</span><span class="p">,</span> <span class="n">file</span><span class="p">)</span>

        <span class="n">file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;}</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>

    <span class="k">finally</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">filename</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">file</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>  <span class="c1"># Close only if we explicitly opened a file</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="kernpy.core.HarmSpineImporter" class="doc doc-heading">
            <code>HarmSpineImporter</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="kernpy.core.spine_importer.SpineImporter" href="#kernpy.core.SpineImporter">SpineImporter</a></code></p>


              <details class="quote">
                <summary>Source code in <code>kernpy/core/harm_spine_importer.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">HarmSpineImporter</span><span class="p">(</span><span class="n">SpineImporter</span><span class="p">):</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">verbose</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        KernSpineImporter constructor.</span>

<span class="sd">        Args:</span>
<span class="sd">            verbose (Optional[bool]): Level of verbosity for error messages.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="n">verbose</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">import_listener</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BaseANTLRSpineParserListener</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">KernSpineListener</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">import_token</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">encoding</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Token</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_raise_error_if_wrong_input</span><span class="p">(</span><span class="n">encoding</span><span class="p">)</span>

        <span class="n">kern_spine_importer</span> <span class="o">=</span> <span class="n">KernSpineImporter</span><span class="p">()</span>
        <span class="n">token</span> <span class="o">=</span> <span class="n">kern_spine_importer</span><span class="o">.</span><span class="n">import_token</span><span class="p">(</span><span class="n">encoding</span><span class="p">)</span>

        <span class="n">ACCEPTED_CATEGORIES</span> <span class="o">=</span> <span class="p">{</span>
            <span class="n">TokenCategory</span><span class="o">.</span><span class="n">STRUCTURAL</span><span class="p">,</span>
            <span class="n">TokenCategory</span><span class="o">.</span><span class="n">SIGNATURES</span><span class="p">,</span>
            <span class="n">TokenCategory</span><span class="o">.</span><span class="n">EMPTY</span><span class="p">,</span>
            <span class="n">TokenCategory</span><span class="o">.</span><span class="n">IMAGE_ANNOTATIONS</span><span class="p">,</span>
            <span class="n">TokenCategory</span><span class="o">.</span><span class="n">BARLINES</span><span class="p">,</span>
            <span class="n">TokenCategory</span><span class="o">.</span><span class="n">COMMENTS</span><span class="p">,</span>
        <span class="p">}</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="nb">any</span><span class="p">(</span><span class="n">TokenCategory</span><span class="o">.</span><span class="n">is_child</span><span class="p">(</span><span class="n">child</span><span class="o">=</span><span class="n">token</span><span class="o">.</span><span class="n">category</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="n">cat</span><span class="p">)</span> <span class="k">for</span> <span class="n">cat</span> <span class="ow">in</span> <span class="n">ACCEPTED_CATEGORIES</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">SimpleToken</span><span class="p">(</span><span class="n">encoding</span><span class="p">,</span> <span class="n">TokenCategory</span><span class="o">.</span><span class="n">HARMONY</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">token</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="kernpy.core.HarmSpineImporter.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>KernSpineImporter constructor.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>verbose</code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[bool]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Level of verbosity for error messages.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/harm_spine_importer.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">verbose</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    KernSpineImporter constructor.</span>

<span class="sd">    Args:</span>
<span class="sd">        verbose (Optional[bool]): Level of verbosity for error messages.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="n">verbose</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="kernpy.core.HeaderToken" class="doc doc-heading">
            <code>HeaderToken</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="kernpy.core.tokens.SimpleToken" href="#kernpy.core.SimpleToken">SimpleToken</a></code></p>


        <p>HeaderTokens class.</p>

              <details class="quote">
                <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1586</span>
<span class="normal">1587</span>
<span class="normal">1588</span>
<span class="normal">1589</span>
<span class="normal">1590</span>
<span class="normal">1591</span>
<span class="normal">1592</span>
<span class="normal">1593</span>
<span class="normal">1594</span>
<span class="normal">1595</span>
<span class="normal">1596</span>
<span class="normal">1597</span>
<span class="normal">1598</span>
<span class="normal">1599</span>
<span class="normal">1600</span>
<span class="normal">1601</span>
<span class="normal">1602</span>
<span class="normal">1603</span>
<span class="normal">1604</span>
<span class="normal">1605</span>
<span class="normal">1606</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">HeaderToken</span><span class="p">(</span><span class="n">SimpleToken</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    HeaderTokens class.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">encoding</span><span class="p">,</span> <span class="n">spine_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Constructor for the HeaderToken class.</span>

<span class="sd">        Args:</span>
<span class="sd">            encoding (str): The original representation of the token.</span>
<span class="sd">            spine_id (int): The spine id of the token. The spine id is used to identify the token in the score.\</span>
<span class="sd">                The spine_id starts from 0 and increases by 1 for each new spine like the following example:</span>
<span class="sd">                **kern  **kern  **kern **dyn **text</span>
<span class="sd">                0   1   2   3   4</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">encoding</span><span class="p">,</span> <span class="n">TokenCategory</span><span class="o">.</span><span class="n">HEADER</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">spine_id</span> <span class="o">=</span> <span class="n">spine_id</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">export</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">encoding</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="kernpy.core.HeaderToken.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">encoding</span><span class="p">,</span> <span class="n">spine_id</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Constructor for the HeaderToken class.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>encoding</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The original representation of the token.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>spine_id</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The spine id of the token. The spine id is used to identify the token in the score.                The spine_id starts from 0 and increases by 1 for each new spine like the following example:
<strong>kern  </strong>kern  <strong>kern </strong>dyn **text
0   1   2   3   4</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1591</span>
<span class="normal">1592</span>
<span class="normal">1593</span>
<span class="normal">1594</span>
<span class="normal">1595</span>
<span class="normal">1596</span>
<span class="normal">1597</span>
<span class="normal">1598</span>
<span class="normal">1599</span>
<span class="normal">1600</span>
<span class="normal">1601</span>
<span class="normal">1602</span>
<span class="normal">1603</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">encoding</span><span class="p">,</span> <span class="n">spine_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Constructor for the HeaderToken class.</span>

<span class="sd">    Args:</span>
<span class="sd">        encoding (str): The original representation of the token.</span>
<span class="sd">        spine_id (int): The spine id of the token. The spine id is used to identify the token in the score.\</span>
<span class="sd">            The spine_id starts from 0 and increases by 1 for each new spine like the following example:</span>
<span class="sd">            **kern  **kern  **kern **dyn **text</span>
<span class="sd">            0   1   2   3   4</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">encoding</span><span class="p">,</span> <span class="n">TokenCategory</span><span class="o">.</span><span class="n">HEADER</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">spine_id</span> <span class="o">=</span> <span class="n">spine_id</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="kernpy.core.HeaderTokenGenerator" class="doc doc-heading">
            <code>HeaderTokenGenerator</code>


</h2>


    <div class="doc doc-contents ">


        <p>HeaderTokenGenerator class.</p>
<p>This class is used to translate the HeaderTokens to the specific tokenizer format.</p>

              <details class="quote">
                <summary>Source code in <code>kernpy/core/exporter.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">HeaderTokenGenerator</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    HeaderTokenGenerator class.</span>

<span class="sd">    This class is used to translate the HeaderTokens to the specific tokenizer format.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">new</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">token</span><span class="p">:</span> <span class="n">HeaderToken</span><span class="p">,</span> <span class="nb">type</span><span class="p">:</span> <span class="n">KernTypeExporter</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Create a new HeaderTokenGenerator object. Only accepts stardized Humdrum **kern encodings. </span>

<span class="sd">        Args:</span>
<span class="sd">            token (HeaderToken): The HeaderToken to be translated.</span>
<span class="sd">            type (KernTypeExporter): The tokenizer to be used.</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; header = HeaderToken(&#39;**kern&#39;, 0)</span>
<span class="sd">            &gt;&gt;&gt; header.encoding</span>
<span class="sd">            &#39;**kern&#39;</span>
<span class="sd">            &gt;&gt;&gt; new_header = HeaderTokenGenerator.new(token=header, type=KernTypeExporter.eKern)</span>
<span class="sd">            &gt;&gt;&gt; new_header.encoding</span>
<span class="sd">            &#39;**ekern&#39;</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">new_encoding</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;**</span><span class="si">{</span><span class="nb">type</span><span class="o">.</span><span class="n">prefix</span><span class="p">()</span><span class="si">}{</span><span class="n">token</span><span class="o">.</span><span class="n">encoding</span><span class="p">[</span><span class="mi">2</span><span class="p">:]</span><span class="si">}</span><span class="s1">&#39;</span>
        <span class="n">new_token</span> <span class="o">=</span> <span class="n">HeaderToken</span><span class="p">(</span><span class="n">new_encoding</span><span class="p">,</span> <span class="n">token</span><span class="o">.</span><span class="n">spine_id</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">new_token</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="kernpy.core.HeaderTokenGenerator.new" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">new</span><span class="p">(</span><span class="o">*</span><span class="p">,</span> <span class="n">token</span><span class="p">,</span> <span class="nb">type</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>Create a new HeaderTokenGenerator object. Only accepts stardized Humdrum **kern encodings. </p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>token</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.HeaderToken" href="#kernpy.core.HeaderToken">HeaderToken</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The HeaderToken to be translated.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>type</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.tokenizers.KernTypeExporter" href="#kernpy.core.KernTypeExporter">KernTypeExporter</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The tokenizer to be used.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">header</span> <span class="o">=</span> <span class="n">HeaderToken</span><span class="p">(</span><span class="s1">&#39;**kern&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">header</span><span class="o">.</span><span class="n">encoding</span>
<span class="go">&#39;**kern&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new_header</span> <span class="o">=</span> <span class="n">HeaderTokenGenerator</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">token</span><span class="o">=</span><span class="n">header</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="n">KernTypeExporter</span><span class="o">.</span><span class="n">eKern</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new_header</span><span class="o">.</span><span class="n">encoding</span>
<span class="go">&#39;**ekern&#39;</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/exporter.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">new</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">token</span><span class="p">:</span> <span class="n">HeaderToken</span><span class="p">,</span> <span class="nb">type</span><span class="p">:</span> <span class="n">KernTypeExporter</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Create a new HeaderTokenGenerator object. Only accepts stardized Humdrum **kern encodings. </span>

<span class="sd">    Args:</span>
<span class="sd">        token (HeaderToken): The HeaderToken to be translated.</span>
<span class="sd">        type (KernTypeExporter): The tokenizer to be used.</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; header = HeaderToken(&#39;**kern&#39;, 0)</span>
<span class="sd">        &gt;&gt;&gt; header.encoding</span>
<span class="sd">        &#39;**kern&#39;</span>
<span class="sd">        &gt;&gt;&gt; new_header = HeaderTokenGenerator.new(token=header, type=KernTypeExporter.eKern)</span>
<span class="sd">        &gt;&gt;&gt; new_header.encoding</span>
<span class="sd">        &#39;**ekern&#39;</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">new_encoding</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;**</span><span class="si">{</span><span class="nb">type</span><span class="o">.</span><span class="n">prefix</span><span class="p">()</span><span class="si">}{</span><span class="n">token</span><span class="o">.</span><span class="n">encoding</span><span class="p">[</span><span class="mi">2</span><span class="p">:]</span><span class="si">}</span><span class="s1">&#39;</span>
    <span class="n">new_token</span> <span class="o">=</span> <span class="n">HeaderToken</span><span class="p">(</span><span class="n">new_encoding</span><span class="p">,</span> <span class="n">token</span><span class="o">.</span><span class="n">spine_id</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">new_token</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="kernpy.core.HumdrumPitchImporter" class="doc doc-heading">
            <code>HumdrumPitchImporter</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="kernpy.core.pitch_models.PitchImporter">PitchImporter</span></code></p>


        <p>Represents the pitch in the Humdrum Kern format.</p>
<p>The name is represented using the International Standard Organization (ISO) name notation.
The first line below the staff is the C4 in G clef. The above C is C5, the below C is C3, etc.</p>
<p>The Humdrum Kern format uses the following name representation:
'c' = C4
'cc' = C5
'ccc' = C6
'cccc' = C7</p>
<p>'C' = C3
'CC' = C2
'CCC' = C1</p>
<p>This class do not limit the name ranges.</p>
<p>In the following example, the name is represented by the letter 'c'. The name of 'c' is C4, 'cc' is C5, 'ccc' is C6.</p>
<pre><code>**kern
*clefG2
2c          // C4
2cc         // C5
2ccc        // C6
2C          // C3
2CC         // C2
2CCC        // C1
*-
</code></pre>

              <details class="quote">
                <summary>Source code in <code>kernpy/core/pitch_models.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">HumdrumPitchImporter</span><span class="p">(</span><span class="n">PitchImporter</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Represents the pitch in the Humdrum Kern format.</span>

<span class="sd">    The name is represented using the International Standard Organization (ISO) name notation.</span>
<span class="sd">    The first line below the staff is the C4 in G clef. The above C is C5, the below C is C3, etc.</span>

<span class="sd">    The Humdrum Kern format uses the following name representation:</span>
<span class="sd">    &#39;c&#39; = C4</span>
<span class="sd">    &#39;cc&#39; = C5</span>
<span class="sd">    &#39;ccc&#39; = C6</span>
<span class="sd">    &#39;cccc&#39; = C7</span>

<span class="sd">    &#39;C&#39; = C3</span>
<span class="sd">    &#39;CC&#39; = C2</span>
<span class="sd">    &#39;CCC&#39; = C1</span>

<span class="sd">    This class do not limit the name ranges.</span>

<span class="sd">    In the following example, the name is represented by the letter &#39;c&#39;. The name of &#39;c&#39; is C4, &#39;cc&#39; is C5, &#39;ccc&#39; is C6.</span>
<span class="sd">    ```</span>
<span class="sd">    **kern</span>
<span class="sd">    *clefG2</span>
<span class="sd">    2c          // C4</span>
<span class="sd">    2cc         // C5</span>
<span class="sd">    2ccc        // C6</span>
<span class="sd">    2C          // C3</span>
<span class="sd">    2CC         // C2</span>
<span class="sd">    2CCC        // C1</span>
<span class="sd">    *-</span>
<span class="sd">    ```</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">C4_PITCH_LOWERCASE</span> <span class="o">=</span> <span class="s1">&#39;c&#39;</span>
    <span class="n">C4_OCATAVE</span> <span class="o">=</span> <span class="mi">4</span>
    <span class="n">C3_PITCH_UPPERCASE</span> <span class="o">=</span> <span class="s1">&#39;C&#39;</span>
    <span class="n">C3_OCATAVE</span> <span class="o">=</span> <span class="mi">3</span>
    <span class="n">VALID_PITCHES</span> <span class="o">=</span> <span class="s1">&#39;abcdefg&#39;</span> <span class="o">+</span> <span class="s1">&#39;ABCDEFG&#39;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">import_pitch</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">encoding</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AgnosticPitch</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">octave</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_parse_pitch</span><span class="p">(</span><span class="n">encoding</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">AgnosticPitch</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">octave</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_parse_pitch</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">encoding</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">:</span>
        <span class="n">accidentals</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">c</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">encoding</span> <span class="k">if</span> <span class="n">c</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;#&#39;</span><span class="p">,</span> <span class="s1">&#39;-&#39;</span><span class="p">]])</span>
        <span class="n">accidentals</span> <span class="o">=</span> <span class="n">accidentals</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;#&#39;</span><span class="p">,</span> <span class="s1">&#39;+&#39;</span><span class="p">)</span>
        <span class="n">encoding</span> <span class="o">=</span> <span class="n">encoding</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;#&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
        <span class="n">pitch</span> <span class="o">=</span> <span class="n">encoding</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
        <span class="n">octave</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">encoding</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">islower</span><span class="p">():</span>
            <span class="n">min_octave</span> <span class="o">=</span> <span class="n">HumdrumPitchImporter</span><span class="o">.</span><span class="n">C4_OCATAVE</span>
            <span class="n">octave</span> <span class="o">=</span> <span class="n">min_octave</span> <span class="o">+</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">encoding</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">encoding</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">isupper</span><span class="p">():</span>
            <span class="n">max_octave</span> <span class="o">=</span> <span class="n">HumdrumPitchImporter</span><span class="o">.</span><span class="n">C3_OCATAVE</span>
            <span class="n">octave</span> <span class="o">=</span> <span class="n">max_octave</span> <span class="o">-</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">encoding</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">name</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">pitch</span><span class="si">}{</span><span class="n">accidentals</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">return</span> <span class="n">name</span><span class="p">,</span> <span class="n">octave</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="kernpy.core.Importer" class="doc doc-heading">
            <code>Importer</code>


</h2>


    <div class="doc doc-contents ">


        <p>Importer class.</p>
<p>Use this class to import the content from a file or a string to a <code>Document</code> object.</p>

              <details class="quote">
                <summary>Source code in <code>kernpy/core/importer.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 16</span>
<span class="normal"> 17</span>
<span class="normal"> 18</span>
<span class="normal"> 19</span>
<span class="normal"> 20</span>
<span class="normal"> 21</span>
<span class="normal"> 22</span>
<span class="normal"> 23</span>
<span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">Importer</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Importer class.</span>

<span class="sd">    Use this class to import the content from a file or a string to a `Document` object.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Create an instance of the importer.</span>

<span class="sd">        Raises:</span>
<span class="sd">            Exception: If the importer content is not a valid **kern file.</span>

<span class="sd">        Examples:</span>
<span class="sd">            # Create the importer</span>
<span class="sd">            &gt;&gt;&gt; importer = Importer()</span>

<span class="sd">            # Import the content from a file</span>
<span class="sd">            &gt;&gt;&gt; document = importer.import_file(&#39;file.krn&#39;)</span>

<span class="sd">            # Import the content from a string</span>
<span class="sd">            &gt;&gt;&gt; document = importer.import_string(&quot;**kern\n*clefF4\nc4\n4d\n4e\n4f\n*-&quot;)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">last_measure_number</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">last_bounding_box</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">errors</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_tree</span> <span class="o">=</span> <span class="n">MultistageTree</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_document</span> <span class="o">=</span> <span class="n">Document</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_tree</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_importers</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_header_row_number</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_row_number</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_tree_stage</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_next_stage_parents</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_prev_stage_parents</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_last_node_previous_to_header</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tree</span><span class="o">.</span><span class="n">root</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">get_last_spine_operator</span><span class="p">(</span><span class="n">parent</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">parent</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">parent</span><span class="o">.</span><span class="n">token</span><span class="p">,</span> <span class="n">SpineOperationToken</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">parent</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">parent</span><span class="o">.</span><span class="n">last_spine_operator_node</span>

    <span class="c1">#TODO Documentar cómo propagamos los header_node y last_spine_operator_node...</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">reader</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Document</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">reader</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">row</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
                <span class="c1"># Found an empty row, usually the last one. Ignore it.</span>
                <span class="k">continue</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">_tree_stage</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tree_stage</span> <span class="o">+</span> <span class="mi">1</span>
            <span class="n">is_barline</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_next_stage_parents</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_prev_stage_parents</span> <span class="o">=</span> <span class="n">copy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_next_stage_parents</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_next_stage_parents</span> <span class="o">=</span> <span class="p">[]</span>

            <span class="k">if</span> <span class="n">row</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;!!&quot;</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_compute_metacomment_token</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">icolumn</span><span class="p">,</span> <span class="n">column</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">row</span><span class="p">):</span>
                    <span class="k">if</span> <span class="n">column</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;**&quot;</span><span class="p">):</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">_compute_header_token</span><span class="p">(</span><span class="n">icolumn</span><span class="p">,</span> <span class="n">column</span><span class="p">)</span>
                        <span class="c1"># go to next row</span>
                        <span class="k">continue</span>

                    <span class="k">if</span> <span class="n">column</span> <span class="ow">in</span> <span class="n">SPINE_OPERATIONS</span><span class="p">:</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">_compute_spine_operator_token</span><span class="p">(</span><span class="n">icolumn</span><span class="p">,</span> <span class="n">column</span><span class="p">,</span> <span class="n">row</span><span class="p">)</span>
                    <span class="k">else</span><span class="p">:</span>  <span class="c1"># column is not a spine operation</span>
                        <span class="k">if</span> <span class="n">column</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;!&quot;</span><span class="p">):</span>
                            <span class="n">token</span> <span class="o">=</span> <span class="n">FieldCommentToken</span><span class="p">(</span><span class="n">column</span><span class="p">)</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_prev_stage_parents</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Any spine header found in the column #</span><span class="si">{</span><span class="n">icolumn</span><span class="si">}</span><span class="s1">. &#39;</span>
                                                 <span class="sa">f</span><span class="s1">&#39;Expected a previous line with valid content. &#39;</span>
                                                 <span class="sa">f</span><span class="s1">&#39;The token in column #</span><span class="si">{</span><span class="n">icolumn</span><span class="si">}</span><span class="s1"> and row #</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_row_number</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="si">}</span><span class="s1">&#39;</span>
                                                 <span class="sa">f</span><span class="s1">&#39; was not created correctly. Error detected in &#39;</span>
                                                 <span class="sa">f</span><span class="s1">&#39;column #</span><span class="si">{</span><span class="n">icolumn</span><span class="si">}</span><span class="s1"> in row #</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_row_number</span><span class="si">}</span><span class="s1">. &#39;</span>
                                                 <span class="sa">f</span><span class="s1">&#39;Found </span><span class="si">{</span><span class="n">column</span><span class="si">}</span><span class="s1">. &#39;</span><span class="p">)</span>
                            <span class="k">if</span> <span class="n">icolumn</span> <span class="o">&gt;=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_prev_stage_parents</span><span class="p">):</span>
                                <span class="c1"># TODO: Try to fix the kern in runtime. Add options to public API</span>
                                <span class="c1"># continue  # ignore the column</span>
                                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Wrong columns number in row </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_row_number</span><span class="si">}</span><span class="s1">. &#39;</span>
                                                 <span class="sa">f</span><span class="s1">&#39;The token in column #</span><span class="si">{</span><span class="n">icolumn</span><span class="si">}</span><span class="s1"> and row #</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_row_number</span><span class="si">}</span><span class="s1">&#39;</span>
                                                 <span class="sa">f</span><span class="s1">&#39; has more columns than expected in its row. &#39;</span>
                                                 <span class="sa">f</span><span class="s1">&#39;Expected </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_prev_stage_parents</span><span class="p">)</span><span class="si">}</span><span class="s1"> columns &#39;</span>
                                                 <span class="sa">f</span><span class="s1">&#39;but found </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">row</span><span class="p">)</span><span class="si">}</span><span class="s1">.&#39;</span><span class="p">)</span>
                            <span class="n">parent</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_prev_stage_parents</span><span class="p">[</span><span class="n">icolumn</span><span class="p">]</span>
                            <span class="k">if</span> <span class="ow">not</span> <span class="n">parent</span><span class="p">:</span>
                                <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Cannot find a parent node for column #</span><span class="si">{</span><span class="n">icolumn</span><span class="si">}</span><span class="s1"> in row </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_row_number</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
                            <span class="k">if</span> <span class="ow">not</span> <span class="n">parent</span><span class="o">.</span><span class="n">header_node</span><span class="p">:</span>
                                <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Cannot find a header node for column #</span><span class="si">{</span><span class="n">icolumn</span><span class="si">}</span><span class="s1"> in row </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_row_number</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
                            <span class="n">importer</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_importers</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">parent</span><span class="o">.</span><span class="n">header_node</span><span class="o">.</span><span class="n">token</span><span class="o">.</span><span class="n">encoding</span><span class="p">)</span>
                            <span class="k">if</span> <span class="ow">not</span> <span class="n">importer</span><span class="p">:</span>
                                <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Cannot find an importer for header </span><span class="si">{</span><span class="n">parent</span><span class="o">.</span><span class="n">header_node</span><span class="o">.</span><span class="n">token</span><span class="o">.</span><span class="n">encoding</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
                            <span class="k">try</span><span class="p">:</span>
                                <span class="n">token</span> <span class="o">=</span> <span class="n">importer</span><span class="o">.</span><span class="n">import_token</span><span class="p">(</span><span class="n">column</span><span class="p">)</span>
                            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
                                <span class="n">token</span> <span class="o">=</span> <span class="n">ErrorToken</span><span class="p">(</span><span class="n">column</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_row_number</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">))</span>
                                <span class="bp">self</span><span class="o">.</span><span class="n">errors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">token</span><span class="p">)</span>
                        <span class="k">if</span> <span class="ow">not</span> <span class="n">token</span><span class="p">:</span>
                            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                                <span class="sa">f</span><span class="s1">&#39;No token generated for input </span><span class="si">{</span><span class="n">column</span><span class="si">}</span><span class="s1"> in row number #</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_row_number</span><span class="si">}</span><span class="s1"> using importer </span><span class="si">{</span><span class="n">importer</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

                        <span class="n">parent</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_prev_stage_parents</span><span class="p">[</span><span class="n">icolumn</span><span class="p">]</span>
                        <span class="n">node</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tree</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_tree_stage</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="n">token</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_last_spine_operator</span><span class="p">(</span><span class="n">parent</span><span class="p">),</span> <span class="n">parent</span><span class="o">.</span><span class="n">last_signature_nodes</span><span class="p">,</span> <span class="n">parent</span><span class="o">.</span><span class="n">header_node</span><span class="p">)</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">_next_stage_parents</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>

                        <span class="k">if</span> <span class="p">(</span><span class="n">token</span><span class="o">.</span><span class="n">category</span> <span class="o">==</span> <span class="n">TokenCategory</span><span class="o">.</span><span class="n">BARLINES</span>
                                <span class="ow">or</span> <span class="n">TokenCategory</span><span class="o">.</span><span class="n">is_child</span><span class="p">(</span><span class="n">child</span><span class="o">=</span><span class="n">token</span><span class="o">.</span><span class="n">category</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="n">TokenCategory</span><span class="o">.</span><span class="n">CORE</span><span class="p">)</span>
                                    <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_document</span><span class="o">.</span><span class="n">measure_start_tree_stages</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">):</span>
                            <span class="n">is_barline</span> <span class="o">=</span> <span class="kc">True</span>
                        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">token</span><span class="p">,</span> <span class="n">BoundingBoxToken</span><span class="p">):</span>
                            <span class="bp">self</span><span class="o">.</span><span class="n">handle_bounding_box</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_document</span><span class="p">,</span> <span class="n">token</span><span class="p">)</span>
                        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">token</span><span class="p">,</span> <span class="n">SignatureToken</span><span class="p">):</span>
                            <span class="n">node</span><span class="o">.</span><span class="n">last_signature_nodes</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>

                <span class="k">if</span> <span class="n">is_barline</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_document</span><span class="o">.</span><span class="n">measure_start_tree_stages</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_tree_stage</span><span class="p">)</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">last_measure_number</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_document</span><span class="o">.</span><span class="n">measure_start_tree_stages</span><span class="p">)</span>
                    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">last_bounding_box</span><span class="p">:</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">last_bounding_box</span><span class="o">.</span><span class="n">to_measure</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">last_measure_number</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_row_number</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_row_number</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_document</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">handle_bounding_box</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">document</span><span class="p">:</span> <span class="n">Document</span><span class="p">,</span> <span class="n">token</span><span class="p">:</span> <span class="n">BoundingBoxToken</span><span class="p">):</span>
        <span class="n">page_number</span> <span class="o">=</span> <span class="n">token</span><span class="o">.</span><span class="n">page_number</span>
        <span class="n">last_page_bb</span> <span class="o">=</span> <span class="n">document</span><span class="o">.</span><span class="n">page_bounding_boxes</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">page_number</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">last_page_bb</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">last_measure_number</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">last_measure_number</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">last_bounding_box</span> <span class="o">=</span> <span class="n">BoundingBoxMeasures</span><span class="p">(</span><span class="n">token</span><span class="o">.</span><span class="n">bounding_box</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">last_measure_number</span><span class="p">,</span>
                                                         <span class="bp">self</span><span class="o">.</span><span class="n">last_measure_number</span><span class="p">)</span>
            <span class="n">document</span><span class="o">.</span><span class="n">page_bounding_boxes</span><span class="p">[</span><span class="n">page_number</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">last_bounding_box</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">last_page_bb</span><span class="o">.</span><span class="n">bounding_box</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">token</span><span class="o">.</span><span class="n">bounding_box</span><span class="p">)</span>
            <span class="n">last_page_bb</span><span class="o">.</span><span class="n">to_measure</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">last_measure_number</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">import_file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file_path</span><span class="p">:</span> <span class="n">Path</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Document</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Import the content from the importer to the file.</span>
<span class="sd">        Args:</span>
<span class="sd">            file_path: The path to the file.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Document - The document with the imported content.</span>

<span class="sd">        Examples:</span>
<span class="sd">            # Create the importer and read the file</span>
<span class="sd">            &gt;&gt;&gt; importer = Importer()</span>
<span class="sd">            &gt;&gt;&gt; importer.import_file(&#39;file.krn&#39;)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="n">newline</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">,</span> <span class="n">errors</span><span class="o">=</span><span class="s1">&#39;ignore&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
            <span class="n">reader</span> <span class="o">=</span> <span class="n">csv</span><span class="o">.</span><span class="n">reader</span><span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="n">delimiter</span><span class="o">=</span><span class="s1">&#39;</span><span class="se">\t</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">reader</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">import_string</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Document</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Import the content from the content of the score in string format.</span>

<span class="sd">        Args:</span>
<span class="sd">            text: The content of the score in string format.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Document - The document with the imported content.</span>

<span class="sd">        Examples:</span>
<span class="sd">            # Create the importer and read the file</span>
<span class="sd">            &gt;&gt;&gt; importer = Importer()</span>
<span class="sd">            &gt;&gt;&gt; importer.import_string(&quot;**kern\n*clefF4\nc4\n4d\n4e\n4f\n*-&quot;)</span>
<span class="sd">            # Read the content from a file</span>
<span class="sd">            &gt;&gt;&gt; with open(&#39;file.krn&#39;,  &#39;r&#39;, newline=&#39;&#39;, encoding=&#39;utf-8&#39;, errors=&#39;ignore&#39;) as f: # We encourage you to use these open file options</span>
<span class="sd">            &gt;&gt;&gt;     content = f.read()</span>
<span class="sd">            &gt;&gt;&gt; importer.import_string(content)</span>
<span class="sd">            &gt;&gt;&gt; document = importer.import_string(content)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">lines</span> <span class="o">=</span> <span class="n">text</span><span class="o">.</span><span class="n">splitlines</span><span class="p">()</span>
        <span class="n">reader</span> <span class="o">=</span> <span class="n">csv</span><span class="o">.</span><span class="n">reader</span><span class="p">(</span><span class="n">lines</span><span class="p">,</span> <span class="n">delimiter</span><span class="o">=</span><span class="s1">&#39;</span><span class="se">\t</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">reader</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_error_messages</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the error messages of the importer.</span>

<span class="sd">        Returns: str - The error messages split by a new line character.</span>

<span class="sd">        Examples:</span>
<span class="sd">            # Create the importer and read the file</span>
<span class="sd">            &gt;&gt;&gt; importer = Importer()</span>
<span class="sd">            &gt;&gt;&gt; importer.import_file(Path(&#39;file.krn&#39;))</span>
<span class="sd">            &gt;&gt;&gt; print(importer.get_error_messages())</span>
<span class="sd">            &#39;Error: Invalid token in row 1&#39;</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">result</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
        <span class="k">for</span> <span class="n">err</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">errors</span><span class="p">:</span>
            <span class="n">result</span> <span class="o">+=</span> <span class="nb">str</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
            <span class="n">result</span> <span class="o">+=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">has_errors</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Check if the importer has any errors.</span>

<span class="sd">        Returns: bool - True if the importer has errors, False otherwise.</span>

<span class="sd">        Examples:</span>
<span class="sd">            # Create the importer and read the file</span>
<span class="sd">            &gt;&gt;&gt; importer = Importer()</span>
<span class="sd">            &gt;&gt;&gt; importer.import_file(Path(&#39;file.krn&#39;))    # file.krn has an error</span>
<span class="sd">            &gt;&gt;&gt; print(importer.has_errors())</span>
<span class="sd">            True</span>
<span class="sd">            &gt;&gt;&gt; importer.import_file(Path(&#39;file2.krn&#39;))   # file2.krn has no errors</span>
<span class="sd">            &gt;&gt;&gt; print(importer.has_errors())</span>
<span class="sd">            False</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">errors</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_compute_metacomment_token</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">raw_token</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
        <span class="n">token</span> <span class="o">=</span> <span class="n">MetacommentToken</span><span class="p">(</span><span class="n">raw_token</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_header_row_number</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">node</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tree</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_tree_stage</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_last_node_previous_to_header</span><span class="p">,</span> <span class="n">token</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_last_node_previous_to_header</span> <span class="o">=</span> <span class="n">node</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">parent</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_prev_stage_parents</span><span class="p">:</span>
                <span class="n">node</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tree</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_tree_stage</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="n">token</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_last_spine_operator</span><span class="p">(</span><span class="n">parent</span><span class="p">),</span> <span class="n">parent</span><span class="o">.</span><span class="n">last_signature_nodes</span><span class="p">,</span> <span class="n">parent</span><span class="o">.</span><span class="n">header_node</span><span class="p">)</span> <span class="c1"># the same reference for all spines - TODO Recordar documentarlo</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_next_stage_parents</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_compute_header_token</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">column_index</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">column_content</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_header_row_number</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">_header_row_number</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_row_number</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Several header rows not supported, there is a header row in #</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_header_row_number</span><span class="si">}</span><span class="s2"> and another in #</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_row_number</span><span class="si">}</span><span class="s2"> &quot;</span><span class="p">)</span>

            <span class="c1"># it&#39;s a spine header</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_document</span><span class="o">.</span><span class="n">header_stage</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tree_stage</span>
        <span class="n">importer</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_importers</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">column_content</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">importer</span><span class="p">:</span>
            <span class="n">importer</span> <span class="o">=</span> <span class="n">createImporter</span><span class="p">(</span><span class="n">column_content</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_importers</span><span class="p">[</span><span class="n">column_content</span><span class="p">]</span> <span class="o">=</span> <span class="n">importer</span>

        <span class="n">token</span> <span class="o">=</span> <span class="n">HeaderToken</span><span class="p">(</span><span class="n">column_content</span><span class="p">,</span> <span class="n">spine_id</span><span class="o">=</span><span class="n">column_index</span><span class="p">)</span>
        <span class="n">node</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tree</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_tree_stage</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_last_node_previous_to_header</span><span class="p">,</span> <span class="n">token</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="n">node</span><span class="o">.</span><span class="n">header_node</span> <span class="o">=</span> <span class="n">node</span> <span class="c1"># this value will be propagated</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_next_stage_parents</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_compute_spine_operator_token</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">column_index</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">column_content</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">row</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]):</span>
        <span class="n">token</span> <span class="o">=</span> <span class="n">SpineOperationToken</span><span class="p">(</span><span class="n">column_content</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">column_index</span> <span class="o">&gt;=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_prev_stage_parents</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Expected at least </span><span class="si">{</span><span class="n">column_index</span><span class="o">+</span><span class="mi">1</span><span class="si">}</span><span class="s1"> parents in row </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_row_number</span><span class="si">}</span><span class="s1">, but found </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_prev_stage_parents</span><span class="p">)</span><span class="si">}</span><span class="s1">: </span><span class="si">{</span><span class="n">row</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

        <span class="n">parent</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_prev_stage_parents</span><span class="p">[</span><span class="n">column_index</span><span class="p">]</span>
        <span class="n">node</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tree</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_tree_stage</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="n">token</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_last_spine_operator</span><span class="p">(</span><span class="n">parent</span><span class="p">),</span> <span class="n">parent</span><span class="o">.</span><span class="n">last_signature_nodes</span><span class="p">,</span> <span class="n">parent</span><span class="o">.</span><span class="n">header_node</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">column_content</span> <span class="o">==</span> <span class="s1">&#39;*-&#39;</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">node</span><span class="o">.</span><span class="n">last_spine_operator_node</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">node</span><span class="o">.</span><span class="n">last_spine_operator_node</span><span class="o">.</span><span class="n">token</span><span class="o">.</span><span class="n">cancelled_at_stage</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tree_stage</span>
            <span class="k">pass</span> <span class="c1"># it&#39;s terminated, no continuation</span>
        <span class="k">elif</span> <span class="n">column_content</span> <span class="o">==</span> <span class="s2">&quot;*+&quot;</span> <span class="ow">or</span> <span class="n">column_content</span> <span class="o">==</span> <span class="s2">&quot;*^&quot;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_next_stage_parents</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_next_stage_parents</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">node</span><span class="p">)</span> <span class="c1"># twice, the next stage two children will have this one as parent</span>
        <span class="k">elif</span> <span class="n">column_content</span> <span class="o">==</span> <span class="s2">&quot;*v&quot;</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">node</span><span class="o">.</span><span class="n">last_spine_operator_node</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">node</span><span class="o">.</span><span class="n">last_spine_operator_node</span><span class="o">.</span><span class="n">token</span><span class="o">.</span><span class="n">cancelled_at_stage</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tree_stage</span>

            <span class="k">if</span> <span class="n">column_index</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">row</span><span class="p">[</span><span class="n">column_index</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">!=</span> <span class="s1">&#39;*v&#39;</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">_prev_stage_parents</span><span class="p">[</span><span class="n">column_index</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">header_node</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_prev_stage_parents</span><span class="p">[</span><span class="n">column_index</span><span class="p">]</span><span class="o">.</span><span class="n">header_node</span><span class="p">:</span> <span class="c1"># don&#39;t collapse two different spines</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_next_stage_parents</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">node</span><span class="p">)</span> <span class="c1"># just one spine each two</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Unknown spine operation in column #</span><span class="si">{</span><span class="n">column_content</span><span class="si">}</span><span class="s1"> and row #</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_row_number</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="kernpy.core.Importer.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <pre><code>    Create an instance of the importer.

    Raises:
        Exception: If the importer content is not a valid **kern file.

    Examples:
        # Create the importer
        &gt;&gt;&gt; importer = Importer()

        # Import the content from a file
        &gt;&gt;&gt; document = importer.import_file('file.krn')

        # Import the content from a string
        &gt;&gt;&gt; document = importer.import_string("**kern
</code></pre>
<p><em>clefF4
c4
4d
4e
4f
</em>-")</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/importer.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Create an instance of the importer.</span>

<span class="sd">    Raises:</span>
<span class="sd">        Exception: If the importer content is not a valid **kern file.</span>

<span class="sd">    Examples:</span>
<span class="sd">        # Create the importer</span>
<span class="sd">        &gt;&gt;&gt; importer = Importer()</span>

<span class="sd">        # Import the content from a file</span>
<span class="sd">        &gt;&gt;&gt; document = importer.import_file(&#39;file.krn&#39;)</span>

<span class="sd">        # Import the content from a string</span>
<span class="sd">        &gt;&gt;&gt; document = importer.import_string(&quot;**kern\n*clefF4\nc4\n4d\n4e\n4f\n*-&quot;)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">last_measure_number</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">last_bounding_box</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">errors</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_tree</span> <span class="o">=</span> <span class="n">MultistageTree</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_document</span> <span class="o">=</span> <span class="n">Document</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_tree</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_importers</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_header_row_number</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_row_number</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_tree_stage</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_next_stage_parents</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_prev_stage_parents</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_last_node_previous_to_header</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tree</span><span class="o">.</span><span class="n">root</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.Importer.get_error_messages" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_error_messages</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Get the error messages of the importer.</p>
<p>Returns: str - The error messages split by a new line character.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <h4 id="kernpy.core.Importer.get_error_messages--create-the-importer-and-read-the-file">Create the importer and read the file</h4>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">importer</span> <span class="o">=</span> <span class="n">Importer</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">importer</span><span class="o">.</span><span class="n">import_file</span><span class="p">(</span><span class="n">Path</span><span class="p">(</span><span class="s1">&#39;file.krn&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">importer</span><span class="o">.</span><span class="n">get_error_messages</span><span class="p">())</span>
<span class="go">&#39;Error: Invalid token in row 1&#39;</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/importer.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_error_messages</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get the error messages of the importer.</span>

<span class="sd">    Returns: str - The error messages split by a new line character.</span>

<span class="sd">    Examples:</span>
<span class="sd">        # Create the importer and read the file</span>
<span class="sd">        &gt;&gt;&gt; importer = Importer()</span>
<span class="sd">        &gt;&gt;&gt; importer.import_file(Path(&#39;file.krn&#39;))</span>
<span class="sd">        &gt;&gt;&gt; print(importer.get_error_messages())</span>
<span class="sd">        &#39;Error: Invalid token in row 1&#39;</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">result</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
    <span class="k">for</span> <span class="n">err</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">errors</span><span class="p">:</span>
        <span class="n">result</span> <span class="o">+=</span> <span class="nb">str</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
        <span class="n">result</span> <span class="o">+=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>
    <span class="k">return</span> <span class="n">result</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.Importer.has_errors" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">has_errors</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Check if the importer has any errors.</p>
<p>Returns: bool - True if the importer has errors, False otherwise.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <h4 id="kernpy.core.Importer.has_errors--create-the-importer-and-read-the-file">Create the importer and read the file</h4>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">importer</span> <span class="o">=</span> <span class="n">Importer</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">importer</span><span class="o">.</span><span class="n">import_file</span><span class="p">(</span><span class="n">Path</span><span class="p">(</span><span class="s1">&#39;file.krn&#39;</span><span class="p">))</span>    <span class="c1"># file.krn has an error</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">importer</span><span class="o">.</span><span class="n">has_errors</span><span class="p">())</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">importer</span><span class="o">.</span><span class="n">import_file</span><span class="p">(</span><span class="n">Path</span><span class="p">(</span><span class="s1">&#39;file2.krn&#39;</span><span class="p">))</span>   <span class="c1"># file2.krn has no errors</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">importer</span><span class="o">.</span><span class="n">has_errors</span><span class="p">())</span>
<span class="go">False</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/importer.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">has_errors</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Check if the importer has any errors.</span>

<span class="sd">    Returns: bool - True if the importer has errors, False otherwise.</span>

<span class="sd">    Examples:</span>
<span class="sd">        # Create the importer and read the file</span>
<span class="sd">        &gt;&gt;&gt; importer = Importer()</span>
<span class="sd">        &gt;&gt;&gt; importer.import_file(Path(&#39;file.krn&#39;))    # file.krn has an error</span>
<span class="sd">        &gt;&gt;&gt; print(importer.has_errors())</span>
<span class="sd">        True</span>
<span class="sd">        &gt;&gt;&gt; importer.import_file(Path(&#39;file2.krn&#39;))   # file2.krn has no errors</span>
<span class="sd">        &gt;&gt;&gt; print(importer.has_errors())</span>
<span class="sd">        False</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">errors</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.Importer.import_file" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">import_file</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Import the content from the importer to the file.
Args:
    file_path: The path to the file.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.document.Document" href="#kernpy.core.Document">Document</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Document - The document with the imported content.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <h4 id="kernpy.core.Importer.import_file--create-the-importer-and-read-the-file">Create the importer and read the file</h4>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">importer</span> <span class="o">=</span> <span class="n">Importer</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">importer</span><span class="o">.</span><span class="n">import_file</span><span class="p">(</span><span class="s1">&#39;file.krn&#39;</span><span class="p">)</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/importer.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">import_file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file_path</span><span class="p">:</span> <span class="n">Path</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Document</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Import the content from the importer to the file.</span>
<span class="sd">    Args:</span>
<span class="sd">        file_path: The path to the file.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Document - The document with the imported content.</span>

<span class="sd">    Examples:</span>
<span class="sd">        # Create the importer and read the file</span>
<span class="sd">        &gt;&gt;&gt; importer = Importer()</span>
<span class="sd">        &gt;&gt;&gt; importer.import_file(&#39;file.krn&#39;)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="n">newline</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">,</span> <span class="n">errors</span><span class="o">=</span><span class="s1">&#39;ignore&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
        <span class="n">reader</span> <span class="o">=</span> <span class="n">csv</span><span class="o">.</span><span class="n">reader</span><span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="n">delimiter</span><span class="o">=</span><span class="s1">&#39;</span><span class="se">\t</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">reader</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.Importer.import_string" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">import_string</span><span class="p">(</span><span class="n">text</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <pre><code>    Import the content from the content of the score in string format.

    Args:
        text: The content of the score in string format.

    Returns:
        Document - The document with the imported content.

    Examples:
        # Create the importer and read the file
        &gt;&gt;&gt; importer = Importer()
        &gt;&gt;&gt; importer.import_string("**kern
</code></pre>
<p><em>clefF4
c4
4d
4e
4f
</em>-")
            # Read the content from a file
            &gt;&gt;&gt; with open('file.krn',  'r', newline='', encoding='utf-8', errors='ignore') as f: # We encourage you to use these open file options
            &gt;&gt;&gt;     content = f.read()
            &gt;&gt;&gt; importer.import_string(content)
            &gt;&gt;&gt; document = importer.import_string(content)</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/importer.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">import_string</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Document</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Import the content from the content of the score in string format.</span>

<span class="sd">    Args:</span>
<span class="sd">        text: The content of the score in string format.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Document - The document with the imported content.</span>

<span class="sd">    Examples:</span>
<span class="sd">        # Create the importer and read the file</span>
<span class="sd">        &gt;&gt;&gt; importer = Importer()</span>
<span class="sd">        &gt;&gt;&gt; importer.import_string(&quot;**kern\n*clefF4\nc4\n4d\n4e\n4f\n*-&quot;)</span>
<span class="sd">        # Read the content from a file</span>
<span class="sd">        &gt;&gt;&gt; with open(&#39;file.krn&#39;,  &#39;r&#39;, newline=&#39;&#39;, encoding=&#39;utf-8&#39;, errors=&#39;ignore&#39;) as f: # We encourage you to use these open file options</span>
<span class="sd">        &gt;&gt;&gt;     content = f.read()</span>
<span class="sd">        &gt;&gt;&gt; importer.import_string(content)</span>
<span class="sd">        &gt;&gt;&gt; document = importer.import_string(content)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">lines</span> <span class="o">=</span> <span class="n">text</span><span class="o">.</span><span class="n">splitlines</span><span class="p">()</span>
    <span class="n">reader</span> <span class="o">=</span> <span class="n">csv</span><span class="o">.</span><span class="n">reader</span><span class="p">(</span><span class="n">lines</span><span class="p">,</span> <span class="n">delimiter</span><span class="o">=</span><span class="s1">&#39;</span><span class="se">\t</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">reader</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="kernpy.core.InstrumentToken" class="doc doc-heading">
            <code>InstrumentToken</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="kernpy.core.tokens.SimpleToken" href="#kernpy.core.SimpleToken">SimpleToken</a></code></p>


        <p>InstrumentToken class stores the instruments of the score.</p>
<p>These tokens usually look like <code>*I"Organo</code>.</p>

              <details class="quote">
                <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1558</span>
<span class="normal">1559</span>
<span class="normal">1560</span>
<span class="normal">1561</span>
<span class="normal">1562</span>
<span class="normal">1563</span>
<span class="normal">1564</span>
<span class="normal">1565</span>
<span class="normal">1566</span>
<span class="normal">1567</span>
<span class="normal">1568</span>
<span class="normal">1569</span>
<span class="normal">1570</span>
<span class="normal">1571</span>
<span class="normal">1572</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">InstrumentToken</span><span class="p">(</span><span class="n">SimpleToken</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    InstrumentToken class stores the instruments of the score.</span>

<span class="sd">    These tokens usually look like `*I&quot;Organo`.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">encoding</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Constructor for the InstrumentToken</span>

<span class="sd">        Args:</span>
<span class="sd">            encoding:</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">encoding</span><span class="p">,</span> <span class="n">TokenCategory</span><span class="o">.</span><span class="n">INSTRUMENTS</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="kernpy.core.InstrumentToken.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">encoding</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Constructor for the InstrumentToken</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>encoding</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1565</span>
<span class="normal">1566</span>
<span class="normal">1567</span>
<span class="normal">1568</span>
<span class="normal">1569</span>
<span class="normal">1570</span>
<span class="normal">1571</span>
<span class="normal">1572</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">encoding</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Constructor for the InstrumentToken</span>

<span class="sd">    Args:</span>
<span class="sd">        encoding:</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">encoding</span><span class="p">,</span> <span class="n">TokenCategory</span><span class="o">.</span><span class="n">INSTRUMENTS</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="kernpy.core.KernSpineImporter" class="doc doc-heading">
            <code>KernSpineImporter</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="kernpy.core.spine_importer.SpineImporter" href="#kernpy.core.SpineImporter">SpineImporter</a></code></p>


              <details class="quote">
                <summary>Source code in <code>kernpy/core/kern_spine_importer.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">KernSpineImporter</span><span class="p">(</span><span class="n">SpineImporter</span><span class="p">):</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">verbose</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        KernSpineImporter constructor.</span>

<span class="sd">        Args:</span>
<span class="sd">            verbose (Optional[bool]): Level of verbosity for error messages.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="n">verbose</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">import_listener</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BaseANTLRSpineParserListener</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">KernSpineListener</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">import_token</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">encoding</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_raise_error_if_wrong_input</span><span class="p">(</span><span class="n">encoding</span><span class="p">)</span>

        <span class="c1"># self.listenerImporter = KernListenerImporter(token) # TODO ¿Por qué no va esto?</span>
        <span class="c1"># self.listenerImporter.start()</span>
        <span class="n">lexer</span> <span class="o">=</span> <span class="n">kernSpineLexer</span><span class="p">(</span><span class="n">InputStream</span><span class="p">(</span><span class="n">encoding</span><span class="p">))</span>
        <span class="n">lexer</span><span class="o">.</span><span class="n">removeErrorListeners</span><span class="p">()</span>
        <span class="n">lexer</span><span class="o">.</span><span class="n">addErrorListener</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">error_listener</span><span class="p">)</span>
        <span class="n">stream</span> <span class="o">=</span> <span class="n">CommonTokenStream</span><span class="p">(</span><span class="n">lexer</span><span class="p">)</span>
        <span class="n">parser</span> <span class="o">=</span> <span class="n">kernSpineParser</span><span class="p">(</span><span class="n">stream</span><span class="p">)</span>
        <span class="n">parser</span><span class="o">.</span><span class="n">_interp</span><span class="o">.</span><span class="n">predictionMode</span> <span class="o">=</span> <span class="n">PredictionMode</span><span class="o">.</span><span class="n">SLL</span>  <span class="c1"># it improves a lot the parsing</span>
        <span class="n">parser</span><span class="o">.</span><span class="n">removeErrorListeners</span><span class="p">()</span>
        <span class="n">parser</span><span class="o">.</span><span class="n">addErrorListener</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">error_listener</span><span class="p">)</span>
        <span class="n">parser</span><span class="o">.</span><span class="n">errHandler</span> <span class="o">=</span> <span class="n">BailErrorStrategy</span><span class="p">()</span>
        <span class="n">tree</span> <span class="o">=</span> <span class="n">parser</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
        <span class="n">walker</span> <span class="o">=</span> <span class="n">ParseTreeWalker</span><span class="p">()</span>
        <span class="n">listener</span> <span class="o">=</span> <span class="n">KernSpineListener</span><span class="p">()</span>
        <span class="n">walker</span><span class="o">.</span><span class="n">walk</span><span class="p">(</span><span class="n">listener</span><span class="p">,</span> <span class="n">tree</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">error_listener</span><span class="o">.</span><span class="n">getNumberErrorsFound</span><span class="p">()</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">error_listener</span><span class="o">.</span><span class="n">errors</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">listener</span><span class="o">.</span><span class="n">token</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="kernpy.core.KernSpineImporter.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>KernSpineImporter constructor.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>verbose</code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[bool]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Level of verbosity for error messages.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/kern_spine_importer.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">verbose</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    KernSpineImporter constructor.</span>

<span class="sd">    Args:</span>
<span class="sd">        verbose (Optional[bool]): Level of verbosity for error messages.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="n">verbose</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="kernpy.core.KernTokenizer" class="doc doc-heading">
            <code>KernTokenizer</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="kernpy.core.tokenizers.Tokenizer" href="#kernpy.core.Tokenizer">Tokenizer</a></code></p>


        <p>KernTokenizer converts a Token into a normalized kern string representation.</p>

              <details class="quote">
                <summary>Source code in <code>kernpy/core/tokenizers.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">KernTokenizer</span><span class="p">(</span><span class="n">Tokenizer</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    KernTokenizer converts a Token into a normalized kern string representation.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">token_categories</span><span class="p">:</span> <span class="n">Set</span><span class="p">[</span><span class="s1">&#39;TokenCategory&#39;</span><span class="p">]):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Create a new KernTokenizer.</span>

<span class="sd">        Args:</span>
<span class="sd">            token_categories (Set[TokenCategory]): List of categories to be tokenized. If None will raise an exception.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">token_categories</span><span class="o">=</span><span class="n">token_categories</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">tokenize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">token</span><span class="p">:</span> <span class="n">Token</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Tokenize a token into a normalized kern string representation.</span>
<span class="sd">        This format is the classic Humdrum **kern representation.</span>

<span class="sd">        Args:</span>
<span class="sd">            token (Token): Token to be tokenized.</span>

<span class="sd">        Returns (str): Normalized kern string representation. This is the classic Humdrum **kern representation.</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; token.encoding</span>
<span class="sd">            &#39;2@.@bb@-·_·L&#39;</span>
<span class="sd">            &gt;&gt;&gt; KernTokenizer().tokenize(token)</span>
<span class="sd">            &#39;2.bb-_L&#39;</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">EkernTokenizer</span><span class="p">(</span><span class="n">token_categories</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">token_categories</span><span class="p">)</span><span class="o">.</span><span class="n">tokenize</span><span class="p">(</span><span class="n">token</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">TOKEN_SEPARATOR</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">DECORATION_SEPARATOR</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="kernpy.core.KernTokenizer.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="p">,</span> <span class="n">token_categories</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Create a new KernTokenizer.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>token_categories</code></td>
            <td>
                  <code><span title="typing.Set">Set</span>[<a class="autorefs autorefs-internal" title="kernpy.core.gkern.TokenCategory" href="#kernpy.core.TokenCategory">TokenCategory</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List of categories to be tokenized. If None will raise an exception.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokenizers.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span>
<span class="normal">90</span>
<span class="normal">91</span>
<span class="normal">92</span>
<span class="normal">93</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">token_categories</span><span class="p">:</span> <span class="n">Set</span><span class="p">[</span><span class="s1">&#39;TokenCategory&#39;</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Create a new KernTokenizer.</span>

<span class="sd">    Args:</span>
<span class="sd">        token_categories (Set[TokenCategory]): List of categories to be tokenized. If None will raise an exception.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">token_categories</span><span class="o">=</span><span class="n">token_categories</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.KernTokenizer.tokenize" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">tokenize</span><span class="p">(</span><span class="n">token</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Tokenize a token into a normalized kern string representation.
This format is the classic Humdrum **kern representation.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>token</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.Token" href="#kernpy.core.Token">Token</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Token to be tokenized.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns (str): Normalized kern string representation. This is the classic Humdrum **kern representation.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">token</span><span class="o">.</span><span class="n">encoding</span>
<span class="go">&#39;2@.@bb@-·_·L&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">KernTokenizer</span><span class="p">()</span><span class="o">.</span><span class="n">tokenize</span><span class="p">(</span><span class="n">token</span><span class="p">)</span>
<span class="go">&#39;2.bb-_L&#39;</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokenizers.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">tokenize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">token</span><span class="p">:</span> <span class="n">Token</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Tokenize a token into a normalized kern string representation.</span>
<span class="sd">    This format is the classic Humdrum **kern representation.</span>

<span class="sd">    Args:</span>
<span class="sd">        token (Token): Token to be tokenized.</span>

<span class="sd">    Returns (str): Normalized kern string representation. This is the classic Humdrum **kern representation.</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; token.encoding</span>
<span class="sd">        &#39;2@.@bb@-·_·L&#39;</span>
<span class="sd">        &gt;&gt;&gt; KernTokenizer().tokenize(token)</span>
<span class="sd">        &#39;2.bb-_L&#39;</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">EkernTokenizer</span><span class="p">(</span><span class="n">token_categories</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">token_categories</span><span class="p">)</span><span class="o">.</span><span class="n">tokenize</span><span class="p">(</span><span class="n">token</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">TOKEN_SEPARATOR</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">DECORATION_SEPARATOR</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="kernpy.core.KernTypeExporter" class="doc doc-heading">
            <code>KernTypeExporter</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="enum.Enum">Enum</span></code></p>


        <p>Options for exporting a kern file.</p>


<details class="example" open>
  <summary>Example</summary>
  <blockquote>
<blockquote>
<blockquote>
<p>import kernpy as kp</p>
<h3 id="kernpy.core.KernTypeExporter--load-a-file">Load a file</h3>
<p>doc, _ = kp.load('path/to/file.krn')</p>
<h3 id="kernpy.core.KernTypeExporter--save-the-file-using-the-specified-encoding">Save the file using the specified encoding</h3>
<p>exported_content = kp.dumps(tokenizer=kp.KernTypeExporter.normalizedKern)</p>
</blockquote>
</blockquote>
</blockquote>
</details>
              <details class="quote">
                <summary>Source code in <code>kernpy/core/tokenizers.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">KernTypeExporter</span><span class="p">(</span><span class="n">Enum</span><span class="p">):</span>  <span class="c1"># TODO: Eventually, polymorphism will be used to export different types of kern files</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Options for exporting a kern file.</span>

<span class="sd">    Example:</span>
<span class="sd">        &gt;&gt;&gt; import kernpy as kp</span>
<span class="sd">        &gt;&gt;&gt; # Load a file</span>
<span class="sd">        &gt;&gt;&gt; doc, _ = kp.load(&#39;path/to/file.krn&#39;)</span>
<span class="sd">        &gt;&gt;&gt;</span>
<span class="sd">        &gt;&gt;&gt; # Save the file using the specified encoding</span>
<span class="sd">        &gt;&gt;&gt; exported_content = kp.dumps(tokenizer=kp.KernTypeExporter.normalizedKern)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">eKern</span> <span class="o">=</span> <span class="s1">&#39;ekern&#39;</span>
    <span class="n">normalizedKern</span> <span class="o">=</span> <span class="s1">&#39;kern&#39;</span>
    <span class="n">bKern</span> <span class="o">=</span> <span class="s1">&#39;bkern&#39;</span>
    <span class="n">bEkern</span> <span class="o">=</span> <span class="s1">&#39;bekern&#39;</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">prefix</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the prefix of the kern type.</span>

<span class="sd">        Returns (str): Prefix of the kern type.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span> <span class="o">==</span> <span class="n">KernTypeExporter</span><span class="o">.</span><span class="n">eKern</span><span class="p">:</span>
            <span class="k">return</span> <span class="s1">&#39;e&#39;</span>
        <span class="k">elif</span> <span class="bp">self</span> <span class="o">==</span> <span class="n">KernTypeExporter</span><span class="o">.</span><span class="n">normalizedKern</span><span class="p">:</span>
            <span class="k">return</span> <span class="s1">&#39;&#39;</span>
        <span class="k">elif</span> <span class="bp">self</span> <span class="o">==</span> <span class="n">KernTypeExporter</span><span class="o">.</span><span class="n">bKern</span><span class="p">:</span>
            <span class="k">return</span> <span class="s1">&#39;b&#39;</span>
        <span class="k">elif</span> <span class="bp">self</span> <span class="o">==</span> <span class="n">KernTypeExporter</span><span class="o">.</span><span class="n">bEkern</span><span class="p">:</span>
            <span class="k">return</span> <span class="s1">&#39;be&#39;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Unknown kern type: </span><span class="si">{</span><span class="bp">self</span><span class="si">}</span><span class="s1">. &#39;</span>
                             <span class="sa">f</span><span class="s1">&#39;Supported types are: &#39;</span>
                             <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="s1">&#39;-&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">kern_type</span><span class="o">.</span><span class="n">name</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">kern_type</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">KernTypeExporter</span><span class="o">.</span><span class="n">__members__</span><span class="o">.</span><span class="n">values</span><span class="p">()])</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="kernpy.core.KernTypeExporter.prefix" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">prefix</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Get the prefix of the kern type.</p>
<p>Returns (str): Prefix of the kern type.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokenizers.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">prefix</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get the prefix of the kern type.</span>

<span class="sd">    Returns (str): Prefix of the kern type.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span> <span class="o">==</span> <span class="n">KernTypeExporter</span><span class="o">.</span><span class="n">eKern</span><span class="p">:</span>
        <span class="k">return</span> <span class="s1">&#39;e&#39;</span>
    <span class="k">elif</span> <span class="bp">self</span> <span class="o">==</span> <span class="n">KernTypeExporter</span><span class="o">.</span><span class="n">normalizedKern</span><span class="p">:</span>
        <span class="k">return</span> <span class="s1">&#39;&#39;</span>
    <span class="k">elif</span> <span class="bp">self</span> <span class="o">==</span> <span class="n">KernTypeExporter</span><span class="o">.</span><span class="n">bKern</span><span class="p">:</span>
        <span class="k">return</span> <span class="s1">&#39;b&#39;</span>
    <span class="k">elif</span> <span class="bp">self</span> <span class="o">==</span> <span class="n">KernTypeExporter</span><span class="o">.</span><span class="n">bEkern</span><span class="p">:</span>
        <span class="k">return</span> <span class="s1">&#39;be&#39;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Unknown kern type: </span><span class="si">{</span><span class="bp">self</span><span class="si">}</span><span class="s1">. &#39;</span>
                         <span class="sa">f</span><span class="s1">&#39;Supported types are: &#39;</span>
                         <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="s1">&#39;-&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">kern_type</span><span class="o">.</span><span class="n">name</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">kern_type</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">KernTypeExporter</span><span class="o">.</span><span class="n">__members__</span><span class="o">.</span><span class="n">values</span><span class="p">()])</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="kernpy.core.KeySignatureToken" class="doc doc-heading">
            <code>KeySignatureToken</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="kernpy.core.tokens.SignatureToken" href="#kernpy.core.SignatureToken">SignatureToken</a></code></p>


        <p>KeySignatureToken class.</p>

              <details class="quote">
                <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1690</span>
<span class="normal">1691</span>
<span class="normal">1692</span>
<span class="normal">1693</span>
<span class="normal">1694</span>
<span class="normal">1695</span>
<span class="normal">1696</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">KeySignatureToken</span><span class="p">(</span><span class="n">SignatureToken</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    KeySignatureToken class.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">encoding</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">encoding</span><span class="p">,</span> <span class="n">TokenCategory</span><span class="o">.</span><span class="n">KEY_SIGNATURE</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="kernpy.core.KeyToken" class="doc doc-heading">
            <code>KeyToken</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="kernpy.core.tokens.SignatureToken" href="#kernpy.core.SignatureToken">SignatureToken</a></code></p>


        <p>KeyToken class.</p>

              <details class="quote">
                <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1699</span>
<span class="normal">1700</span>
<span class="normal">1701</span>
<span class="normal">1702</span>
<span class="normal">1703</span>
<span class="normal">1704</span>
<span class="normal">1705</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">KeyToken</span><span class="p">(</span><span class="n">SignatureToken</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    KeyToken class.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">encoding</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">encoding</span><span class="p">,</span> <span class="n">TokenCategory</span><span class="o">.</span><span class="n">KEY_TOKEN</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="kernpy.core.MHXMToken" class="doc doc-heading">
            <code>MHXMToken</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="kernpy.core.tokens.Token" href="#kernpy.core.Token">Token</a></code></p>


        <p>MHXMToken class.</p>

              <details class="quote">
                <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2002</span>
<span class="normal">2003</span>
<span class="normal">2004</span>
<span class="normal">2005</span>
<span class="normal">2006</span>
<span class="normal">2007</span>
<span class="normal">2008</span>
<span class="normal">2009</span>
<span class="normal">2010</span>
<span class="normal">2011</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">MHXMToken</span><span class="p">(</span><span class="n">Token</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    MHXMToken class.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">encoding</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">encoding</span><span class="p">,</span> <span class="n">TokenCategory</span><span class="o">.</span><span class="n">MHXM</span><span class="p">)</span>

    <span class="c1"># TODO: Implement constructor</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">export</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">encoding</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="kernpy.core.MensSpineImporter" class="doc doc-heading">
            <code>MensSpineImporter</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="kernpy.core.spine_importer.SpineImporter" href="#kernpy.core.SpineImporter">SpineImporter</a></code></p>


              <details class="quote">
                <summary>Source code in <code>kernpy/core/mens_spine_importer.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">MensSpineImporter</span><span class="p">(</span><span class="n">SpineImporter</span><span class="p">):</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">verbose</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        MensSpineImporter constructor.</span>

<span class="sd">        Args:</span>
<span class="sd">            verbose (Optional[bool]): Level of verbosity for error messages.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="n">verbose</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">import_listener</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BaseANTLRSpineParserListener</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">import_token</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">encoding</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Token</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="kernpy.core.MensSpineImporter.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>MensSpineImporter constructor.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>verbose</code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[bool]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Level of verbosity for error messages.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/mens_spine_importer.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">verbose</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    MensSpineImporter constructor.</span>

<span class="sd">    Args:</span>
<span class="sd">        verbose (Optional[bool]): Level of verbosity for error messages.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="n">verbose</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="kernpy.core.MetacommentToken" class="doc doc-heading">
            <code>MetacommentToken</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="kernpy.core.tokens.SimpleToken" href="#kernpy.core.SimpleToken">SimpleToken</a></code></p>


        <p>MetacommentToken class stores the metacomments of the score.
Usually these are comments starting with <code>!!</code>.</p>

              <details class="quote">
                <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1541</span>
<span class="normal">1542</span>
<span class="normal">1543</span>
<span class="normal">1544</span>
<span class="normal">1545</span>
<span class="normal">1546</span>
<span class="normal">1547</span>
<span class="normal">1548</span>
<span class="normal">1549</span>
<span class="normal">1550</span>
<span class="normal">1551</span>
<span class="normal">1552</span>
<span class="normal">1553</span>
<span class="normal">1554</span>
<span class="normal">1555</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">MetacommentToken</span><span class="p">(</span><span class="n">SimpleToken</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    MetacommentToken class stores the metacomments of the score.</span>
<span class="sd">    Usually these are comments starting with `!!`.</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">encoding</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Constructor for the MetacommentToken class.</span>

<span class="sd">        Args:</span>
<span class="sd">            encoding (str): The original representation of the token.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">encoding</span><span class="p">,</span> <span class="n">TokenCategory</span><span class="o">.</span><span class="n">LINE_COMMENTS</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="kernpy.core.MetacommentToken.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">encoding</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Constructor for the MetacommentToken class.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>encoding</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The original representation of the token.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1548</span>
<span class="normal">1549</span>
<span class="normal">1550</span>
<span class="normal">1551</span>
<span class="normal">1552</span>
<span class="normal">1553</span>
<span class="normal">1554</span>
<span class="normal">1555</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">encoding</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Constructor for the MetacommentToken class.</span>

<span class="sd">    Args:</span>
<span class="sd">        encoding (str): The original representation of the token.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">encoding</span><span class="p">,</span> <span class="n">TokenCategory</span><span class="o">.</span><span class="n">LINE_COMMENTS</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="kernpy.core.MeterSymbolToken" class="doc doc-heading">
            <code>MeterSymbolToken</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="kernpy.core.tokens.SignatureToken" href="#kernpy.core.SignatureToken">SignatureToken</a></code></p>


        <p>MeterSymbolToken class.</p>

              <details class="quote">
                <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1681</span>
<span class="normal">1682</span>
<span class="normal">1683</span>
<span class="normal">1684</span>
<span class="normal">1685</span>
<span class="normal">1686</span>
<span class="normal">1687</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">MeterSymbolToken</span><span class="p">(</span><span class="n">SignatureToken</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    MeterSymbolToken class.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">encoding</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">encoding</span><span class="p">,</span> <span class="n">TokenCategory</span><span class="o">.</span><span class="n">METER_SYMBOL</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="kernpy.core.MultistageTree" class="doc doc-heading">
            <code>MultistageTree</code>


</h2>


    <div class="doc doc-contents ">


        <p>MultistageTree class.</p>

              <details class="quote">
                <summary>Source code in <code>kernpy/core/document.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">MultistageTree</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    MultistageTree class.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Constructor for MultistageTree class.</span>

<span class="sd">        Create an empty Node object to serve as the root, \</span>
<span class="sd">        and start the stages list by placing this root node inside a new list.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">root</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stages</span> <span class="o">=</span> <span class="p">[]</span>  <span class="c1"># First stage (0-index) is the root (Node with None token and header_node). The core header is in stage 1.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stages</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">root</span><span class="p">])</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">add_node</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span>
            <span class="n">stage</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
            <span class="n">parent</span><span class="p">:</span> <span class="n">Node</span><span class="p">,</span>
            <span class="n">token</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">AbstractToken</span><span class="p">],</span>
            <span class="n">last_spine_operator_node</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Node</span><span class="p">],</span>
            <span class="n">previous_signature_nodes</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">SignatureNodes</span><span class="p">],</span>
            <span class="n">header_node</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Node</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Node</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Add a new node to the tree.</span>
<span class="sd">        Args:</span>
<span class="sd">            stage (int):</span>
<span class="sd">            parent (Node):</span>
<span class="sd">            token (Optional[AbstractToken]):</span>
<span class="sd">            last_spine_operator_node (Optional[Node]):</span>
<span class="sd">            previous_signature_nodes (Optional[SignatureNodes]):</span>
<span class="sd">            header_node (Optional[Node]):</span>

<span class="sd">        Returns: Node - The added node object.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">node</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">stage</span><span class="p">,</span> <span class="n">token</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="n">last_spine_operator_node</span><span class="p">,</span> <span class="n">previous_signature_nodes</span><span class="p">,</span> <span class="n">header_node</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">stage</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">stages</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">stages</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">node</span><span class="p">])</span>
        <span class="k">elif</span> <span class="n">stage</span> <span class="o">&gt;</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">stages</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Cannot add node in stage </span><span class="si">{</span><span class="n">stage</span><span class="si">}</span><span class="s1"> when there are only </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">stages</span><span class="p">)</span><span class="si">}</span><span class="s1"> stages&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">stages</span><span class="p">[</span><span class="n">stage</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>

        <span class="n">parent</span><span class="o">.</span><span class="n">children</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">node</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">dfs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">visit_method</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Depth-first search (DFS)</span>

<span class="sd">        Args:</span>
<span class="sd">            visit_method (TreeTraversalInterface): The tree traversal interface.</span>

<span class="sd">        Returns: None</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">root</span><span class="o">.</span><span class="n">dfs</span><span class="p">(</span><span class="n">visit_method</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">dfs_iterative</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">visit_method</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Depth-first search (DFS). Iterative version.</span>

<span class="sd">        Args:</span>
<span class="sd">            visit_method (TreeTraversalInterface): The tree traversal interface.</span>

<span class="sd">        Returns: None</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">root</span><span class="o">.</span><span class="n">dfs_iterative</span><span class="p">(</span><span class="n">visit_method</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">__deepcopy__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">memo</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Create a deep copy of the MultistageTree object.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Create a new empty MultistageTree object</span>
        <span class="n">new_tree</span> <span class="o">=</span> <span class="n">MultistageTree</span><span class="p">()</span>

        <span class="c1"># Deepcopy the root</span>
        <span class="n">new_tree</span><span class="o">.</span><span class="n">root</span> <span class="o">=</span> <span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">root</span><span class="p">,</span> <span class="n">memo</span><span class="p">)</span>

        <span class="c1"># Deepcopy the stages list</span>
        <span class="n">new_tree</span><span class="o">.</span><span class="n">stages</span> <span class="o">=</span> <span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">stages</span><span class="p">,</span> <span class="n">memo</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">new_tree</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="kernpy.core.MultistageTree.__deepcopy__" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">__deepcopy__</span><span class="p">(</span><span class="n">memo</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Create a deep copy of the MultistageTree object.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/document.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">__deepcopy__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">memo</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Create a deep copy of the MultistageTree object.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Create a new empty MultistageTree object</span>
    <span class="n">new_tree</span> <span class="o">=</span> <span class="n">MultistageTree</span><span class="p">()</span>

    <span class="c1"># Deepcopy the root</span>
    <span class="n">new_tree</span><span class="o">.</span><span class="n">root</span> <span class="o">=</span> <span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">root</span><span class="p">,</span> <span class="n">memo</span><span class="p">)</span>

    <span class="c1"># Deepcopy the stages list</span>
    <span class="n">new_tree</span><span class="o">.</span><span class="n">stages</span> <span class="o">=</span> <span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">stages</span><span class="p">,</span> <span class="n">memo</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">new_tree</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.MultistageTree.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Constructor for MultistageTree class.</p>
<p>Create an empty Node object to serve as the root,         and start the stages list by placing this root node inside a new list.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/document.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Constructor for MultistageTree class.</span>

<span class="sd">    Create an empty Node object to serve as the root, \</span>
<span class="sd">    and start the stages list by placing this root node inside a new list.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">root</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">stages</span> <span class="o">=</span> <span class="p">[]</span>  <span class="c1"># First stage (0-index) is the root (Node with None token and header_node). The core header is in stage 1.</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">stages</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">root</span><span class="p">])</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.MultistageTree.add_node" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">add_node</span><span class="p">(</span><span class="n">stage</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="n">token</span><span class="p">,</span> <span class="n">last_spine_operator_node</span><span class="p">,</span> <span class="n">previous_signature_nodes</span><span class="p">,</span> <span class="n">header_node</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Add a new node to the tree.
Args:
    stage (int):
    parent (Node):
    token (Optional[AbstractToken]):
    last_spine_operator_node (Optional[Node]):
    previous_signature_nodes (Optional[SignatureNodes]):
    header_node (Optional[Node]):</p>
<p>Returns: Node - The added node object.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/document.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">add_node</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">stage</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">parent</span><span class="p">:</span> <span class="n">Node</span><span class="p">,</span>
        <span class="n">token</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">AbstractToken</span><span class="p">],</span>
        <span class="n">last_spine_operator_node</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Node</span><span class="p">],</span>
        <span class="n">previous_signature_nodes</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">SignatureNodes</span><span class="p">],</span>
        <span class="n">header_node</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Node</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Node</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Add a new node to the tree.</span>
<span class="sd">    Args:</span>
<span class="sd">        stage (int):</span>
<span class="sd">        parent (Node):</span>
<span class="sd">        token (Optional[AbstractToken]):</span>
<span class="sd">        last_spine_operator_node (Optional[Node]):</span>
<span class="sd">        previous_signature_nodes (Optional[SignatureNodes]):</span>
<span class="sd">        header_node (Optional[Node]):</span>

<span class="sd">    Returns: Node - The added node object.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">node</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">stage</span><span class="p">,</span> <span class="n">token</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="n">last_spine_operator_node</span><span class="p">,</span> <span class="n">previous_signature_nodes</span><span class="p">,</span> <span class="n">header_node</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">stage</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">stages</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stages</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">node</span><span class="p">])</span>
    <span class="k">elif</span> <span class="n">stage</span> <span class="o">&gt;</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">stages</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Cannot add node in stage </span><span class="si">{</span><span class="n">stage</span><span class="si">}</span><span class="s1"> when there are only </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">stages</span><span class="p">)</span><span class="si">}</span><span class="s1"> stages&#39;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stages</span><span class="p">[</span><span class="n">stage</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>

    <span class="n">parent</span><span class="o">.</span><span class="n">children</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">node</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.MultistageTree.dfs" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">dfs</span><span class="p">(</span><span class="n">visit_method</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Depth-first search (DFS)</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>visit_method</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.document.TreeTraversalInterface" href="#kernpy.core.TreeTraversalInterface">TreeTraversalInterface</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The tree traversal interface.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns: None</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/document.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">dfs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">visit_method</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Depth-first search (DFS)</span>

<span class="sd">    Args:</span>
<span class="sd">        visit_method (TreeTraversalInterface): The tree traversal interface.</span>

<span class="sd">    Returns: None</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">root</span><span class="o">.</span><span class="n">dfs</span><span class="p">(</span><span class="n">visit_method</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.MultistageTree.dfs_iterative" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">dfs_iterative</span><span class="p">(</span><span class="n">visit_method</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Depth-first search (DFS). Iterative version.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>visit_method</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.document.TreeTraversalInterface" href="#kernpy.core.TreeTraversalInterface">TreeTraversalInterface</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The tree traversal interface.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns: None</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/document.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">dfs_iterative</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">visit_method</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Depth-first search (DFS). Iterative version.</span>

<span class="sd">    Args:</span>
<span class="sd">        visit_method (TreeTraversalInterface): The tree traversal interface.</span>

<span class="sd">    Returns: None</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">root</span><span class="o">.</span><span class="n">dfs_iterative</span><span class="p">(</span><span class="n">visit_method</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="kernpy.core.MxhmSpineImporter" class="doc doc-heading">
            <code>MxhmSpineImporter</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="kernpy.core.spine_importer.SpineImporter" href="#kernpy.core.SpineImporter">SpineImporter</a></code></p>


              <details class="quote">
                <summary>Source code in <code>kernpy/core/mhxm_spine_importer.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">MxhmSpineImporter</span><span class="p">(</span><span class="n">SpineImporter</span><span class="p">):</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">verbose</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        KernSpineImporter constructor.</span>

<span class="sd">        Args:</span>
<span class="sd">            verbose (Optional[bool]): Level of verbosity for error messages.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="n">verbose</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">import_listener</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BaseANTLRSpineParserListener</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">KernSpineListener</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">import_token</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">encoding</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Token</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_raise_error_if_wrong_input</span><span class="p">(</span><span class="n">encoding</span><span class="p">)</span>

        <span class="n">kern_spine_importer</span> <span class="o">=</span> <span class="n">KernSpineImporter</span><span class="p">()</span>
        <span class="n">token</span> <span class="o">=</span> <span class="n">kern_spine_importer</span><span class="o">.</span><span class="n">import_token</span><span class="p">(</span><span class="n">encoding</span><span class="p">)</span>

        <span class="n">ACCEPTED_CATEGORIES</span> <span class="o">=</span> <span class="p">{</span>
            <span class="n">TokenCategory</span><span class="o">.</span><span class="n">STRUCTURAL</span><span class="p">,</span>
            <span class="n">TokenCategory</span><span class="o">.</span><span class="n">SIGNATURES</span><span class="p">,</span>
            <span class="n">TokenCategory</span><span class="o">.</span><span class="n">EMPTY</span><span class="p">,</span>
            <span class="n">TokenCategory</span><span class="o">.</span><span class="n">IMAGE_ANNOTATIONS</span><span class="p">,</span>
            <span class="n">TokenCategory</span><span class="o">.</span><span class="n">BARLINES</span><span class="p">,</span>
            <span class="n">TokenCategory</span><span class="o">.</span><span class="n">COMMENTS</span><span class="p">,</span>
        <span class="p">}</span>

        <span class="k">if</span> <span class="nb">any</span><span class="p">(</span><span class="n">TokenCategory</span><span class="o">.</span><span class="n">is_child</span><span class="p">(</span><span class="n">child</span><span class="o">=</span><span class="n">token</span><span class="o">.</span><span class="n">category</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="n">cat</span><span class="p">)</span> <span class="k">for</span> <span class="n">cat</span> <span class="ow">in</span> <span class="n">ACCEPTED_CATEGORIES</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">SimpleToken</span><span class="p">(</span><span class="n">encoding</span><span class="p">,</span> <span class="n">TokenCategory</span><span class="o">.</span><span class="n">HARMONY</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">token</span>

        <span class="k">return</span> <span class="n">MHXMToken</span><span class="p">(</span><span class="n">encoding</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="kernpy.core.MxhmSpineImporter.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>KernSpineImporter constructor.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>verbose</code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[bool]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Level of verbosity for error messages.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/mhxm_spine_importer.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">verbose</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    KernSpineImporter constructor.</span>

<span class="sd">    Args:</span>
<span class="sd">        verbose (Optional[bool]): Level of verbosity for error messages.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="n">verbose</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="kernpy.core.Node" class="doc doc-heading">
            <code>Node</code>


</h2>


    <div class="doc doc-contents ">


        <p>Node class.</p>
<p>This class represents a node in a tree.
The <code>Node</code> class is responsible for storing the main information of the **kern file.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="kernpy.core.Node.id(int)">id(int)</span></code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The unique id of the node.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="kernpy.core.Node.token(Optional[AbstractToken])">token(Optional[AbstractToken])</span></code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The specific token of the node. The token can be a <code>KeyToken</code>, <code>MeterSymbolToken</code>, etc...</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="kernpy.core.Node.parent(Optional['Node'])">parent(Optional[&#39;Node&#39;])</span></code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A reference to the parent <code>Node</code>. If the parent is the root, the parent is None.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="kernpy.core.Node.children(List['Node'])">children(List[&#39;Node&#39;])</span></code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of the children <code>Node</code>.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="kernpy.core.Node.stage(int)">stage(int)</span></code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The stage of the node in the tree. The stage is similar to a row in the **kern file.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="kernpy.core.Node.last_spine_operator_node(Optional['Node'])">last_spine_operator_node(Optional[&#39;Node&#39;])</span></code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The last spine operator node.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="kernpy.core.Node.last_signature_nodes(Optional[SignatureNodes])">last_signature_nodes(Optional[SignatureNodes])</span></code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A reference to the last <code>SignatureNodes</code> instance.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="kernpy.core.Node.header_node(Optional['Node'])">header_node(Optional[&#39;Node&#39;])</span></code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The header node.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

              <details class="quote">
                <summary>Source code in <code>kernpy/core/document.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">Node</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Node class.</span>

<span class="sd">    This class represents a node in a tree.</span>
<span class="sd">    The `Node` class is responsible for storing the main information of the **kern file.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        id(int): The unique id of the node.</span>
<span class="sd">        token(Optional[AbstractToken]): The specific token of the node. The token can be a `KeyToken`, `MeterSymbolToken`, etc...</span>
<span class="sd">        parent(Optional[&#39;Node&#39;]): A reference to the parent `Node`. If the parent is the root, the parent is None.</span>
<span class="sd">        children(List[&#39;Node&#39;]): A list of the children `Node`.</span>
<span class="sd">        stage(int): The stage of the node in the tree. The stage is similar to a row in the **kern file.</span>
<span class="sd">        last_spine_operator_node(Optional[&#39;Node&#39;]): The last spine operator node.</span>
<span class="sd">        last_signature_nodes(Optional[SignatureNodes]): A reference to the last `SignatureNodes` instance.</span>
<span class="sd">        header_node(Optional[&#39;Node&#39;]): The header node.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">NextID</span> <span class="o">=</span> <span class="mi">1</span>  <span class="c1"># static counter</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                 <span class="n">stage</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
                 <span class="n">token</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">AbstractToken</span><span class="p">],</span>
                 <span class="n">parent</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="s1">&#39;Node&#39;</span><span class="p">],</span>
                 <span class="n">last_spine_operator_node</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="s1">&#39;Node&#39;</span><span class="p">],</span>
                 <span class="n">last_signature_nodes</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">SignatureNodes</span><span class="p">],</span>
                 <span class="n">header_node</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="s1">&#39;Node&#39;</span><span class="p">]</span>
                 <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Create an instance of Node.</span>

<span class="sd">        Args:</span>
<span class="sd">            stage (int): The stage of the node in the tree. The stage is similar to a row in the **kern file.</span>
<span class="sd">            token (Optional[AbstractToken]): The specific token of the node. The token can be a `KeyToken`, `MeterSymbolToken`, etc...</span>
<span class="sd">            parent (Optional[&#39;Node&#39;]): A reference to the parent `Node`. If the parent is the root, the parent is None.</span>
<span class="sd">            last_spine_operator_node (Optional[&#39;Node&#39;]): The last spine operator node.</span>
<span class="sd">            last_signature_nodes (Optional[SignatureNodes]): A reference to the last `SignatureNodes` instance.</span>
<span class="sd">            header_node (Optional[&#39;Node&#39;]): The header node.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span> <span class="n">Node</span><span class="o">.</span><span class="n">NextID</span>
        <span class="n">Node</span><span class="o">.</span><span class="n">NextID</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">token</span> <span class="o">=</span> <span class="n">token</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">parent</span> <span class="o">=</span> <span class="n">parent</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">children</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stage</span> <span class="o">=</span> <span class="n">stage</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">header_node</span> <span class="o">=</span> <span class="n">header_node</span>
        <span class="k">if</span> <span class="n">last_signature_nodes</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">last_signature_nodes</span> <span class="o">=</span> <span class="n">last_signature_nodes</span><span class="o">.</span><span class="n">clone</span><span class="p">()</span>  <span class="c1">#TODO Documentar todo esto - composición</span>
            <span class="c1"># self.last_signature_nodes = copy.deepcopy(last_signature_nodes) # TODO: Ver en SignatureNodes.clone</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">last_signature_nodes</span> <span class="o">=</span> <span class="n">SignatureNodes</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">last_spine_operator_node</span> <span class="o">=</span> <span class="n">last_spine_operator_node</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">count_nodes_by_stage</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Count the number of nodes in each stage of the tree.</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; node = Node(0, None, None, None, None, None)</span>
<span class="sd">            &gt;&gt;&gt; ...</span>
<span class="sd">            &gt;&gt;&gt; node.count_nodes_by_stage()</span>
<span class="sd">            [2, 2, 2, 2, 3, 3, 3, 2]</span>

<span class="sd">        Returns:</span>
<span class="sd">            List[int]: A list with the number of nodes in each stage of the tree.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">level_counts</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
        <span class="n">queue</span> <span class="o">=</span> <span class="n">deque</span><span class="p">([(</span><span class="bp">self</span><span class="p">,</span> <span class="mi">0</span><span class="p">)])</span>  <span class="c1"># (node, level)</span>
        <span class="c1"># breadth-first search (BFS)</span>
        <span class="k">while</span> <span class="n">queue</span><span class="p">:</span>
            <span class="n">node</span><span class="p">,</span> <span class="n">level</span> <span class="o">=</span> <span class="n">queue</span><span class="o">.</span><span class="n">popleft</span><span class="p">()</span>
            <span class="n">level_counts</span><span class="p">[</span><span class="n">level</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="n">node</span><span class="o">.</span><span class="n">children</span><span class="p">:</span>
                <span class="n">queue</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">child</span><span class="p">,</span> <span class="n">level</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>

        <span class="c1"># Convert the level_counts dictionary to a list of counts</span>
        <span class="n">max_level</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">level_counts</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
        <span class="n">counts_by_level</span> <span class="o">=</span> <span class="p">[</span><span class="n">level_counts</span><span class="p">[</span><span class="n">level</span><span class="p">]</span> <span class="k">for</span> <span class="n">level</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">max_level</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)]</span>

        <span class="k">return</span> <span class="n">counts_by_level</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">dfs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tree_traversal</span><span class="p">:</span> <span class="n">TreeTraversalInterface</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Depth-first search (DFS)</span>

<span class="sd">        Args:</span>
<span class="sd">            tree_traversal (TreeTraversalInterface): The tree traversal interface. Object used to visit the nodes of the tree.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">node</span> <span class="o">=</span> <span class="bp">self</span>
        <span class="n">tree_traversal</span><span class="o">.</span><span class="n">visit</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="p">:</span>
            <span class="n">child</span><span class="o">.</span><span class="n">dfs</span><span class="p">(</span><span class="n">tree_traversal</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">dfs_iterative</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tree_traversal</span><span class="p">:</span> <span class="n">TreeTraversalInterface</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Depth-first search (DFS). Iterative version.</span>

<span class="sd">        Args:</span>
<span class="sd">            tree_traversal (TreeTraversalInterface): The tree traversal interface. Object used to visit the nodes of the tree.</span>

<span class="sd">        Returns: None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">stack</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="p">]</span>
        <span class="k">while</span> <span class="n">stack</span><span class="p">:</span>
            <span class="n">node</span> <span class="o">=</span> <span class="n">stack</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
            <span class="n">tree_traversal</span><span class="o">.</span><span class="n">visit</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
            <span class="n">stack</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="nb">reversed</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">children</span><span class="p">))</span>  <span class="c1"># Add children in reverse order to maintain DFS order</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Compare two nodes.</span>

<span class="sd">        Args:</span>
<span class="sd">            other: The other node to compare.</span>

<span class="sd">        Returns: True if the nodes are equal, False otherwise.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">other</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">Node</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">id</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__ne__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Compare two nodes.</span>

<span class="sd">        Args:</span>
<span class="sd">            other: The other node to compare.</span>

<span class="sd">        Returns: True if the nodes are not equal, False otherwise.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__eq__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__hash__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the hash of the node.</span>

<span class="sd">        Returns: The hash of the node.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">hash</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the string representation of the node.</span>

<span class="sd">        Returns: The string representation of the node.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="se">{{</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">stage</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">token</span><span class="si">}</span><span class="se">}}</span><span class="s2">&quot;</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="kernpy.core.Node.__eq__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__eq__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Compare two nodes.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>other</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The other node to compare.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns: True if the nodes are equal, False otherwise.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/document.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Compare two nodes.</span>

<span class="sd">    Args:</span>
<span class="sd">        other: The other node to compare.</span>

<span class="sd">    Returns: True if the nodes are equal, False otherwise.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">other</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">Node</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">False</span>

    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">id</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.Node.__hash__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__hash__</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Get the hash of the node.</p>
<p>Returns: The hash of the node.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/document.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__hash__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get the hash of the node.</span>

<span class="sd">    Returns: The hash of the node.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="nb">hash</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.Node.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">stage</span><span class="p">,</span> <span class="n">token</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="n">last_spine_operator_node</span><span class="p">,</span> <span class="n">last_signature_nodes</span><span class="p">,</span> <span class="n">header_node</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Create an instance of Node.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>stage</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The stage of the node in the tree. The stage is similar to a row in the **kern file.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>token</code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<a class="autorefs autorefs-internal" title="kernpy.core.AbstractToken" href="#kernpy.core.AbstractToken">AbstractToken</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The specific token of the node. The token can be a <code>KeyToken</code>, <code>MeterSymbolToken</code>, etc...</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>parent</code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[&#39;Node&#39;]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A reference to the parent <code>Node</code>. If the parent is the root, the parent is None.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>last_spine_operator_node</code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[&#39;Node&#39;]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The last spine operator node.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>last_signature_nodes</code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<a class="autorefs autorefs-internal" title="kernpy.core.document.SignatureNodes" href="#kernpy.core.SignatureNodes">SignatureNodes</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A reference to the last <code>SignatureNodes</code> instance.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>header_node</code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[&#39;Node&#39;]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The header node.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/document.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
             <span class="n">stage</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
             <span class="n">token</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">AbstractToken</span><span class="p">],</span>
             <span class="n">parent</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="s1">&#39;Node&#39;</span><span class="p">],</span>
             <span class="n">last_spine_operator_node</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="s1">&#39;Node&#39;</span><span class="p">],</span>
             <span class="n">last_signature_nodes</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">SignatureNodes</span><span class="p">],</span>
             <span class="n">header_node</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="s1">&#39;Node&#39;</span><span class="p">]</span>
             <span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Create an instance of Node.</span>

<span class="sd">    Args:</span>
<span class="sd">        stage (int): The stage of the node in the tree. The stage is similar to a row in the **kern file.</span>
<span class="sd">        token (Optional[AbstractToken]): The specific token of the node. The token can be a `KeyToken`, `MeterSymbolToken`, etc...</span>
<span class="sd">        parent (Optional[&#39;Node&#39;]): A reference to the parent `Node`. If the parent is the root, the parent is None.</span>
<span class="sd">        last_spine_operator_node (Optional[&#39;Node&#39;]): The last spine operator node.</span>
<span class="sd">        last_signature_nodes (Optional[SignatureNodes]): A reference to the last `SignatureNodes` instance.</span>
<span class="sd">        header_node (Optional[&#39;Node&#39;]): The header node.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span> <span class="n">Node</span><span class="o">.</span><span class="n">NextID</span>
    <span class="n">Node</span><span class="o">.</span><span class="n">NextID</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">token</span> <span class="o">=</span> <span class="n">token</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">parent</span> <span class="o">=</span> <span class="n">parent</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">children</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">stage</span> <span class="o">=</span> <span class="n">stage</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">header_node</span> <span class="o">=</span> <span class="n">header_node</span>
    <span class="k">if</span> <span class="n">last_signature_nodes</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">last_signature_nodes</span> <span class="o">=</span> <span class="n">last_signature_nodes</span><span class="o">.</span><span class="n">clone</span><span class="p">()</span>  <span class="c1">#TODO Documentar todo esto - composición</span>
        <span class="c1"># self.last_signature_nodes = copy.deepcopy(last_signature_nodes) # TODO: Ver en SignatureNodes.clone</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">last_signature_nodes</span> <span class="o">=</span> <span class="n">SignatureNodes</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">last_spine_operator_node</span> <span class="o">=</span> <span class="n">last_spine_operator_node</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.Node.__ne__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__ne__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Compare two nodes.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>other</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The other node to compare.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns: True if the nodes are not equal, False otherwise.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/document.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__ne__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Compare two nodes.</span>

<span class="sd">    Args:</span>
<span class="sd">        other: The other node to compare.</span>

<span class="sd">    Returns: True if the nodes are not equal, False otherwise.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__eq__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.Node.__str__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__str__</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Get the string representation of the node.</p>
<p>Returns: The string representation of the node.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/document.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get the string representation of the node.</span>

<span class="sd">    Returns: The string representation of the node.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="se">{{</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">stage</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">token</span><span class="si">}</span><span class="se">}}</span><span class="s2">&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.Node.count_nodes_by_stage" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">count_nodes_by_stage</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Count the number of nodes in each stage of the tree.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">node</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="o">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">node</span><span class="o">.</span><span class="n">count_nodes_by_stage</span><span class="p">()</span>
<span class="go">[2, 2, 2, 2, 3, 3, 3, 2]</span>
</code></pre></div>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.List">List</span>[int]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List[int]: A list with the number of nodes in each stage of the tree.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/document.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">count_nodes_by_stage</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Count the number of nodes in each stage of the tree.</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; node = Node(0, None, None, None, None, None)</span>
<span class="sd">        &gt;&gt;&gt; ...</span>
<span class="sd">        &gt;&gt;&gt; node.count_nodes_by_stage()</span>
<span class="sd">        [2, 2, 2, 2, 3, 3, 3, 2]</span>

<span class="sd">    Returns:</span>
<span class="sd">        List[int]: A list with the number of nodes in each stage of the tree.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">level_counts</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
    <span class="n">queue</span> <span class="o">=</span> <span class="n">deque</span><span class="p">([(</span><span class="bp">self</span><span class="p">,</span> <span class="mi">0</span><span class="p">)])</span>  <span class="c1"># (node, level)</span>
    <span class="c1"># breadth-first search (BFS)</span>
    <span class="k">while</span> <span class="n">queue</span><span class="p">:</span>
        <span class="n">node</span><span class="p">,</span> <span class="n">level</span> <span class="o">=</span> <span class="n">queue</span><span class="o">.</span><span class="n">popleft</span><span class="p">()</span>
        <span class="n">level_counts</span><span class="p">[</span><span class="n">level</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="n">node</span><span class="o">.</span><span class="n">children</span><span class="p">:</span>
            <span class="n">queue</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">child</span><span class="p">,</span> <span class="n">level</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>

    <span class="c1"># Convert the level_counts dictionary to a list of counts</span>
    <span class="n">max_level</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">level_counts</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
    <span class="n">counts_by_level</span> <span class="o">=</span> <span class="p">[</span><span class="n">level_counts</span><span class="p">[</span><span class="n">level</span><span class="p">]</span> <span class="k">for</span> <span class="n">level</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">max_level</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)]</span>

    <span class="k">return</span> <span class="n">counts_by_level</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.Node.dfs" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">dfs</span><span class="p">(</span><span class="n">tree_traversal</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Depth-first search (DFS)</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>tree_traversal</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.document.TreeTraversalInterface" href="#kernpy.core.TreeTraversalInterface">TreeTraversalInterface</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The tree traversal interface. Object used to visit the nodes of the tree.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/document.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">dfs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tree_traversal</span><span class="p">:</span> <span class="n">TreeTraversalInterface</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Depth-first search (DFS)</span>

<span class="sd">    Args:</span>
<span class="sd">        tree_traversal (TreeTraversalInterface): The tree traversal interface. Object used to visit the nodes of the tree.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">node</span> <span class="o">=</span> <span class="bp">self</span>
    <span class="n">tree_traversal</span><span class="o">.</span><span class="n">visit</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="p">:</span>
        <span class="n">child</span><span class="o">.</span><span class="n">dfs</span><span class="p">(</span><span class="n">tree_traversal</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.Node.dfs_iterative" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">dfs_iterative</span><span class="p">(</span><span class="n">tree_traversal</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Depth-first search (DFS). Iterative version.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>tree_traversal</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.document.TreeTraversalInterface" href="#kernpy.core.TreeTraversalInterface">TreeTraversalInterface</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The tree traversal interface. Object used to visit the nodes of the tree.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns: None</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/document.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">dfs_iterative</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tree_traversal</span><span class="p">:</span> <span class="n">TreeTraversalInterface</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Depth-first search (DFS). Iterative version.</span>

<span class="sd">    Args:</span>
<span class="sd">        tree_traversal (TreeTraversalInterface): The tree traversal interface. Object used to visit the nodes of the tree.</span>

<span class="sd">    Returns: None</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">stack</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="p">]</span>
    <span class="k">while</span> <span class="n">stack</span><span class="p">:</span>
        <span class="n">node</span> <span class="o">=</span> <span class="n">stack</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
        <span class="n">tree_traversal</span><span class="o">.</span><span class="n">visit</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
        <span class="n">stack</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="nb">reversed</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">children</span><span class="p">))</span>  <span class="c1"># Add children in reverse order to maintain DFS order</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="kernpy.core.NoteRestToken" class="doc doc-heading">
            <code>NoteRestToken</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="kernpy.core.tokens.ComplexToken" href="#kernpy.core.ComplexToken">ComplexToken</a></code></p>


        <p>NoteRestToken class.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="kernpy.core.NoteRestToken.pitch_duration_subtokens">pitch_duration_subtokens</span></code></td>
            <td>
                  <code>list</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The subtokens for the pitch and duration</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="kernpy.core.NoteRestToken.decoration_subtokens">decoration_subtokens</span></code></td>
            <td>
                  <code>list</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The subtokens for the decorations</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

              <details class="quote">
                <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1780</span>
<span class="normal">1781</span>
<span class="normal">1782</span>
<span class="normal">1783</span>
<span class="normal">1784</span>
<span class="normal">1785</span>
<span class="normal">1786</span>
<span class="normal">1787</span>
<span class="normal">1788</span>
<span class="normal">1789</span>
<span class="normal">1790</span>
<span class="normal">1791</span>
<span class="normal">1792</span>
<span class="normal">1793</span>
<span class="normal">1794</span>
<span class="normal">1795</span>
<span class="normal">1796</span>
<span class="normal">1797</span>
<span class="normal">1798</span>
<span class="normal">1799</span>
<span class="normal">1800</span>
<span class="normal">1801</span>
<span class="normal">1802</span>
<span class="normal">1803</span>
<span class="normal">1804</span>
<span class="normal">1805</span>
<span class="normal">1806</span>
<span class="normal">1807</span>
<span class="normal">1808</span>
<span class="normal">1809</span>
<span class="normal">1810</span>
<span class="normal">1811</span>
<span class="normal">1812</span>
<span class="normal">1813</span>
<span class="normal">1814</span>
<span class="normal">1815</span>
<span class="normal">1816</span>
<span class="normal">1817</span>
<span class="normal">1818</span>
<span class="normal">1819</span>
<span class="normal">1820</span>
<span class="normal">1821</span>
<span class="normal">1822</span>
<span class="normal">1823</span>
<span class="normal">1824</span>
<span class="normal">1825</span>
<span class="normal">1826</span>
<span class="normal">1827</span>
<span class="normal">1828</span>
<span class="normal">1829</span>
<span class="normal">1830</span>
<span class="normal">1831</span>
<span class="normal">1832</span>
<span class="normal">1833</span>
<span class="normal">1834</span>
<span class="normal">1835</span>
<span class="normal">1836</span>
<span class="normal">1837</span>
<span class="normal">1838</span>
<span class="normal">1839</span>
<span class="normal">1840</span>
<span class="normal">1841</span>
<span class="normal">1842</span>
<span class="normal">1843</span>
<span class="normal">1844</span>
<span class="normal">1845</span>
<span class="normal">1846</span>
<span class="normal">1847</span>
<span class="normal">1848</span>
<span class="normal">1849</span>
<span class="normal">1850</span>
<span class="normal">1851</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">NoteRestToken</span><span class="p">(</span><span class="n">ComplexToken</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    NoteRestToken class.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        pitch_duration_subtokens (list): The subtokens for the pitch and duration</span>
<span class="sd">        decoration_subtokens (list): The subtokens for the decorations</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span>
            <span class="n">encoding</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
            <span class="n">pitch_duration_subtokens</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Subtoken</span><span class="p">],</span>
            <span class="n">decoration_subtokens</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Subtoken</span><span class="p">]</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        NoteRestToken constructor.</span>

<span class="sd">        Args:</span>
<span class="sd">            encoding (str): The complete unprocessed encoding</span>
<span class="sd">            pitch_duration_subtokens (List[Subtoken])y: The subtokens for the pitch and duration</span>
<span class="sd">            decoration_subtokens (List[Subtoken]): The subtokens for the decorations. Individual elements of the token, of type Subtoken</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">encoding</span><span class="p">,</span> <span class="n">TokenCategory</span><span class="o">.</span><span class="n">NOTE_REST</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">pitch_duration_subtokens</span> <span class="ow">or</span> <span class="nb">len</span><span class="p">(</span><span class="n">pitch_duration_subtokens</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;Empty name-duration subtokens&#39;</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">subtoken</span> <span class="ow">in</span> <span class="n">pitch_duration_subtokens</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">subtoken</span><span class="p">,</span> <span class="n">Subtoken</span><span class="p">):</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;All pitch-duration subtokens must be instances of Subtoken. Found </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">subtoken</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">subtoken</span> <span class="ow">in</span> <span class="n">decoration_subtokens</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">subtoken</span><span class="p">,</span> <span class="n">Subtoken</span><span class="p">):</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;All decoration subtokens must be instances of Subtoken. Found </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">subtoken</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">pitch_duration_subtokens</span> <span class="o">=</span> <span class="n">pitch_duration_subtokens</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">decoration_subtokens</span> <span class="o">=</span> <span class="n">decoration_subtokens</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">export</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Exports the token.</span>

<span class="sd">        Keyword Arguments:</span>
<span class="sd">            filter_categories (Optional[Callable[[TokenCategory], bool]]): A function that takes a TokenCategory and returns a boolean</span>
<span class="sd">                indicating whether the token should be included in the export. If provided, only tokens for which the</span>
<span class="sd">                function returns True will be exported. Defaults to None. If None, all tokens will be exported.</span>

<span class="sd">        Returns (str): The exported token.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">filter_categories_fn</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;filter_categories&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>

        <span class="c1"># Filter subcategories</span>
        <span class="n">pitch_duration_tokens</span> <span class="o">=</span> <span class="p">{</span>
            <span class="n">subtoken</span> <span class="k">for</span> <span class="n">subtoken</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">pitch_duration_subtokens</span>
            <span class="k">if</span> <span class="n">filter_categories_fn</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">filter_categories_fn</span><span class="p">(</span><span class="n">subtoken</span><span class="o">.</span><span class="n">category</span><span class="p">)</span>
        <span class="p">}</span>
        <span class="n">decoration_tokens</span> <span class="o">=</span> <span class="p">{</span>
            <span class="n">subtoken</span> <span class="k">for</span> <span class="n">subtoken</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">decoration_subtokens</span>
            <span class="k">if</span> <span class="n">filter_categories_fn</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">filter_categories_fn</span><span class="p">(</span><span class="n">subtoken</span><span class="o">.</span><span class="n">category</span><span class="p">)</span>
        <span class="p">}</span>
        <span class="n">pitch_duration_tokens_sorted</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">pitch_duration_tokens</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">t</span><span class="p">:</span>  <span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">category</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">t</span><span class="o">.</span><span class="n">encoding</span><span class="p">))</span>
        <span class="n">decoration_tokens_sorted</span>     <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">decoration_tokens</span><span class="p">,</span>     <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">t</span><span class="p">:</span>  <span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">category</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">t</span><span class="o">.</span><span class="n">encoding</span><span class="p">))</span>

        <span class="c1"># Join the sorted subtokens</span>
        <span class="n">pitch_duration_part</span> <span class="o">=</span> <span class="n">TOKEN_SEPARATOR</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">subtoken</span><span class="o">.</span><span class="n">encoding</span> <span class="k">for</span> <span class="n">subtoken</span> <span class="ow">in</span> <span class="n">pitch_duration_tokens_sorted</span><span class="p">])</span>
        <span class="n">decoration_part</span> <span class="o">=</span> <span class="n">DECORATION_SEPARATOR</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">subtoken</span><span class="o">.</span><span class="n">encoding</span> <span class="k">for</span> <span class="n">subtoken</span> <span class="ow">in</span> <span class="n">decoration_tokens_sorted</span><span class="p">])</span>

        <span class="n">result</span> <span class="o">=</span> <span class="n">pitch_duration_part</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">decoration_part</span><span class="p">):</span>
            <span class="n">result</span> <span class="o">+=</span> <span class="n">DECORATION_SEPARATOR</span> <span class="o">+</span> <span class="n">decoration_part</span>

        <span class="k">return</span> <span class="n">result</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">result</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="k">else</span> <span class="n">EMPTY_TOKEN</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="kernpy.core.NoteRestToken.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">encoding</span><span class="p">,</span> <span class="n">pitch_duration_subtokens</span><span class="p">,</span> <span class="n">decoration_subtokens</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>NoteRestToken constructor.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>encoding</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The complete unprocessed encoding</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>pitch_duration_subtokens</code></td>
            <td>
                  <code>List[Subtoken])y</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The subtokens for the pitch and duration</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>decoration_subtokens</code></td>
            <td>
                  <code><span title="typing.List">List</span>[<a class="autorefs autorefs-internal" title="kernpy.core.tokens.Subtoken" href="#kernpy.core.Subtoken">Subtoken</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The subtokens for the decorations. Individual elements of the token, of type Subtoken</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1789</span>
<span class="normal">1790</span>
<span class="normal">1791</span>
<span class="normal">1792</span>
<span class="normal">1793</span>
<span class="normal">1794</span>
<span class="normal">1795</span>
<span class="normal">1796</span>
<span class="normal">1797</span>
<span class="normal">1798</span>
<span class="normal">1799</span>
<span class="normal">1800</span>
<span class="normal">1801</span>
<span class="normal">1802</span>
<span class="normal">1803</span>
<span class="normal">1804</span>
<span class="normal">1805</span>
<span class="normal">1806</span>
<span class="normal">1807</span>
<span class="normal">1808</span>
<span class="normal">1809</span>
<span class="normal">1810</span>
<span class="normal">1811</span>
<span class="normal">1812</span>
<span class="normal">1813</span>
<span class="normal">1814</span>
<span class="normal">1815</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">encoding</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">pitch_duration_subtokens</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Subtoken</span><span class="p">],</span>
        <span class="n">decoration_subtokens</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Subtoken</span><span class="p">]</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    NoteRestToken constructor.</span>

<span class="sd">    Args:</span>
<span class="sd">        encoding (str): The complete unprocessed encoding</span>
<span class="sd">        pitch_duration_subtokens (List[Subtoken])y: The subtokens for the pitch and duration</span>
<span class="sd">        decoration_subtokens (List[Subtoken]): The subtokens for the decorations. Individual elements of the token, of type Subtoken</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">encoding</span><span class="p">,</span> <span class="n">TokenCategory</span><span class="o">.</span><span class="n">NOTE_REST</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">pitch_duration_subtokens</span> <span class="ow">or</span> <span class="nb">len</span><span class="p">(</span><span class="n">pitch_duration_subtokens</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;Empty name-duration subtokens&#39;</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">subtoken</span> <span class="ow">in</span> <span class="n">pitch_duration_subtokens</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">subtoken</span><span class="p">,</span> <span class="n">Subtoken</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;All pitch-duration subtokens must be instances of Subtoken. Found </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">subtoken</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">subtoken</span> <span class="ow">in</span> <span class="n">decoration_subtokens</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">subtoken</span><span class="p">,</span> <span class="n">Subtoken</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;All decoration subtokens must be instances of Subtoken. Found </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">subtoken</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">pitch_duration_subtokens</span> <span class="o">=</span> <span class="n">pitch_duration_subtokens</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">decoration_subtokens</span> <span class="o">=</span> <span class="n">decoration_subtokens</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.NoteRestToken.export" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">export</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Exports the token.</p>


<p><span class="doc-section-title">Other Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>filter_categories</code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[Callable[[<a class="autorefs autorefs-internal" title="kernpy.core.tokens.TokenCategory" href="#kernpy.core.TokenCategory">TokenCategory</a>], bool]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A function that takes a TokenCategory and returns a boolean
indicating whether the token should be included in the export. If provided, only tokens for which the
function returns True will be exported. Defaults to None. If None, all tokens will be exported.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns (str): The exported token.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1817</span>
<span class="normal">1818</span>
<span class="normal">1819</span>
<span class="normal">1820</span>
<span class="normal">1821</span>
<span class="normal">1822</span>
<span class="normal">1823</span>
<span class="normal">1824</span>
<span class="normal">1825</span>
<span class="normal">1826</span>
<span class="normal">1827</span>
<span class="normal">1828</span>
<span class="normal">1829</span>
<span class="normal">1830</span>
<span class="normal">1831</span>
<span class="normal">1832</span>
<span class="normal">1833</span>
<span class="normal">1834</span>
<span class="normal">1835</span>
<span class="normal">1836</span>
<span class="normal">1837</span>
<span class="normal">1838</span>
<span class="normal">1839</span>
<span class="normal">1840</span>
<span class="normal">1841</span>
<span class="normal">1842</span>
<span class="normal">1843</span>
<span class="normal">1844</span>
<span class="normal">1845</span>
<span class="normal">1846</span>
<span class="normal">1847</span>
<span class="normal">1848</span>
<span class="normal">1849</span>
<span class="normal">1850</span>
<span class="normal">1851</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">export</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Exports the token.</span>

<span class="sd">    Keyword Arguments:</span>
<span class="sd">        filter_categories (Optional[Callable[[TokenCategory], bool]]): A function that takes a TokenCategory and returns a boolean</span>
<span class="sd">            indicating whether the token should be included in the export. If provided, only tokens for which the</span>
<span class="sd">            function returns True will be exported. Defaults to None. If None, all tokens will be exported.</span>

<span class="sd">    Returns (str): The exported token.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">filter_categories_fn</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;filter_categories&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>

    <span class="c1"># Filter subcategories</span>
    <span class="n">pitch_duration_tokens</span> <span class="o">=</span> <span class="p">{</span>
        <span class="n">subtoken</span> <span class="k">for</span> <span class="n">subtoken</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">pitch_duration_subtokens</span>
        <span class="k">if</span> <span class="n">filter_categories_fn</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">filter_categories_fn</span><span class="p">(</span><span class="n">subtoken</span><span class="o">.</span><span class="n">category</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="n">decoration_tokens</span> <span class="o">=</span> <span class="p">{</span>
        <span class="n">subtoken</span> <span class="k">for</span> <span class="n">subtoken</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">decoration_subtokens</span>
        <span class="k">if</span> <span class="n">filter_categories_fn</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">filter_categories_fn</span><span class="p">(</span><span class="n">subtoken</span><span class="o">.</span><span class="n">category</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="n">pitch_duration_tokens_sorted</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">pitch_duration_tokens</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">t</span><span class="p">:</span>  <span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">category</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">t</span><span class="o">.</span><span class="n">encoding</span><span class="p">))</span>
    <span class="n">decoration_tokens_sorted</span>     <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">decoration_tokens</span><span class="p">,</span>     <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">t</span><span class="p">:</span>  <span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">category</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">t</span><span class="o">.</span><span class="n">encoding</span><span class="p">))</span>

    <span class="c1"># Join the sorted subtokens</span>
    <span class="n">pitch_duration_part</span> <span class="o">=</span> <span class="n">TOKEN_SEPARATOR</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">subtoken</span><span class="o">.</span><span class="n">encoding</span> <span class="k">for</span> <span class="n">subtoken</span> <span class="ow">in</span> <span class="n">pitch_duration_tokens_sorted</span><span class="p">])</span>
    <span class="n">decoration_part</span> <span class="o">=</span> <span class="n">DECORATION_SEPARATOR</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">subtoken</span><span class="o">.</span><span class="n">encoding</span> <span class="k">for</span> <span class="n">subtoken</span> <span class="ow">in</span> <span class="n">decoration_tokens_sorted</span><span class="p">])</span>

    <span class="n">result</span> <span class="o">=</span> <span class="n">pitch_duration_part</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">decoration_part</span><span class="p">):</span>
        <span class="n">result</span> <span class="o">+=</span> <span class="n">DECORATION_SEPARATOR</span> <span class="o">+</span> <span class="n">decoration_part</span>

    <span class="k">return</span> <span class="n">result</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">result</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="k">else</span> <span class="n">EMPTY_TOKEN</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="kernpy.core.PitchPositionReferenceSystem" class="doc doc-heading">
            <code>PitchPositionReferenceSystem</code>


</h2>


    <div class="doc doc-contents ">


              <details class="quote">
                <summary>Source code in <code>kernpy/core/gkern.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">PitchPositionReferenceSystem</span><span class="p">:</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">base_pitch</span><span class="p">:</span> <span class="n">AgnosticPitch</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initializes the PitchPositionReferenceSystem object.</span>
<span class="sd">        Args:</span>
<span class="sd">            base_pitch (AgnosticPitch): The AgnosticPitch in the first line of the Staff. \</span>
<span class="sd">             The AgnosticPitch object that serves as the reference point for the system.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">base_pitch</span> <span class="o">=</span> <span class="n">base_pitch</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">compute_position</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pitch</span><span class="p">:</span> <span class="n">AgnosticPitch</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PositionInStaff</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Computes the position in staff for the given pitch.</span>
<span class="sd">        Args:</span>
<span class="sd">            pitch (AgnosticPitch): The AgnosticPitch object to compute the position for.</span>
<span class="sd">        Returns:</span>
<span class="sd">            PositionInStaff: The PositionInStaff object representing the computed position.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># map A–G to 0–6</span>
        <span class="n">LETTER_TO_INDEX</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;C&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;D&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;E&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
                           <span class="s1">&#39;F&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;G&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="s1">&#39;A&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">:</span> <span class="mi">6</span><span class="p">}</span>

        <span class="c1"># strip off any &#39;+&#39; or &#39;-&#39; accidentals, then grab the letter</span>
        <span class="k">def</span><span class="w"> </span><span class="nf">letter</span><span class="p">(</span><span class="n">p</span><span class="p">:</span> <span class="n">AgnosticPitch</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
            <span class="n">name</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;+&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">AgnosticPitch</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">octave</span><span class="p">)</span><span class="o">.</span><span class="n">name</span>

        <span class="n">base_letter_idx</span> <span class="o">=</span> <span class="n">LETTER_TO_INDEX</span><span class="p">[</span><span class="n">letter</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_pitch</span><span class="p">)]</span>
        <span class="n">target_letter_idx</span> <span class="o">=</span> <span class="n">LETTER_TO_INDEX</span><span class="p">[</span><span class="n">letter</span><span class="p">(</span><span class="n">pitch</span><span class="p">)]</span>

        <span class="c1"># &quot;octave difference × 7&quot; plus the letter‐index difference</span>
        <span class="n">diatonic_steps</span> <span class="o">=</span> <span class="p">(</span><span class="n">pitch</span><span class="o">.</span><span class="n">octave</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">base_pitch</span><span class="o">.</span><span class="n">octave</span><span class="p">)</span> <span class="o">*</span> <span class="mi">7</span> \
                         <span class="o">+</span> <span class="p">(</span><span class="n">target_letter_idx</span> <span class="o">-</span> <span class="n">base_letter_idx</span><span class="p">)</span>

        <span class="c1"># that many &quot;lines or spaces&quot; above (or below) the reference line</span>
        <span class="k">return</span> <span class="n">PositionInStaff</span><span class="p">(</span><span class="n">diatonic_steps</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="kernpy.core.PitchPositionReferenceSystem.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">base_pitch</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Initializes the PitchPositionReferenceSystem object.
Args:
    base_pitch (AgnosticPitch): The AgnosticPitch in the first line of the Staff.              The AgnosticPitch object that serves as the reference point for the system.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/gkern.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">base_pitch</span><span class="p">:</span> <span class="n">AgnosticPitch</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Initializes the PitchPositionReferenceSystem object.</span>
<span class="sd">    Args:</span>
<span class="sd">        base_pitch (AgnosticPitch): The AgnosticPitch in the first line of the Staff. \</span>
<span class="sd">         The AgnosticPitch object that serves as the reference point for the system.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">base_pitch</span> <span class="o">=</span> <span class="n">base_pitch</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.PitchPositionReferenceSystem.compute_position" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">compute_position</span><span class="p">(</span><span class="n">pitch</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Computes the position in staff for the given pitch.
Args:
    pitch (AgnosticPitch): The AgnosticPitch object to compute the position for.
Returns:
    PositionInStaff: The PositionInStaff object representing the computed position.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/gkern.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">compute_position</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pitch</span><span class="p">:</span> <span class="n">AgnosticPitch</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PositionInStaff</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Computes the position in staff for the given pitch.</span>
<span class="sd">    Args:</span>
<span class="sd">        pitch (AgnosticPitch): The AgnosticPitch object to compute the position for.</span>
<span class="sd">    Returns:</span>
<span class="sd">        PositionInStaff: The PositionInStaff object representing the computed position.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># map A–G to 0–6</span>
    <span class="n">LETTER_TO_INDEX</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;C&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;D&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;E&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
                       <span class="s1">&#39;F&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;G&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="s1">&#39;A&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">:</span> <span class="mi">6</span><span class="p">}</span>

    <span class="c1"># strip off any &#39;+&#39; or &#39;-&#39; accidentals, then grab the letter</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">letter</span><span class="p">(</span><span class="n">p</span><span class="p">:</span> <span class="n">AgnosticPitch</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="n">name</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;+&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">AgnosticPitch</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">octave</span><span class="p">)</span><span class="o">.</span><span class="n">name</span>

    <span class="n">base_letter_idx</span> <span class="o">=</span> <span class="n">LETTER_TO_INDEX</span><span class="p">[</span><span class="n">letter</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base_pitch</span><span class="p">)]</span>
    <span class="n">target_letter_idx</span> <span class="o">=</span> <span class="n">LETTER_TO_INDEX</span><span class="p">[</span><span class="n">letter</span><span class="p">(</span><span class="n">pitch</span><span class="p">)]</span>

    <span class="c1"># &quot;octave difference × 7&quot; plus the letter‐index difference</span>
    <span class="n">diatonic_steps</span> <span class="o">=</span> <span class="p">(</span><span class="n">pitch</span><span class="o">.</span><span class="n">octave</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">base_pitch</span><span class="o">.</span><span class="n">octave</span><span class="p">)</span> <span class="o">*</span> <span class="mi">7</span> \
                     <span class="o">+</span> <span class="p">(</span><span class="n">target_letter_idx</span> <span class="o">-</span> <span class="n">base_letter_idx</span><span class="p">)</span>

    <span class="c1"># that many &quot;lines or spaces&quot; above (or below) the reference line</span>
    <span class="k">return</span> <span class="n">PositionInStaff</span><span class="p">(</span><span class="n">diatonic_steps</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="kernpy.core.PitchRest" class="doc doc-heading">
            <code>PitchRest</code>


</h2>


    <div class="doc doc-contents ">


        <p>Represents a name or a rest in a note.</p>
<p>The name is represented using the International Standard Organization (ISO) name notation.
The first line below the staff is the C4 in G clef. The above C is C5, the below C is C3, etc.</p>
<p>The Humdrum Kern format uses the following name representation:
'c' = C4
'cc' = C5
'ccc' = C6
'cccc' = C7</p>
<p>'C' = C3
'CC' = C2
'CCC' = C1</p>
<p>The rests are represented by the letter 'r'. The rests do not have name.</p>
<p>This class do not limit the name ranges.</p>
<p>In the following example, the name is represented by the letter 'c'. The name of 'c' is C4, 'cc' is C5, 'ccc' is C6.</p>
<pre><code>**kern
*clefG2
2c          // C4
2cc         // C5
2ccc        // C6
2C          // C3
2CC         // C2
2CCC        // C1
*-
</code></pre>

              <details class="quote">
                <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">598</span>
<span class="normal">599</span>
<span class="normal">600</span>
<span class="normal">601</span>
<span class="normal">602</span>
<span class="normal">603</span>
<span class="normal">604</span>
<span class="normal">605</span>
<span class="normal">606</span>
<span class="normal">607</span>
<span class="normal">608</span>
<span class="normal">609</span>
<span class="normal">610</span>
<span class="normal">611</span>
<span class="normal">612</span>
<span class="normal">613</span>
<span class="normal">614</span>
<span class="normal">615</span>
<span class="normal">616</span>
<span class="normal">617</span>
<span class="normal">618</span>
<span class="normal">619</span>
<span class="normal">620</span>
<span class="normal">621</span>
<span class="normal">622</span>
<span class="normal">623</span>
<span class="normal">624</span>
<span class="normal">625</span>
<span class="normal">626</span>
<span class="normal">627</span>
<span class="normal">628</span>
<span class="normal">629</span>
<span class="normal">630</span>
<span class="normal">631</span>
<span class="normal">632</span>
<span class="normal">633</span>
<span class="normal">634</span>
<span class="normal">635</span>
<span class="normal">636</span>
<span class="normal">637</span>
<span class="normal">638</span>
<span class="normal">639</span>
<span class="normal">640</span>
<span class="normal">641</span>
<span class="normal">642</span>
<span class="normal">643</span>
<span class="normal">644</span>
<span class="normal">645</span>
<span class="normal">646</span>
<span class="normal">647</span>
<span class="normal">648</span>
<span class="normal">649</span>
<span class="normal">650</span>
<span class="normal">651</span>
<span class="normal">652</span>
<span class="normal">653</span>
<span class="normal">654</span>
<span class="normal">655</span>
<span class="normal">656</span>
<span class="normal">657</span>
<span class="normal">658</span>
<span class="normal">659</span>
<span class="normal">660</span>
<span class="normal">661</span>
<span class="normal">662</span>
<span class="normal">663</span>
<span class="normal">664</span>
<span class="normal">665</span>
<span class="normal">666</span>
<span class="normal">667</span>
<span class="normal">668</span>
<span class="normal">669</span>
<span class="normal">670</span>
<span class="normal">671</span>
<span class="normal">672</span>
<span class="normal">673</span>
<span class="normal">674</span>
<span class="normal">675</span>
<span class="normal">676</span>
<span class="normal">677</span>
<span class="normal">678</span>
<span class="normal">679</span>
<span class="normal">680</span>
<span class="normal">681</span>
<span class="normal">682</span>
<span class="normal">683</span>
<span class="normal">684</span>
<span class="normal">685</span>
<span class="normal">686</span>
<span class="normal">687</span>
<span class="normal">688</span>
<span class="normal">689</span>
<span class="normal">690</span>
<span class="normal">691</span>
<span class="normal">692</span>
<span class="normal">693</span>
<span class="normal">694</span>
<span class="normal">695</span>
<span class="normal">696</span>
<span class="normal">697</span>
<span class="normal">698</span>
<span class="normal">699</span>
<span class="normal">700</span>
<span class="normal">701</span>
<span class="normal">702</span>
<span class="normal">703</span>
<span class="normal">704</span>
<span class="normal">705</span>
<span class="normal">706</span>
<span class="normal">707</span>
<span class="normal">708</span>
<span class="normal">709</span>
<span class="normal">710</span>
<span class="normal">711</span>
<span class="normal">712</span>
<span class="normal">713</span>
<span class="normal">714</span>
<span class="normal">715</span>
<span class="normal">716</span>
<span class="normal">717</span>
<span class="normal">718</span>
<span class="normal">719</span>
<span class="normal">720</span>
<span class="normal">721</span>
<span class="normal">722</span>
<span class="normal">723</span>
<span class="normal">724</span>
<span class="normal">725</span>
<span class="normal">726</span>
<span class="normal">727</span>
<span class="normal">728</span>
<span class="normal">729</span>
<span class="normal">730</span>
<span class="normal">731</span>
<span class="normal">732</span>
<span class="normal">733</span>
<span class="normal">734</span>
<span class="normal">735</span>
<span class="normal">736</span>
<span class="normal">737</span>
<span class="normal">738</span>
<span class="normal">739</span>
<span class="normal">740</span>
<span class="normal">741</span>
<span class="normal">742</span>
<span class="normal">743</span>
<span class="normal">744</span>
<span class="normal">745</span>
<span class="normal">746</span>
<span class="normal">747</span>
<span class="normal">748</span>
<span class="normal">749</span>
<span class="normal">750</span>
<span class="normal">751</span>
<span class="normal">752</span>
<span class="normal">753</span>
<span class="normal">754</span>
<span class="normal">755</span>
<span class="normal">756</span>
<span class="normal">757</span>
<span class="normal">758</span>
<span class="normal">759</span>
<span class="normal">760</span>
<span class="normal">761</span>
<span class="normal">762</span>
<span class="normal">763</span>
<span class="normal">764</span>
<span class="normal">765</span>
<span class="normal">766</span>
<span class="normal">767</span>
<span class="normal">768</span>
<span class="normal">769</span>
<span class="normal">770</span>
<span class="normal">771</span>
<span class="normal">772</span>
<span class="normal">773</span>
<span class="normal">774</span>
<span class="normal">775</span>
<span class="normal">776</span>
<span class="normal">777</span>
<span class="normal">778</span>
<span class="normal">779</span>
<span class="normal">780</span>
<span class="normal">781</span>
<span class="normal">782</span>
<span class="normal">783</span>
<span class="normal">784</span>
<span class="normal">785</span>
<span class="normal">786</span>
<span class="normal">787</span>
<span class="normal">788</span>
<span class="normal">789</span>
<span class="normal">790</span>
<span class="normal">791</span>
<span class="normal">792</span>
<span class="normal">793</span>
<span class="normal">794</span>
<span class="normal">795</span>
<span class="normal">796</span>
<span class="normal">797</span>
<span class="normal">798</span>
<span class="normal">799</span>
<span class="normal">800</span>
<span class="normal">801</span>
<span class="normal">802</span>
<span class="normal">803</span>
<span class="normal">804</span>
<span class="normal">805</span>
<span class="normal">806</span>
<span class="normal">807</span>
<span class="normal">808</span>
<span class="normal">809</span>
<span class="normal">810</span>
<span class="normal">811</span>
<span class="normal">812</span>
<span class="normal">813</span>
<span class="normal">814</span>
<span class="normal">815</span>
<span class="normal">816</span>
<span class="normal">817</span>
<span class="normal">818</span>
<span class="normal">819</span>
<span class="normal">820</span>
<span class="normal">821</span>
<span class="normal">822</span>
<span class="normal">823</span>
<span class="normal">824</span>
<span class="normal">825</span>
<span class="normal">826</span>
<span class="normal">827</span>
<span class="normal">828</span>
<span class="normal">829</span>
<span class="normal">830</span>
<span class="normal">831</span>
<span class="normal">832</span>
<span class="normal">833</span>
<span class="normal">834</span>
<span class="normal">835</span>
<span class="normal">836</span>
<span class="normal">837</span>
<span class="normal">838</span>
<span class="normal">839</span>
<span class="normal">840</span>
<span class="normal">841</span>
<span class="normal">842</span>
<span class="normal">843</span>
<span class="normal">844</span>
<span class="normal">845</span>
<span class="normal">846</span>
<span class="normal">847</span>
<span class="normal">848</span>
<span class="normal">849</span>
<span class="normal">850</span>
<span class="normal">851</span>
<span class="normal">852</span>
<span class="normal">853</span>
<span class="normal">854</span>
<span class="normal">855</span>
<span class="normal">856</span>
<span class="normal">857</span>
<span class="normal">858</span>
<span class="normal">859</span>
<span class="normal">860</span>
<span class="normal">861</span>
<span class="normal">862</span>
<span class="normal">863</span>
<span class="normal">864</span>
<span class="normal">865</span>
<span class="normal">866</span>
<span class="normal">867</span>
<span class="normal">868</span>
<span class="normal">869</span>
<span class="normal">870</span>
<span class="normal">871</span>
<span class="normal">872</span>
<span class="normal">873</span>
<span class="normal">874</span>
<span class="normal">875</span>
<span class="normal">876</span>
<span class="normal">877</span>
<span class="normal">878</span>
<span class="normal">879</span>
<span class="normal">880</span>
<span class="normal">881</span>
<span class="normal">882</span>
<span class="normal">883</span>
<span class="normal">884</span>
<span class="normal">885</span>
<span class="normal">886</span>
<span class="normal">887</span>
<span class="normal">888</span>
<span class="normal">889</span>
<span class="normal">890</span>
<span class="normal">891</span>
<span class="normal">892</span>
<span class="normal">893</span>
<span class="normal">894</span>
<span class="normal">895</span>
<span class="normal">896</span>
<span class="normal">897</span>
<span class="normal">898</span>
<span class="normal">899</span>
<span class="normal">900</span>
<span class="normal">901</span>
<span class="normal">902</span>
<span class="normal">903</span>
<span class="normal">904</span>
<span class="normal">905</span>
<span class="normal">906</span>
<span class="normal">907</span>
<span class="normal">908</span>
<span class="normal">909</span>
<span class="normal">910</span>
<span class="normal">911</span>
<span class="normal">912</span>
<span class="normal">913</span>
<span class="normal">914</span>
<span class="normal">915</span>
<span class="normal">916</span>
<span class="normal">917</span>
<span class="normal">918</span>
<span class="normal">919</span>
<span class="normal">920</span>
<span class="normal">921</span>
<span class="normal">922</span>
<span class="normal">923</span>
<span class="normal">924</span>
<span class="normal">925</span>
<span class="normal">926</span>
<span class="normal">927</span>
<span class="normal">928</span>
<span class="normal">929</span>
<span class="normal">930</span>
<span class="normal">931</span>
<span class="normal">932</span>
<span class="normal">933</span>
<span class="normal">934</span>
<span class="normal">935</span>
<span class="normal">936</span>
<span class="normal">937</span>
<span class="normal">938</span>
<span class="normal">939</span>
<span class="normal">940</span>
<span class="normal">941</span>
<span class="normal">942</span>
<span class="normal">943</span>
<span class="normal">944</span>
<span class="normal">945</span>
<span class="normal">946</span>
<span class="normal">947</span>
<span class="normal">948</span>
<span class="normal">949</span>
<span class="normal">950</span>
<span class="normal">951</span>
<span class="normal">952</span>
<span class="normal">953</span>
<span class="normal">954</span>
<span class="normal">955</span>
<span class="normal">956</span>
<span class="normal">957</span>
<span class="normal">958</span>
<span class="normal">959</span>
<span class="normal">960</span>
<span class="normal">961</span>
<span class="normal">962</span>
<span class="normal">963</span>
<span class="normal">964</span>
<span class="normal">965</span>
<span class="normal">966</span>
<span class="normal">967</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">PitchRest</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Represents a name or a rest in a note.</span>

<span class="sd">    The name is represented using the International Standard Organization (ISO) name notation.</span>
<span class="sd">    The first line below the staff is the C4 in G clef. The above C is C5, the below C is C3, etc.</span>

<span class="sd">    The Humdrum Kern format uses the following name representation:</span>
<span class="sd">    &#39;c&#39; = C4</span>
<span class="sd">    &#39;cc&#39; = C5</span>
<span class="sd">    &#39;ccc&#39; = C6</span>
<span class="sd">    &#39;cccc&#39; = C7</span>

<span class="sd">    &#39;C&#39; = C3</span>
<span class="sd">    &#39;CC&#39; = C2</span>
<span class="sd">    &#39;CCC&#39; = C1</span>

<span class="sd">    The rests are represented by the letter &#39;r&#39;. The rests do not have name.</span>

<span class="sd">    This class do not limit the name ranges.</span>


<span class="sd">    In the following example, the name is represented by the letter &#39;c&#39;. The name of &#39;c&#39; is C4, &#39;cc&#39; is C5, &#39;ccc&#39; is C6.</span>
<span class="sd">    ```</span>
<span class="sd">    **kern</span>
<span class="sd">    *clefG2</span>
<span class="sd">    2c          // C4</span>
<span class="sd">    2cc         // C5</span>
<span class="sd">    2ccc        // C6</span>
<span class="sd">    2C          // C3</span>
<span class="sd">    2CC         // C2</span>
<span class="sd">    2CCC        // C1</span>
<span class="sd">    *-</span>
<span class="sd">    ```</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">C4_PITCH_LOWERCASE</span> <span class="o">=</span> <span class="s1">&#39;c&#39;</span>
    <span class="n">C4_OCATAVE</span> <span class="o">=</span> <span class="mi">4</span>
    <span class="n">C3_PITCH_UPPERCASE</span> <span class="o">=</span> <span class="s1">&#39;C&#39;</span>
    <span class="n">C3_OCATAVE</span> <span class="o">=</span> <span class="mi">3</span>
    <span class="n">REST_CHARACTER</span> <span class="o">=</span> <span class="s1">&#39;r&#39;</span>

    <span class="n">VALID_PITCHES</span> <span class="o">=</span> <span class="s1">&#39;abcdefg&#39;</span> <span class="o">+</span> <span class="s1">&#39;ABCDEFG&#39;</span> <span class="o">+</span> <span class="n">REST_CHARACTER</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">raw_pitch</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Create a new PitchRest object.</span>

<span class="sd">        Args:</span>
<span class="sd">            raw_pitch (str): name representation in Humdrum Kern format</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest = PitchRest(&#39;c&#39;)</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest = PitchRest(&#39;r&#39;)</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest = PitchRest(&#39;DDD&#39;)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">raw_pitch</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="nb">len</span><span class="p">(</span><span class="n">raw_pitch</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Empty name: name can not be None or empty. But </span><span class="si">{</span><span class="n">raw_pitch</span><span class="si">}</span><span class="s1"> was provided.&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">encoding</span> <span class="o">=</span> <span class="n">raw_pitch</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pitch</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">octave</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__parse_pitch_octave</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">__parse_pitch_octave</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">encoding</span> <span class="o">==</span> <span class="n">PitchRest</span><span class="o">.</span><span class="n">REST_CHARACTER</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">PitchRest</span><span class="o">.</span><span class="n">REST_CHARACTER</span><span class="p">,</span> <span class="kc">None</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">encoding</span><span class="o">.</span><span class="n">islower</span><span class="p">():</span>
            <span class="n">min_octave</span> <span class="o">=</span> <span class="n">PitchRest</span><span class="o">.</span><span class="n">C4_OCATAVE</span>
            <span class="n">octave</span> <span class="o">=</span> <span class="n">min_octave</span> <span class="o">+</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">encoding</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
            <span class="n">pitch</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">encoding</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
            <span class="k">return</span> <span class="n">pitch</span><span class="p">,</span> <span class="n">octave</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">encoding</span><span class="o">.</span><span class="n">isupper</span><span class="p">():</span>
            <span class="n">max_octave</span> <span class="o">=</span> <span class="n">PitchRest</span><span class="o">.</span><span class="n">C3_OCATAVE</span>
            <span class="n">octave</span> <span class="o">=</span> <span class="n">max_octave</span> <span class="o">-</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">encoding</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
            <span class="n">pitch</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">encoding</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
            <span class="k">return</span> <span class="n">pitch</span><span class="p">,</span> <span class="n">octave</span>

        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Invalid name: name </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">encoding</span><span class="si">}</span><span class="s1"> is not a valid name representation.&#39;</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">is_rest</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Check if the name is a rest.</span>

<span class="sd">        Returns:</span>
<span class="sd">            bool: True if the name is a rest, False otherwise.</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest = PitchRest(&#39;c&#39;)</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest.is_rest()</span>
<span class="sd">            False</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest = PitchRest(&#39;r&#39;)</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest.is_rest()</span>
<span class="sd">            True</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">octave</span> <span class="ow">is</span> <span class="kc">None</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">pitch_comparator</span><span class="p">(</span><span class="n">pitch_a</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">pitch_b</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Compare two pitches of the same octave.</span>

<span class="sd">        The lower name is &#39;a&#39;. So &#39;a&#39; &lt; &#39;b&#39; &lt; &#39;c&#39; &lt; &#39;d&#39; &lt; &#39;e&#39; &lt; &#39;f&#39; &lt; &#39;g&#39;</span>

<span class="sd">        Args:</span>
<span class="sd">            pitch_a: One name of &#39;abcdefg&#39;</span>
<span class="sd">            pitch_b: Another name of &#39;abcdefg&#39;</span>

<span class="sd">        Returns:</span>
<span class="sd">            -1 if pitch1 is lower than pitch2</span>
<span class="sd">            0 if pitch1 is equal to pitch2</span>
<span class="sd">            1 if pitch1 is higher than pitch2</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; PitchRest.pitch_comparator(&#39;c&#39;, &#39;c&#39;)</span>
<span class="sd">            0</span>
<span class="sd">            &gt;&gt;&gt; PitchRest.pitch_comparator(&#39;c&#39;, &#39;d&#39;)</span>
<span class="sd">            -1</span>
<span class="sd">            &gt;&gt;&gt; PitchRest.pitch_comparator(&#39;d&#39;, &#39;c&#39;)</span>
<span class="sd">            1</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">pitch_a</span> <span class="o">&lt;</span> <span class="n">pitch_b</span><span class="p">:</span>
            <span class="k">return</span> <span class="o">-</span><span class="mi">1</span>
        <span class="k">if</span> <span class="n">pitch_a</span> <span class="o">&gt;</span> <span class="n">pitch_b</span><span class="p">:</span>
            <span class="k">return</span> <span class="mi">1</span>
        <span class="k">return</span> <span class="mi">0</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">encoding</span><span class="si">}</span><span class="s1">&#39;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s1">&#39;[PitchRest: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">encoding</span><span class="si">}</span><span class="s1">, name=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">pitch</span><span class="si">}</span><span class="s1">, octave=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">octave</span><span class="si">}</span><span class="s1">]&#39;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="s1">&#39;PitchRest&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Compare two pitches and rests.</span>

<span class="sd">        Args:</span>
<span class="sd">            other (PitchRest): The other name to compare</span>

<span class="sd">        Returns (bool):</span>
<span class="sd">            True if the pitches are equal, False otherwise</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest = PitchRest(&#39;c&#39;)</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest2 = PitchRest(&#39;c&#39;)</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest == pitch_rest2</span>
<span class="sd">            True</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest = PitchRest(&#39;c&#39;)</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest2 = PitchRest(&#39;ccc&#39;)</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest == pitch_rest2</span>
<span class="sd">            False</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest = PitchRest(&#39;c&#39;)</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest2 = PitchRest(&#39;r&#39;)</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest == pitch_rest2</span>
<span class="sd">            False</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest = PitchRest(&#39;r&#39;)</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest2 = PitchRest(&#39;r&#39;)</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest == pitch_rest2</span>
<span class="sd">            True</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">PitchRest</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_rest</span><span class="p">()</span> <span class="ow">and</span> <span class="n">other</span><span class="o">.</span><span class="n">is_rest</span><span class="p">():</span>
            <span class="k">return</span> <span class="kc">True</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_rest</span><span class="p">()</span> <span class="ow">or</span> <span class="n">other</span><span class="o">.</span><span class="n">is_rest</span><span class="p">():</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">pitch</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">pitch</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">octave</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">octave</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__ne__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="s1">&#39;PitchRest&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Compare two pitches and rests.</span>
<span class="sd">        Args:</span>
<span class="sd">            other (PitchRest): The other name to compare</span>

<span class="sd">        Returns (bool):</span>
<span class="sd">            True if the pitches are different, False otherwise</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest = PitchRest(&#39;c&#39;)</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest2 = PitchRest(&#39;c&#39;)</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest != pitch_rest2</span>
<span class="sd">            False</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest = PitchRest(&#39;c&#39;)</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest2 = PitchRest(&#39;ccc&#39;)</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest != pitch_rest2</span>
<span class="sd">            True</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest = PitchRest(&#39;c&#39;)</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest2 = PitchRest(&#39;r&#39;)</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest != pitch_rest2</span>
<span class="sd">            True</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest = PitchRest(&#39;r&#39;)</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest2 = PitchRest(&#39;r&#39;)</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest != pitch_rest2</span>
<span class="sd">            False</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__eq__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__gt__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="s1">&#39;PitchRest&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Compare two pitches.</span>

<span class="sd">        If any of the pitches is a rest, the comparison raise an exception.</span>

<span class="sd">        Args:</span>
<span class="sd">            other (PitchRest): The other name to compare</span>

<span class="sd">        Returns (bool): True if this name is higher than the other, False otherwise</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest = PitchRest(&#39;c&#39;)</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest2 = PitchRest(&#39;d&#39;)</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest &gt; pitch_rest2</span>
<span class="sd">            False</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest = PitchRest(&#39;c&#39;)</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest2 = PitchRest(&#39;c&#39;)</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest &gt; pitch_rest2</span>
<span class="sd">            False</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest = PitchRest(&#39;c&#39;)</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest2 = PitchRest(&#39;b&#39;)</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest &gt; pitch_rest2</span>
<span class="sd">            True</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest = PitchRest(&#39;r&#39;)</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest2 = PitchRest(&#39;c&#39;)</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest &gt; pitch_rest2</span>
<span class="sd">            Traceback (most recent call last):</span>
<span class="sd">            ...</span>
<span class="sd">            ValueError: ...</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest = PitchRest(&#39;r&#39;)</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest2 = PitchRest(&#39;r&#39;)</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest &gt; pitch_rest2</span>
<span class="sd">            Traceback (most recent call last):</span>
<span class="sd">            ValueError: ...</span>


<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_rest</span><span class="p">()</span> <span class="ow">or</span> <span class="n">other</span><span class="o">.</span><span class="n">is_rest</span><span class="p">():</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Invalid comparison: &gt; operator can not be used to compare name of a rest.</span><span class="se">\n\</span>
<span class="s1">            self=</span><span class="si">{</span><span class="nb">repr</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="si">}</span><span class="s1"> &gt; other=</span><span class="si">{</span><span class="nb">repr</span><span class="p">(</span><span class="n">other</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">octave</span> <span class="o">&gt;</span> <span class="n">other</span><span class="o">.</span><span class="n">octave</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">True</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">octave</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">octave</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">PitchRest</span><span class="o">.</span><span class="n">pitch_comparator</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pitch</span><span class="p">,</span> <span class="n">other</span><span class="o">.</span><span class="n">pitch</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span>
        <span class="k">return</span> <span class="kc">False</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__lt__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="s1">&#39;PitchRest&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Compare two pitches.</span>

<span class="sd">        If any of the pitches is a rest, the comparison raise an exception.</span>

<span class="sd">        Args:</span>
<span class="sd">            other: The other name to compare</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if this name is lower than the other, False otherwise</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest = PitchRest(&#39;c&#39;)</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest2 = PitchRest(&#39;d&#39;)</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest &lt; pitch_rest2</span>
<span class="sd">            True</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest = PitchRest(&#39;c&#39;)</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest2 = PitchRest(&#39;c&#39;)</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest &lt; pitch_rest2</span>
<span class="sd">            False</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest = PitchRest(&#39;c&#39;)</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest2 = PitchRest(&#39;b&#39;)</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest &lt; pitch_rest2</span>
<span class="sd">            False</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest = PitchRest(&#39;r&#39;)</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest2 = PitchRest(&#39;c&#39;)</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest &lt; pitch_rest2</span>
<span class="sd">            Traceback (most recent call last):</span>
<span class="sd">            ...</span>
<span class="sd">            ValueError: ...</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest = PitchRest(&#39;r&#39;)</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest2 = PitchRest(&#39;r&#39;)</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest &lt; pitch_rest2</span>
<span class="sd">            Traceback (most recent call last):</span>
<span class="sd">            ...</span>
<span class="sd">            ValueError: ...</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_rest</span><span class="p">()</span> <span class="ow">or</span> <span class="n">other</span><span class="o">.</span><span class="n">is_rest</span><span class="p">():</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Invalid comparison: &lt; operator can not be used to compare name of a rest.</span><span class="se">\n\</span>
<span class="s1">            self=</span><span class="si">{</span><span class="nb">repr</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="si">}</span><span class="s1"> &lt; other=</span><span class="si">{</span><span class="nb">repr</span><span class="p">(</span><span class="n">other</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">octave</span> <span class="o">&lt;</span> <span class="n">other</span><span class="o">.</span><span class="n">octave</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">True</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">octave</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">octave</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">PitchRest</span><span class="o">.</span><span class="n">pitch_comparator</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pitch</span><span class="p">,</span> <span class="n">other</span><span class="o">.</span><span class="n">pitch</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">0</span>
        <span class="k">return</span> <span class="kc">False</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__ge__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="s1">&#39;PitchRest&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Compare two pitches. If any of the PitchRest is a rest, the comparison raise an exception.</span>
<span class="sd">        Args:</span>
<span class="sd">            other (PitchRest): The other name to compare</span>

<span class="sd">        Returns (bool):</span>
<span class="sd">            True if this name is higher or equal than the other, False otherwise</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest = PitchRest(&#39;c&#39;)</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest2 = PitchRest(&#39;d&#39;)</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest &gt;= pitch_rest2</span>
<span class="sd">            False</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest = PitchRest(&#39;c&#39;)</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest2 = PitchRest(&#39;c&#39;)</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest &gt;= pitch_rest2</span>
<span class="sd">            True</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest = PitchRest(&#39;c&#39;)</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest2 = PitchRest(&#39;b&#39;)</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest &gt;= pitch_rest2</span>
<span class="sd">            True</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest = PitchRest(&#39;r&#39;)</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest2 = PitchRest(&#39;c&#39;)</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest &gt;= pitch_rest2</span>
<span class="sd">            Traceback (most recent call last):</span>
<span class="sd">            ...</span>
<span class="sd">            ValueError: ...</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest = PitchRest(&#39;r&#39;)</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest2 = PitchRest(&#39;r&#39;)</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest &gt;= pitch_rest2</span>
<span class="sd">            Traceback (most recent call last):</span>
<span class="sd">            ...</span>
<span class="sd">            ValueError: ...</span>


<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__gt__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__eq__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__le__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="s1">&#39;PitchRest&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Compare two pitches. If any of the PitchRest is a rest, the comparison raise an exception.</span>
<span class="sd">        Args:</span>
<span class="sd">            other (PitchRest): The other name to compare</span>

<span class="sd">        Returns (bool): True if this name is lower or equal than the other, False otherwise</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest = PitchRest(&#39;c&#39;)</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest2 = PitchRest(&#39;d&#39;)</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest &lt;= pitch_rest2</span>
<span class="sd">            True</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest = PitchRest(&#39;c&#39;)</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest2 = PitchRest(&#39;c&#39;)</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest &lt;= pitch_rest2</span>
<span class="sd">            True</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest = PitchRest(&#39;c&#39;)</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest2 = PitchRest(&#39;b&#39;)</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest &lt;= pitch_rest2</span>
<span class="sd">            False</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest = PitchRest(&#39;r&#39;)</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest2 = PitchRest(&#39;c&#39;)</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest &lt;= pitch_rest2</span>
<span class="sd">            Traceback (most recent call last):</span>
<span class="sd">            ...</span>
<span class="sd">            ValueError: ...</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest = PitchRest(&#39;r&#39;)</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest2 = PitchRest(&#39;r&#39;)</span>
<span class="sd">            &gt;&gt;&gt; pitch_rest &lt;= pitch_rest2</span>
<span class="sd">            Traceback (most recent call last):</span>
<span class="sd">            ...</span>
<span class="sd">            ValueError: ...</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__lt__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__eq__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="kernpy.core.PitchRest.__eq__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__eq__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Compare two pitches and rests.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>other</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.tokens.PitchRest" href="#kernpy.core.PitchRest">PitchRest</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The other name to compare</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns (bool):
    True if the pitches are equal, False otherwise</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest</span> <span class="o">=</span> <span class="n">PitchRest</span><span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest2</span> <span class="o">=</span> <span class="n">PitchRest</span><span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest</span> <span class="o">==</span> <span class="n">pitch_rest2</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest</span> <span class="o">=</span> <span class="n">PitchRest</span><span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest2</span> <span class="o">=</span> <span class="n">PitchRest</span><span class="p">(</span><span class="s1">&#39;ccc&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest</span> <span class="o">==</span> <span class="n">pitch_rest2</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest</span> <span class="o">=</span> <span class="n">PitchRest</span><span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest2</span> <span class="o">=</span> <span class="n">PitchRest</span><span class="p">(</span><span class="s1">&#39;r&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest</span> <span class="o">==</span> <span class="n">pitch_rest2</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest</span> <span class="o">=</span> <span class="n">PitchRest</span><span class="p">(</span><span class="s1">&#39;r&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest2</span> <span class="o">=</span> <span class="n">PitchRest</span><span class="p">(</span><span class="s1">&#39;r&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest</span> <span class="o">==</span> <span class="n">pitch_rest2</span>
<span class="go">True</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">730</span>
<span class="normal">731</span>
<span class="normal">732</span>
<span class="normal">733</span>
<span class="normal">734</span>
<span class="normal">735</span>
<span class="normal">736</span>
<span class="normal">737</span>
<span class="normal">738</span>
<span class="normal">739</span>
<span class="normal">740</span>
<span class="normal">741</span>
<span class="normal">742</span>
<span class="normal">743</span>
<span class="normal">744</span>
<span class="normal">745</span>
<span class="normal">746</span>
<span class="normal">747</span>
<span class="normal">748</span>
<span class="normal">749</span>
<span class="normal">750</span>
<span class="normal">751</span>
<span class="normal">752</span>
<span class="normal">753</span>
<span class="normal">754</span>
<span class="normal">755</span>
<span class="normal">756</span>
<span class="normal">757</span>
<span class="normal">758</span>
<span class="normal">759</span>
<span class="normal">760</span>
<span class="normal">761</span>
<span class="normal">762</span>
<span class="normal">763</span>
<span class="normal">764</span>
<span class="normal">765</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="s1">&#39;PitchRest&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Compare two pitches and rests.</span>

<span class="sd">    Args:</span>
<span class="sd">        other (PitchRest): The other name to compare</span>

<span class="sd">    Returns (bool):</span>
<span class="sd">        True if the pitches are equal, False otherwise</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest = PitchRest(&#39;c&#39;)</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest2 = PitchRest(&#39;c&#39;)</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest == pitch_rest2</span>
<span class="sd">        True</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest = PitchRest(&#39;c&#39;)</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest2 = PitchRest(&#39;ccc&#39;)</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest == pitch_rest2</span>
<span class="sd">        False</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest = PitchRest(&#39;c&#39;)</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest2 = PitchRest(&#39;r&#39;)</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest == pitch_rest2</span>
<span class="sd">        False</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest = PitchRest(&#39;r&#39;)</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest2 = PitchRest(&#39;r&#39;)</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest == pitch_rest2</span>
<span class="sd">        True</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">PitchRest</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_rest</span><span class="p">()</span> <span class="ow">and</span> <span class="n">other</span><span class="o">.</span><span class="n">is_rest</span><span class="p">():</span>
        <span class="k">return</span> <span class="kc">True</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_rest</span><span class="p">()</span> <span class="ow">or</span> <span class="n">other</span><span class="o">.</span><span class="n">is_rest</span><span class="p">():</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">pitch</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">pitch</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">octave</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">octave</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.PitchRest.__ge__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__ge__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Compare two pitches. If any of the PitchRest is a rest, the comparison raise an exception.
Args:
    other (PitchRest): The other name to compare</p>
<p>Returns (bool):
    True if this name is higher or equal than the other, False otherwise</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest</span> <span class="o">=</span> <span class="n">PitchRest</span><span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest2</span> <span class="o">=</span> <span class="n">PitchRest</span><span class="p">(</span><span class="s1">&#39;d&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest</span> <span class="o">&gt;=</span> <span class="n">pitch_rest2</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest</span> <span class="o">=</span> <span class="n">PitchRest</span><span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest2</span> <span class="o">=</span> <span class="n">PitchRest</span><span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest</span> <span class="o">&gt;=</span> <span class="n">pitch_rest2</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest</span> <span class="o">=</span> <span class="n">PitchRest</span><span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest2</span> <span class="o">=</span> <span class="n">PitchRest</span><span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest</span> <span class="o">&gt;=</span> <span class="n">pitch_rest2</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest</span> <span class="o">=</span> <span class="n">PitchRest</span><span class="p">(</span><span class="s1">&#39;r&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest2</span> <span class="o">=</span> <span class="n">PitchRest</span><span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest</span> <span class="o">&gt;=</span> <span class="n">pitch_rest2</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest</span> <span class="o">=</span> <span class="n">PitchRest</span><span class="p">(</span><span class="s1">&#39;r&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest2</span> <span class="o">=</span> <span class="n">PitchRest</span><span class="p">(</span><span class="s1">&#39;r&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest</span> <span class="o">&gt;=</span> <span class="n">pitch_rest2</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">...</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">893</span>
<span class="normal">894</span>
<span class="normal">895</span>
<span class="normal">896</span>
<span class="normal">897</span>
<span class="normal">898</span>
<span class="normal">899</span>
<span class="normal">900</span>
<span class="normal">901</span>
<span class="normal">902</span>
<span class="normal">903</span>
<span class="normal">904</span>
<span class="normal">905</span>
<span class="normal">906</span>
<span class="normal">907</span>
<span class="normal">908</span>
<span class="normal">909</span>
<span class="normal">910</span>
<span class="normal">911</span>
<span class="normal">912</span>
<span class="normal">913</span>
<span class="normal">914</span>
<span class="normal">915</span>
<span class="normal">916</span>
<span class="normal">917</span>
<span class="normal">918</span>
<span class="normal">919</span>
<span class="normal">920</span>
<span class="normal">921</span>
<span class="normal">922</span>
<span class="normal">923</span>
<span class="normal">924</span>
<span class="normal">925</span>
<span class="normal">926</span>
<span class="normal">927</span>
<span class="normal">928</span>
<span class="normal">929</span>
<span class="normal">930</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__ge__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="s1">&#39;PitchRest&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Compare two pitches. If any of the PitchRest is a rest, the comparison raise an exception.</span>
<span class="sd">    Args:</span>
<span class="sd">        other (PitchRest): The other name to compare</span>

<span class="sd">    Returns (bool):</span>
<span class="sd">        True if this name is higher or equal than the other, False otherwise</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest = PitchRest(&#39;c&#39;)</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest2 = PitchRest(&#39;d&#39;)</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest &gt;= pitch_rest2</span>
<span class="sd">        False</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest = PitchRest(&#39;c&#39;)</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest2 = PitchRest(&#39;c&#39;)</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest &gt;= pitch_rest2</span>
<span class="sd">        True</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest = PitchRest(&#39;c&#39;)</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest2 = PitchRest(&#39;b&#39;)</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest &gt;= pitch_rest2</span>
<span class="sd">        True</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest = PitchRest(&#39;r&#39;)</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest2 = PitchRest(&#39;c&#39;)</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest &gt;= pitch_rest2</span>
<span class="sd">        Traceback (most recent call last):</span>
<span class="sd">        ...</span>
<span class="sd">        ValueError: ...</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest = PitchRest(&#39;r&#39;)</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest2 = PitchRest(&#39;r&#39;)</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest &gt;= pitch_rest2</span>
<span class="sd">        Traceback (most recent call last):</span>
<span class="sd">        ...</span>
<span class="sd">        ValueError: ...</span>


<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__gt__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__eq__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.PitchRest.__gt__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__gt__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Compare two pitches.</p>
<p>If any of the pitches is a rest, the comparison raise an exception.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>other</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.tokens.PitchRest" href="#kernpy.core.PitchRest">PitchRest</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The other name to compare</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns (bool): True if this name is higher than the other, False otherwise</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest</span> <span class="o">=</span> <span class="n">PitchRest</span><span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest2</span> <span class="o">=</span> <span class="n">PitchRest</span><span class="p">(</span><span class="s1">&#39;d&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest</span> <span class="o">&gt;</span> <span class="n">pitch_rest2</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest</span> <span class="o">=</span> <span class="n">PitchRest</span><span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest2</span> <span class="o">=</span> <span class="n">PitchRest</span><span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest</span> <span class="o">&gt;</span> <span class="n">pitch_rest2</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest</span> <span class="o">=</span> <span class="n">PitchRest</span><span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest2</span> <span class="o">=</span> <span class="n">PitchRest</span><span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest</span> <span class="o">&gt;</span> <span class="n">pitch_rest2</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest</span> <span class="o">=</span> <span class="n">PitchRest</span><span class="p">(</span><span class="s1">&#39;r&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest2</span> <span class="o">=</span> <span class="n">PitchRest</span><span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest</span> <span class="o">&gt;</span> <span class="n">pitch_rest2</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest</span> <span class="o">=</span> <span class="n">PitchRest</span><span class="p">(</span><span class="s1">&#39;r&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest2</span> <span class="o">=</span> <span class="n">PitchRest</span><span class="p">(</span><span class="s1">&#39;r&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest</span> <span class="o">&gt;</span> <span class="n">pitch_rest2</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="gr">ValueError</span>: <span class="n">...</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">796</span>
<span class="normal">797</span>
<span class="normal">798</span>
<span class="normal">799</span>
<span class="normal">800</span>
<span class="normal">801</span>
<span class="normal">802</span>
<span class="normal">803</span>
<span class="normal">804</span>
<span class="normal">805</span>
<span class="normal">806</span>
<span class="normal">807</span>
<span class="normal">808</span>
<span class="normal">809</span>
<span class="normal">810</span>
<span class="normal">811</span>
<span class="normal">812</span>
<span class="normal">813</span>
<span class="normal">814</span>
<span class="normal">815</span>
<span class="normal">816</span>
<span class="normal">817</span>
<span class="normal">818</span>
<span class="normal">819</span>
<span class="normal">820</span>
<span class="normal">821</span>
<span class="normal">822</span>
<span class="normal">823</span>
<span class="normal">824</span>
<span class="normal">825</span>
<span class="normal">826</span>
<span class="normal">827</span>
<span class="normal">828</span>
<span class="normal">829</span>
<span class="normal">830</span>
<span class="normal">831</span>
<span class="normal">832</span>
<span class="normal">833</span>
<span class="normal">834</span>
<span class="normal">835</span>
<span class="normal">836</span>
<span class="normal">837</span>
<span class="normal">838</span>
<span class="normal">839</span>
<span class="normal">840</span>
<span class="normal">841</span>
<span class="normal">842</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__gt__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="s1">&#39;PitchRest&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Compare two pitches.</span>

<span class="sd">    If any of the pitches is a rest, the comparison raise an exception.</span>

<span class="sd">    Args:</span>
<span class="sd">        other (PitchRest): The other name to compare</span>

<span class="sd">    Returns (bool): True if this name is higher than the other, False otherwise</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest = PitchRest(&#39;c&#39;)</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest2 = PitchRest(&#39;d&#39;)</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest &gt; pitch_rest2</span>
<span class="sd">        False</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest = PitchRest(&#39;c&#39;)</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest2 = PitchRest(&#39;c&#39;)</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest &gt; pitch_rest2</span>
<span class="sd">        False</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest = PitchRest(&#39;c&#39;)</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest2 = PitchRest(&#39;b&#39;)</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest &gt; pitch_rest2</span>
<span class="sd">        True</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest = PitchRest(&#39;r&#39;)</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest2 = PitchRest(&#39;c&#39;)</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest &gt; pitch_rest2</span>
<span class="sd">        Traceback (most recent call last):</span>
<span class="sd">        ...</span>
<span class="sd">        ValueError: ...</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest = PitchRest(&#39;r&#39;)</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest2 = PitchRest(&#39;r&#39;)</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest &gt; pitch_rest2</span>
<span class="sd">        Traceback (most recent call last):</span>
<span class="sd">        ValueError: ...</span>


<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_rest</span><span class="p">()</span> <span class="ow">or</span> <span class="n">other</span><span class="o">.</span><span class="n">is_rest</span><span class="p">():</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Invalid comparison: &gt; operator can not be used to compare name of a rest.</span><span class="se">\n\</span>
<span class="s1">        self=</span><span class="si">{</span><span class="nb">repr</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="si">}</span><span class="s1"> &gt; other=</span><span class="si">{</span><span class="nb">repr</span><span class="p">(</span><span class="n">other</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">octave</span> <span class="o">&gt;</span> <span class="n">other</span><span class="o">.</span><span class="n">octave</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">True</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">octave</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">octave</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">PitchRest</span><span class="o">.</span><span class="n">pitch_comparator</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pitch</span><span class="p">,</span> <span class="n">other</span><span class="o">.</span><span class="n">pitch</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span>
    <span class="k">return</span> <span class="kc">False</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.PitchRest.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">raw_pitch</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Create a new PitchRest object.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>raw_pitch</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>name representation in Humdrum Kern format</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest</span> <span class="o">=</span> <span class="n">PitchRest</span><span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest</span> <span class="o">=</span> <span class="n">PitchRest</span><span class="p">(</span><span class="s1">&#39;r&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest</span> <span class="o">=</span> <span class="n">PitchRest</span><span class="p">(</span><span class="s1">&#39;DDD&#39;</span><span class="p">)</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">641</span>
<span class="normal">642</span>
<span class="normal">643</span>
<span class="normal">644</span>
<span class="normal">645</span>
<span class="normal">646</span>
<span class="normal">647</span>
<span class="normal">648</span>
<span class="normal">649</span>
<span class="normal">650</span>
<span class="normal">651</span>
<span class="normal">652</span>
<span class="normal">653</span>
<span class="normal">654</span>
<span class="normal">655</span>
<span class="normal">656</span>
<span class="normal">657</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">raw_pitch</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Create a new PitchRest object.</span>

<span class="sd">    Args:</span>
<span class="sd">        raw_pitch (str): name representation in Humdrum Kern format</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest = PitchRest(&#39;c&#39;)</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest = PitchRest(&#39;r&#39;)</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest = PitchRest(&#39;DDD&#39;)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">raw_pitch</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="nb">len</span><span class="p">(</span><span class="n">raw_pitch</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Empty name: name can not be None or empty. But </span><span class="si">{</span><span class="n">raw_pitch</span><span class="si">}</span><span class="s1"> was provided.&#39;</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">encoding</span> <span class="o">=</span> <span class="n">raw_pitch</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">pitch</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">octave</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__parse_pitch_octave</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.PitchRest.__le__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__le__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Compare two pitches. If any of the PitchRest is a rest, the comparison raise an exception.
Args:
    other (PitchRest): The other name to compare</p>
<p>Returns (bool): True if this name is lower or equal than the other, False otherwise</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest</span> <span class="o">=</span> <span class="n">PitchRest</span><span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest2</span> <span class="o">=</span> <span class="n">PitchRest</span><span class="p">(</span><span class="s1">&#39;d&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest</span> <span class="o">&lt;=</span> <span class="n">pitch_rest2</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest</span> <span class="o">=</span> <span class="n">PitchRest</span><span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest2</span> <span class="o">=</span> <span class="n">PitchRest</span><span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest</span> <span class="o">&lt;=</span> <span class="n">pitch_rest2</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest</span> <span class="o">=</span> <span class="n">PitchRest</span><span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest2</span> <span class="o">=</span> <span class="n">PitchRest</span><span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest</span> <span class="o">&lt;=</span> <span class="n">pitch_rest2</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest</span> <span class="o">=</span> <span class="n">PitchRest</span><span class="p">(</span><span class="s1">&#39;r&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest2</span> <span class="o">=</span> <span class="n">PitchRest</span><span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest</span> <span class="o">&lt;=</span> <span class="n">pitch_rest2</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest</span> <span class="o">=</span> <span class="n">PitchRest</span><span class="p">(</span><span class="s1">&#39;r&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest2</span> <span class="o">=</span> <span class="n">PitchRest</span><span class="p">(</span><span class="s1">&#39;r&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest</span> <span class="o">&lt;=</span> <span class="n">pitch_rest2</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">...</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">932</span>
<span class="normal">933</span>
<span class="normal">934</span>
<span class="normal">935</span>
<span class="normal">936</span>
<span class="normal">937</span>
<span class="normal">938</span>
<span class="normal">939</span>
<span class="normal">940</span>
<span class="normal">941</span>
<span class="normal">942</span>
<span class="normal">943</span>
<span class="normal">944</span>
<span class="normal">945</span>
<span class="normal">946</span>
<span class="normal">947</span>
<span class="normal">948</span>
<span class="normal">949</span>
<span class="normal">950</span>
<span class="normal">951</span>
<span class="normal">952</span>
<span class="normal">953</span>
<span class="normal">954</span>
<span class="normal">955</span>
<span class="normal">956</span>
<span class="normal">957</span>
<span class="normal">958</span>
<span class="normal">959</span>
<span class="normal">960</span>
<span class="normal">961</span>
<span class="normal">962</span>
<span class="normal">963</span>
<span class="normal">964</span>
<span class="normal">965</span>
<span class="normal">966</span>
<span class="normal">967</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__le__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="s1">&#39;PitchRest&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Compare two pitches. If any of the PitchRest is a rest, the comparison raise an exception.</span>
<span class="sd">    Args:</span>
<span class="sd">        other (PitchRest): The other name to compare</span>

<span class="sd">    Returns (bool): True if this name is lower or equal than the other, False otherwise</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest = PitchRest(&#39;c&#39;)</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest2 = PitchRest(&#39;d&#39;)</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest &lt;= pitch_rest2</span>
<span class="sd">        True</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest = PitchRest(&#39;c&#39;)</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest2 = PitchRest(&#39;c&#39;)</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest &lt;= pitch_rest2</span>
<span class="sd">        True</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest = PitchRest(&#39;c&#39;)</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest2 = PitchRest(&#39;b&#39;)</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest &lt;= pitch_rest2</span>
<span class="sd">        False</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest = PitchRest(&#39;r&#39;)</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest2 = PitchRest(&#39;c&#39;)</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest &lt;= pitch_rest2</span>
<span class="sd">        Traceback (most recent call last):</span>
<span class="sd">        ...</span>
<span class="sd">        ValueError: ...</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest = PitchRest(&#39;r&#39;)</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest2 = PitchRest(&#39;r&#39;)</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest &lt;= pitch_rest2</span>
<span class="sd">        Traceback (most recent call last):</span>
<span class="sd">        ...</span>
<span class="sd">        ValueError: ...</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__lt__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__eq__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.PitchRest.__lt__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__lt__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Compare two pitches.</p>
<p>If any of the pitches is a rest, the comparison raise an exception.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>other</code></td>
            <td>
                  <code>&#39;PitchRest&#39;</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The other name to compare</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if this name is lower than the other, False otherwise</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest</span> <span class="o">=</span> <span class="n">PitchRest</span><span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest2</span> <span class="o">=</span> <span class="n">PitchRest</span><span class="p">(</span><span class="s1">&#39;d&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest</span> <span class="o">&lt;</span> <span class="n">pitch_rest2</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest</span> <span class="o">=</span> <span class="n">PitchRest</span><span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest2</span> <span class="o">=</span> <span class="n">PitchRest</span><span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest</span> <span class="o">&lt;</span> <span class="n">pitch_rest2</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest</span> <span class="o">=</span> <span class="n">PitchRest</span><span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest2</span> <span class="o">=</span> <span class="n">PitchRest</span><span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest</span> <span class="o">&lt;</span> <span class="n">pitch_rest2</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest</span> <span class="o">=</span> <span class="n">PitchRest</span><span class="p">(</span><span class="s1">&#39;r&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest2</span> <span class="o">=</span> <span class="n">PitchRest</span><span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest</span> <span class="o">&lt;</span> <span class="n">pitch_rest2</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest</span> <span class="o">=</span> <span class="n">PitchRest</span><span class="p">(</span><span class="s1">&#39;r&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest2</span> <span class="o">=</span> <span class="n">PitchRest</span><span class="p">(</span><span class="s1">&#39;r&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest</span> <span class="o">&lt;</span> <span class="n">pitch_rest2</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">...</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">844</span>
<span class="normal">845</span>
<span class="normal">846</span>
<span class="normal">847</span>
<span class="normal">848</span>
<span class="normal">849</span>
<span class="normal">850</span>
<span class="normal">851</span>
<span class="normal">852</span>
<span class="normal">853</span>
<span class="normal">854</span>
<span class="normal">855</span>
<span class="normal">856</span>
<span class="normal">857</span>
<span class="normal">858</span>
<span class="normal">859</span>
<span class="normal">860</span>
<span class="normal">861</span>
<span class="normal">862</span>
<span class="normal">863</span>
<span class="normal">864</span>
<span class="normal">865</span>
<span class="normal">866</span>
<span class="normal">867</span>
<span class="normal">868</span>
<span class="normal">869</span>
<span class="normal">870</span>
<span class="normal">871</span>
<span class="normal">872</span>
<span class="normal">873</span>
<span class="normal">874</span>
<span class="normal">875</span>
<span class="normal">876</span>
<span class="normal">877</span>
<span class="normal">878</span>
<span class="normal">879</span>
<span class="normal">880</span>
<span class="normal">881</span>
<span class="normal">882</span>
<span class="normal">883</span>
<span class="normal">884</span>
<span class="normal">885</span>
<span class="normal">886</span>
<span class="normal">887</span>
<span class="normal">888</span>
<span class="normal">889</span>
<span class="normal">890</span>
<span class="normal">891</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__lt__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="s1">&#39;PitchRest&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Compare two pitches.</span>

<span class="sd">    If any of the pitches is a rest, the comparison raise an exception.</span>

<span class="sd">    Args:</span>
<span class="sd">        other: The other name to compare</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if this name is lower than the other, False otherwise</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest = PitchRest(&#39;c&#39;)</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest2 = PitchRest(&#39;d&#39;)</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest &lt; pitch_rest2</span>
<span class="sd">        True</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest = PitchRest(&#39;c&#39;)</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest2 = PitchRest(&#39;c&#39;)</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest &lt; pitch_rest2</span>
<span class="sd">        False</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest = PitchRest(&#39;c&#39;)</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest2 = PitchRest(&#39;b&#39;)</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest &lt; pitch_rest2</span>
<span class="sd">        False</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest = PitchRest(&#39;r&#39;)</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest2 = PitchRest(&#39;c&#39;)</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest &lt; pitch_rest2</span>
<span class="sd">        Traceback (most recent call last):</span>
<span class="sd">        ...</span>
<span class="sd">        ValueError: ...</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest = PitchRest(&#39;r&#39;)</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest2 = PitchRest(&#39;r&#39;)</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest &lt; pitch_rest2</span>
<span class="sd">        Traceback (most recent call last):</span>
<span class="sd">        ...</span>
<span class="sd">        ValueError: ...</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_rest</span><span class="p">()</span> <span class="ow">or</span> <span class="n">other</span><span class="o">.</span><span class="n">is_rest</span><span class="p">():</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Invalid comparison: &lt; operator can not be used to compare name of a rest.</span><span class="se">\n\</span>
<span class="s1">        self=</span><span class="si">{</span><span class="nb">repr</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="si">}</span><span class="s1"> &lt; other=</span><span class="si">{</span><span class="nb">repr</span><span class="p">(</span><span class="n">other</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">octave</span> <span class="o">&lt;</span> <span class="n">other</span><span class="o">.</span><span class="n">octave</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">True</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">octave</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">octave</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">PitchRest</span><span class="o">.</span><span class="n">pitch_comparator</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pitch</span><span class="p">,</span> <span class="n">other</span><span class="o">.</span><span class="n">pitch</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">0</span>
    <span class="k">return</span> <span class="kc">False</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.PitchRest.__ne__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__ne__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Compare two pitches and rests.
Args:
    other (PitchRest): The other name to compare</p>
<p>Returns (bool):
    True if the pitches are different, False otherwise</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest</span> <span class="o">=</span> <span class="n">PitchRest</span><span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest2</span> <span class="o">=</span> <span class="n">PitchRest</span><span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest</span> <span class="o">!=</span> <span class="n">pitch_rest2</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest</span> <span class="o">=</span> <span class="n">PitchRest</span><span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest2</span> <span class="o">=</span> <span class="n">PitchRest</span><span class="p">(</span><span class="s1">&#39;ccc&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest</span> <span class="o">!=</span> <span class="n">pitch_rest2</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest</span> <span class="o">=</span> <span class="n">PitchRest</span><span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest2</span> <span class="o">=</span> <span class="n">PitchRest</span><span class="p">(</span><span class="s1">&#39;r&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest</span> <span class="o">!=</span> <span class="n">pitch_rest2</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest</span> <span class="o">=</span> <span class="n">PitchRest</span><span class="p">(</span><span class="s1">&#39;r&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest2</span> <span class="o">=</span> <span class="n">PitchRest</span><span class="p">(</span><span class="s1">&#39;r&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest</span> <span class="o">!=</span> <span class="n">pitch_rest2</span>
<span class="go">False</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">767</span>
<span class="normal">768</span>
<span class="normal">769</span>
<span class="normal">770</span>
<span class="normal">771</span>
<span class="normal">772</span>
<span class="normal">773</span>
<span class="normal">774</span>
<span class="normal">775</span>
<span class="normal">776</span>
<span class="normal">777</span>
<span class="normal">778</span>
<span class="normal">779</span>
<span class="normal">780</span>
<span class="normal">781</span>
<span class="normal">782</span>
<span class="normal">783</span>
<span class="normal">784</span>
<span class="normal">785</span>
<span class="normal">786</span>
<span class="normal">787</span>
<span class="normal">788</span>
<span class="normal">789</span>
<span class="normal">790</span>
<span class="normal">791</span>
<span class="normal">792</span>
<span class="normal">793</span>
<span class="normal">794</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__ne__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="s1">&#39;PitchRest&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Compare two pitches and rests.</span>
<span class="sd">    Args:</span>
<span class="sd">        other (PitchRest): The other name to compare</span>

<span class="sd">    Returns (bool):</span>
<span class="sd">        True if the pitches are different, False otherwise</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest = PitchRest(&#39;c&#39;)</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest2 = PitchRest(&#39;c&#39;)</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest != pitch_rest2</span>
<span class="sd">        False</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest = PitchRest(&#39;c&#39;)</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest2 = PitchRest(&#39;ccc&#39;)</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest != pitch_rest2</span>
<span class="sd">        True</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest = PitchRest(&#39;c&#39;)</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest2 = PitchRest(&#39;r&#39;)</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest != pitch_rest2</span>
<span class="sd">        True</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest = PitchRest(&#39;r&#39;)</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest2 = PitchRest(&#39;r&#39;)</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest != pitch_rest2</span>
<span class="sd">        False</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__eq__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.PitchRest.is_rest" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">is_rest</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Check if the name is a rest.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>bool</code></td>            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if the name is a rest, False otherwise.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest</span> <span class="o">=</span> <span class="n">PitchRest</span><span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest</span><span class="o">.</span><span class="n">is_rest</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest</span> <span class="o">=</span> <span class="n">PitchRest</span><span class="p">(</span><span class="s1">&#39;r&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pitch_rest</span><span class="o">.</span><span class="n">is_rest</span><span class="p">()</span>
<span class="go">True</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">677</span>
<span class="normal">678</span>
<span class="normal">679</span>
<span class="normal">680</span>
<span class="normal">681</span>
<span class="normal">682</span>
<span class="normal">683</span>
<span class="normal">684</span>
<span class="normal">685</span>
<span class="normal">686</span>
<span class="normal">687</span>
<span class="normal">688</span>
<span class="normal">689</span>
<span class="normal">690</span>
<span class="normal">691</span>
<span class="normal">692</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">is_rest</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Check if the name is a rest.</span>

<span class="sd">    Returns:</span>
<span class="sd">        bool: True if the name is a rest, False otherwise.</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest = PitchRest(&#39;c&#39;)</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest.is_rest()</span>
<span class="sd">        False</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest = PitchRest(&#39;r&#39;)</span>
<span class="sd">        &gt;&gt;&gt; pitch_rest.is_rest()</span>
<span class="sd">        True</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">octave</span> <span class="ow">is</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.PitchRest.pitch_comparator" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">pitch_comparator</span><span class="p">(</span><span class="n">pitch_a</span><span class="p">,</span> <span class="n">pitch_b</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>Compare two pitches of the same octave.</p>
<p>The lower name is 'a'. So 'a' &lt; 'b' &lt; 'c' &lt; 'd' &lt; 'e' &lt; 'f' &lt; 'g'</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>pitch_a</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>One name of 'abcdefg'</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>pitch_b</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Another name of 'abcdefg'</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>-1 if pitch1 is lower than pitch2</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>0 if pitch1 is equal to pitch2</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>1 if pitch1 is higher than pitch2</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">PitchRest</span><span class="o">.</span><span class="n">pitch_comparator</span><span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">)</span>
<span class="go">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">PitchRest</span><span class="o">.</span><span class="n">pitch_comparator</span><span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">)</span>
<span class="go">-1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">PitchRest</span><span class="o">.</span><span class="n">pitch_comparator</span><span class="p">(</span><span class="s1">&#39;d&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">)</span>
<span class="go">1</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">694</span>
<span class="normal">695</span>
<span class="normal">696</span>
<span class="normal">697</span>
<span class="normal">698</span>
<span class="normal">699</span>
<span class="normal">700</span>
<span class="normal">701</span>
<span class="normal">702</span>
<span class="normal">703</span>
<span class="normal">704</span>
<span class="normal">705</span>
<span class="normal">706</span>
<span class="normal">707</span>
<span class="normal">708</span>
<span class="normal">709</span>
<span class="normal">710</span>
<span class="normal">711</span>
<span class="normal">712</span>
<span class="normal">713</span>
<span class="normal">714</span>
<span class="normal">715</span>
<span class="normal">716</span>
<span class="normal">717</span>
<span class="normal">718</span>
<span class="normal">719</span>
<span class="normal">720</span>
<span class="normal">721</span>
<span class="normal">722</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">pitch_comparator</span><span class="p">(</span><span class="n">pitch_a</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">pitch_b</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Compare two pitches of the same octave.</span>

<span class="sd">    The lower name is &#39;a&#39;. So &#39;a&#39; &lt; &#39;b&#39; &lt; &#39;c&#39; &lt; &#39;d&#39; &lt; &#39;e&#39; &lt; &#39;f&#39; &lt; &#39;g&#39;</span>

<span class="sd">    Args:</span>
<span class="sd">        pitch_a: One name of &#39;abcdefg&#39;</span>
<span class="sd">        pitch_b: Another name of &#39;abcdefg&#39;</span>

<span class="sd">    Returns:</span>
<span class="sd">        -1 if pitch1 is lower than pitch2</span>
<span class="sd">        0 if pitch1 is equal to pitch2</span>
<span class="sd">        1 if pitch1 is higher than pitch2</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; PitchRest.pitch_comparator(&#39;c&#39;, &#39;c&#39;)</span>
<span class="sd">        0</span>
<span class="sd">        &gt;&gt;&gt; PitchRest.pitch_comparator(&#39;c&#39;, &#39;d&#39;)</span>
<span class="sd">        -1</span>
<span class="sd">        &gt;&gt;&gt; PitchRest.pitch_comparator(&#39;d&#39;, &#39;c&#39;)</span>
<span class="sd">        1</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">pitch_a</span> <span class="o">&lt;</span> <span class="n">pitch_b</span><span class="p">:</span>
        <span class="k">return</span> <span class="o">-</span><span class="mi">1</span>
    <span class="k">if</span> <span class="n">pitch_a</span> <span class="o">&gt;</span> <span class="n">pitch_b</span><span class="p">:</span>
        <span class="k">return</span> <span class="mi">1</span>
    <span class="k">return</span> <span class="mi">0</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="kernpy.core.PositionInStaff" class="doc doc-heading">
            <code>PositionInStaff</code>


</h2>


    <div class="doc doc-contents ">


              <details class="quote">
                <summary>Source code in <code>kernpy/core/gkern.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">PositionInStaff</span><span class="p">:</span>
    <span class="n">LINE_CHARACTER</span> <span class="o">=</span> <span class="s1">&#39;L&#39;</span>
    <span class="n">SPACE_CHARACTER</span> <span class="o">=</span> <span class="s1">&#39;S&#39;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">line_space</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initializes the PositionInStaff object.</span>

<span class="sd">        Args:</span>
<span class="sd">            line_space (int): 0 for bottom line, -1 for space under bottom line, 1 for space above bottom line. \</span>
<span class="sd">             Increments by 1 for each line or space.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">line_space</span> <span class="o">=</span> <span class="n">line_space</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">from_line</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">line</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PositionInStaff</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates a PositionInStaff object from a line number.</span>

<span class="sd">        Args:</span>
<span class="sd">            line (int): The line number. line 1 is bottom line, 2 is the 1st line from bottom, 0 is the bottom ledger line</span>

<span class="sd">        Returns:</span>
<span class="sd">            PositionInStaff: The PositionInStaff object. 0 for the bottom line, 2 for the 1st line from bottom, -1 for the bottom ledger line, etc.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="p">((</span><span class="n">line</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="mi">2</span><span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">from_space</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">space</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PositionInStaff</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates a PositionInStaff object from a space number.</span>

<span class="sd">        Args:</span>
<span class="sd">            space (int): The space number. space 1 is bottom space, 2</span>

<span class="sd">        Returns:</span>
<span class="sd">            PositionInStaff: The PositionInStaff object.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="p">((</span><span class="n">space</span><span class="p">)</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">from_encoded</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">encoded</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PositionInStaff</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates a PositionInStaff object from an encoded string.</span>

<span class="sd">        Args:</span>
<span class="sd">            encoded (str): The encoded string.</span>

<span class="sd">        Returns:</span>
<span class="sd">            PositionInStaff: The PositionInStaff object.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">encoded</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="bp">cls</span><span class="o">.</span><span class="n">LINE_CHARACTER</span><span class="p">):</span>
            <span class="n">line</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">encoded</span><span class="p">[</span><span class="mi">1</span><span class="p">:])</span>  <span class="c1"># Extract the line number</span>
            <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">from_line</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">encoded</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="bp">cls</span><span class="o">.</span><span class="n">SPACE_CHARACTER</span><span class="p">):</span>
            <span class="n">space</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">encoded</span><span class="p">[</span><span class="mi">1</span><span class="p">:])</span>  <span class="c1"># Extract the space number</span>
            <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">from_space</span><span class="p">(</span><span class="n">space</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;&quot;</span>
                             <span class="sa">f</span><span class="s2">&quot;Invalid encoded string: </span><span class="si">{</span><span class="n">encoded</span><span class="si">}</span><span class="s2">. &quot;</span>
                             <span class="sa">f</span><span class="s2">&quot;Expected to start with &#39;</span><span class="si">{</span><span class="bp">cls</span><span class="o">.</span><span class="n">LINE_CHARACTER</span><span class="si">}</span><span class="s2">&#39; or &#39;</span><span class="si">{</span><span class="bp">cls</span><span class="o">.</span><span class="n">SPACE_CHARACTER</span><span class="si">}</span><span class="s2"> at the beginning.&quot;</span><span class="p">)</span>


    <span class="k">def</span><span class="w"> </span><span class="nf">line</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the line number of the position in staff.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">line_space</span> <span class="o">//</span> <span class="mi">2</span> <span class="o">+</span> <span class="mi">1</span>


    <span class="k">def</span><span class="w"> </span><span class="nf">space</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the space number of the position in staff.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">line_space</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">//</span> <span class="mi">2</span> <span class="o">+</span> <span class="mi">1</span>


    <span class="k">def</span><span class="w"> </span><span class="nf">is_line</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns True if the position is a line, False otherwise. If is not a line, it is a space, and vice versa.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">line_space</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">move</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">line_space_difference</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PositionInStaff</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a new PositionInStaff object with the position moved by the given number of lines or spaces.</span>

<span class="sd">        Args:</span>
<span class="sd">            line_space_difference (int): The number of lines or spaces to move.</span>

<span class="sd">        Returns:</span>
<span class="sd">            PositionInStaff: The new PositionInStaff object.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">PositionInStaff</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">line_space</span> <span class="o">+</span> <span class="n">line_space_difference</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">position_below</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PositionInStaff</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the position below the current position.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">position_above</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PositionInStaff</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the position above the current position.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>



    <span class="k">def</span><span class="w"> </span><span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the string representation of the position in staff.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_line</span><span class="p">():</span>
            <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">LINE_CHARACTER</span><span class="si">}{</span><span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">line</span><span class="p">())</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">SPACE_CHARACTER</span><span class="si">}{</span><span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">space</span><span class="p">())</span><span class="si">}</span><span class="s2">&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the string representation of the PositionInStaff object.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;PositionInStaff(line_space=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">line_space</span><span class="si">}</span><span class="s2">), </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="fm">__str__</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Compares two PositionInStaff objects.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">PositionInStaff</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">line_space</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">line_space</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__ne__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Compares two PositionInStaff objects.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__eq__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__hash__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the hash of the PositionInStaff object.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">hash</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">line_space</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__lt__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Compares two PositionInStaff objects.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">PositionInStaff</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">NotImplemented</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">line_space</span> <span class="o">&lt;</span> <span class="n">other</span><span class="o">.</span><span class="n">line_space</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="kernpy.core.PositionInStaff.__eq__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__eq__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Compares two PositionInStaff objects.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/gkern.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Compares two PositionInStaff objects.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">PositionInStaff</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">line_space</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">line_space</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.PositionInStaff.__hash__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__hash__</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Returns the hash of the PositionInStaff object.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/gkern.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__hash__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns the hash of the PositionInStaff object.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="nb">hash</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">line_space</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.PositionInStaff.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">line_space</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Initializes the PositionInStaff object.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>line_space</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>0 for bottom line, -1 for space under bottom line, 1 for space above bottom line.              Increments by 1 for each line or space.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/gkern.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">line_space</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Initializes the PositionInStaff object.</span>

<span class="sd">    Args:</span>
<span class="sd">        line_space (int): 0 for bottom line, -1 for space under bottom line, 1 for space above bottom line. \</span>
<span class="sd">         Increments by 1 for each line or space.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">line_space</span> <span class="o">=</span> <span class="n">line_space</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.PositionInStaff.__lt__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__lt__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Compares two PositionInStaff objects.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/gkern.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__lt__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Compares two PositionInStaff objects.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">PositionInStaff</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">NotImplemented</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">line_space</span> <span class="o">&lt;</span> <span class="n">other</span><span class="o">.</span><span class="n">line_space</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.PositionInStaff.__ne__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__ne__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Compares two PositionInStaff objects.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/gkern.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__ne__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Compares two PositionInStaff objects.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__eq__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.PositionInStaff.__repr__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__repr__</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Returns the string representation of the PositionInStaff object.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/gkern.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns the string representation of the PositionInStaff object.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;PositionInStaff(line_space=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">line_space</span><span class="si">}</span><span class="s2">), </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="fm">__str__</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.PositionInStaff.__str__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__str__</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Returns the string representation of the position in staff.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/gkern.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns the string representation of the position in staff.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_line</span><span class="p">():</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">LINE_CHARACTER</span><span class="si">}{</span><span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">line</span><span class="p">())</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">SPACE_CHARACTER</span><span class="si">}{</span><span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">space</span><span class="p">())</span><span class="si">}</span><span class="s2">&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.PositionInStaff.from_encoded" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">from_encoded</span><span class="p">(</span><span class="n">encoded</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>Creates a PositionInStaff object from an encoded string.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>encoded</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The encoded string.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>PositionInStaff</code></td>            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.gkern.PositionInStaff" href="#kernpy.core.PositionInStaff">PositionInStaff</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The PositionInStaff object.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/gkern.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">from_encoded</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">encoded</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PositionInStaff</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Creates a PositionInStaff object from an encoded string.</span>

<span class="sd">    Args:</span>
<span class="sd">        encoded (str): The encoded string.</span>

<span class="sd">    Returns:</span>
<span class="sd">        PositionInStaff: The PositionInStaff object.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">encoded</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="bp">cls</span><span class="o">.</span><span class="n">LINE_CHARACTER</span><span class="p">):</span>
        <span class="n">line</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">encoded</span><span class="p">[</span><span class="mi">1</span><span class="p">:])</span>  <span class="c1"># Extract the line number</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">from_line</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">encoded</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="bp">cls</span><span class="o">.</span><span class="n">SPACE_CHARACTER</span><span class="p">):</span>
        <span class="n">space</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">encoded</span><span class="p">[</span><span class="mi">1</span><span class="p">:])</span>  <span class="c1"># Extract the space number</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">from_space</span><span class="p">(</span><span class="n">space</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;&quot;</span>
                         <span class="sa">f</span><span class="s2">&quot;Invalid encoded string: </span><span class="si">{</span><span class="n">encoded</span><span class="si">}</span><span class="s2">. &quot;</span>
                         <span class="sa">f</span><span class="s2">&quot;Expected to start with &#39;</span><span class="si">{</span><span class="bp">cls</span><span class="o">.</span><span class="n">LINE_CHARACTER</span><span class="si">}</span><span class="s2">&#39; or &#39;</span><span class="si">{</span><span class="bp">cls</span><span class="o">.</span><span class="n">SPACE_CHARACTER</span><span class="si">}</span><span class="s2"> at the beginning.&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.PositionInStaff.from_line" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">from_line</span><span class="p">(</span><span class="n">line</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>Creates a PositionInStaff object from a line number.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>line</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The line number. line 1 is bottom line, 2 is the 1st line from bottom, 0 is the bottom ledger line</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>PositionInStaff</code></td>            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.gkern.PositionInStaff" href="#kernpy.core.PositionInStaff">PositionInStaff</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The PositionInStaff object. 0 for the bottom line, 2 for the 1st line from bottom, -1 for the bottom ledger line, etc.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/gkern.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">from_line</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">line</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PositionInStaff</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Creates a PositionInStaff object from a line number.</span>

<span class="sd">    Args:</span>
<span class="sd">        line (int): The line number. line 1 is bottom line, 2 is the 1st line from bottom, 0 is the bottom ledger line</span>

<span class="sd">    Returns:</span>
<span class="sd">        PositionInStaff: The PositionInStaff object. 0 for the bottom line, 2 for the 1st line from bottom, -1 for the bottom ledger line, etc.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">cls</span><span class="p">((</span><span class="n">line</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="mi">2</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.PositionInStaff.from_space" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">from_space</span><span class="p">(</span><span class="n">space</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>Creates a PositionInStaff object from a space number.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>space</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The space number. space 1 is bottom space, 2</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>PositionInStaff</code></td>            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.gkern.PositionInStaff" href="#kernpy.core.PositionInStaff">PositionInStaff</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The PositionInStaff object.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/gkern.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span>
<span class="normal">90</span>
<span class="normal">91</span>
<span class="normal">92</span>
<span class="normal">93</span>
<span class="normal">94</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">from_space</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">space</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PositionInStaff</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Creates a PositionInStaff object from a space number.</span>

<span class="sd">    Args:</span>
<span class="sd">        space (int): The space number. space 1 is bottom space, 2</span>

<span class="sd">    Returns:</span>
<span class="sd">        PositionInStaff: The PositionInStaff object.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">cls</span><span class="p">((</span><span class="n">space</span><span class="p">)</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.PositionInStaff.is_line" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">is_line</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Returns True if the position is a line, False otherwise. If is not a line, it is a space, and vice versa.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/gkern.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">is_line</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns True if the position is a line, False otherwise. If is not a line, it is a space, and vice versa.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">line_space</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.PositionInStaff.line" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">line</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Returns the line number of the position in staff.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/gkern.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">line</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns the line number of the position in staff.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">line_space</span> <span class="o">//</span> <span class="mi">2</span> <span class="o">+</span> <span class="mi">1</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.PositionInStaff.move" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">move</span><span class="p">(</span><span class="n">line_space_difference</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Returns a new PositionInStaff object with the position moved by the given number of lines or spaces.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>line_space_difference</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The number of lines or spaces to move.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>PositionInStaff</code></td>            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.gkern.PositionInStaff" href="#kernpy.core.PositionInStaff">PositionInStaff</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The new PositionInStaff object.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/gkern.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">move</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">line_space_difference</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PositionInStaff</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns a new PositionInStaff object with the position moved by the given number of lines or spaces.</span>

<span class="sd">    Args:</span>
<span class="sd">        line_space_difference (int): The number of lines or spaces to move.</span>

<span class="sd">    Returns:</span>
<span class="sd">        PositionInStaff: The new PositionInStaff object.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">PositionInStaff</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">line_space</span> <span class="o">+</span> <span class="n">line_space_difference</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.PositionInStaff.position_above" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">position_above</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Returns the position above the current position.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/gkern.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">position_above</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PositionInStaff</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns the position above the current position.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.PositionInStaff.position_below" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">position_below</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Returns the position below the current position.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/gkern.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">position_below</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PositionInStaff</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns the position below the current position.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.PositionInStaff.space" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">space</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Returns the space number of the position in staff.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/gkern.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">space</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns the space number of the position in staff.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">line_space</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">//</span> <span class="mi">2</span> <span class="o">+</span> <span class="mi">1</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="kernpy.core.RootSpineImporter" class="doc doc-heading">
            <code>RootSpineImporter</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="kernpy.core.spine_importer.SpineImporter" href="#kernpy.core.SpineImporter">SpineImporter</a></code></p>


              <details class="quote">
                <summary>Source code in <code>kernpy/core/root_spine_importer.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">RootSpineImporter</span><span class="p">(</span><span class="n">SpineImporter</span><span class="p">):</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">verbose</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        KernSpineImporter constructor.</span>

<span class="sd">        Args:</span>
<span class="sd">            verbose (Optional[bool]): Level of verbosity for error messages.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="n">verbose</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">import_listener</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BaseANTLRSpineParserListener</span><span class="p">:</span>
        <span class="c1">#return RootSpineListener() # TODO: Create a custom functional listener for RootSpineImporter</span>
        <span class="k">return</span> <span class="n">KernSpineListener</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">import_token</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">encoding</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Token</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_raise_error_if_wrong_input</span><span class="p">(</span><span class="n">encoding</span><span class="p">)</span>

        <span class="n">kern_spine_importer</span> <span class="o">=</span> <span class="n">KernSpineImporter</span><span class="p">()</span>
        <span class="n">token</span> <span class="o">=</span> <span class="n">kern_spine_importer</span><span class="o">.</span><span class="n">import_token</span><span class="p">(</span><span class="n">encoding</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">token</span>  <span class="c1"># The **root spine tokens are always a subset of the **kern spine tokens</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="kernpy.core.RootSpineImporter.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>KernSpineImporter constructor.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>verbose</code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[bool]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Level of verbosity for error messages.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/root_spine_importer.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">verbose</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    KernSpineImporter constructor.</span>

<span class="sd">    Args:</span>
<span class="sd">        verbose (Optional[bool]): Level of verbosity for error messages.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="n">verbose</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="kernpy.core.SignatureNodes" class="doc doc-heading">
            <code>SignatureNodes</code>


</h2>


    <div class="doc doc-contents ">


        <p>SignatureNodes class.</p>
<p>This class is used to store the last signature nodes of a tree.
It is used to keep track of the last signature nodes.</p>
<p>Attributes: nodes (dict): A dictionary that stores the last signature nodes. This way, we can add several tokens
without repetitions. - The key is the signature descendant token class (KeyToken, MeterSymbolToken, etc...) - The
value = node</p>

              <details class="quote">
                <summary>Source code in <code>kernpy/core/document.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">SignatureNodes</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    SignatureNodes class.</span>

<span class="sd">    This class is used to store the last signature nodes of a tree.</span>
<span class="sd">    It is used to keep track of the last signature nodes.</span>

<span class="sd">    Attributes: nodes (dict): A dictionary that stores the last signature nodes. This way, we can add several tokens</span>
<span class="sd">    without repetitions. - The key is the signature descendant token class (KeyToken, MeterSymbolToken, etc...) - The</span>
<span class="sd">    value = node</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Create an instance of SignatureNodes. Initialize the nodes as an empty dictionary.</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; signature_nodes = SignatureNodes()</span>
<span class="sd">            &gt;&gt;&gt; signature_nodes.nodes</span>
<span class="sd">            {}</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nodes</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">clone</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Create a deep copy of the SignatureNodes instance.</span>
<span class="sd">        Returns: A new instance of SignatureNodes with nodes copied.</span>

<span class="sd">        # TODO: This method is equivalent to the following code:</span>
<span class="sd">        # from copy import deepcopy</span>
<span class="sd">        # signature_nodes_to_copy = SignatureNodes()</span>
<span class="sd">        # ...</span>
<span class="sd">        # result = deepcopy(signature_nodes_to_copy)</span>
<span class="sd">        # It should be tested.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">SignatureNodes</span><span class="p">()</span>
        <span class="n">result</span><span class="o">.</span><span class="n">nodes</span> <span class="o">=</span> <span class="n">copy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">update</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">[</span><span class="n">node</span><span class="o">.</span><span class="n">token</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">]</span> <span class="o">=</span> <span class="n">node</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="kernpy.core.SignatureNodes.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Create an instance of SignatureNodes. Initialize the nodes as an empty dictionary.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">signature_nodes</span> <span class="o">=</span> <span class="n">SignatureNodes</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">signature_nodes</span><span class="o">.</span><span class="n">nodes</span>
<span class="go">{}</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/document.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Create an instance of SignatureNodes. Initialize the nodes as an empty dictionary.</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; signature_nodes = SignatureNodes()</span>
<span class="sd">        &gt;&gt;&gt; signature_nodes.nodes</span>
<span class="sd">        {}</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">nodes</span> <span class="o">=</span> <span class="p">{}</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.SignatureNodes.clone" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">clone</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Create a deep copy of the SignatureNodes instance.
Returns: A new instance of SignatureNodes with nodes copied.</p>
<h4 id="kernpy.core.SignatureNodes.clone--todo-this-method-is-equivalent-to-the-following-code">TODO: This method is equivalent to the following code:</h4>
<h4 id="kernpy.core.SignatureNodes.clone--from-copy-import-deepcopy">from copy import deepcopy</h4>
<h4 id="kernpy.core.SignatureNodes.clone--signature_nodes_to_copy-signaturenodes">signature_nodes_to_copy = SignatureNodes()</h4>
<h4 id="kernpy.core.SignatureNodes.clone--_1">...</h4>
<h4 id="kernpy.core.SignatureNodes.clone--result-deepcopysignature_nodes_to_copy">result = deepcopy(signature_nodes_to_copy)</h4>
<h4 id="kernpy.core.SignatureNodes.clone--it-should-be-tested">It should be tested.</h4>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/document.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">clone</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Create a deep copy of the SignatureNodes instance.</span>
<span class="sd">    Returns: A new instance of SignatureNodes with nodes copied.</span>

<span class="sd">    # TODO: This method is equivalent to the following code:</span>
<span class="sd">    # from copy import deepcopy</span>
<span class="sd">    # signature_nodes_to_copy = SignatureNodes()</span>
<span class="sd">    # ...</span>
<span class="sd">    # result = deepcopy(signature_nodes_to_copy)</span>
<span class="sd">    # It should be tested.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">SignatureNodes</span><span class="p">()</span>
    <span class="n">result</span><span class="o">.</span><span class="n">nodes</span> <span class="o">=</span> <span class="n">copy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nodes</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">result</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="kernpy.core.SignatureToken" class="doc doc-heading">
            <code>SignatureToken</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="kernpy.core.tokens.SimpleToken" href="#kernpy.core.SimpleToken">SimpleToken</a></code></p>


        <p>SignatureToken class for all signature tokens. It will be overridden by more specific classes.</p>

              <details class="quote">
                <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1654</span>
<span class="normal">1655</span>
<span class="normal">1656</span>
<span class="normal">1657</span>
<span class="normal">1658</span>
<span class="normal">1659</span>
<span class="normal">1660</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">SignatureToken</span><span class="p">(</span><span class="n">SimpleToken</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    SignatureToken class for all signature tokens. It will be overridden by more specific classes.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">encoding</span><span class="p">,</span> <span class="n">category</span><span class="o">=</span><span class="n">TokenCategory</span><span class="o">.</span><span class="n">SIGNATURES</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">encoding</span><span class="p">,</span> <span class="n">category</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="kernpy.core.SimpleToken" class="doc doc-heading">
            <code>SimpleToken</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="kernpy.core.tokens.Token" href="#kernpy.core.Token">Token</a></code></p>


        <p>SimpleToken class.</p>

              <details class="quote">
                <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1480</span>
<span class="normal">1481</span>
<span class="normal">1482</span>
<span class="normal">1483</span>
<span class="normal">1484</span>
<span class="normal">1485</span>
<span class="normal">1486</span>
<span class="normal">1487</span>
<span class="normal">1488</span>
<span class="normal">1489</span>
<span class="normal">1490</span>
<span class="normal">1491</span>
<span class="normal">1492</span>
<span class="normal">1493</span>
<span class="normal">1494</span>
<span class="normal">1495</span>
<span class="normal">1496</span>
<span class="normal">1497</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">SimpleToken</span><span class="p">(</span><span class="n">Token</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    SimpleToken class.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">encoding</span><span class="p">,</span> <span class="n">category</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">encoding</span><span class="p">,</span> <span class="n">category</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">export</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Exports the token.</span>

<span class="sd">        Args:</span>
<span class="sd">            **kwargs: &#39;filter_categories&#39; (Optional[Callable[[TokenCategory], bool]]): It is ignored in this class.</span>

<span class="sd">        Returns (str): The encoded token representation.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">encoding</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="kernpy.core.SimpleToken.export" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">export</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Exports the token.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>**kwargs</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>'filter_categories' (Optional[Callable[[TokenCategory], bool]]): It is ignored in this class.</p>
              </div>
            </td>
            <td>
                  <code>{}</code>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns (str): The encoded token representation.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1488</span>
<span class="normal">1489</span>
<span class="normal">1490</span>
<span class="normal">1491</span>
<span class="normal">1492</span>
<span class="normal">1493</span>
<span class="normal">1494</span>
<span class="normal">1495</span>
<span class="normal">1496</span>
<span class="normal">1497</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">export</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Exports the token.</span>

<span class="sd">    Args:</span>
<span class="sd">        **kwargs: &#39;filter_categories&#39; (Optional[Callable[[TokenCategory], bool]]): It is ignored in this class.</span>

<span class="sd">    Returns (str): The encoded token representation.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">encoding</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="kernpy.core.SpineImporter" class="doc doc-heading">
            <code>SpineImporter</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="abc.ABC">ABC</span></code></p>


              <details class="quote">
                <summary>Source code in <code>kernpy/core/spine_importer.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">SpineImporter</span><span class="p">(</span><span class="n">ABC</span><span class="p">):</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">verbose</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        SpineImporter constructor.</span>
<span class="sd">        This class is an abstract base class for importing all kinds of spines.</span>

<span class="sd">        Args:</span>
<span class="sd">            verbose (Optional[bool]): Level of verbosity for error messages.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">import_listener</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">import_listener</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">error_listener</span> <span class="o">=</span> <span class="n">ErrorListener</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="n">verbose</span><span class="p">)</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">import_listener</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BaseANTLRSpineParserListener</span><span class="p">:</span>
        <span class="k">pass</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">import_token</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">encoding</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Token</span><span class="p">:</span>
        <span class="k">pass</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_raise_error_if_wrong_input</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">encoding</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">encoding</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Encoding cannot be None&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">encoding</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;Encoding must be a string&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">encoding</span> <span class="o">==</span> <span class="s1">&#39;&#39;</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Encoding cannot be an empty string&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="kernpy.core.SpineImporter.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>SpineImporter constructor.
This class is an abstract base class for importing all kinds of spines.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>verbose</code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[bool]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Level of verbosity for error messages.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/spine_importer.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">verbose</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    SpineImporter constructor.</span>
<span class="sd">    This class is an abstract base class for importing all kinds of spines.</span>

<span class="sd">    Args:</span>
<span class="sd">        verbose (Optional[bool]): Level of verbosity for error messages.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">import_listener</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">import_listener</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">error_listener</span> <span class="o">=</span> <span class="n">ErrorListener</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="n">verbose</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="kernpy.core.SpineOperationToken" class="doc doc-heading">
            <code>SpineOperationToken</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="kernpy.core.tokens.SimpleToken" href="#kernpy.core.SimpleToken">SimpleToken</a></code></p>


        <p>SpineOperationToken class.</p>
<p>This token represents different operations in the Humdrum kern encoding.
These are the available operations:
    - <code>*-</code>:  spine-path terminator.
    - <code>*</code>: null interpretation.
    - <code>*+</code>: add spines.
    - <code>*^</code>: split spines.
    - <code>*x</code>: exchange spines.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="kernpy.core.SpineOperationToken.cancelled_at_stage">cancelled_at_stage</span></code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The stage at which the operation was cancelled. Defaults to None.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

              <details class="quote">
                <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1609</span>
<span class="normal">1610</span>
<span class="normal">1611</span>
<span class="normal">1612</span>
<span class="normal">1613</span>
<span class="normal">1614</span>
<span class="normal">1615</span>
<span class="normal">1616</span>
<span class="normal">1617</span>
<span class="normal">1618</span>
<span class="normal">1619</span>
<span class="normal">1620</span>
<span class="normal">1621</span>
<span class="normal">1622</span>
<span class="normal">1623</span>
<span class="normal">1624</span>
<span class="normal">1625</span>
<span class="normal">1626</span>
<span class="normal">1627</span>
<span class="normal">1628</span>
<span class="normal">1629</span>
<span class="normal">1630</span>
<span class="normal">1631</span>
<span class="normal">1632</span>
<span class="normal">1633</span>
<span class="normal">1634</span>
<span class="normal">1635</span>
<span class="normal">1636</span>
<span class="normal">1637</span>
<span class="normal">1638</span>
<span class="normal">1639</span>
<span class="normal">1640</span>
<span class="normal">1641</span>
<span class="normal">1642</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">SpineOperationToken</span><span class="p">(</span><span class="n">SimpleToken</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    SpineOperationToken class.</span>

<span class="sd">    This token represents different operations in the Humdrum kern encoding.</span>
<span class="sd">    These are the available operations:</span>
<span class="sd">        - `*-`:  spine-path terminator.</span>
<span class="sd">        - `*`: null interpretation.</span>
<span class="sd">        - `*+`: add spines.</span>
<span class="sd">        - `*^`: split spines.</span>
<span class="sd">        - `*x`: exchange spines.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        cancelled_at_stage (int): The stage at which the operation was cancelled. Defaults to None.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">encoding</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">encoding</span><span class="p">,</span> <span class="n">TokenCategory</span><span class="o">.</span><span class="n">SPINE_OPERATION</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cancelled_at_stage</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">is_cancelled_at</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stage</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Checks if the operation was cancelled at the given stage.</span>

<span class="sd">        Args:</span>
<span class="sd">            stage (int): The stage at which the operation was cancelled.</span>

<span class="sd">        Returns:</span>
<span class="sd">            bool: True if the operation was cancelled at the given stage, False otherwise.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">cancelled_at_stage</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">cancelled_at_stage</span> <span class="o">&lt;</span> <span class="n">stage</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="kernpy.core.SpineOperationToken.is_cancelled_at" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">is_cancelled_at</span><span class="p">(</span><span class="n">stage</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Checks if the operation was cancelled at the given stage.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>stage</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The stage at which the operation was cancelled.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>bool</code></td>            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if the operation was cancelled at the given stage, False otherwise.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1629</span>
<span class="normal">1630</span>
<span class="normal">1631</span>
<span class="normal">1632</span>
<span class="normal">1633</span>
<span class="normal">1634</span>
<span class="normal">1635</span>
<span class="normal">1636</span>
<span class="normal">1637</span>
<span class="normal">1638</span>
<span class="normal">1639</span>
<span class="normal">1640</span>
<span class="normal">1641</span>
<span class="normal">1642</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">is_cancelled_at</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stage</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Checks if the operation was cancelled at the given stage.</span>

<span class="sd">    Args:</span>
<span class="sd">        stage (int): The stage at which the operation was cancelled.</span>

<span class="sd">    Returns:</span>
<span class="sd">        bool: True if the operation was cancelled at the given stage, False otherwise.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">cancelled_at_stage</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">cancelled_at_stage</span> <span class="o">&lt;</span> <span class="n">stage</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="kernpy.core.Staff" class="doc doc-heading">
            <code>Staff</code>


</h2>


    <div class="doc doc-contents ">


              <details class="quote">
                <summary>Source code in <code>kernpy/core/gkern.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">499</span>
<span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">Staff</span><span class="p">:</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">position_in_staff</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">clef</span><span class="p">:</span> <span class="n">Clef</span><span class="p">,</span> <span class="n">pitch</span><span class="p">:</span> <span class="n">AgnosticPitch</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PositionInStaff</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the position in staff for the given clef and pitch.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">bottom_cleff_note_name</span> <span class="o">=</span> <span class="n">clef</span><span class="o">.</span><span class="n">bottom_line</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="kernpy.core.Staff.position_in_staff" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">position_in_staff</span><span class="p">(</span><span class="o">*</span><span class="p">,</span> <span class="n">clef</span><span class="p">,</span> <span class="n">pitch</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Returns the position in staff for the given clef and pitch.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/gkern.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">position_in_staff</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">clef</span><span class="p">:</span> <span class="n">Clef</span><span class="p">,</span> <span class="n">pitch</span><span class="p">:</span> <span class="n">AgnosticPitch</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PositionInStaff</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns the position in staff for the given clef and pitch.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">bottom_cleff_note_name</span> <span class="o">=</span> <span class="n">clef</span><span class="o">.</span><span class="n">bottom_line</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="kernpy.core.Subtoken" class="doc doc-heading">
            <code>Subtoken</code>


</h2>


    <div class="doc doc-contents ">


        <p>Subtoken class. Thhe subtokens are the smallest units of categories. ComplexToken objects are composed of subtokens.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="kernpy.core.Subtoken.encoding">encoding</span></code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The complete unprocessed encoding</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="kernpy.core.Subtoken.category">category</span></code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The subtoken category, one of SubTokenCategory</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

              <details class="quote">
                <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1323</span>
<span class="normal">1324</span>
<span class="normal">1325</span>
<span class="normal">1326</span>
<span class="normal">1327</span>
<span class="normal">1328</span>
<span class="normal">1329</span>
<span class="normal">1330</span>
<span class="normal">1331</span>
<span class="normal">1332</span>
<span class="normal">1333</span>
<span class="normal">1334</span>
<span class="normal">1335</span>
<span class="normal">1336</span>
<span class="normal">1337</span>
<span class="normal">1338</span>
<span class="normal">1339</span>
<span class="normal">1340</span>
<span class="normal">1341</span>
<span class="normal">1342</span>
<span class="normal">1343</span>
<span class="normal">1344</span>
<span class="normal">1345</span>
<span class="normal">1346</span>
<span class="normal">1347</span>
<span class="normal">1348</span>
<span class="normal">1349</span>
<span class="normal">1350</span>
<span class="normal">1351</span>
<span class="normal">1352</span>
<span class="normal">1353</span>
<span class="normal">1354</span>
<span class="normal">1355</span>
<span class="normal">1356</span>
<span class="normal">1357</span>
<span class="normal">1358</span>
<span class="normal">1359</span>
<span class="normal">1360</span>
<span class="normal">1361</span>
<span class="normal">1362</span>
<span class="normal">1363</span>
<span class="normal">1364</span>
<span class="normal">1365</span>
<span class="normal">1366</span>
<span class="normal">1367</span>
<span class="normal">1368</span>
<span class="normal">1369</span>
<span class="normal">1370</span>
<span class="normal">1371</span>
<span class="normal">1372</span>
<span class="normal">1373</span>
<span class="normal">1374</span>
<span class="normal">1375</span>
<span class="normal">1376</span>
<span class="normal">1377</span>
<span class="normal">1378</span>
<span class="normal">1379</span>
<span class="normal">1380</span>
<span class="normal">1381</span>
<span class="normal">1382</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">Subtoken</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Subtoken class. Thhe subtokens are the smallest units of categories. ComplexToken objects are composed of subtokens.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        encoding: The complete unprocessed encoding</span>
<span class="sd">        category: The subtoken category, one of SubTokenCategory</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">DECORATION</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">encoding</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">category</span><span class="p">:</span> <span class="n">TokenCategory</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Subtoken constructor</span>

<span class="sd">        Args:</span>
<span class="sd">            encoding (str): The complete unprocessed encoding</span>
<span class="sd">            category (TokenCategory): The subtoken category. \</span>
<span class="sd">                It should be a child of the main &#39;TokenCategory&#39; in the hierarchy.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">encoding</span> <span class="o">=</span> <span class="n">encoding</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">category</span> <span class="o">=</span> <span class="n">category</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the string representation of the subtoken.</span>

<span class="sd">        Returns (str): The string representation of the subtoken.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">encoding</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Compare two subtokens.</span>

<span class="sd">        Args:</span>
<span class="sd">            other (Subtoken): The other subtoken to compare.</span>
<span class="sd">        Returns (bool): True if the subtokens are equal, False otherwise.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">Subtoken</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">encoding</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">encoding</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">category</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">category</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__ne__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Compare two subtokens.</span>

<span class="sd">        Args:</span>
<span class="sd">            other (Subtoken): The other subtoken to compare.</span>
<span class="sd">        Returns (bool): True if the subtokens are different, False otherwise.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__eq__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__hash__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the hash of the subtoken.</span>

<span class="sd">        Returns (int): The hash of the subtoken.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">hash</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">encoding</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">category</span><span class="p">))</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="kernpy.core.Subtoken.__eq__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__eq__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Compare two subtokens.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>other</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.tokens.Subtoken" href="#kernpy.core.Subtoken">Subtoken</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The other subtoken to compare.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns (bool): True if the subtokens are equal, False otherwise.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1354</span>
<span class="normal">1355</span>
<span class="normal">1356</span>
<span class="normal">1357</span>
<span class="normal">1358</span>
<span class="normal">1359</span>
<span class="normal">1360</span>
<span class="normal">1361</span>
<span class="normal">1362</span>
<span class="normal">1363</span>
<span class="normal">1364</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Compare two subtokens.</span>

<span class="sd">    Args:</span>
<span class="sd">        other (Subtoken): The other subtoken to compare.</span>
<span class="sd">    Returns (bool): True if the subtokens are equal, False otherwise.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">Subtoken</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">encoding</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">encoding</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">category</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">category</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.Subtoken.__hash__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__hash__</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Returns the hash of the subtoken.</p>
<p>Returns (int): The hash of the subtoken.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1376</span>
<span class="normal">1377</span>
<span class="normal">1378</span>
<span class="normal">1379</span>
<span class="normal">1380</span>
<span class="normal">1381</span>
<span class="normal">1382</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__hash__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns the hash of the subtoken.</span>

<span class="sd">    Returns (int): The hash of the subtoken.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="nb">hash</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">encoding</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">category</span><span class="p">))</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.Subtoken.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">encoding</span><span class="p">,</span> <span class="n">category</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Subtoken constructor</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>encoding</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The complete unprocessed encoding</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>category</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.tokens.TokenCategory" href="#kernpy.core.TokenCategory">TokenCategory</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The subtoken category.                 It should be a child of the main 'TokenCategory' in the hierarchy.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1333</span>
<span class="normal">1334</span>
<span class="normal">1335</span>
<span class="normal">1336</span>
<span class="normal">1337</span>
<span class="normal">1338</span>
<span class="normal">1339</span>
<span class="normal">1340</span>
<span class="normal">1341</span>
<span class="normal">1342</span>
<span class="normal">1343</span>
<span class="normal">1344</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">encoding</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">category</span><span class="p">:</span> <span class="n">TokenCategory</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Subtoken constructor</span>

<span class="sd">    Args:</span>
<span class="sd">        encoding (str): The complete unprocessed encoding</span>
<span class="sd">        category (TokenCategory): The subtoken category. \</span>
<span class="sd">            It should be a child of the main &#39;TokenCategory&#39; in the hierarchy.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">encoding</span> <span class="o">=</span> <span class="n">encoding</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">category</span> <span class="o">=</span> <span class="n">category</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.Subtoken.__ne__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__ne__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Compare two subtokens.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>other</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.tokens.Subtoken" href="#kernpy.core.Subtoken">Subtoken</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The other subtoken to compare.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns (bool): True if the subtokens are different, False otherwise.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1366</span>
<span class="normal">1367</span>
<span class="normal">1368</span>
<span class="normal">1369</span>
<span class="normal">1370</span>
<span class="normal">1371</span>
<span class="normal">1372</span>
<span class="normal">1373</span>
<span class="normal">1374</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__ne__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Compare two subtokens.</span>

<span class="sd">    Args:</span>
<span class="sd">        other (Subtoken): The other subtoken to compare.</span>
<span class="sd">    Returns (bool): True if the subtokens are different, False otherwise.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__eq__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.Subtoken.__str__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__str__</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Returns the string representation of the subtoken.</p>
<p>Returns (str): The string representation of the subtoken.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1346</span>
<span class="normal">1347</span>
<span class="normal">1348</span>
<span class="normal">1349</span>
<span class="normal">1350</span>
<span class="normal">1351</span>
<span class="normal">1352</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns the string representation of the subtoken.</span>

<span class="sd">    Returns (str): The string representation of the subtoken.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">encoding</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="kernpy.core.TextSpineImporter" class="doc doc-heading">
            <code>TextSpineImporter</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="kernpy.core.spine_importer.SpineImporter" href="#kernpy.core.SpineImporter">SpineImporter</a></code></p>


              <details class="quote">
                <summary>Source code in <code>kernpy/core/text_spine_importer.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">TextSpineImporter</span><span class="p">(</span><span class="n">SpineImporter</span><span class="p">):</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">verbose</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        KernSpineImporter constructor.</span>

<span class="sd">        Args:</span>
<span class="sd">            verbose (Optional[bool]): Level of verbosity for error messages.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="n">verbose</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">import_listener</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BaseANTLRSpineParserListener</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">KernSpineListener</span><span class="p">()</span>  <span class="c1"># TODO: Create a custom functional listener for TextSpineImporter</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">import_token</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">encoding</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Token</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_raise_error_if_wrong_input</span><span class="p">(</span><span class="n">encoding</span><span class="p">)</span>

        <span class="n">kern_spine_importer</span> <span class="o">=</span> <span class="n">KernSpineImporter</span><span class="p">()</span>
        <span class="n">token</span> <span class="o">=</span> <span class="n">kern_spine_importer</span><span class="o">.</span><span class="n">import_token</span><span class="p">(</span><span class="n">encoding</span><span class="p">)</span>

        <span class="n">ACCEPTED_CATEGORIES</span> <span class="o">=</span> <span class="p">{</span>
            <span class="n">TokenCategory</span><span class="o">.</span><span class="n">STRUCTURAL</span><span class="p">,</span>
            <span class="n">TokenCategory</span><span class="o">.</span><span class="n">SIGNATURES</span><span class="p">,</span>
            <span class="n">TokenCategory</span><span class="o">.</span><span class="n">EMPTY</span><span class="p">,</span>
            <span class="n">TokenCategory</span><span class="o">.</span><span class="n">BARLINES</span><span class="p">,</span>
            <span class="n">TokenCategory</span><span class="o">.</span><span class="n">IMAGE_ANNOTATIONS</span><span class="p">,</span>
            <span class="n">TokenCategory</span><span class="o">.</span><span class="n">BARLINES</span><span class="p">,</span>
            <span class="n">TokenCategory</span><span class="o">.</span><span class="n">COMMENTS</span><span class="p">,</span>
        <span class="p">}</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="nb">any</span><span class="p">(</span><span class="n">TokenCategory</span><span class="o">.</span><span class="n">is_child</span><span class="p">(</span><span class="n">child</span><span class="o">=</span><span class="n">token</span><span class="o">.</span><span class="n">category</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="n">cat</span><span class="p">)</span> <span class="k">for</span> <span class="n">cat</span> <span class="ow">in</span> <span class="n">ACCEPTED_CATEGORIES</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">SimpleToken</span><span class="p">(</span><span class="n">encoding</span><span class="p">,</span> <span class="n">TokenCategory</span><span class="o">.</span><span class="n">LYRICS</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">token</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="kernpy.core.TextSpineImporter.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>KernSpineImporter constructor.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>verbose</code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[bool]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Level of verbosity for error messages.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/text_spine_importer.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">verbose</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    KernSpineImporter constructor.</span>

<span class="sd">    Args:</span>
<span class="sd">        verbose (Optional[bool]): Level of verbosity for error messages.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="n">verbose</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="kernpy.core.TimeSignatureToken" class="doc doc-heading">
            <code>TimeSignatureToken</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="kernpy.core.tokens.SignatureToken" href="#kernpy.core.SignatureToken">SignatureToken</a></code></p>


        <p>TimeSignatureToken class.</p>

              <details class="quote">
                <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1672</span>
<span class="normal">1673</span>
<span class="normal">1674</span>
<span class="normal">1675</span>
<span class="normal">1676</span>
<span class="normal">1677</span>
<span class="normal">1678</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">TimeSignatureToken</span><span class="p">(</span><span class="n">SignatureToken</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    TimeSignatureToken class.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">encoding</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">encoding</span><span class="p">,</span> <span class="n">TokenCategory</span><span class="o">.</span><span class="n">TIME_SIGNATURE</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="kernpy.core.Token" class="doc doc-heading">
            <code>Token</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="kernpy.core.tokens.AbstractToken" href="#kernpy.core.AbstractToken">AbstractToken</a></code>, <code><span title="abc.ABC">ABC</span></code></p>


        <p>Abstract Token class.</p>

              <details class="quote">
                <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1471</span>
<span class="normal">1472</span>
<span class="normal">1473</span>
<span class="normal">1474</span>
<span class="normal">1475</span>
<span class="normal">1476</span>
<span class="normal">1477</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">Token</span><span class="p">(</span><span class="n">AbstractToken</span><span class="p">,</span> <span class="n">ABC</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Abstract Token class.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">encoding</span><span class="p">,</span> <span class="n">category</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">encoding</span><span class="p">,</span> <span class="n">category</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="kernpy.core.TokenCategory" class="doc doc-heading">
            <code>TokenCategory</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="enum.Enum">Enum</span></code></p>


        <p>Options for the category of a token.</p>
<p>This is used to determine what kind of token should be exported.</p>
<p>The categories are sorted the specific order they are compared to sorthem. But hierarchical order must be defined in other data structures.</p>

              <details class="quote">
                <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 23</span>
<span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">TokenCategory</span><span class="p">(</span><span class="n">Enum</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Options for the category of a token.</span>

<span class="sd">    This is used to determine what kind of token should be exported.</span>

<span class="sd">    The categories are sorted the specific order they are compared to sorthem. But hierarchical order must be defined in other data structures.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">STRUCTURAL</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span>  <span class="c1"># header, spine operations</span>
    <span class="n">HEADER</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span>  <span class="c1"># **kern, **mens, **text, **harm, **mxhm, **root, **dyn, **dynam, **fing</span>
    <span class="n">SPINE_OPERATION</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span>
    <span class="n">CORE</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span> <span class="c1"># notes, rests, chords, etc.</span>
    <span class="n">ERROR</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span>
    <span class="n">NOTE_REST</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span>
    <span class="n">NOTE</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span>
    <span class="n">DURATION</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span>
    <span class="n">PITCH</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span>
    <span class="n">ALTERATION</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span>
    <span class="n">DECORATION</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span>
    <span class="n">REST</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span>
    <span class="n">CHORD</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span>
    <span class="n">EMPTY</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span>  <span class="c1"># placeholders, null interpretation</span>
    <span class="n">SIGNATURES</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span>
    <span class="n">CLEF</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span>
    <span class="n">TIME_SIGNATURE</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span>
    <span class="n">METER_SYMBOL</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span>
    <span class="n">KEY_SIGNATURE</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span>
    <span class="n">KEY_TOKEN</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span>
    <span class="n">ENGRAVED_SYMBOLS</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span>
    <span class="n">OTHER_CONTEXTUAL</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span>
    <span class="n">BARLINES</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span>
    <span class="n">COMMENTS</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span>
    <span class="n">FIELD_COMMENTS</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span>
    <span class="n">LINE_COMMENTS</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span>
    <span class="n">DYNAMICS</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span>
    <span class="n">HARMONY</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span>
    <span class="n">FINGERING</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span>
    <span class="n">LYRICS</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span>
    <span class="n">INSTRUMENTS</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span>
    <span class="n">IMAGE_ANNOTATIONS</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span>
    <span class="n">BOUNDING_BOXES</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span>
    <span class="n">LINE_BREAK</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span>
    <span class="n">OTHER</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span>
    <span class="n">MHXM</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span>
    <span class="n">ROOT</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__lt__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Compare two TokenCategory.</span>
<span class="sd">        Args:</span>
<span class="sd">            other (TokenCategory): The other category to compare.</span>

<span class="sd">        Returns (bool): True if this category is lower than the other, False otherwise.</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; TokenCategory.STRUCTURAL &lt; TokenCategory.CORE</span>
<span class="sd">            True</span>
<span class="sd">            &gt;&gt;&gt; TokenCategory.STRUCTURAL &lt; TokenCategory.STRUCTURAL</span>
<span class="sd">            False</span>
<span class="sd">            &gt;&gt;&gt; TokenCategory.CORE &lt; TokenCategory.STRUCTURAL</span>
<span class="sd">            False</span>
<span class="sd">            &gt;&gt;&gt; sorted([TokenCategory.STRUCTURAL, TokenCategory.CORE])</span>
<span class="sd">            [TokenCategory.STRUCTURAL, TokenCategory.CORE]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">TokenCategory</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">value</span> <span class="o">&lt;</span> <span class="n">other</span><span class="o">.</span><span class="n">value</span>
        <span class="k">return</span> <span class="bp">NotImplemented</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">all</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Set</span><span class="p">[</span><span class="n">TokenCategory</span><span class="p">]:</span>
        <span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">        Get all categories in the hierarchy.</span>

<span class="s2">        Returns:</span>
<span class="s2">            Set[TokenCategory]: The set of all categories in the hierarchy.</span>

<span class="s2">        Examples:</span>
<span class="s2">            &gt;&gt;&gt; import kernpy as kp</span>
<span class="s2">            &gt;&gt;&gt; kp.TokenCategory.all()</span>
<span class="s2">            set([&lt;TokenCategory.MHXM: 29&gt;, &lt;TokenCategory.COMMENTS: 19&gt;, &lt;TokenCategory.BARLINES: 18&gt;, &lt;TokenCategory.CORE: 2&gt;, &lt;TokenCategory.BOUNDING_BOXES: 27&gt;, &lt;TokenCategory.NOTE_REST: 3&gt;, &lt;TokenCategory.NOTE: 4&gt;, &lt;TokenCategory.ENGRAVED_SYMBOLS: 16&gt;, &lt;TokenCategory.SIGNATURES: 11&gt;, &lt;TokenCategory.REST: 8&gt;, &lt;TokenCategory.METER_SYMBOL: 14&gt;, &lt;TokenCategory.HARMONY: 23&gt;, &lt;TokenCategory.KEY_SIGNATURE: 15&gt;, &lt;TokenCategory.EMPTY: 10&gt;, &lt;TokenCategory.PITCH: 6&gt;, &lt;TokenCategory.LINE_COMMENTS: 21&gt;, &lt;TokenCategory.FINGERING: 24&gt;, &lt;TokenCategory.DECORATION: 7&gt;, &lt;TokenCategory.OTHER: 28&gt;, &lt;TokenCategory.INSTRUMENTS: 26&gt;, &lt;TokenCategory.STRUCTURAL: 1&gt;, &lt;TokenCategory.FIELD_COMMENTS: 20&gt;, &lt;TokenCategory.LYRICS: 25&gt;, &lt;TokenCategory.CLEF: 12&gt;, &lt;TokenCategory.DURATION: 5&gt;, &lt;TokenCategory.DYNAMICS: 22&gt;, &lt;TokenCategory.CHORD: 9&gt;, &lt;TokenCategory.TIME_SIGNATURE: 13&gt;, &lt;TokenCategory.OTHER_CONTEXTUAL: 17&gt;])</span>
<span class="s2">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">set</span><span class="p">([</span><span class="n">t</span> <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">TokenCategory</span><span class="p">])</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">tree</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return a string representation of the category hierarchy</span>
<span class="sd">        Returns (str): The string representation of the category hierarchy</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; import kernpy as kp</span>
<span class="sd">            &gt;&gt;&gt; print(kp.TokenCategory.tree())</span>
<span class="sd">            .</span>
<span class="sd">            ├── TokenCategory.STRUCTURAL</span>
<span class="sd">            ├── TokenCategory.CORE</span>
<span class="sd">            │   ├── TokenCategory.NOTE_REST</span>
<span class="sd">            │   │   ├── TokenCategory.DURATION</span>
<span class="sd">            │   │   ├── TokenCategory.NOTE</span>
<span class="sd">            │   │   │   ├── TokenCategory.PITCH</span>
<span class="sd">            │   │   │   └── TokenCategory.DECORATION</span>
<span class="sd">            │   │   └── TokenCategory.REST</span>
<span class="sd">            │   ├── TokenCategory.CHORD</span>
<span class="sd">            │   └── TokenCategory.EMPTY</span>
<span class="sd">            ├── TokenCategory.SIGNATURES</span>
<span class="sd">            │   ├── TokenCategory.CLEF</span>
<span class="sd">            │   ├── TokenCategory.TIME_SIGNATURE</span>
<span class="sd">            │   ├── TokenCategory.METER_SYMBOL</span>
<span class="sd">            │   └── TokenCategory.KEY_SIGNATURE</span>
<span class="sd">            ├── TokenCategory.ENGRAVED_SYMBOLS</span>
<span class="sd">            ├── TokenCategory.OTHER_CONTEXTUAL</span>
<span class="sd">            ├── TokenCategory.BARLINES</span>
<span class="sd">            ├── TokenCategory.COMMENTS</span>
<span class="sd">            │   ├── TokenCategory.FIELD_COMMENTS</span>
<span class="sd">            │   └── TokenCategory.LINE_COMMENTS</span>
<span class="sd">            ├── TokenCategory.DYNAMICS</span>
<span class="sd">            ├── TokenCategory.HARMONY</span>
<span class="sd">            ├── TokenCategory.FINGERING</span>
<span class="sd">            ├── TokenCategory.LYRICS</span>
<span class="sd">            ├── TokenCategory.INSTRUMENTS</span>
<span class="sd">            ├── TokenCategory.BOUNDING_BOXES</span>
<span class="sd">            └── TokenCategory.OTHER</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">TokenCategoryHierarchyMapper</span><span class="o">.</span><span class="n">tree</span><span class="p">()</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">is_child</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">child</span><span class="p">:</span> <span class="n">TokenCategory</span><span class="p">,</span> <span class="n">parent</span><span class="p">:</span> <span class="n">TokenCategory</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Check if the child category is a child of the parent category.</span>

<span class="sd">        Args:</span>
<span class="sd">            child (TokenCategory): The child category.</span>
<span class="sd">            parent (TokenCategory): The parent category.</span>

<span class="sd">        Returns (bool): True if the child category is a child of the parent category, False otherwise.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">TokenCategoryHierarchyMapper</span><span class="o">.</span><span class="n">is_child</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="n">parent</span><span class="p">,</span> <span class="n">child</span><span class="o">=</span><span class="n">child</span><span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">children</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">target</span><span class="p">:</span> <span class="n">TokenCategory</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Set</span><span class="p">[</span><span class="n">TokenCategory</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the children of the target category.</span>

<span class="sd">        Args:</span>
<span class="sd">            target (TokenCategory): The target category.</span>

<span class="sd">        Returns (List[TokenCategory]): The list of child categories of the target category.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">TokenCategoryHierarchyMapper</span><span class="o">.</span><span class="n">children</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="n">target</span><span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">valid</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">include</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Set</span><span class="p">[</span><span class="n">TokenCategory</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">exclude</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Set</span><span class="p">[</span><span class="n">TokenCategory</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Set</span><span class="p">[</span><span class="n">TokenCategory</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the valid categories based on the include and exclude sets.</span>

<span class="sd">        Args:</span>
<span class="sd">            include (Optional[Set[TokenCategory]]): The set of categories to include. Defaults to None. \</span>
<span class="sd">                If None, all categories are included.</span>
<span class="sd">            exclude (Optional[Set[TokenCategory]]): The set of categories to exclude. Defaults to None. \</span>
<span class="sd">                If None, no categories are excluded.</span>

<span class="sd">        Returns (Set[TokenCategory]): The list of valid categories based on the include and exclude sets.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">TokenCategoryHierarchyMapper</span><span class="o">.</span><span class="n">valid</span><span class="p">(</span><span class="n">include</span><span class="o">=</span><span class="n">include</span><span class="p">,</span> <span class="n">exclude</span><span class="o">=</span><span class="n">exclude</span><span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">leaves</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">target</span><span class="p">:</span> <span class="n">TokenCategory</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Set</span><span class="p">[</span><span class="n">TokenCategory</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the leaves of the subtree of the target category.</span>

<span class="sd">        Args:</span>
<span class="sd">            target (TokenCategory): The target category.</span>

<span class="sd">        Returns (List[TokenCategory]): The list of leaf categories of the target category.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">TokenCategoryHierarchyMapper</span><span class="o">.</span><span class="n">leaves</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">target</span><span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">nodes</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">target</span><span class="p">:</span> <span class="n">TokenCategory</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Set</span><span class="p">[</span><span class="n">TokenCategory</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the nodes of the subtree of the target category.</span>

<span class="sd">        Args:</span>
<span class="sd">            target (TokenCategory): The target category.</span>

<span class="sd">        Returns (List[TokenCategory]): The list of node categories of the target category.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">TokenCategoryHierarchyMapper</span><span class="o">.</span><span class="n">nodes</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="n">target</span><span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">match</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span>
              <span class="n">target</span><span class="p">:</span> <span class="n">TokenCategory</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span>
              <span class="n">include</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Set</span><span class="p">[</span><span class="n">TokenCategory</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
              <span class="n">exclude</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Set</span><span class="p">[</span><span class="n">TokenCategory</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Check if the target category matches the include and exclude sets.</span>

<span class="sd">        Args:</span>
<span class="sd">            target (TokenCategory): The target category.</span>
<span class="sd">            include (Optional[Set[TokenCategory]]): The set of categories to include. Defaults to None. \</span>
<span class="sd">                If None, all categories are included.</span>
<span class="sd">            exclude (Optional[Set[TokenCategory]]): The set of categories to exclude. Defaults to None. \</span>
<span class="sd">                If None, no categories are excluded.</span>

<span class="sd">        Returns (bool): True if the target category matches the include and exclude sets, False otherwise.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">TokenCategoryHierarchyMapper</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">category</span><span class="o">=</span><span class="n">target</span><span class="p">,</span> <span class="n">include</span><span class="o">=</span><span class="n">include</span><span class="p">,</span> <span class="n">exclude</span><span class="o">=</span><span class="n">exclude</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the string representation of the category.</span>

<span class="sd">        Returns (str): The string representation of the category.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="kernpy.core.TokenCategory.__lt__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__lt__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Compare two TokenCategory.
Args:
    other (TokenCategory): The other category to compare.</p>
<p>Returns (bool): True if this category is lower than the other, False otherwise.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">TokenCategory</span><span class="o">.</span><span class="n">STRUCTURAL</span> <span class="o">&lt;</span> <span class="n">TokenCategory</span><span class="o">.</span><span class="n">CORE</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TokenCategory</span><span class="o">.</span><span class="n">STRUCTURAL</span> <span class="o">&lt;</span> <span class="n">TokenCategory</span><span class="o">.</span><span class="n">STRUCTURAL</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TokenCategory</span><span class="o">.</span><span class="n">CORE</span> <span class="o">&lt;</span> <span class="n">TokenCategory</span><span class="o">.</span><span class="n">STRUCTURAL</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">sorted</span><span class="p">([</span><span class="n">TokenCategory</span><span class="o">.</span><span class="n">STRUCTURAL</span><span class="p">,</span> <span class="n">TokenCategory</span><span class="o">.</span><span class="n">CORE</span><span class="p">])</span>
<span class="go">[TokenCategory.STRUCTURAL, TokenCategory.CORE]</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__lt__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Compare two TokenCategory.</span>
<span class="sd">    Args:</span>
<span class="sd">        other (TokenCategory): The other category to compare.</span>

<span class="sd">    Returns (bool): True if this category is lower than the other, False otherwise.</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; TokenCategory.STRUCTURAL &lt; TokenCategory.CORE</span>
<span class="sd">        True</span>
<span class="sd">        &gt;&gt;&gt; TokenCategory.STRUCTURAL &lt; TokenCategory.STRUCTURAL</span>
<span class="sd">        False</span>
<span class="sd">        &gt;&gt;&gt; TokenCategory.CORE &lt; TokenCategory.STRUCTURAL</span>
<span class="sd">        False</span>
<span class="sd">        &gt;&gt;&gt; sorted([TokenCategory.STRUCTURAL, TokenCategory.CORE])</span>
<span class="sd">        [TokenCategory.STRUCTURAL, TokenCategory.CORE]</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">TokenCategory</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">value</span> <span class="o">&lt;</span> <span class="n">other</span><span class="o">.</span><span class="n">value</span>
    <span class="k">return</span> <span class="bp">NotImplemented</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.TokenCategory.__str__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__str__</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Get the string representation of the category.</p>
<p>Returns (str): The string representation of the category.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get the string representation of the category.</span>

<span class="sd">    Returns (str): The string representation of the category.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.TokenCategory.children" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">children</span><span class="p">(</span><span class="n">target</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>Get the children of the target category.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>target</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.tokens.TokenCategory" href="#kernpy.core.TokenCategory">TokenCategory</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The target category.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns (List[TokenCategory]): The list of child categories of the target category.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">children</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">target</span><span class="p">:</span> <span class="n">TokenCategory</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Set</span><span class="p">[</span><span class="n">TokenCategory</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get the children of the target category.</span>

<span class="sd">    Args:</span>
<span class="sd">        target (TokenCategory): The target category.</span>

<span class="sd">    Returns (List[TokenCategory]): The list of child categories of the target category.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">TokenCategoryHierarchyMapper</span><span class="o">.</span><span class="n">children</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="n">target</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.TokenCategory.is_child" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">is_child</span><span class="p">(</span><span class="o">*</span><span class="p">,</span> <span class="n">child</span><span class="p">,</span> <span class="n">parent</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>Check if the child category is a child of the parent category.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>child</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.tokens.TokenCategory" href="#kernpy.core.TokenCategory">TokenCategory</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The child category.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>parent</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.tokens.TokenCategory" href="#kernpy.core.TokenCategory">TokenCategory</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The parent category.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns (bool): True if the child category is a child of the parent category, False otherwise.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">is_child</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">child</span><span class="p">:</span> <span class="n">TokenCategory</span><span class="p">,</span> <span class="n">parent</span><span class="p">:</span> <span class="n">TokenCategory</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Check if the child category is a child of the parent category.</span>

<span class="sd">    Args:</span>
<span class="sd">        child (TokenCategory): The child category.</span>
<span class="sd">        parent (TokenCategory): The parent category.</span>

<span class="sd">    Returns (bool): True if the child category is a child of the parent category, False otherwise.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">TokenCategoryHierarchyMapper</span><span class="o">.</span><span class="n">is_child</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="n">parent</span><span class="p">,</span> <span class="n">child</span><span class="o">=</span><span class="n">child</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.TokenCategory.leaves" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">leaves</span><span class="p">(</span><span class="n">target</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>Get the leaves of the subtree of the target category.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>target</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.tokens.TokenCategory" href="#kernpy.core.TokenCategory">TokenCategory</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The target category.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns (List[TokenCategory]): The list of leaf categories of the target category.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">leaves</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">target</span><span class="p">:</span> <span class="n">TokenCategory</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Set</span><span class="p">[</span><span class="n">TokenCategory</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get the leaves of the subtree of the target category.</span>

<span class="sd">    Args:</span>
<span class="sd">        target (TokenCategory): The target category.</span>

<span class="sd">    Returns (List[TokenCategory]): The list of leaf categories of the target category.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">TokenCategoryHierarchyMapper</span><span class="o">.</span><span class="n">leaves</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">target</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.TokenCategory.match" class="doc doc-heading">
            <code class="highlight language-python"><span class="k">match</span><span class="p">(</span><span class="n">target</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">include</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">exclude</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>Check if the target category matches the include and exclude sets.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>target</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.tokens.TokenCategory" href="#kernpy.core.TokenCategory">TokenCategory</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The target category.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>include</code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="typing.Set">Set</span>[<a class="autorefs autorefs-internal" title="kernpy.core.tokens.TokenCategory" href="#kernpy.core.TokenCategory">TokenCategory</a>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The set of categories to include. Defaults to None.                 If None, all categories are included.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>exclude</code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="typing.Set">Set</span>[<a class="autorefs autorefs-internal" title="kernpy.core.tokens.TokenCategory" href="#kernpy.core.TokenCategory">TokenCategory</a>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The set of categories to exclude. Defaults to None.                 If None, no categories are excluded.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns (bool): True if the target category matches the include and exclude sets, False otherwise.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">match</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span>
          <span class="n">target</span><span class="p">:</span> <span class="n">TokenCategory</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span>
          <span class="n">include</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Set</span><span class="p">[</span><span class="n">TokenCategory</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
          <span class="n">exclude</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Set</span><span class="p">[</span><span class="n">TokenCategory</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Check if the target category matches the include and exclude sets.</span>

<span class="sd">    Args:</span>
<span class="sd">        target (TokenCategory): The target category.</span>
<span class="sd">        include (Optional[Set[TokenCategory]]): The set of categories to include. Defaults to None. \</span>
<span class="sd">            If None, all categories are included.</span>
<span class="sd">        exclude (Optional[Set[TokenCategory]]): The set of categories to exclude. Defaults to None. \</span>
<span class="sd">            If None, no categories are excluded.</span>

<span class="sd">    Returns (bool): True if the target category matches the include and exclude sets, False otherwise.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">TokenCategoryHierarchyMapper</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">category</span><span class="o">=</span><span class="n">target</span><span class="p">,</span> <span class="n">include</span><span class="o">=</span><span class="n">include</span><span class="p">,</span> <span class="n">exclude</span><span class="o">=</span><span class="n">exclude</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.TokenCategory.nodes" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">nodes</span><span class="p">(</span><span class="n">target</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>Get the nodes of the subtree of the target category.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>target</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.tokens.TokenCategory" href="#kernpy.core.TokenCategory">TokenCategory</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The target category.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns (List[TokenCategory]): The list of node categories of the target category.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">nodes</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">target</span><span class="p">:</span> <span class="n">TokenCategory</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Set</span><span class="p">[</span><span class="n">TokenCategory</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get the nodes of the subtree of the target category.</span>

<span class="sd">    Args:</span>
<span class="sd">        target (TokenCategory): The target category.</span>

<span class="sd">    Returns (List[TokenCategory]): The list of node categories of the target category.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">TokenCategoryHierarchyMapper</span><span class="o">.</span><span class="n">nodes</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="n">target</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.TokenCategory.tree" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">tree</span><span class="p">()</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>Return a string representation of the category hierarchy
Returns (str): The string representation of the category hierarchy</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">kernpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">kp</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">kp</span><span class="o">.</span><span class="n">TokenCategory</span><span class="o">.</span><span class="n">tree</span><span class="p">())</span>
<span class="go">.</span>
<span class="go">├── TokenCategory.STRUCTURAL</span>
<span class="go">├── TokenCategory.CORE</span>
<span class="go">│   ├── TokenCategory.NOTE_REST</span>
<span class="go">│   │   ├── TokenCategory.DURATION</span>
<span class="go">│   │   ├── TokenCategory.NOTE</span>
<span class="go">│   │   │   ├── TokenCategory.PITCH</span>
<span class="go">│   │   │   └── TokenCategory.DECORATION</span>
<span class="go">│   │   └── TokenCategory.REST</span>
<span class="go">│   ├── TokenCategory.CHORD</span>
<span class="go">│   └── TokenCategory.EMPTY</span>
<span class="go">├── TokenCategory.SIGNATURES</span>
<span class="go">│   ├── TokenCategory.CLEF</span>
<span class="go">│   ├── TokenCategory.TIME_SIGNATURE</span>
<span class="go">│   ├── TokenCategory.METER_SYMBOL</span>
<span class="go">│   └── TokenCategory.KEY_SIGNATURE</span>
<span class="go">├── TokenCategory.ENGRAVED_SYMBOLS</span>
<span class="go">├── TokenCategory.OTHER_CONTEXTUAL</span>
<span class="go">├── TokenCategory.BARLINES</span>
<span class="go">├── TokenCategory.COMMENTS</span>
<span class="go">│   ├── TokenCategory.FIELD_COMMENTS</span>
<span class="go">│   └── TokenCategory.LINE_COMMENTS</span>
<span class="go">├── TokenCategory.DYNAMICS</span>
<span class="go">├── TokenCategory.HARMONY</span>
<span class="go">├── TokenCategory.FINGERING</span>
<span class="go">├── TokenCategory.LYRICS</span>
<span class="go">├── TokenCategory.INSTRUMENTS</span>
<span class="go">├── TokenCategory.BOUNDING_BOXES</span>
<span class="go">└── TokenCategory.OTHER</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">tree</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return a string representation of the category hierarchy</span>
<span class="sd">    Returns (str): The string representation of the category hierarchy</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; import kernpy as kp</span>
<span class="sd">        &gt;&gt;&gt; print(kp.TokenCategory.tree())</span>
<span class="sd">        .</span>
<span class="sd">        ├── TokenCategory.STRUCTURAL</span>
<span class="sd">        ├── TokenCategory.CORE</span>
<span class="sd">        │   ├── TokenCategory.NOTE_REST</span>
<span class="sd">        │   │   ├── TokenCategory.DURATION</span>
<span class="sd">        │   │   ├── TokenCategory.NOTE</span>
<span class="sd">        │   │   │   ├── TokenCategory.PITCH</span>
<span class="sd">        │   │   │   └── TokenCategory.DECORATION</span>
<span class="sd">        │   │   └── TokenCategory.REST</span>
<span class="sd">        │   ├── TokenCategory.CHORD</span>
<span class="sd">        │   └── TokenCategory.EMPTY</span>
<span class="sd">        ├── TokenCategory.SIGNATURES</span>
<span class="sd">        │   ├── TokenCategory.CLEF</span>
<span class="sd">        │   ├── TokenCategory.TIME_SIGNATURE</span>
<span class="sd">        │   ├── TokenCategory.METER_SYMBOL</span>
<span class="sd">        │   └── TokenCategory.KEY_SIGNATURE</span>
<span class="sd">        ├── TokenCategory.ENGRAVED_SYMBOLS</span>
<span class="sd">        ├── TokenCategory.OTHER_CONTEXTUAL</span>
<span class="sd">        ├── TokenCategory.BARLINES</span>
<span class="sd">        ├── TokenCategory.COMMENTS</span>
<span class="sd">        │   ├── TokenCategory.FIELD_COMMENTS</span>
<span class="sd">        │   └── TokenCategory.LINE_COMMENTS</span>
<span class="sd">        ├── TokenCategory.DYNAMICS</span>
<span class="sd">        ├── TokenCategory.HARMONY</span>
<span class="sd">        ├── TokenCategory.FINGERING</span>
<span class="sd">        ├── TokenCategory.LYRICS</span>
<span class="sd">        ├── TokenCategory.INSTRUMENTS</span>
<span class="sd">        ├── TokenCategory.BOUNDING_BOXES</span>
<span class="sd">        └── TokenCategory.OTHER</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">TokenCategoryHierarchyMapper</span><span class="o">.</span><span class="n">tree</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.TokenCategory.valid" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">valid</span><span class="p">(</span><span class="o">*</span><span class="p">,</span> <span class="n">include</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">exclude</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>Get the valid categories based on the include and exclude sets.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>include</code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="typing.Set">Set</span>[<a class="autorefs autorefs-internal" title="kernpy.core.tokens.TokenCategory" href="#kernpy.core.TokenCategory">TokenCategory</a>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The set of categories to include. Defaults to None.                 If None, all categories are included.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>exclude</code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="typing.Set">Set</span>[<a class="autorefs autorefs-internal" title="kernpy.core.tokens.TokenCategory" href="#kernpy.core.TokenCategory">TokenCategory</a>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The set of categories to exclude. Defaults to None.                 If None, no categories are excluded.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns (Set[TokenCategory]): The list of valid categories based on the include and exclude sets.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">valid</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">include</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Set</span><span class="p">[</span><span class="n">TokenCategory</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">exclude</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Set</span><span class="p">[</span><span class="n">TokenCategory</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Set</span><span class="p">[</span><span class="n">TokenCategory</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get the valid categories based on the include and exclude sets.</span>

<span class="sd">    Args:</span>
<span class="sd">        include (Optional[Set[TokenCategory]]): The set of categories to include. Defaults to None. \</span>
<span class="sd">            If None, all categories are included.</span>
<span class="sd">        exclude (Optional[Set[TokenCategory]]): The set of categories to exclude. Defaults to None. \</span>
<span class="sd">            If None, no categories are excluded.</span>

<span class="sd">    Returns (Set[TokenCategory]): The list of valid categories based on the include and exclude sets.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">TokenCategoryHierarchyMapper</span><span class="o">.</span><span class="n">valid</span><span class="p">(</span><span class="n">include</span><span class="o">=</span><span class="n">include</span><span class="p">,</span> <span class="n">exclude</span><span class="o">=</span><span class="n">exclude</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="kernpy.core.TokenCategoryHierarchyMapper" class="doc doc-heading">
            <code>TokenCategoryHierarchyMapper</code>


</h2>


    <div class="doc doc-contents ">


        <p>Mapping of the TokenCategory hierarchy.</p>
<p>This class is used to define the hierarchy of the TokenCategory. Useful related methods are provided.</p>

              <details class="quote">
                <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span>
<span class="normal">475</span>
<span class="normal">476</span>
<span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span>
<span class="normal">485</span>
<span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span>
<span class="normal">489</span>
<span class="normal">490</span>
<span class="normal">491</span>
<span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span>
<span class="normal">496</span>
<span class="normal">497</span>
<span class="normal">498</span>
<span class="normal">499</span>
<span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span>
<span class="normal">507</span>
<span class="normal">508</span>
<span class="normal">509</span>
<span class="normal">510</span>
<span class="normal">511</span>
<span class="normal">512</span>
<span class="normal">513</span>
<span class="normal">514</span>
<span class="normal">515</span>
<span class="normal">516</span>
<span class="normal">517</span>
<span class="normal">518</span>
<span class="normal">519</span>
<span class="normal">520</span>
<span class="normal">521</span>
<span class="normal">522</span>
<span class="normal">523</span>
<span class="normal">524</span>
<span class="normal">525</span>
<span class="normal">526</span>
<span class="normal">527</span>
<span class="normal">528</span>
<span class="normal">529</span>
<span class="normal">530</span>
<span class="normal">531</span>
<span class="normal">532</span>
<span class="normal">533</span>
<span class="normal">534</span>
<span class="normal">535</span>
<span class="normal">536</span>
<span class="normal">537</span>
<span class="normal">538</span>
<span class="normal">539</span>
<span class="normal">540</span>
<span class="normal">541</span>
<span class="normal">542</span>
<span class="normal">543</span>
<span class="normal">544</span>
<span class="normal">545</span>
<span class="normal">546</span>
<span class="normal">547</span>
<span class="normal">548</span>
<span class="normal">549</span>
<span class="normal">550</span>
<span class="normal">551</span>
<span class="normal">552</span>
<span class="normal">553</span>
<span class="normal">554</span>
<span class="normal">555</span>
<span class="normal">556</span>
<span class="normal">557</span>
<span class="normal">558</span>
<span class="normal">559</span>
<span class="normal">560</span>
<span class="normal">561</span>
<span class="normal">562</span>
<span class="normal">563</span>
<span class="normal">564</span>
<span class="normal">565</span>
<span class="normal">566</span>
<span class="normal">567</span>
<span class="normal">568</span>
<span class="normal">569</span>
<span class="normal">570</span>
<span class="normal">571</span>
<span class="normal">572</span>
<span class="normal">573</span>
<span class="normal">574</span>
<span class="normal">575</span>
<span class="normal">576</span>
<span class="normal">577</span>
<span class="normal">578</span>
<span class="normal">579</span>
<span class="normal">580</span>
<span class="normal">581</span>
<span class="normal">582</span>
<span class="normal">583</span>
<span class="normal">584</span>
<span class="normal">585</span>
<span class="normal">586</span>
<span class="normal">587</span>
<span class="normal">588</span>
<span class="normal">589</span>
<span class="normal">590</span>
<span class="normal">591</span>
<span class="normal">592</span>
<span class="normal">593</span>
<span class="normal">594</span>
<span class="normal">595</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">TokenCategoryHierarchyMapper</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Mapping of the TokenCategory hierarchy.</span>

<span class="sd">    This class is used to define the hierarchy of the TokenCategory. Useful related methods are provided.</span>
<span class="sd">    &quot;&quot;&quot;</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    The hierarchy of the TokenCategory is a recursive dictionary that defines the parent-child relationships \</span>
<span class="sd">        between the categories. It&#39;s a tree.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">_hierarchy_typing</span> <span class="o">=</span> <span class="n">Dict</span><span class="p">[</span><span class="n">TokenCategory</span><span class="p">,</span> <span class="s1">&#39;_hierarchy_typing&#39;</span><span class="p">]</span>
    <span class="n">hierarchy</span><span class="p">:</span> <span class="n">_hierarchy_typing</span> <span class="o">=</span> <span class="p">{</span>
        <span class="n">TokenCategory</span><span class="o">.</span><span class="n">STRUCTURAL</span><span class="p">:</span> <span class="p">{</span>
            <span class="n">TokenCategory</span><span class="o">.</span><span class="n">HEADER</span><span class="p">:</span> <span class="p">{},</span>  <span class="c1"># each leave must be an empty dictionary</span>
            <span class="n">TokenCategory</span><span class="o">.</span><span class="n">SPINE_OPERATION</span><span class="p">:</span> <span class="p">{},</span>
        <span class="p">},</span>
        <span class="n">TokenCategory</span><span class="o">.</span><span class="n">CORE</span><span class="p">:</span> <span class="p">{</span>
            <span class="n">TokenCategory</span><span class="o">.</span><span class="n">NOTE_REST</span><span class="p">:</span> <span class="p">{</span>
                <span class="n">TokenCategory</span><span class="o">.</span><span class="n">DURATION</span><span class="p">:</span> <span class="p">{},</span>
                <span class="n">TokenCategory</span><span class="o">.</span><span class="n">NOTE</span><span class="p">:</span> <span class="p">{</span>
                    <span class="n">TokenCategory</span><span class="o">.</span><span class="n">PITCH</span><span class="p">:</span> <span class="p">{},</span>
                    <span class="n">TokenCategory</span><span class="o">.</span><span class="n">DECORATION</span><span class="p">:</span> <span class="p">{},</span>
                    <span class="n">TokenCategory</span><span class="o">.</span><span class="n">ALTERATION</span><span class="p">:</span> <span class="p">{},</span>
                <span class="p">},</span>
                <span class="n">TokenCategory</span><span class="o">.</span><span class="n">REST</span><span class="p">:</span> <span class="p">{},</span>
            <span class="p">},</span>
            <span class="n">TokenCategory</span><span class="o">.</span><span class="n">CHORD</span><span class="p">:</span> <span class="p">{},</span>
            <span class="n">TokenCategory</span><span class="o">.</span><span class="n">EMPTY</span><span class="p">:</span> <span class="p">{},</span>
            <span class="n">TokenCategory</span><span class="o">.</span><span class="n">ERROR</span><span class="p">:</span> <span class="p">{},</span>
        <span class="p">},</span>
        <span class="n">TokenCategory</span><span class="o">.</span><span class="n">SIGNATURES</span><span class="p">:</span> <span class="p">{</span>
            <span class="n">TokenCategory</span><span class="o">.</span><span class="n">CLEF</span><span class="p">:</span> <span class="p">{},</span>
            <span class="n">TokenCategory</span><span class="o">.</span><span class="n">TIME_SIGNATURE</span><span class="p">:</span> <span class="p">{},</span>
            <span class="n">TokenCategory</span><span class="o">.</span><span class="n">METER_SYMBOL</span><span class="p">:</span> <span class="p">{},</span>
            <span class="n">TokenCategory</span><span class="o">.</span><span class="n">KEY_SIGNATURE</span><span class="p">:</span> <span class="p">{},</span>
            <span class="n">TokenCategory</span><span class="o">.</span><span class="n">KEY_TOKEN</span><span class="p">:</span> <span class="p">{},</span>
        <span class="p">},</span>
        <span class="n">TokenCategory</span><span class="o">.</span><span class="n">ENGRAVED_SYMBOLS</span><span class="p">:</span> <span class="p">{},</span>
        <span class="n">TokenCategory</span><span class="o">.</span><span class="n">OTHER_CONTEXTUAL</span><span class="p">:</span> <span class="p">{},</span>
        <span class="n">TokenCategory</span><span class="o">.</span><span class="n">BARLINES</span><span class="p">:</span> <span class="p">{},</span>
        <span class="n">TokenCategory</span><span class="o">.</span><span class="n">COMMENTS</span><span class="p">:</span> <span class="p">{</span>
            <span class="n">TokenCategory</span><span class="o">.</span><span class="n">FIELD_COMMENTS</span><span class="p">:</span> <span class="p">{},</span>
            <span class="n">TokenCategory</span><span class="o">.</span><span class="n">LINE_COMMENTS</span><span class="p">:</span> <span class="p">{},</span>
        <span class="p">},</span>
        <span class="n">TokenCategory</span><span class="o">.</span><span class="n">DYNAMICS</span><span class="p">:</span> <span class="p">{},</span>
        <span class="n">TokenCategory</span><span class="o">.</span><span class="n">HARMONY</span><span class="p">:</span> <span class="p">{},</span>
        <span class="n">TokenCategory</span><span class="o">.</span><span class="n">FINGERING</span><span class="p">:</span> <span class="p">{},</span>
        <span class="n">TokenCategory</span><span class="o">.</span><span class="n">LYRICS</span><span class="p">:</span> <span class="p">{},</span>
        <span class="n">TokenCategory</span><span class="o">.</span><span class="n">INSTRUMENTS</span><span class="p">:</span> <span class="p">{},</span>
        <span class="n">TokenCategory</span><span class="o">.</span><span class="n">IMAGE_ANNOTATIONS</span><span class="p">:</span> <span class="p">{</span>
            <span class="n">TokenCategory</span><span class="o">.</span><span class="n">BOUNDING_BOXES</span><span class="p">:</span> <span class="p">{},</span>
            <span class="n">TokenCategory</span><span class="o">.</span><span class="n">LINE_BREAK</span><span class="p">:</span> <span class="p">{},</span>
        <span class="p">},</span>
        <span class="n">TokenCategory</span><span class="o">.</span><span class="n">OTHER</span><span class="p">:</span> <span class="p">{},</span>
        <span class="n">TokenCategory</span><span class="o">.</span><span class="n">MHXM</span><span class="p">:</span> <span class="p">{},</span>
        <span class="n">TokenCategory</span><span class="o">.</span><span class="n">ROOT</span><span class="p">:</span> <span class="p">{},</span>
    <span class="p">}</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_is_child</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">parent</span><span class="p">:</span> <span class="n">TokenCategory</span><span class="p">,</span> <span class="n">child</span><span class="p">:</span> <span class="n">TokenCategory</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">tree</span><span class="p">:</span> <span class="s1">&#39;_hierarchy_typing&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Recursively check if `child` is in the subtree of `parent`.</span>

<span class="sd">        Args:</span>
<span class="sd">            parent (TokenCategory): The parent category.</span>
<span class="sd">            child (TokenCategory): The category to check.</span>
<span class="sd">            tree (_hierarchy_typing): The subtree to check.</span>

<span class="sd">        Returns:</span>
<span class="sd">            bool: True if `child` is a descendant of `parent`, False otherwise.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Base case: the parent is empty.</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">tree</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="c1"># Recursive case: explore the direct children of the parent.</span>
        <span class="k">return</span> <span class="nb">any</span><span class="p">(</span>
            <span class="n">direct_child</span> <span class="o">==</span> <span class="n">child</span> <span class="ow">or</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_is_child</span><span class="p">(</span><span class="n">direct_child</span><span class="p">,</span> <span class="n">child</span><span class="p">,</span> <span class="n">tree</span><span class="o">=</span><span class="n">tree</span><span class="p">[</span><span class="n">parent</span><span class="p">])</span>
            <span class="k">for</span> <span class="n">direct_child</span> <span class="ow">in</span> <span class="n">tree</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span> <span class="p">{})</span>
        <span class="p">)</span>
        <span class="c1"># Vectorized version of the following code:</span>
        <span class="c1">#direct_children = tree.get(parent, dict())</span>
        <span class="c1">#for direct_child in direct_children.keys():</span>
        <span class="c1">#    if direct_child == child or cls._is_child(direct_child, child, tree=tree[parent]):</span>
        <span class="c1">#        return True</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">is_child</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">parent</span><span class="p">:</span> <span class="n">TokenCategory</span><span class="p">,</span> <span class="n">child</span><span class="p">:</span> <span class="n">TokenCategory</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Recursively check if `child` is in the subtree of `parent`. If `parent` is the same as `child`, return True.</span>

<span class="sd">        Args:</span>
<span class="sd">            parent (TokenCategory): The parent category.</span>
<span class="sd">            child (TokenCategory): The category to check.</span>

<span class="sd">        Returns:</span>
<span class="sd">            bool: True if `child` is a descendant of `parent`, False otherwise.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">parent</span> <span class="o">==</span> <span class="n">child</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">True</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_is_child</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span> <span class="n">child</span><span class="p">,</span> <span class="n">tree</span><span class="o">=</span><span class="bp">cls</span><span class="o">.</span><span class="n">hierarchy</span><span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">children</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">parent</span><span class="p">:</span> <span class="n">TokenCategory</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Set</span><span class="p">[</span><span class="n">TokenCategory</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the direct children of the parent category.</span>

<span class="sd">        Args:</span>
<span class="sd">            parent (TokenCategory): The parent category.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Set[TokenCategory]: The list of children categories of the parent category.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">set</span><span class="p">(</span><span class="bp">cls</span><span class="o">.</span><span class="n">hierarchy</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span> <span class="p">{})</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_nodes</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">tree</span><span class="p">:</span> <span class="n">_hierarchy_typing</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Set</span><span class="p">[</span><span class="n">TokenCategory</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Recursively get all nodes in the given hierarchy tree.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">nodes</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">tree</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
        <span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="n">tree</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="n">nodes</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="bp">cls</span><span class="o">.</span><span class="n">_nodes</span><span class="p">(</span><span class="n">child</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">nodes</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_find_subtree</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">tree</span><span class="p">:</span> <span class="s1">&#39;_hierarchy_typing&#39;</span><span class="p">,</span> <span class="n">parent</span><span class="p">:</span> <span class="n">TokenCategory</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="s1">&#39;_hierarchy_typing&#39;</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Recursively find the subtree for the given parent category.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">parent</span> <span class="ow">in</span> <span class="n">tree</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">tree</span><span class="p">[</span><span class="n">parent</span><span class="p">]</span>  <span class="c1"># Return subtree if parent is found at this level</span>
        <span class="k">for</span> <span class="n">child</span><span class="p">,</span> <span class="n">sub_tree</span> <span class="ow">in</span> <span class="n">tree</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">result</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_find_subtree</span><span class="p">(</span><span class="n">sub_tree</span><span class="p">,</span> <span class="n">parent</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">result</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">result</span>
        <span class="k">return</span> <span class="kc">None</span>  <span class="c1"># Return None if parent is not found. It won&#39;t happer never</span>


    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">nodes</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">parent</span><span class="p">:</span> <span class="n">TokenCategory</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Set</span><span class="p">[</span><span class="n">TokenCategory</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the all nodes of the subtree of the parent category.</span>

<span class="sd">        Args:</span>
<span class="sd">            parent (TokenCategory): The parent category.</span>

<span class="sd">        Returns:</span>
<span class="sd">            List[TokenCategory]: The list of nodes of the subtree of the parent category.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">subtree</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_find_subtree</span><span class="p">(</span><span class="bp">cls</span><span class="o">.</span><span class="n">hierarchy</span><span class="p">,</span> <span class="n">parent</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_nodes</span><span class="p">(</span><span class="n">subtree</span><span class="p">)</span> <span class="k">if</span> <span class="n">subtree</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="nb">set</span><span class="p">()</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">valid</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span>
              <span class="n">include</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Set</span><span class="p">[</span><span class="n">TokenCategory</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
              <span class="n">exclude</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Set</span><span class="p">[</span><span class="n">TokenCategory</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Set</span><span class="p">[</span><span class="n">TokenCategory</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the valid categories based on the include and exclude sets.</span>

<span class="sd">        Args:</span>
<span class="sd">            include (Optional[Set[TokenCategory]]): The set of categories to include. Defaults to None. \</span>
<span class="sd">                If None, all categories are included.</span>
<span class="sd">            exclude (Optional[Set[TokenCategory]]): The set of categories to exclude. Defaults to None. \</span>
<span class="sd">                If None, no categories are excluded.</span>

<span class="sd">        Returns (Set[TokenCategory]): The list of valid categories based on the include and exclude sets.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">include</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_validate_include</span><span class="p">(</span><span class="n">include</span><span class="p">)</span>
        <span class="n">exclude</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_validate_exclude</span><span class="p">(</span><span class="n">exclude</span><span class="p">)</span>

        <span class="n">included_nodes</span> <span class="o">=</span> <span class="nb">set</span><span class="o">.</span><span class="n">union</span><span class="p">(</span><span class="o">*</span><span class="p">[(</span><span class="bp">cls</span><span class="o">.</span><span class="n">nodes</span><span class="p">(</span><span class="n">cat</span><span class="p">)</span> <span class="o">|</span> <span class="p">{</span><span class="n">cat</span><span class="p">})</span> <span class="k">for</span> <span class="n">cat</span> <span class="ow">in</span> <span class="n">include</span><span class="p">])</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">include</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="k">else</span> <span class="n">include</span>
        <span class="n">excluded_nodes</span> <span class="o">=</span> <span class="nb">set</span><span class="o">.</span><span class="n">union</span><span class="p">(</span><span class="o">*</span><span class="p">[(</span><span class="bp">cls</span><span class="o">.</span><span class="n">nodes</span><span class="p">(</span><span class="n">cat</span><span class="p">)</span> <span class="o">|</span> <span class="p">{</span><span class="n">cat</span><span class="p">})</span> <span class="k">for</span> <span class="n">cat</span> <span class="ow">in</span> <span class="n">exclude</span><span class="p">])</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">exclude</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="k">else</span> <span class="n">exclude</span>
        <span class="k">return</span> <span class="n">included_nodes</span> <span class="o">-</span> <span class="n">excluded_nodes</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_leaves</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">tree</span><span class="p">:</span> <span class="s1">&#39;_hierarchy_typing&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Set</span><span class="p">[</span><span class="n">TokenCategory</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Recursively get all leaves (nodes without children) in the hierarchy tree.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">tree</span><span class="p">:</span>
            <span class="k">return</span> <span class="nb">set</span><span class="p">()</span>
        <span class="n">leaves</span> <span class="o">=</span> <span class="p">{</span><span class="n">node</span> <span class="k">for</span> <span class="n">node</span><span class="p">,</span> <span class="n">children</span> <span class="ow">in</span> <span class="n">tree</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">children</span><span class="p">}</span>
        <span class="k">for</span> <span class="n">node</span><span class="p">,</span> <span class="n">children</span> <span class="ow">in</span> <span class="n">tree</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">leaves</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="bp">cls</span><span class="o">.</span><span class="n">_leaves</span><span class="p">(</span><span class="n">children</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">leaves</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">leaves</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">target</span><span class="p">:</span> <span class="n">TokenCategory</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Set</span><span class="p">[</span><span class="n">TokenCategory</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the leaves of the subtree of the target category.</span>

<span class="sd">        Args:</span>
<span class="sd">            target (TokenCategory): The target category.</span>

<span class="sd">        Returns (List[TokenCategory]): The list of leaf categories of the target category.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">tree</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_find_subtree</span><span class="p">(</span><span class="bp">cls</span><span class="o">.</span><span class="n">hierarchy</span><span class="p">,</span> <span class="n">target</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_leaves</span><span class="p">(</span><span class="n">tree</span><span class="p">)</span>


    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_match</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">category</span><span class="p">:</span> <span class="n">TokenCategory</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span>
               <span class="n">include</span><span class="p">:</span> <span class="n">Set</span><span class="p">[</span><span class="n">TokenCategory</span><span class="p">],</span>
               <span class="n">exclude</span><span class="p">:</span> <span class="n">Set</span><span class="p">[</span><span class="n">TokenCategory</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Check if a category matches include/exclude criteria.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Include the category itself along with its descendants.</span>
        <span class="n">target_nodes</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">nodes</span><span class="p">(</span><span class="n">category</span><span class="p">)</span> <span class="o">|</span> <span class="p">{</span><span class="n">category</span><span class="p">}</span>

        <span class="n">valid_categories</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">valid</span><span class="p">(</span><span class="n">include</span><span class="o">=</span><span class="n">include</span><span class="p">,</span> <span class="n">exclude</span><span class="o">=</span><span class="n">exclude</span><span class="p">)</span>

        <span class="c1"># Check if any node in the target set is in the valid categories.</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="n">target_nodes</span> <span class="o">&amp;</span> <span class="n">valid_categories</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_validate_include</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">include</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Set</span><span class="p">[</span><span class="n">TokenCategory</span><span class="p">]])</span> <span class="o">-&gt;</span> <span class="n">Set</span><span class="p">[</span><span class="n">TokenCategory</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Validate the include set.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">include</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">include</span><span class="p">,</span> <span class="p">(</span><span class="nb">list</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">)):</span>
            <span class="n">include</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">include</span><span class="p">)</span>
        <span class="k">elif</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">include</span><span class="p">,</span> <span class="nb">set</span><span class="p">):</span>
            <span class="n">include</span> <span class="o">=</span> <span class="p">{</span><span class="n">include</span><span class="p">}</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">all</span><span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">cat</span><span class="p">,</span> <span class="n">TokenCategory</span><span class="p">)</span> <span class="k">for</span> <span class="n">cat</span> <span class="ow">in</span> <span class="n">include</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;Invalid category: include and exclude must be a set of TokenCategory.&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">include</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_validate_exclude</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">exclude</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Set</span><span class="p">[</span><span class="n">TokenCategory</span><span class="p">]])</span> <span class="o">-&gt;</span> <span class="n">Set</span><span class="p">[</span><span class="n">TokenCategory</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Validate the exclude set.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">exclude</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="nb">set</span><span class="p">()</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">exclude</span><span class="p">,</span> <span class="p">(</span><span class="nb">list</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">)):</span>
            <span class="n">exclude</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">exclude</span><span class="p">)</span>
        <span class="k">elif</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">exclude</span><span class="p">,</span> <span class="nb">set</span><span class="p">):</span>
            <span class="n">exclude</span> <span class="o">=</span> <span class="p">{</span><span class="n">exclude</span><span class="p">}</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">all</span><span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">cat</span><span class="p">,</span> <span class="n">TokenCategory</span><span class="p">)</span> <span class="k">for</span> <span class="n">cat</span> <span class="ow">in</span> <span class="n">exclude</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Invalid category: category must be a </span><span class="si">{</span><span class="n">TokenCategory</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">.&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">exclude</span>


    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">match</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">category</span><span class="p">:</span> <span class="n">TokenCategory</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span>
              <span class="n">include</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Set</span><span class="p">[</span><span class="n">TokenCategory</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
              <span class="n">exclude</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Set</span><span class="p">[</span><span class="n">TokenCategory</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Check if the category matches the include and exclude sets.</span>
<span class="sd">            If include is None, all categories are included. \</span>
<span class="sd">            If exclude is None, no categories are excluded.</span>

<span class="sd">        Args:</span>
<span class="sd">            category (TokenCategory): The category to check.</span>
<span class="sd">            include (Optional[Set[TokenCategory]]): The set of categories to include. Defaults to None. \</span>
<span class="sd">                If None, all categories are included.</span>
<span class="sd">            exclude (Optional[Set[TokenCategory]]): The set of categories to exclude. Defaults to None. \</span>
<span class="sd">                If None, no categories are excluded.</span>

<span class="sd">        Returns (bool): True if the category matches the include and exclude sets, False otherwise.</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; TokenCategoryHierarchyMapper.match(TokenCategory.NOTE, include={TokenCategory.NOTE_REST})</span>
<span class="sd">            True</span>
<span class="sd">            &gt;&gt;&gt; TokenCategoryHierarchyMapper.match(TokenCategory.NOTE, include={TokenCategory.NOTE_REST}, exclude={TokenCategory.REST})</span>
<span class="sd">            True</span>
<span class="sd">            &gt;&gt;&gt; TokenCategoryHierarchyMapper.match(TokenCategory.NOTE, include={TokenCategory.NOTE_REST}, exclude={TokenCategory.NOTE})</span>
<span class="sd">            False</span>
<span class="sd">            &gt;&gt;&gt; TokenCategoryHierarchyMapper.match(TokenCategory.NOTE, include={TokenCategory.CORE}, exclude={TokenCategory.DURATION})</span>
<span class="sd">            True</span>
<span class="sd">            &gt;&gt;&gt; TokenCategoryHierarchyMapper.match(TokenCategory.DURATION, include={TokenCategory.CORE}, exclude={TokenCategory.DURATION})</span>
<span class="sd">            False</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">include</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_validate_include</span><span class="p">(</span><span class="n">include</span><span class="p">)</span>
        <span class="n">exclude</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_validate_exclude</span><span class="p">(</span><span class="n">exclude</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_match</span><span class="p">(</span><span class="n">category</span><span class="p">,</span> <span class="n">include</span><span class="o">=</span><span class="n">include</span><span class="p">,</span> <span class="n">exclude</span><span class="o">=</span><span class="n">exclude</span><span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">all</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Set</span><span class="p">[</span><span class="n">TokenCategory</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get all categories in the hierarchy.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Set[TokenCategory]: The set of all categories in the hierarchy.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_nodes</span><span class="p">(</span><span class="bp">cls</span><span class="o">.</span><span class="n">hierarchy</span><span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">tree</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return a string representation of the category hierarchy,</span>
<span class="sd">        formatted similar to the output of the Unix &#39;tree&#39; command.</span>

<span class="sd">        Example output:</span>
<span class="sd">            .</span>
<span class="sd">            ├── STRUCTURAL</span>
<span class="sd">            ├── CORE</span>
<span class="sd">            │   ├── NOTE_REST</span>
<span class="sd">            │   │   ├── DURATION</span>
<span class="sd">            │   │   ├── NOTE</span>
<span class="sd">            │   │   │   ├── PITCH</span>
<span class="sd">            │   │   │   └── DECORATION</span>
<span class="sd">            │   │   └── REST</span>
<span class="sd">            │   ├── CHORD</span>
<span class="sd">            │   └── EMPTY</span>
<span class="sd">            ├── SIGNATURES</span>
<span class="sd">            │   ├── CLEF</span>
<span class="sd">            │   ├── TIME_SIGNATURE</span>
<span class="sd">            │   ├── METER_SYMBOL</span>
<span class="sd">            │   └── KEY_SIGNATURE</span>
<span class="sd">            ├── ENGRAVED_SYMBOLS</span>
<span class="sd">            ├── OTHER_CONTEXTUAL</span>
<span class="sd">            ├── BARLINES</span>
<span class="sd">            ├── COMMENTS</span>
<span class="sd">            │   ├── FIELD_COMMENTS</span>
<span class="sd">            │   └── LINE_COMMENTS</span>
<span class="sd">            ├── DYNAMICS</span>
<span class="sd">            ├── HARMONY</span>
<span class="sd">            ...</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">def</span><span class="w"> </span><span class="nf">build_tree</span><span class="p">(</span><span class="n">tree</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="n">TokenCategory</span><span class="p">,</span> <span class="s1">&#39;_hierarchy_typing&#39;</span><span class="p">],</span> <span class="n">prefix</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
            <span class="n">lines_buffer</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="n">items</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">tree</span><span class="o">.</span><span class="n">items</span><span class="p">())</span>
            <span class="n">count</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">items</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="p">(</span><span class="n">category</span><span class="p">,</span> <span class="n">subtree</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">items</span><span class="p">):</span>
                <span class="n">connector</span> <span class="o">=</span> <span class="s2">&quot;└── &quot;</span> <span class="k">if</span> <span class="n">index</span> <span class="o">==</span> <span class="n">count</span> <span class="o">-</span> <span class="mi">1</span> <span class="k">else</span> <span class="s2">&quot;├── &quot;</span>
                <span class="n">lines_buffer</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">prefix</span> <span class="o">+</span> <span class="n">connector</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">category</span><span class="p">))</span>
                <span class="n">extension</span> <span class="o">=</span> <span class="s2">&quot;    &quot;</span> <span class="k">if</span> <span class="n">index</span> <span class="o">==</span> <span class="n">count</span> <span class="o">-</span> <span class="mi">1</span> <span class="k">else</span> <span class="s2">&quot;│   &quot;</span>
                <span class="n">lines_buffer</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">build_tree</span><span class="p">(</span><span class="n">subtree</span><span class="p">,</span> <span class="n">prefix</span> <span class="o">+</span> <span class="n">extension</span><span class="p">))</span>
            <span class="k">return</span> <span class="n">lines_buffer</span>

        <span class="n">lines</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;.&quot;</span><span class="p">]</span>
        <span class="n">lines</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">build_tree</span><span class="p">(</span><span class="bp">cls</span><span class="o">.</span><span class="n">hierarchy</span><span class="p">))</span>
        <span class="k">return</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">lines</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="kernpy.core.TokenCategoryHierarchyMapper.all" class="doc doc-heading">
            <code class="highlight language-python"><span class="nb">all</span><span class="p">()</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>Get all categories in the hierarchy.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Set">Set</span>[<a class="autorefs autorefs-internal" title="kernpy.core.tokens.TokenCategory" href="#kernpy.core.TokenCategory">TokenCategory</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Set[TokenCategory]: The set of all categories in the hierarchy.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">539</span>
<span class="normal">540</span>
<span class="normal">541</span>
<span class="normal">542</span>
<span class="normal">543</span>
<span class="normal">544</span>
<span class="normal">545</span>
<span class="normal">546</span>
<span class="normal">547</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">all</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Set</span><span class="p">[</span><span class="n">TokenCategory</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get all categories in the hierarchy.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Set[TokenCategory]: The set of all categories in the hierarchy.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_nodes</span><span class="p">(</span><span class="bp">cls</span><span class="o">.</span><span class="n">hierarchy</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.TokenCategoryHierarchyMapper.children" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">children</span><span class="p">(</span><span class="n">parent</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>Get the direct children of the parent category.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>parent</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.tokens.TokenCategory" href="#kernpy.core.TokenCategory">TokenCategory</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The parent category.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Set">Set</span>[<a class="autorefs autorefs-internal" title="kernpy.core.tokens.TokenCategory" href="#kernpy.core.TokenCategory">TokenCategory</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Set[TokenCategory]: The list of children categories of the parent category.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">children</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">parent</span><span class="p">:</span> <span class="n">TokenCategory</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Set</span><span class="p">[</span><span class="n">TokenCategory</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get the direct children of the parent category.</span>

<span class="sd">    Args:</span>
<span class="sd">        parent (TokenCategory): The parent category.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Set[TokenCategory]: The list of children categories of the parent category.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="nb">set</span><span class="p">(</span><span class="bp">cls</span><span class="o">.</span><span class="n">hierarchy</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span> <span class="p">{})</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.TokenCategoryHierarchyMapper.is_child" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">is_child</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span> <span class="n">child</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>Recursively check if <code>child</code> is in the subtree of <code>parent</code>. If <code>parent</code> is the same as <code>child</code>, return True.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>parent</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.tokens.TokenCategory" href="#kernpy.core.TokenCategory">TokenCategory</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The parent category.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>child</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.tokens.TokenCategory" href="#kernpy.core.TokenCategory">TokenCategory</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The category to check.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>bool</code></td>            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if <code>child</code> is a descendant of <code>parent</code>, False otherwise.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">is_child</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">parent</span><span class="p">:</span> <span class="n">TokenCategory</span><span class="p">,</span> <span class="n">child</span><span class="p">:</span> <span class="n">TokenCategory</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Recursively check if `child` is in the subtree of `parent`. If `parent` is the same as `child`, return True.</span>

<span class="sd">    Args:</span>
<span class="sd">        parent (TokenCategory): The parent category.</span>
<span class="sd">        child (TokenCategory): The category to check.</span>

<span class="sd">    Returns:</span>
<span class="sd">        bool: True if `child` is a descendant of `parent`, False otherwise.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">parent</span> <span class="o">==</span> <span class="n">child</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">True</span>
    <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_is_child</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span> <span class="n">child</span><span class="p">,</span> <span class="n">tree</span><span class="o">=</span><span class="bp">cls</span><span class="o">.</span><span class="n">hierarchy</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.TokenCategoryHierarchyMapper.leaves" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">leaves</span><span class="p">(</span><span class="n">target</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>Get the leaves of the subtree of the target category.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>target</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.tokens.TokenCategory" href="#kernpy.core.TokenCategory">TokenCategory</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The target category.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns (List[TokenCategory]): The list of leaf categories of the target category.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">leaves</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">target</span><span class="p">:</span> <span class="n">TokenCategory</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Set</span><span class="p">[</span><span class="n">TokenCategory</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get the leaves of the subtree of the target category.</span>

<span class="sd">    Args:</span>
<span class="sd">        target (TokenCategory): The target category.</span>

<span class="sd">    Returns (List[TokenCategory]): The list of leaf categories of the target category.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">tree</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_find_subtree</span><span class="p">(</span><span class="bp">cls</span><span class="o">.</span><span class="n">hierarchy</span><span class="p">,</span> <span class="n">target</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_leaves</span><span class="p">(</span><span class="n">tree</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.TokenCategoryHierarchyMapper.match" class="doc doc-heading">
            <code class="highlight language-python"><span class="k">match</span><span class="p">(</span><span class="n">category</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">include</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">exclude</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>Check if the category matches the include and exclude sets.
    If include is None, all categories are included.             If exclude is None, no categories are excluded.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>category</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.tokens.TokenCategory" href="#kernpy.core.TokenCategory">TokenCategory</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The category to check.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>include</code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="typing.Set">Set</span>[<a class="autorefs autorefs-internal" title="kernpy.core.tokens.TokenCategory" href="#kernpy.core.TokenCategory">TokenCategory</a>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The set of categories to include. Defaults to None.                 If None, all categories are included.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>exclude</code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="typing.Set">Set</span>[<a class="autorefs autorefs-internal" title="kernpy.core.tokens.TokenCategory" href="#kernpy.core.TokenCategory">TokenCategory</a>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The set of categories to exclude. Defaults to None.                 If None, no categories are excluded.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns (bool): True if the category matches the include and exclude sets, False otherwise.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">TokenCategoryHierarchyMapper</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">TokenCategory</span><span class="o">.</span><span class="n">NOTE</span><span class="p">,</span> <span class="n">include</span><span class="o">=</span><span class="p">{</span><span class="n">TokenCategory</span><span class="o">.</span><span class="n">NOTE_REST</span><span class="p">})</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TokenCategoryHierarchyMapper</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">TokenCategory</span><span class="o">.</span><span class="n">NOTE</span><span class="p">,</span> <span class="n">include</span><span class="o">=</span><span class="p">{</span><span class="n">TokenCategory</span><span class="o">.</span><span class="n">NOTE_REST</span><span class="p">},</span> <span class="n">exclude</span><span class="o">=</span><span class="p">{</span><span class="n">TokenCategory</span><span class="o">.</span><span class="n">REST</span><span class="p">})</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TokenCategoryHierarchyMapper</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">TokenCategory</span><span class="o">.</span><span class="n">NOTE</span><span class="p">,</span> <span class="n">include</span><span class="o">=</span><span class="p">{</span><span class="n">TokenCategory</span><span class="o">.</span><span class="n">NOTE_REST</span><span class="p">},</span> <span class="n">exclude</span><span class="o">=</span><span class="p">{</span><span class="n">TokenCategory</span><span class="o">.</span><span class="n">NOTE</span><span class="p">})</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TokenCategoryHierarchyMapper</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">TokenCategory</span><span class="o">.</span><span class="n">NOTE</span><span class="p">,</span> <span class="n">include</span><span class="o">=</span><span class="p">{</span><span class="n">TokenCategory</span><span class="o">.</span><span class="n">CORE</span><span class="p">},</span> <span class="n">exclude</span><span class="o">=</span><span class="p">{</span><span class="n">TokenCategory</span><span class="o">.</span><span class="n">DURATION</span><span class="p">})</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TokenCategoryHierarchyMapper</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">TokenCategory</span><span class="o">.</span><span class="n">DURATION</span><span class="p">,</span> <span class="n">include</span><span class="o">=</span><span class="p">{</span><span class="n">TokenCategory</span><span class="o">.</span><span class="n">CORE</span><span class="p">},</span> <span class="n">exclude</span><span class="o">=</span><span class="p">{</span><span class="n">TokenCategory</span><span class="o">.</span><span class="n">DURATION</span><span class="p">})</span>
<span class="go">False</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span>
<span class="normal">507</span>
<span class="normal">508</span>
<span class="normal">509</span>
<span class="normal">510</span>
<span class="normal">511</span>
<span class="normal">512</span>
<span class="normal">513</span>
<span class="normal">514</span>
<span class="normal">515</span>
<span class="normal">516</span>
<span class="normal">517</span>
<span class="normal">518</span>
<span class="normal">519</span>
<span class="normal">520</span>
<span class="normal">521</span>
<span class="normal">522</span>
<span class="normal">523</span>
<span class="normal">524</span>
<span class="normal">525</span>
<span class="normal">526</span>
<span class="normal">527</span>
<span class="normal">528</span>
<span class="normal">529</span>
<span class="normal">530</span>
<span class="normal">531</span>
<span class="normal">532</span>
<span class="normal">533</span>
<span class="normal">534</span>
<span class="normal">535</span>
<span class="normal">536</span>
<span class="normal">537</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">match</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">category</span><span class="p">:</span> <span class="n">TokenCategory</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span>
          <span class="n">include</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Set</span><span class="p">[</span><span class="n">TokenCategory</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
          <span class="n">exclude</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Set</span><span class="p">[</span><span class="n">TokenCategory</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Check if the category matches the include and exclude sets.</span>
<span class="sd">        If include is None, all categories are included. \</span>
<span class="sd">        If exclude is None, no categories are excluded.</span>

<span class="sd">    Args:</span>
<span class="sd">        category (TokenCategory): The category to check.</span>
<span class="sd">        include (Optional[Set[TokenCategory]]): The set of categories to include. Defaults to None. \</span>
<span class="sd">            If None, all categories are included.</span>
<span class="sd">        exclude (Optional[Set[TokenCategory]]): The set of categories to exclude. Defaults to None. \</span>
<span class="sd">            If None, no categories are excluded.</span>

<span class="sd">    Returns (bool): True if the category matches the include and exclude sets, False otherwise.</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; TokenCategoryHierarchyMapper.match(TokenCategory.NOTE, include={TokenCategory.NOTE_REST})</span>
<span class="sd">        True</span>
<span class="sd">        &gt;&gt;&gt; TokenCategoryHierarchyMapper.match(TokenCategory.NOTE, include={TokenCategory.NOTE_REST}, exclude={TokenCategory.REST})</span>
<span class="sd">        True</span>
<span class="sd">        &gt;&gt;&gt; TokenCategoryHierarchyMapper.match(TokenCategory.NOTE, include={TokenCategory.NOTE_REST}, exclude={TokenCategory.NOTE})</span>
<span class="sd">        False</span>
<span class="sd">        &gt;&gt;&gt; TokenCategoryHierarchyMapper.match(TokenCategory.NOTE, include={TokenCategory.CORE}, exclude={TokenCategory.DURATION})</span>
<span class="sd">        True</span>
<span class="sd">        &gt;&gt;&gt; TokenCategoryHierarchyMapper.match(TokenCategory.DURATION, include={TokenCategory.CORE}, exclude={TokenCategory.DURATION})</span>
<span class="sd">        False</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">include</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_validate_include</span><span class="p">(</span><span class="n">include</span><span class="p">)</span>
    <span class="n">exclude</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_validate_exclude</span><span class="p">(</span><span class="n">exclude</span><span class="p">)</span>

    <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_match</span><span class="p">(</span><span class="n">category</span><span class="p">,</span> <span class="n">include</span><span class="o">=</span><span class="n">include</span><span class="p">,</span> <span class="n">exclude</span><span class="o">=</span><span class="n">exclude</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.TokenCategoryHierarchyMapper.nodes" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">nodes</span><span class="p">(</span><span class="n">parent</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>Get the all nodes of the subtree of the parent category.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>parent</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.tokens.TokenCategory" href="#kernpy.core.TokenCategory">TokenCategory</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The parent category.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Set">Set</span>[<a class="autorefs autorefs-internal" title="kernpy.core.tokens.TokenCategory" href="#kernpy.core.TokenCategory">TokenCategory</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List[TokenCategory]: The list of nodes of the subtree of the parent category.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">nodes</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">parent</span><span class="p">:</span> <span class="n">TokenCategory</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Set</span><span class="p">[</span><span class="n">TokenCategory</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get the all nodes of the subtree of the parent category.</span>

<span class="sd">    Args:</span>
<span class="sd">        parent (TokenCategory): The parent category.</span>

<span class="sd">    Returns:</span>
<span class="sd">        List[TokenCategory]: The list of nodes of the subtree of the parent category.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">subtree</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_find_subtree</span><span class="p">(</span><span class="bp">cls</span><span class="o">.</span><span class="n">hierarchy</span><span class="p">,</span> <span class="n">parent</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_nodes</span><span class="p">(</span><span class="n">subtree</span><span class="p">)</span> <span class="k">if</span> <span class="n">subtree</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="nb">set</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.TokenCategoryHierarchyMapper.tree" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">tree</span><span class="p">()</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>Return a string representation of the category hierarchy,
formatted similar to the output of the Unix 'tree' command.</p>


<details class="example-output" open>
  <summary>Example output</summary>
  <p>.
├── STRUCTURAL
├── CORE
│   ├── NOTE_REST
│   │   ├── DURATION
│   │   ├── NOTE
│   │   │   ├── PITCH
│   │   │   └── DECORATION
│   │   └── REST
│   ├── CHORD
│   └── EMPTY
├── SIGNATURES
│   ├── CLEF
│   ├── TIME_SIGNATURE
│   ├── METER_SYMBOL
│   └── KEY_SIGNATURE
├── ENGRAVED_SYMBOLS
├── OTHER_CONTEXTUAL
├── BARLINES
├── COMMENTS
│   ├── FIELD_COMMENTS
│   └── LINE_COMMENTS
├── DYNAMICS
├── HARMONY
...</p>
</details>
            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">549</span>
<span class="normal">550</span>
<span class="normal">551</span>
<span class="normal">552</span>
<span class="normal">553</span>
<span class="normal">554</span>
<span class="normal">555</span>
<span class="normal">556</span>
<span class="normal">557</span>
<span class="normal">558</span>
<span class="normal">559</span>
<span class="normal">560</span>
<span class="normal">561</span>
<span class="normal">562</span>
<span class="normal">563</span>
<span class="normal">564</span>
<span class="normal">565</span>
<span class="normal">566</span>
<span class="normal">567</span>
<span class="normal">568</span>
<span class="normal">569</span>
<span class="normal">570</span>
<span class="normal">571</span>
<span class="normal">572</span>
<span class="normal">573</span>
<span class="normal">574</span>
<span class="normal">575</span>
<span class="normal">576</span>
<span class="normal">577</span>
<span class="normal">578</span>
<span class="normal">579</span>
<span class="normal">580</span>
<span class="normal">581</span>
<span class="normal">582</span>
<span class="normal">583</span>
<span class="normal">584</span>
<span class="normal">585</span>
<span class="normal">586</span>
<span class="normal">587</span>
<span class="normal">588</span>
<span class="normal">589</span>
<span class="normal">590</span>
<span class="normal">591</span>
<span class="normal">592</span>
<span class="normal">593</span>
<span class="normal">594</span>
<span class="normal">595</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">tree</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return a string representation of the category hierarchy,</span>
<span class="sd">    formatted similar to the output of the Unix &#39;tree&#39; command.</span>

<span class="sd">    Example output:</span>
<span class="sd">        .</span>
<span class="sd">        ├── STRUCTURAL</span>
<span class="sd">        ├── CORE</span>
<span class="sd">        │   ├── NOTE_REST</span>
<span class="sd">        │   │   ├── DURATION</span>
<span class="sd">        │   │   ├── NOTE</span>
<span class="sd">        │   │   │   ├── PITCH</span>
<span class="sd">        │   │   │   └── DECORATION</span>
<span class="sd">        │   │   └── REST</span>
<span class="sd">        │   ├── CHORD</span>
<span class="sd">        │   └── EMPTY</span>
<span class="sd">        ├── SIGNATURES</span>
<span class="sd">        │   ├── CLEF</span>
<span class="sd">        │   ├── TIME_SIGNATURE</span>
<span class="sd">        │   ├── METER_SYMBOL</span>
<span class="sd">        │   └── KEY_SIGNATURE</span>
<span class="sd">        ├── ENGRAVED_SYMBOLS</span>
<span class="sd">        ├── OTHER_CONTEXTUAL</span>
<span class="sd">        ├── BARLINES</span>
<span class="sd">        ├── COMMENTS</span>
<span class="sd">        │   ├── FIELD_COMMENTS</span>
<span class="sd">        │   └── LINE_COMMENTS</span>
<span class="sd">        ├── DYNAMICS</span>
<span class="sd">        ├── HARMONY</span>
<span class="sd">        ...</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">build_tree</span><span class="p">(</span><span class="n">tree</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="n">TokenCategory</span><span class="p">,</span> <span class="s1">&#39;_hierarchy_typing&#39;</span><span class="p">],</span> <span class="n">prefix</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
        <span class="n">lines_buffer</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">items</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">tree</span><span class="o">.</span><span class="n">items</span><span class="p">())</span>
        <span class="n">count</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">items</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="p">(</span><span class="n">category</span><span class="p">,</span> <span class="n">subtree</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">items</span><span class="p">):</span>
            <span class="n">connector</span> <span class="o">=</span> <span class="s2">&quot;└── &quot;</span> <span class="k">if</span> <span class="n">index</span> <span class="o">==</span> <span class="n">count</span> <span class="o">-</span> <span class="mi">1</span> <span class="k">else</span> <span class="s2">&quot;├── &quot;</span>
            <span class="n">lines_buffer</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">prefix</span> <span class="o">+</span> <span class="n">connector</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">category</span><span class="p">))</span>
            <span class="n">extension</span> <span class="o">=</span> <span class="s2">&quot;    &quot;</span> <span class="k">if</span> <span class="n">index</span> <span class="o">==</span> <span class="n">count</span> <span class="o">-</span> <span class="mi">1</span> <span class="k">else</span> <span class="s2">&quot;│   &quot;</span>
            <span class="n">lines_buffer</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">build_tree</span><span class="p">(</span><span class="n">subtree</span><span class="p">,</span> <span class="n">prefix</span> <span class="o">+</span> <span class="n">extension</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">lines_buffer</span>

    <span class="n">lines</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;.&quot;</span><span class="p">]</span>
    <span class="n">lines</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">build_tree</span><span class="p">(</span><span class="bp">cls</span><span class="o">.</span><span class="n">hierarchy</span><span class="p">))</span>
    <span class="k">return</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">lines</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.TokenCategoryHierarchyMapper.valid" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">valid</span><span class="p">(</span><span class="n">include</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">exclude</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>Get the valid categories based on the include and exclude sets.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>include</code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="typing.Set">Set</span>[<a class="autorefs autorefs-internal" title="kernpy.core.tokens.TokenCategory" href="#kernpy.core.TokenCategory">TokenCategory</a>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The set of categories to include. Defaults to None.                 If None, all categories are included.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>exclude</code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="typing.Set">Set</span>[<a class="autorefs autorefs-internal" title="kernpy.core.tokens.TokenCategory" href="#kernpy.core.TokenCategory">TokenCategory</a>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The set of categories to exclude. Defaults to None.                 If None, no categories are excluded.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns (Set[TokenCategory]): The list of valid categories based on the include and exclude sets.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokens.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">valid</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span>
          <span class="n">include</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Set</span><span class="p">[</span><span class="n">TokenCategory</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
          <span class="n">exclude</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Set</span><span class="p">[</span><span class="n">TokenCategory</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Set</span><span class="p">[</span><span class="n">TokenCategory</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get the valid categories based on the include and exclude sets.</span>

<span class="sd">    Args:</span>
<span class="sd">        include (Optional[Set[TokenCategory]]): The set of categories to include. Defaults to None. \</span>
<span class="sd">            If None, all categories are included.</span>
<span class="sd">        exclude (Optional[Set[TokenCategory]]): The set of categories to exclude. Defaults to None. \</span>
<span class="sd">            If None, no categories are excluded.</span>

<span class="sd">    Returns (Set[TokenCategory]): The list of valid categories based on the include and exclude sets.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">include</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_validate_include</span><span class="p">(</span><span class="n">include</span><span class="p">)</span>
    <span class="n">exclude</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_validate_exclude</span><span class="p">(</span><span class="n">exclude</span><span class="p">)</span>

    <span class="n">included_nodes</span> <span class="o">=</span> <span class="nb">set</span><span class="o">.</span><span class="n">union</span><span class="p">(</span><span class="o">*</span><span class="p">[(</span><span class="bp">cls</span><span class="o">.</span><span class="n">nodes</span><span class="p">(</span><span class="n">cat</span><span class="p">)</span> <span class="o">|</span> <span class="p">{</span><span class="n">cat</span><span class="p">})</span> <span class="k">for</span> <span class="n">cat</span> <span class="ow">in</span> <span class="n">include</span><span class="p">])</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">include</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="k">else</span> <span class="n">include</span>
    <span class="n">excluded_nodes</span> <span class="o">=</span> <span class="nb">set</span><span class="o">.</span><span class="n">union</span><span class="p">(</span><span class="o">*</span><span class="p">[(</span><span class="bp">cls</span><span class="o">.</span><span class="n">nodes</span><span class="p">(</span><span class="n">cat</span><span class="p">)</span> <span class="o">|</span> <span class="p">{</span><span class="n">cat</span><span class="p">})</span> <span class="k">for</span> <span class="n">cat</span> <span class="ow">in</span> <span class="n">exclude</span><span class="p">])</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">exclude</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="k">else</span> <span class="n">exclude</span>
    <span class="k">return</span> <span class="n">included_nodes</span> <span class="o">-</span> <span class="n">excluded_nodes</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="kernpy.core.Tokenizer" class="doc doc-heading">
            <code>Tokenizer</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="abc.ABC">ABC</span></code></p>


        <p>Tokenizer interface. All tokenizers must implement this interface.</p>
<p>Tokenizers are responsible for converting a token into a string representation.</p>

              <details class="quote">
                <summary>Source code in <code>kernpy/core/tokenizers.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">Tokenizer</span><span class="p">(</span><span class="n">ABC</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Tokenizer interface. All tokenizers must implement this interface.</span>

<span class="sd">    Tokenizers are responsible for converting a token into a string representation.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">token_categories</span><span class="p">:</span> <span class="n">Set</span><span class="p">[</span><span class="s1">&#39;TokenCategory&#39;</span><span class="p">]):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Create a new Tokenizer.</span>

<span class="sd">        Args:</span>
<span class="sd">            token_categories Set[TokenCategory]: List of categories to be tokenized.</span>
<span class="sd">                If None, an exception will be raised.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">token_categories</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;Categories must be provided. Found None.&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">token_categories</span> <span class="o">=</span> <span class="n">token_categories</span>


    <span class="nd">@abstractmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">tokenize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">token</span><span class="p">:</span> <span class="n">Token</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Tokenize a token into a string representation.</span>

<span class="sd">        Args:</span>
<span class="sd">            token (Token): Token to be tokenized.</span>

<span class="sd">        Returns (str): Tokenized string representation.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">pass</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="kernpy.core.Tokenizer.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="p">,</span> <span class="n">token_categories</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Create a new Tokenizer.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>token_categories</code></td>
            <td>
                  <code><span title="typing.Set">Set</span>[<a class="autorefs autorefs-internal" title="kernpy.core.gkern.TokenCategory" href="#kernpy.core.TokenCategory">TokenCategory</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List of categories to be tokenized.
If None, an exception will be raised.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokenizers.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">token_categories</span><span class="p">:</span> <span class="n">Set</span><span class="p">[</span><span class="s1">&#39;TokenCategory&#39;</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Create a new Tokenizer.</span>

<span class="sd">    Args:</span>
<span class="sd">        token_categories Set[TokenCategory]: List of categories to be tokenized.</span>
<span class="sd">            If None, an exception will be raised.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">token_categories</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;Categories must be provided. Found None.&#39;</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">token_categories</span> <span class="o">=</span> <span class="n">token_categories</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.core.Tokenizer.tokenize" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">tokenize</span><span class="p">(</span><span class="n">token</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-abstractmethod"><code>abstractmethod</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>Tokenize a token into a string representation.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>token</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.Token" href="#kernpy.core.Token">Token</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Token to be tokenized.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns (str): Tokenized string representation.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/tokenizers.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">tokenize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">token</span><span class="p">:</span> <span class="n">Token</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Tokenize a token into a string representation.</span>

<span class="sd">    Args:</span>
<span class="sd">        token (Token): Token to be tokenized.</span>

<span class="sd">    Returns (str): Tokenized string representation.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">pass</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="kernpy.core.TokensTraversal" class="doc doc-heading">
            <code>TokensTraversal</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="kernpy.core.document.TreeTraversalInterface" href="#kernpy.core.TreeTraversalInterface">TreeTraversalInterface</a></code></p>


              <details class="quote">
                <summary>Source code in <code>kernpy/core/document.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">909</span>
<span class="normal">910</span>
<span class="normal">911</span>
<span class="normal">912</span>
<span class="normal">913</span>
<span class="normal">914</span>
<span class="normal">915</span>
<span class="normal">916</span>
<span class="normal">917</span>
<span class="normal">918</span>
<span class="normal">919</span>
<span class="normal">920</span>
<span class="normal">921</span>
<span class="normal">922</span>
<span class="normal">923</span>
<span class="normal">924</span>
<span class="normal">925</span>
<span class="normal">926</span>
<span class="normal">927</span>
<span class="normal">928</span>
<span class="normal">929</span>
<span class="normal">930</span>
<span class="normal">931</span>
<span class="normal">932</span>
<span class="normal">933</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">TokensTraversal</span><span class="p">(</span><span class="n">TreeTraversalInterface</span><span class="p">):</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span>
            <span class="n">non_repeated</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
            <span class="n">filter_by_categories</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Create an instance of `TokensTraversal`.</span>
<span class="sd">        Args:</span>
<span class="sd">            non_repeated: If True, only unique tokens are returned. If False, all tokens are returned.</span>
<span class="sd">            filter_by_categories: A list of categories to filter the tokens. If None, all tokens are returned.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tokens</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">seen_encodings</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">non_repeated</span> <span class="o">=</span> <span class="n">non_repeated</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">filter_by_categories</span> <span class="o">=</span> <span class="p">[</span><span class="n">t</span> <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">TokenCategory</span><span class="p">]</span> <span class="k">if</span> <span class="n">filter_by_categories</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">filter_by_categories</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">visit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">token</span>
                <span class="ow">and</span> <span class="p">(</span><span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">non_repeated</span> <span class="ow">or</span> <span class="n">node</span><span class="o">.</span><span class="n">token</span><span class="o">.</span><span class="n">encoding</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">seen_encodings</span><span class="p">)</span>
                <span class="ow">and</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">filter_by_categories</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">node</span><span class="o">.</span><span class="n">token</span><span class="o">.</span><span class="n">category</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">filter_by_categories</span><span class="p">)</span>
        <span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tokens</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">token</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">non_repeated</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">seen_encodings</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">token</span><span class="o">.</span><span class="n">encoding</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="kernpy.core.TokensTraversal.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">non_repeated</span><span class="p">,</span> <span class="n">filter_by_categories</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Create an instance of <code>TokensTraversal</code>.
Args:
    non_repeated: If True, only unique tokens are returned. If False, all tokens are returned.
    filter_by_categories: A list of categories to filter the tokens. If None, all tokens are returned.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/document.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">910</span>
<span class="normal">911</span>
<span class="normal">912</span>
<span class="normal">913</span>
<span class="normal">914</span>
<span class="normal">915</span>
<span class="normal">916</span>
<span class="normal">917</span>
<span class="normal">918</span>
<span class="normal">919</span>
<span class="normal">920</span>
<span class="normal">921</span>
<span class="normal">922</span>
<span class="normal">923</span>
<span class="normal">924</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">non_repeated</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
        <span class="n">filter_by_categories</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Create an instance of `TokensTraversal`.</span>
<span class="sd">    Args:</span>
<span class="sd">        non_repeated: If True, only unique tokens are returned. If False, all tokens are returned.</span>
<span class="sd">        filter_by_categories: A list of categories to filter the tokens. If None, all tokens are returned.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">tokens</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">seen_encodings</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">non_repeated</span> <span class="o">=</span> <span class="n">non_repeated</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">filter_by_categories</span> <span class="o">=</span> <span class="p">[</span><span class="n">t</span> <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">TokenCategory</span><span class="p">]</span> <span class="k">if</span> <span class="n">filter_by_categories</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">filter_by_categories</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="kernpy.core.TraversalFactory" class="doc doc-heading">
            <code>TraversalFactory</code>


</h2>


    <div class="doc doc-contents ">


              <details class="quote">
                <summary>Source code in <code>kernpy/core/document.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">936</span>
<span class="normal">937</span>
<span class="normal">938</span>
<span class="normal">939</span>
<span class="normal">940</span>
<span class="normal">941</span>
<span class="normal">942</span>
<span class="normal">943</span>
<span class="normal">944</span>
<span class="normal">945</span>
<span class="normal">946</span>
<span class="normal">947</span>
<span class="normal">948</span>
<span class="normal">949</span>
<span class="normal">950</span>
<span class="normal">951</span>
<span class="normal">952</span>
<span class="normal">953</span>
<span class="normal">954</span>
<span class="normal">955</span>
<span class="normal">956</span>
<span class="normal">957</span>
<span class="normal">958</span>
<span class="normal">959</span>
<span class="normal">960</span>
<span class="normal">961</span>
<span class="normal">962</span>
<span class="normal">963</span>
<span class="normal">964</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">TraversalFactory</span><span class="p">:</span>
    <span class="k">class</span><span class="w"> </span><span class="nc">Categories</span><span class="p">(</span><span class="n">Enum</span><span class="p">):</span>
        <span class="n">METACOMMENTS</span> <span class="o">=</span> <span class="s2">&quot;metacomments&quot;</span>
        <span class="n">TOKENS</span> <span class="o">=</span> <span class="s2">&quot;tokens&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">create</span><span class="p">(</span>
            <span class="bp">cls</span><span class="p">,</span>
            <span class="n">traversal_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
            <span class="n">non_repeated</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
            <span class="n">filter_by_categories</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Sequence</span><span class="p">[</span><span class="n">TokenCategory</span><span class="p">]]</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">TreeTraversalInterface</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Create an instance of `TreeTraversalInterface` based on the `traversal_type`.</span>
<span class="sd">        Args:</span>
<span class="sd">            non_repeated:</span>
<span class="sd">            filter_by_categories:</span>
<span class="sd">            traversal_type: The type of traversal to use. Possible values are:</span>
<span class="sd">                - &quot;metacomments&quot;</span>
<span class="sd">                - &quot;tokens&quot;</span>

<span class="sd">        Returns: An instance of `TreeTraversalInterface`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">traversal_type</span> <span class="o">==</span> <span class="bp">cls</span><span class="o">.</span><span class="n">Categories</span><span class="o">.</span><span class="n">METACOMMENTS</span><span class="o">.</span><span class="n">value</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">MetacommentsTraversal</span><span class="p">()</span>
        <span class="k">elif</span> <span class="n">traversal_type</span> <span class="o">==</span> <span class="bp">cls</span><span class="o">.</span><span class="n">Categories</span><span class="o">.</span><span class="n">TOKENS</span><span class="o">.</span><span class="n">value</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">TokensTraversal</span><span class="p">(</span><span class="n">non_repeated</span><span class="p">,</span> <span class="n">filter_by_categories</span><span class="p">)</span>

        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Unknown traversal type: </span><span class="si">{</span><span class="n">traversal_type</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="kernpy.core.TraversalFactory.create" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">create</span><span class="p">(</span><span class="n">traversal_type</span><span class="p">,</span> <span class="n">non_repeated</span><span class="p">,</span> <span class="n">filter_by_categories</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>Create an instance of <code>TreeTraversalInterface</code> based on the <code>traversal_type</code>.
Args:
    non_repeated:
    filter_by_categories:
    traversal_type: The type of traversal to use. Possible values are:
        - "metacomments"
        - "tokens"</p>
<p>Returns: An instance of <code>TreeTraversalInterface</code>.</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/document.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">941</span>
<span class="normal">942</span>
<span class="normal">943</span>
<span class="normal">944</span>
<span class="normal">945</span>
<span class="normal">946</span>
<span class="normal">947</span>
<span class="normal">948</span>
<span class="normal">949</span>
<span class="normal">950</span>
<span class="normal">951</span>
<span class="normal">952</span>
<span class="normal">953</span>
<span class="normal">954</span>
<span class="normal">955</span>
<span class="normal">956</span>
<span class="normal">957</span>
<span class="normal">958</span>
<span class="normal">959</span>
<span class="normal">960</span>
<span class="normal">961</span>
<span class="normal">962</span>
<span class="normal">963</span>
<span class="normal">964</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">create</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span>
        <span class="n">traversal_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">non_repeated</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
        <span class="n">filter_by_categories</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Sequence</span><span class="p">[</span><span class="n">TokenCategory</span><span class="p">]]</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">TreeTraversalInterface</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Create an instance of `TreeTraversalInterface` based on the `traversal_type`.</span>
<span class="sd">    Args:</span>
<span class="sd">        non_repeated:</span>
<span class="sd">        filter_by_categories:</span>
<span class="sd">        traversal_type: The type of traversal to use. Possible values are:</span>
<span class="sd">            - &quot;metacomments&quot;</span>
<span class="sd">            - &quot;tokens&quot;</span>

<span class="sd">    Returns: An instance of `TreeTraversalInterface`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">traversal_type</span> <span class="o">==</span> <span class="bp">cls</span><span class="o">.</span><span class="n">Categories</span><span class="o">.</span><span class="n">METACOMMENTS</span><span class="o">.</span><span class="n">value</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">MetacommentsTraversal</span><span class="p">()</span>
    <span class="k">elif</span> <span class="n">traversal_type</span> <span class="o">==</span> <span class="bp">cls</span><span class="o">.</span><span class="n">Categories</span><span class="o">.</span><span class="n">TOKENS</span><span class="o">.</span><span class="n">value</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">TokensTraversal</span><span class="p">(</span><span class="n">non_repeated</span><span class="p">,</span> <span class="n">filter_by_categories</span><span class="p">)</span>

    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Unknown traversal type: </span><span class="si">{</span><span class="n">traversal_type</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="kernpy.core.TreeTraversalInterface" class="doc doc-heading">
            <code>TreeTraversalInterface</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="abc.ABC">ABC</span></code></p>


        <p>TreeTraversalInterface class.</p>
<p>This class is used to traverse the tree. The <code>TreeTraversalInterface</code> class is responsible for implementing
the <code>visit</code> method.</p>

              <details class="quote">
                <summary>Source code in <code>kernpy/core/document.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">TreeTraversalInterface</span><span class="p">(</span><span class="n">ABC</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    TreeTraversalInterface class.</span>

<span class="sd">    This class is used to traverse the tree. The `TreeTraversalInterface` class is responsible for implementing</span>
<span class="sd">    the `visit` method.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">visit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="k">pass</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>


<div class="doc doc-object doc-function">


<h2 id="kernpy.core.agnostic_distance" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">agnostic_distance</span><span class="p">(</span><span class="n">first_pitch</span><span class="p">,</span> <span class="n">second_pitch</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Calculate the distance in semitones between two pitches.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>first_pitch</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.pitch_models.AgnosticPitch" href="#kernpy.core.AgnosticPitch">AgnosticPitch</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The first pitch to compare.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>second_pitch</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.pitch_models.AgnosticPitch" href="#kernpy.core.AgnosticPitch">AgnosticPitch</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The second pitch to compare.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>int</code></td>            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The distance in semitones between the two pitches.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">agnostic_distance</span><span class="p">(</span><span class="n">AgnosticPitch</span><span class="p">(</span><span class="s1">&#39;C4&#39;</span><span class="p">),</span> <span class="n">AgnosticPitch</span><span class="p">(</span><span class="s1">&#39;E4&#39;</span><span class="p">))</span>
<span class="go">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">agnostic_distance</span><span class="p">(</span><span class="n">AgnosticPitch</span><span class="p">(</span><span class="s1">&#39;C4&#39;</span><span class="p">),</span> <span class="n">AgnosticPitch</span><span class="p">(</span><span class="s1">&#39;B3&#39;</span><span class="p">))</span>
<span class="go">-1</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/transposer.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">agnostic_distance</span><span class="p">(</span>
    <span class="n">first_pitch</span><span class="p">:</span> <span class="n">AgnosticPitch</span><span class="p">,</span>
    <span class="n">second_pitch</span><span class="p">:</span> <span class="n">AgnosticPitch</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Calculate the distance in semitones between two pitches.</span>

<span class="sd">    Args:</span>
<span class="sd">        first_pitch (AgnosticPitch): The first pitch to compare.</span>
<span class="sd">        second_pitch (AgnosticPitch): The second pitch to compare.</span>

<span class="sd">    Returns:</span>
<span class="sd">        int: The distance in semitones between the two pitches.</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; agnostic_distance(AgnosticPitch(&#39;C4&#39;), AgnosticPitch(&#39;E4&#39;))</span>
<span class="sd">        4</span>
<span class="sd">        &gt;&gt;&gt; agnostic_distance(AgnosticPitch(&#39;C4&#39;), AgnosticPitch(&#39;B3&#39;))</span>
<span class="sd">        -1</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">semitone_index</span><span class="p">(</span><span class="n">p</span><span class="p">:</span> <span class="n">AgnosticPitch</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="c1"># base letter:</span>
        <span class="n">letter</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;+&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
        <span class="n">base</span> <span class="o">=</span> <span class="n">LETTER_TO_SEMITONES</span><span class="p">[</span><span class="n">letter</span><span class="p">]</span>
        <span class="c1"># accidentals: &#39;+&#39; is one sharp, &#39;-&#39; one flat</span>
        <span class="n">alteration</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s1">&#39;+&#39;</span><span class="p">)</span> <span class="o">-</span> <span class="n">p</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s1">&#39;-&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">p</span><span class="o">.</span><span class="n">octave</span> <span class="o">*</span> <span class="mi">12</span> <span class="o">+</span> <span class="n">base</span> <span class="o">+</span> <span class="n">alteration</span>

    <span class="k">return</span> <span class="n">semitone_index</span><span class="p">(</span><span class="n">second_pitch</span><span class="p">)</span> <span class="o">-</span> <span class="n">semitone_index</span><span class="p">(</span><span class="n">first_pitch</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="kernpy.core.create" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">create</span><span class="p">(</span><span class="n">content</span><span class="p">,</span> <span class="n">strict</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <pre><code>Create a Document object from a string encoded in Humdrum **kern format.

Args:
    content: String encoded in Humdrum **kern format
    strict: If True, raise an error if the **kern file has any errors. Otherwise, return a list of errors.

Returns (Document, list): Document object and list of error messages. Empty list if no errors.

Examples:
    &gt;&gt;&gt; import kernpy as kp
    &gt;&gt;&gt; document, errors = kp.create('**kern
</code></pre>
<p>4e
4f
4g
<em>-
')
        &gt;&gt;&gt; if len(errors) &gt; 0:
        &gt;&gt;&gt;     print(errors)
        ['Error: Invalid </em><em>kern spine: 1', 'Error: Invalid </em>*kern spine: 2']</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/generic.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@deprecated</span><span class="p">(</span><span class="s2">&quot;Use &#39;loads&#39; instead.&quot;</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">create</span><span class="p">(</span>
        <span class="n">content</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">strict</span><span class="o">=</span><span class="kc">False</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="p">(</span><span class="n">Document</span><span class="p">,</span> <span class="p">[]):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Create a Document object from a string encoded in Humdrum **kern format.</span>

<span class="sd">    Args:</span>
<span class="sd">        content: String encoded in Humdrum **kern format</span>
<span class="sd">        strict: If True, raise an error if the **kern file has any errors. Otherwise, return a list of errors.</span>

<span class="sd">    Returns (Document, list): Document object and list of error messages. Empty list if no errors.</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; import kernpy as kp</span>
<span class="sd">        &gt;&gt;&gt; document, errors = kp.create(&#39;**kern\n4e\n4f\n4g\n*-\n&#39;)</span>
<span class="sd">        &gt;&gt;&gt; if len(errors) &gt; 0:</span>
<span class="sd">        &gt;&gt;&gt;     print(errors)</span>
<span class="sd">        [&#39;Error: Invalid **kern spine: 1&#39;, &#39;Error: Invalid **kern spine: 2&#39;]</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">Generic</span><span class="o">.</span><span class="n">create</span><span class="p">(</span>
        <span class="n">content</span><span class="o">=</span><span class="n">content</span><span class="p">,</span>
        <span class="n">strict</span><span class="o">=</span><span class="n">strict</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="kernpy.core.deprecated" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">deprecated</span><span class="p">(</span><span class="n">reason</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Decorator to mark a function or class as deprecated.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>reason</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The reason why the function/class is deprecated.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


<details class="example" open>
  <summary>Example</summary>
  <p>@deprecated("Use new_function instead.")
def old_function():
    pass</p>
</details>
            <details class="quote">
              <summary>Source code in <code>kernpy/util/helpers.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">deprecated</span><span class="p">(</span><span class="n">reason</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Decorator to mark a function or class as deprecated.</span>

<span class="sd">    Args:</span>
<span class="sd">        reason (str): The reason why the function/class is deprecated.</span>

<span class="sd">    Example:</span>
<span class="sd">        @deprecated(&quot;Use new_function instead.&quot;)</span>
<span class="sd">        def old_function():</span>
<span class="sd">            pass</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">decorator</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
        <span class="nd">@functools</span><span class="o">.</span><span class="n">wraps</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>
        <span class="k">def</span><span class="w"> </span><span class="nf">wrapper</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
            <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="n">func</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">&#39; is deprecated: </span><span class="si">{</span><span class="n">reason</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
                <span class="n">category</span><span class="o">=</span><span class="ne">DeprecationWarning</span><span class="p">,</span>
                <span class="n">stacklevel</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="k">return</span> <span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">wrapper</span>
    <span class="k">return</span> <span class="n">decorator</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="kernpy.core.distance" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">distance</span><span class="p">(</span><span class="n">first_encoding</span><span class="p">,</span> <span class="n">second_encoding</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">first_format</span><span class="o">=</span><span class="n">NotationEncoding</span><span class="o">.</span><span class="n">HUMDRUM</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">second_format</span><span class="o">=</span><span class="n">NotationEncoding</span><span class="o">.</span><span class="n">HUMDRUM</span><span class="o">.</span><span class="n">value</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Calculate the distance in semitones between two pitches.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>first_encoding</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The first pitch to compare.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>second_encoding</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The second pitch to compare.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>first_format</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The encoding format of the first pitch. Default is HUMDRUM.</p>
              </div>
            </td>
            <td>
                  <code><span title="kernpy.core.pitch_models.NotationEncoding.HUMDRUM">HUMDRUM</span>.value</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>second_format</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The encoding format of the second pitch. Default is HUMDRUM.</p>
              </div>
            </td>
            <td>
                  <code><span title="kernpy.core.pitch_models.NotationEncoding.HUMDRUM">HUMDRUM</span>.value</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>int</code></td>            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The distance in semitones between the two pitches.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">distance</span><span class="p">(</span><span class="s1">&#39;C4&#39;</span><span class="p">,</span> <span class="s1">&#39;E4&#39;</span><span class="p">)</span>
<span class="go">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">distance</span><span class="p">(</span><span class="s1">&#39;C4&#39;</span><span class="p">,</span> <span class="s1">&#39;B3&#39;</span><span class="p">)</span>
<span class="go">-1</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/transposer.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">distance</span><span class="p">(</span>
    <span class="n">first_encoding</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">second_encoding</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">first_format</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">NotationEncoding</span><span class="o">.</span><span class="n">HUMDRUM</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
    <span class="n">second_format</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">NotationEncoding</span><span class="o">.</span><span class="n">HUMDRUM</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Calculate the distance in semitones between two pitches.</span>

<span class="sd">    Args:</span>
<span class="sd">        first_encoding (str): The first pitch to compare.</span>
<span class="sd">        second_encoding (str): The second pitch to compare.</span>
<span class="sd">        first_format (str): The encoding format of the first pitch. Default is HUMDRUM.</span>
<span class="sd">        second_format (str): The encoding format of the second pitch. Default is HUMDRUM.</span>

<span class="sd">    Returns:</span>
<span class="sd">        int: The distance in semitones between the two pitches.</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; distance(&#39;C4&#39;, &#39;E4&#39;)</span>
<span class="sd">        4</span>
<span class="sd">        &gt;&gt;&gt; distance(&#39;C4&#39;, &#39;B3&#39;)</span>
<span class="sd">        -1</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">first_importer</span> <span class="o">=</span> <span class="n">PitchImporterFactory</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">first_format</span><span class="p">)</span>
    <span class="n">first_pitch</span><span class="p">:</span> <span class="n">AgnosticPitch</span> <span class="o">=</span> <span class="n">first_importer</span><span class="o">.</span><span class="n">import_pitch</span><span class="p">(</span><span class="n">first_encoding</span><span class="p">)</span>

    <span class="n">second_importer</span> <span class="o">=</span> <span class="n">PitchImporterFactory</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">second_format</span><span class="p">)</span>
    <span class="n">second_pitch</span><span class="p">:</span> <span class="n">AgnosticPitch</span> <span class="o">=</span> <span class="n">second_importer</span><span class="o">.</span><span class="n">import_pitch</span><span class="p">(</span><span class="n">second_encoding</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">agnostic_distance</span><span class="p">(</span><span class="n">first_pitch</span><span class="p">,</span> <span class="n">second_pitch</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="kernpy.core.ekern_to_krn" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">ekern_to_krn</span><span class="p">(</span><span class="n">input_file</span><span class="p">,</span> <span class="n">output_file</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Convert one .ekrn file to .krn file.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>input_file</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Filepath to the input **ekern</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>output_file</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Filepath to the output **kern</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns:
    None</p>


<details class="example" open>
  <summary>Example</summary>
  <h3 id="kernpy.core.ekern_to_krn--convert-ekrn-to-krn">Convert .ekrn to .krn</h3>
<blockquote>
<blockquote>
<blockquote>
<p>ekern_to_krn('path/to/file.ekrn', 'path/to/file.krn')</p>
</blockquote>
</blockquote>
</blockquote>
<h3 id="kernpy.core.ekern_to_krn--convert-a-list-of-ekrn-files-to-krn-files">Convert a list of .ekrn files to .krn files</h3>
<pre><code class="language-python">ekrn_files = your_modue.get_files()

# Use the wrapper to avoid stopping the process if an error occurs
def ekern_to_krn_wrapper(ekern_file, kern_file):
    try:
        ekern_to_krn(ekrn_files, output_folder)
    except Exception as e:
        print(f'Error:{e}')

# Convert all the files
for ekern_file in ekrn_files:
    output_file = ekern_file.replace('.ekrn', '.krn')
    ekern_to_krn_wrapper(ekern_file, output_file)
</code></pre>
</details>
            <details class="quote">
              <summary>Source code in <code>kernpy/core/exporter.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span>
<span class="normal">475</span>
<span class="normal">476</span>
<span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">ekern_to_krn</span><span class="p">(</span>
        <span class="n">input_file</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">output_file</span><span class="p">:</span> <span class="nb">str</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Convert one .ekrn file to .krn file.</span>

<span class="sd">    Args:</span>
<span class="sd">        input_file (str): Filepath to the input **ekern</span>
<span class="sd">        output_file (str): Filepath to the output **kern</span>
<span class="sd">    Returns:</span>
<span class="sd">        None</span>

<span class="sd">    Example:</span>
<span class="sd">        # Convert .ekrn to .krn</span>
<span class="sd">        &gt;&gt;&gt; ekern_to_krn(&#39;path/to/file.ekrn&#39;, &#39;path/to/file.krn&#39;)</span>

<span class="sd">        # Convert a list of .ekrn files to .krn files</span>
<span class="sd">        ```python</span>
<span class="sd">        ekrn_files = your_modue.get_files()</span>

<span class="sd">        # Use the wrapper to avoid stopping the process if an error occurs</span>
<span class="sd">        def ekern_to_krn_wrapper(ekern_file, kern_file):</span>
<span class="sd">            try:</span>
<span class="sd">                ekern_to_krn(ekrn_files, output_folder)</span>
<span class="sd">            except Exception as e:</span>
<span class="sd">                print(f&#39;Error:{e}&#39;)</span>

<span class="sd">        # Convert all the files</span>
<span class="sd">        for ekern_file in ekrn_files:</span>
<span class="sd">            output_file = ekern_file.replace(&#39;.ekrn&#39;, &#39;.krn&#39;)</span>
<span class="sd">            ekern_to_krn_wrapper(ekern_file, output_file)</span>
<span class="sd">        ```</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">input_file</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
        <span class="n">content</span> <span class="o">=</span> <span class="n">file</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

    <span class="n">kern_content</span> <span class="o">=</span> <span class="n">get_kern_from_ekern</span><span class="p">(</span><span class="n">content</span><span class="p">)</span>

    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">output_file</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
        <span class="n">file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">kern_content</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="kernpy.core.export" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">export</span><span class="p">(</span><span class="n">document</span><span class="p">,</span> <span class="n">options</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Export a Document object to a string.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>document</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.Document" href="#kernpy.core.Document">Document</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Document object to export</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>options</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.ExportOptions" href="#kernpy.core.ExportOptions">ExportOptions</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Export options</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns: Exported string</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">kernpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">kp</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">document</span><span class="p">,</span> <span class="n">errors</span> <span class="o">=</span> <span class="n">kp</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s1">&#39;path/to/file.krn&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">options</span> <span class="o">=</span> <span class="n">kp</span><span class="o">.</span><span class="n">ExportOptions</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">content</span> <span class="o">=</span> <span class="n">kp</span><span class="o">.</span><span class="n">export</span><span class="p">(</span><span class="n">document</span><span class="p">,</span> <span class="n">options</span><span class="p">)</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/generic.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@deprecated</span><span class="p">(</span><span class="s2">&quot;Use &#39;dumps&#39; instead.&quot;</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">export</span><span class="p">(</span>
        <span class="n">document</span><span class="p">:</span> <span class="n">Document</span><span class="p">,</span>
        <span class="n">options</span><span class="p">:</span> <span class="n">ExportOptions</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Export a Document object to a string.</span>

<span class="sd">    Args:</span>
<span class="sd">        document: Document object to export</span>
<span class="sd">        options: Export options</span>

<span class="sd">    Returns: Exported string</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; import kernpy as kp</span>
<span class="sd">        &gt;&gt;&gt; document, errors = kp.read(&#39;path/to/file.krn&#39;)</span>
<span class="sd">        &gt;&gt;&gt; options = kp.ExportOptions()</span>
<span class="sd">        &gt;&gt;&gt; content = kp.export(document, options)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">Generic</span><span class="o">.</span><span class="n">export</span><span class="p">(</span>
        <span class="n">document</span><span class="o">=</span><span class="n">document</span><span class="p">,</span>
        <span class="n">options</span><span class="o">=</span><span class="n">options</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="kernpy.core.get_kern_from_ekern" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_kern_from_ekern</span><span class="p">(</span><span class="n">ekern_content</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Read the content of a <strong>ekern file and return the </strong>kern content.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>ekern_content</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The content of the **ekern file.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns:
    The content of the **kern file.</p>


<details class="example" open>
  <summary>Example</summary>
  <pre><code class="language-python"># Read **ekern file
ekern_file = 'path/to/file.ekrn'
with open(ekern_file, 'r') as file:
    ekern_content = file.read()

# Get **kern content
kern_content = get_kern_from_ekern(ekern_content)
with open('path/to/file.krn', 'w') as file:
    file.write(kern_content)

</code></pre>
</details>
            <details class="quote">
              <summary>Source code in <code>kernpy/core/exporter.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_kern_from_ekern</span><span class="p">(</span><span class="n">ekern_content</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Read the content of a **ekern file and return the **kern content.</span>

<span class="sd">    Args:</span>
<span class="sd">        ekern_content: The content of the **ekern file.</span>
<span class="sd">    Returns:</span>
<span class="sd">        The content of the **kern file.</span>

<span class="sd">    Example:</span>
<span class="sd">        ```python</span>
<span class="sd">        # Read **ekern file</span>
<span class="sd">        ekern_file = &#39;path/to/file.ekrn&#39;</span>
<span class="sd">        with open(ekern_file, &#39;r&#39;) as file:</span>
<span class="sd">            ekern_content = file.read()</span>

<span class="sd">        # Get **kern content</span>
<span class="sd">        kern_content = get_kern_from_ekern(ekern_content)</span>
<span class="sd">        with open(&#39;path/to/file.krn&#39;, &#39;w&#39;) as file:</span>
<span class="sd">            file.write(kern_content)</span>

<span class="sd">        ```</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">content</span> <span class="o">=</span> <span class="n">ekern_content</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;**ekern&quot;</span><span class="p">,</span> <span class="s2">&quot;**kern&quot;</span><span class="p">)</span>  <span class="c1"># TODO Constante según las cabeceras</span>
    <span class="n">content</span> <span class="o">=</span> <span class="n">content</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">TOKEN_SEPARATOR</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
    <span class="n">content</span> <span class="o">=</span> <span class="n">content</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">DECORATION_SEPARATOR</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">content</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="kernpy.core.get_spine_types" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_spine_types</span><span class="p">(</span><span class="n">document</span><span class="p">,</span> <span class="n">spine_types</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Get the spines of a Document object.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>document</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.Document" href="#kernpy.core.Document">Document</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Document object to get spines from</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>spine_types</code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="collections.abc.Sequence">Sequence</span>[str]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List of spine types to get. If None, all spines are returned.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns (List[str]): List of spines</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">kernpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">kp</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">document</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">kp</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s1">&#39;path/to/file.krn&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kp</span><span class="o">.</span><span class="n">get_spine_types</span><span class="p">(</span><span class="n">document</span><span class="p">)</span>
<span class="go">[&#39;**kern&#39;, &#39;**kern&#39;, &#39;**kern&#39;, &#39;**kern&#39;, &#39;**root&#39;, &#39;**harm&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kp</span><span class="o">.</span><span class="n">get_spine_types</span><span class="p">(</span><span class="n">document</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
<span class="go">[&#39;**kern&#39;, &#39;**kern&#39;, &#39;**kern&#39;, &#39;**kern&#39;, &#39;**root&#39;, &#39;**harm&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kp</span><span class="o">.</span><span class="n">get_spine_types</span><span class="p">(</span><span class="n">document</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;**kern&#39;</span><span class="p">])</span>
<span class="go">[&#39;**kern&#39;, &#39;**kern&#39;, &#39;**kern&#39;, &#39;**kern&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kp</span><span class="o">.</span><span class="n">get_spine_types</span><span class="p">(</span><span class="n">document</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;**kern&#39;</span><span class="p">,</span> <span class="s1">&#39;**root&#39;</span><span class="p">])</span>
<span class="go">[&#39;**kern&#39;, &#39;**kern&#39;, &#39;**kern&#39;, &#39;**kern&#39;, &#39;**root&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kp</span><span class="o">.</span><span class="n">get_spine_types</span><span class="p">(</span><span class="n">document</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;**kern&#39;</span><span class="p">,</span> <span class="s1">&#39;**root&#39;</span><span class="p">,</span> <span class="s1">&#39;**harm&#39;</span><span class="p">])</span>
<span class="go">[&#39;**kern&#39;, &#39;**kern&#39;, &#39;**kern&#39;, &#39;**kern&#39;, &#39;**root&#39;, &#39;**harm&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kp</span><span class="o">.</span><span class="n">get_spine_types</span><span class="p">(</span><span class="n">document</span><span class="p">,</span> <span class="p">[])</span>
<span class="go">[]</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/generic.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@deprecated</span><span class="p">(</span><span class="s2">&quot;Use &#39;spine_types&#39; instead.&quot;</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">get_spine_types</span><span class="p">(</span>
        <span class="n">document</span><span class="p">:</span> <span class="n">Document</span><span class="p">,</span>
        <span class="n">spine_types</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Sequence</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get the spines of a Document object.</span>

<span class="sd">    Args:</span>
<span class="sd">        document (Document): Document object to get spines from</span>
<span class="sd">        spine_types (Optional[Sequence[str]]): List of spine types to get. If None, all spines are returned.</span>

<span class="sd">    Returns (List[str]): List of spines</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; import kernpy as kp</span>
<span class="sd">        &gt;&gt;&gt; document, _ = kp.read(&#39;path/to/file.krn&#39;)</span>
<span class="sd">        &gt;&gt;&gt; kp.get_spine_types(document)</span>
<span class="sd">        [&#39;**kern&#39;, &#39;**kern&#39;, &#39;**kern&#39;, &#39;**kern&#39;, &#39;**root&#39;, &#39;**harm&#39;]</span>
<span class="sd">        &gt;&gt;&gt; kp.get_spine_types(document, None)</span>
<span class="sd">        [&#39;**kern&#39;, &#39;**kern&#39;, &#39;**kern&#39;, &#39;**kern&#39;, &#39;**root&#39;, &#39;**harm&#39;]</span>
<span class="sd">        &gt;&gt;&gt; kp.get_spine_types(document, [&#39;**kern&#39;])</span>
<span class="sd">        [&#39;**kern&#39;, &#39;**kern&#39;, &#39;**kern&#39;, &#39;**kern&#39;]</span>
<span class="sd">        &gt;&gt;&gt; kp.get_spine_types(document, [&#39;**kern&#39;, &#39;**root&#39;])</span>
<span class="sd">        [&#39;**kern&#39;, &#39;**kern&#39;, &#39;**kern&#39;, &#39;**kern&#39;, &#39;**root&#39;]</span>
<span class="sd">        &gt;&gt;&gt; kp.get_spine_types(document, [&#39;**kern&#39;, &#39;**root&#39;, &#39;**harm&#39;])</span>
<span class="sd">        [&#39;**kern&#39;, &#39;**kern&#39;, &#39;**kern&#39;, &#39;**kern&#39;, &#39;**root&#39;, &#39;**harm&#39;]</span>
<span class="sd">        &gt;&gt;&gt; kp.get_spine_types(document, [])</span>
<span class="sd">        []</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">Generic</span><span class="o">.</span><span class="n">get_spine_types</span><span class="p">(</span>
        <span class="n">document</span><span class="o">=</span><span class="n">document</span><span class="p">,</span>
        <span class="n">spine_types</span><span class="o">=</span><span class="n">spine_types</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="kernpy.core.kern_to_ekern" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">kern_to_ekern</span><span class="p">(</span><span class="n">input_file</span><span class="p">,</span> <span class="n">output_file</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Convert one .krn file to .ekrn file</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>input_file</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Filepath to the input **kern</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>output_file</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Filepath to the output **ekern</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>None</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="example" open>
  <summary>Example</summary>
  <h3 id="kernpy.core.kern_to_ekern--convert-krn-to-ekrn">Convert .krn to .ekrn</h3>
<blockquote>
<blockquote>
<blockquote>
<p>kern_to_ekern('path/to/file.krn', 'path/to/file.ekrn')</p>
</blockquote>
</blockquote>
</blockquote>
<h3 id="kernpy.core.kern_to_ekern--convert-a-list-of-krn-files-to-ekrn-files">Convert a list of .krn files to .ekrn files</h3>
<pre><code class="language-python">krn_files = your_module.get_files()

# Use the wrapper to avoid stopping the process if an error occurs
def kern_to_ekern_wrapper(krn_file, ekern_file):
    try:
        kern_to_ekern(krn_file, ekern_file)
    except Exception as e:
        print(f'Error:{e}')

# Convert all the files
for krn_file in krn_files:
    output_file = krn_file.replace('.krn', '.ekrn')
    kern_to_ekern_wrapper(krn_file, output_file)
</code></pre>
</details>
            <details class="quote">
              <summary>Source code in <code>kernpy/core/exporter.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">487</span>
<span class="normal">488</span>
<span class="normal">489</span>
<span class="normal">490</span>
<span class="normal">491</span>
<span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span>
<span class="normal">496</span>
<span class="normal">497</span>
<span class="normal">498</span>
<span class="normal">499</span>
<span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span>
<span class="normal">507</span>
<span class="normal">508</span>
<span class="normal">509</span>
<span class="normal">510</span>
<span class="normal">511</span>
<span class="normal">512</span>
<span class="normal">513</span>
<span class="normal">514</span>
<span class="normal">515</span>
<span class="normal">516</span>
<span class="normal">517</span>
<span class="normal">518</span>
<span class="normal">519</span>
<span class="normal">520</span>
<span class="normal">521</span>
<span class="normal">522</span>
<span class="normal">523</span>
<span class="normal">524</span>
<span class="normal">525</span>
<span class="normal">526</span>
<span class="normal">527</span>
<span class="normal">528</span>
<span class="normal">529</span>
<span class="normal">530</span>
<span class="normal">531</span>
<span class="normal">532</span>
<span class="normal">533</span>
<span class="normal">534</span>
<span class="normal">535</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">kern_to_ekern</span><span class="p">(</span>
        <span class="n">input_file</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">output_file</span><span class="p">:</span> <span class="nb">str</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Convert one .krn file to .ekrn file</span>

<span class="sd">    Args:</span>
<span class="sd">        input_file (str): Filepath to the input **kern</span>
<span class="sd">        output_file (str): Filepath to the output **ekern</span>

<span class="sd">    Returns:</span>
<span class="sd">        None</span>

<span class="sd">    Example:</span>
<span class="sd">        # Convert .krn to .ekrn</span>
<span class="sd">        &gt;&gt;&gt; kern_to_ekern(&#39;path/to/file.krn&#39;, &#39;path/to/file.ekrn&#39;)</span>

<span class="sd">        # Convert a list of .krn files to .ekrn files</span>
<span class="sd">        ```python</span>
<span class="sd">        krn_files = your_module.get_files()</span>

<span class="sd">        # Use the wrapper to avoid stopping the process if an error occurs</span>
<span class="sd">        def kern_to_ekern_wrapper(krn_file, ekern_file):</span>
<span class="sd">            try:</span>
<span class="sd">                kern_to_ekern(krn_file, ekern_file)</span>
<span class="sd">            except Exception as e:</span>
<span class="sd">                print(f&#39;Error:{e}&#39;)</span>

<span class="sd">        # Convert all the files</span>
<span class="sd">        for krn_file in krn_files:</span>
<span class="sd">            output_file = krn_file.replace(&#39;.krn&#39;, &#39;.ekrn&#39;)</span>
<span class="sd">            kern_to_ekern_wrapper(krn_file, output_file)</span>
<span class="sd">        ```</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">importer</span> <span class="o">=</span> <span class="n">Importer</span><span class="p">()</span>
    <span class="n">document</span> <span class="o">=</span> <span class="n">importer</span><span class="o">.</span><span class="n">import_file</span><span class="p">(</span><span class="n">input_file</span><span class="p">)</span>

    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">importer</span><span class="o">.</span><span class="n">errors</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;ERROR: </span><span class="si">{</span><span class="n">input_file</span><span class="si">}</span><span class="s1"> has errors </span><span class="si">{</span><span class="n">importer</span><span class="o">.</span><span class="n">get_error_messages</span><span class="p">()</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

    <span class="n">export_options</span> <span class="o">=</span> <span class="n">ExportOptions</span><span class="p">(</span><span class="n">spine_types</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;**kern&#39;</span><span class="p">],</span> <span class="n">token_categories</span><span class="o">=</span><span class="n">BEKERN_CATEGORIES</span><span class="p">,</span>
                                   <span class="n">kern_type</span><span class="o">=</span><span class="n">KernTypeExporter</span><span class="o">.</span><span class="n">eKern</span><span class="p">)</span>
    <span class="n">exporter</span> <span class="o">=</span> <span class="n">Exporter</span><span class="p">()</span>
    <span class="n">exported_ekern</span> <span class="o">=</span> <span class="n">exporter</span><span class="o">.</span><span class="n">export_string</span><span class="p">(</span><span class="n">document</span><span class="p">,</span> <span class="n">export_options</span><span class="p">)</span>

    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">output_file</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
        <span class="n">file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">exported_ekern</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="kernpy.core.read" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">read</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">strict</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Read a Humdrum **kern file.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>path</code></td>
            <td>
                  <code><span title="typing.Union">Union</span>[str, <span title="pathlib.Path">Path</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>File path to read</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>strict</code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[bool]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If True, raise an error if the **kern file has any errors. Otherwise, return a list of errors.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns (Document, List[str]): Document object and list of error messages. Empty list if no errors.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">kernpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">kp</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">document</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">kp</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s1">&#39;path/to/file.krn&#39;</span><span class="p">)</span>
</code></pre></div>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">document</span><span class="p">,</span> <span class="n">errors</span> <span class="o">=</span> <span class="n">kp</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s1">&#39;path/to/file.krn&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">errors</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="nb">print</span><span class="p">(</span><span class="n">errors</span><span class="p">)</span>
<span class="go">[&#39;Error: Invalid **kern spine: 1&#39;, &#39;Error: Invalid **kern spine: 2&#39;]</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/generic.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@deprecated</span><span class="p">(</span><span class="s2">&quot;Use &#39;load&#39; instead.&quot;</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">read</span><span class="p">(</span>
        <span class="n">path</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Path</span><span class="p">],</span>
        <span class="n">strict</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="p">(</span><span class="n">Document</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Read a Humdrum **kern file.</span>

<span class="sd">    Args:</span>
<span class="sd">        path (Union[str, Path]): File path to read</span>
<span class="sd">        strict (Optional[bool]): If True, raise an error if the **kern file has any errors. Otherwise, return a list of errors.</span>

<span class="sd">    Returns (Document, List[str]): Document object and list of error messages. Empty list if no errors.</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; import kernpy as kp</span>
<span class="sd">        &gt;&gt;&gt; document, _ = kp.read(&#39;path/to/file.krn&#39;)</span>

<span class="sd">        &gt;&gt;&gt; document, errors = kp.read(&#39;path/to/file.krn&#39;)</span>
<span class="sd">        &gt;&gt;&gt; if len(errors) &gt; 0:</span>
<span class="sd">        &gt;&gt;&gt;     print(errors)</span>
<span class="sd">        [&#39;Error: Invalid **kern spine: 1&#39;, &#39;Error: Invalid **kern spine: 2&#39;]</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">Generic</span><span class="o">.</span><span class="n">read</span><span class="p">(</span>
        <span class="n">path</span><span class="o">=</span><span class="n">Path</span><span class="p">(</span><span class="n">path</span><span class="p">),</span>
        <span class="n">strict</span><span class="o">=</span><span class="n">strict</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="kernpy.core.store" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">store</span><span class="p">(</span><span class="n">document</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="n">options</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Store a Document object to a file.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>document</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.Document" href="#kernpy.core.Document">Document</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Document object to store</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>path</code></td>
            <td>
                  <code><span title="typing.Union">Union</span>[str, <span title="pathlib.Path">Path</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>File path to store</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>options</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.ExportOptions" href="#kernpy.core.ExportOptions">ExportOptions</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Export options</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns: None</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">kernpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">kp</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">document</span><span class="p">,</span> <span class="n">errors</span> <span class="o">=</span> <span class="n">kp</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s1">&#39;path/to/file.krn&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">options</span> <span class="o">=</span> <span class="n">kp</span><span class="o">.</span><span class="n">ExportOptions</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kp</span><span class="o">.</span><span class="n">store</span><span class="p">(</span><span class="n">document</span><span class="p">,</span> <span class="s1">&#39;path/to/store.krn&#39;</span><span class="p">,</span> <span class="n">options</span><span class="p">)</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/generic.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@deprecated</span><span class="p">(</span><span class="s2">&quot;Use &#39;dump&#39; instead.&quot;</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">store</span><span class="p">(</span>
        <span class="n">document</span><span class="p">:</span> <span class="n">Document</span><span class="p">,</span>
        <span class="n">path</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Path</span><span class="p">],</span>
        <span class="n">options</span><span class="p">:</span> <span class="n">ExportOptions</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Store a Document object to a file.</span>

<span class="sd">    Args:</span>
<span class="sd">        document (Document): Document object to store</span>
<span class="sd">        path (Union[str, Path]): File path to store</span>
<span class="sd">        options (ExportOptions): Export options</span>

<span class="sd">    Returns: None</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; import kernpy as kp</span>
<span class="sd">        &gt;&gt;&gt; document, errors = kp.read(&#39;path/to/file.krn&#39;)</span>
<span class="sd">        &gt;&gt;&gt; options = kp.ExportOptions()</span>
<span class="sd">        &gt;&gt;&gt; kp.store(document, &#39;path/to/store.krn&#39;, options)</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">Generic</span><span class="o">.</span><span class="n">store</span><span class="p">(</span>
        <span class="n">document</span><span class="o">=</span><span class="n">document</span><span class="p">,</span>
        <span class="n">path</span><span class="o">=</span><span class="n">Path</span><span class="p">(</span><span class="n">path</span><span class="p">),</span>
        <span class="n">options</span><span class="o">=</span><span class="n">options</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="kernpy.core.store_graph" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">store_graph</span><span class="p">(</span><span class="n">document</span><span class="p">,</span> <span class="n">path</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Create a graph representation of a Document object using Graphviz. Save the graph to a file.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>document</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.Document" href="#kernpy.core.Document">Document</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Document object to create graph from</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>path</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>File path to save the graph</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns (None): None</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">kernpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">kp</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">document</span><span class="p">,</span> <span class="n">errors</span> <span class="o">=</span> <span class="n">kp</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s1">&#39;path/to/file.krn&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kp</span><span class="o">.</span><span class="n">store_graph</span><span class="p">(</span><span class="n">document</span><span class="p">,</span> <span class="s1">&#39;path/to/graph.dot&#39;</span><span class="p">)</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/generic.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@deprecated</span><span class="p">(</span><span class="s2">&quot;Use &#39;graph&#39; instead.&quot;</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">store_graph</span><span class="p">(</span>
        <span class="n">document</span><span class="p">:</span> <span class="n">Document</span><span class="p">,</span>
        <span class="n">path</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Path</span><span class="p">]</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Create a graph representation of a Document object using Graphviz. Save the graph to a file.</span>

<span class="sd">    Args:</span>
<span class="sd">        document (Document): Document object to create graph from</span>
<span class="sd">        path (str): File path to save the graph</span>

<span class="sd">    Returns (None): None</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; import kernpy as kp</span>
<span class="sd">        &gt;&gt;&gt; document, errors = kp.read(&#39;path/to/file.krn&#39;)</span>
<span class="sd">        &gt;&gt;&gt; kp.store_graph(document, &#39;path/to/graph.dot&#39;)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">Generic</span><span class="o">.</span><span class="n">store_graph</span><span class="p">(</span>
        <span class="n">document</span><span class="o">=</span><span class="n">document</span><span class="p">,</span>
        <span class="n">path</span><span class="o">=</span><span class="n">Path</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="kernpy.core.transpose" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">transpose</span><span class="p">(</span><span class="n">input_encoding</span><span class="p">,</span> <span class="n">interval</span><span class="p">,</span> <span class="n">input_format</span><span class="o">=</span><span class="n">NotationEncoding</span><span class="o">.</span><span class="n">HUMDRUM</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">output_format</span><span class="o">=</span><span class="n">NotationEncoding</span><span class="o">.</span><span class="n">HUMDRUM</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">direction</span><span class="o">=</span><span class="n">Direction</span><span class="o">.</span><span class="n">UP</span><span class="o">.</span><span class="n">value</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Transpose a pitch by a given interval.</p>
<p>The pitch must be in the American notation.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>input_encoding</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The pitch to transpose.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>interval</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The interval to transpose the pitch.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>input_format</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The encoding format of the pitch. Default is HUMDRUM.</p>
              </div>
            </td>
            <td>
                  <code><span title="kernpy.core.pitch_models.NotationEncoding.HUMDRUM">HUMDRUM</span>.value</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>output_format</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The encoding format of the transposed pitch. Default is HUMDRUM.</p>
              </div>
            </td>
            <td>
                  <code><span title="kernpy.core.pitch_models.NotationEncoding.HUMDRUM">HUMDRUM</span>.value</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>direction</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The direction of the transposition.'UP' or 'DOWN' Default is 'UP'.</p>
              </div>
            </td>
            <td>
                  <code><span title="kernpy.core.pitch_models.Direction.UP">UP</span>.value</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>str</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The transposed pitch.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">transpose</span><span class="p">(</span><span class="s1">&#39;ccc&#39;</span><span class="p">,</span> <span class="n">IntervalsByName</span><span class="p">[</span><span class="s1">&#39;P4&#39;</span><span class="p">],</span> <span class="n">input_format</span><span class="o">=</span><span class="s1">&#39;kern&#39;</span><span class="p">,</span> <span class="n">output_format</span><span class="o">=</span><span class="s1">&#39;kern&#39;</span><span class="p">)</span>
<span class="go">&#39;fff&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">transpose</span><span class="p">(</span><span class="s1">&#39;ccc&#39;</span><span class="p">,</span> <span class="n">IntervalsByName</span><span class="p">[</span><span class="s1">&#39;P4&#39;</span><span class="p">],</span> <span class="n">input_format</span><span class="o">=</span><span class="n">NotationEncoding</span><span class="o">.</span><span class="n">HUMDRUM</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
<span class="go">&#39;fff&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">transpose</span><span class="p">(</span><span class="s1">&#39;ccc&#39;</span><span class="p">,</span> <span class="n">IntervalsByName</span><span class="p">[</span><span class="s1">&#39;P4&#39;</span><span class="p">],</span> <span class="n">input_format</span><span class="o">=</span><span class="s1">&#39;kern&#39;</span><span class="p">,</span> <span class="n">direction</span><span class="o">=</span><span class="s1">&#39;down&#39;</span><span class="p">)</span>
<span class="go">&#39;gg&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">transpose</span><span class="p">(</span><span class="s1">&#39;ccc&#39;</span><span class="p">,</span> <span class="n">IntervalsByName</span><span class="p">[</span><span class="s1">&#39;P4&#39;</span><span class="p">],</span> <span class="n">input_format</span><span class="o">=</span><span class="s1">&#39;kern&#39;</span><span class="p">,</span> <span class="n">direction</span><span class="o">=</span><span class="n">Direction</span><span class="o">.</span><span class="n">DOWN</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
<span class="go">&#39;gg&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">transpose</span><span class="p">(</span><span class="s1">&#39;ccc#&#39;</span><span class="p">,</span> <span class="n">IntervalsByName</span><span class="p">[</span><span class="s1">&#39;P4&#39;</span><span class="p">])</span>
<span class="go">&#39;fff#&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">transpose</span><span class="p">(</span><span class="s1">&#39;G4&#39;</span><span class="p">,</span> <span class="n">IntervalsByName</span><span class="p">[</span><span class="s1">&#39;m3&#39;</span><span class="p">],</span> <span class="n">input_format</span><span class="o">=</span><span class="s1">&#39;american&#39;</span><span class="p">)</span>
<span class="go">&#39;Bb4&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">transpose</span><span class="p">(</span><span class="s1">&#39;G4&#39;</span><span class="p">,</span> <span class="n">IntervalsByName</span><span class="p">[</span><span class="s1">&#39;m3&#39;</span><span class="p">],</span> <span class="n">input_format</span><span class="o">=</span><span class="n">NotationEncoding</span><span class="o">.</span><span class="n">AMERICAN</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
<span class="go">&#39;Bb4&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">transpose</span><span class="p">(</span><span class="s1">&#39;C3&#39;</span><span class="p">,</span> <span class="n">IntervalsByName</span><span class="p">[</span><span class="s1">&#39;P4&#39;</span><span class="p">],</span> <span class="n">input_format</span><span class="o">=</span><span class="s1">&#39;american&#39;</span><span class="p">,</span> <span class="n">direction</span><span class="o">=</span><span class="s1">&#39;down&#39;</span><span class="p">)</span>
<span class="go">&#39;G2&#39;</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/transposer.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">transpose</span><span class="p">(</span>
        <span class="n">input_encoding</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">interval</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">input_format</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">NotationEncoding</span><span class="o">.</span><span class="n">HUMDRUM</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
        <span class="n">output_format</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">NotationEncoding</span><span class="o">.</span><span class="n">HUMDRUM</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
        <span class="n">direction</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Direction</span><span class="o">.</span><span class="n">UP</span><span class="o">.</span><span class="n">value</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Transpose a pitch by a given interval.</span>

<span class="sd">    The pitch must be in the American notation.</span>

<span class="sd">    Args:</span>
<span class="sd">        input_encoding (str): The pitch to transpose.</span>
<span class="sd">        interval (int): The interval to transpose the pitch.</span>
<span class="sd">        input_format (str): The encoding format of the pitch. Default is HUMDRUM.</span>
<span class="sd">        output_format (str): The encoding format of the transposed pitch. Default is HUMDRUM.</span>
<span class="sd">        direction (str): The direction of the transposition.&#39;UP&#39; or &#39;DOWN&#39; Default is &#39;UP&#39;.</span>

<span class="sd">    Returns:</span>
<span class="sd">        str: The transposed pitch.</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; transpose(&#39;ccc&#39;, IntervalsByName[&#39;P4&#39;], input_format=&#39;kern&#39;, output_format=&#39;kern&#39;)</span>
<span class="sd">        &#39;fff&#39;</span>
<span class="sd">        &gt;&gt;&gt; transpose(&#39;ccc&#39;, IntervalsByName[&#39;P4&#39;], input_format=NotationEncoding.HUMDRUM.value)</span>
<span class="sd">        &#39;fff&#39;</span>
<span class="sd">        &gt;&gt;&gt; transpose(&#39;ccc&#39;, IntervalsByName[&#39;P4&#39;], input_format=&#39;kern&#39;, direction=&#39;down&#39;)</span>
<span class="sd">        &#39;gg&#39;</span>
<span class="sd">        &gt;&gt;&gt; transpose(&#39;ccc&#39;, IntervalsByName[&#39;P4&#39;], input_format=&#39;kern&#39;, direction=Direction.DOWN.value)</span>
<span class="sd">        &#39;gg&#39;</span>
<span class="sd">        &gt;&gt;&gt; transpose(&#39;ccc#&#39;, IntervalsByName[&#39;P4&#39;])</span>
<span class="sd">        &#39;fff#&#39;</span>
<span class="sd">        &gt;&gt;&gt; transpose(&#39;G4&#39;, IntervalsByName[&#39;m3&#39;], input_format=&#39;american&#39;)</span>
<span class="sd">        &#39;Bb4&#39;</span>
<span class="sd">        &gt;&gt;&gt; transpose(&#39;G4&#39;, IntervalsByName[&#39;m3&#39;], input_format=NotationEncoding.AMERICAN.value)</span>
<span class="sd">        &#39;Bb4&#39;</span>
<span class="sd">        &gt;&gt;&gt; transpose(&#39;C3&#39;, IntervalsByName[&#39;P4&#39;], input_format=&#39;american&#39;, direction=&#39;down&#39;)</span>
<span class="sd">        &#39;G2&#39;</span>


<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">importer</span> <span class="o">=</span> <span class="n">PitchImporterFactory</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">input_format</span><span class="p">)</span>
    <span class="n">pitch</span><span class="p">:</span> <span class="n">AgnosticPitch</span> <span class="o">=</span> <span class="n">importer</span><span class="o">.</span><span class="n">import_pitch</span><span class="p">(</span><span class="n">input_encoding</span><span class="p">)</span>

    <span class="n">transposed_pitch</span> <span class="o">=</span> <span class="n">transpose_agnostics</span><span class="p">(</span><span class="n">pitch</span><span class="p">,</span> <span class="n">interval</span><span class="p">,</span> <span class="n">direction</span><span class="o">=</span><span class="n">direction</span><span class="p">)</span>

    <span class="n">exporter</span> <span class="o">=</span> <span class="n">PitchExporterFactory</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">output_format</span><span class="p">)</span>
    <span class="n">content</span> <span class="o">=</span> <span class="n">exporter</span><span class="o">.</span><span class="n">export_pitch</span><span class="p">(</span><span class="n">transposed_pitch</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">content</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="kernpy.core.transpose_agnostic_to_encoding" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">transpose_agnostic_to_encoding</span><span class="p">(</span><span class="n">agnostic_pitch</span><span class="p">,</span> <span class="n">interval</span><span class="p">,</span> <span class="n">output_format</span><span class="o">=</span><span class="n">NotationEncoding</span><span class="o">.</span><span class="n">HUMDRUM</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">direction</span><span class="o">=</span><span class="n">Direction</span><span class="o">.</span><span class="n">UP</span><span class="o">.</span><span class="n">value</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Transpose an AgnosticPitch by a given interval.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>agnostic_pitch</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.pitch_models.AgnosticPitch" href="#kernpy.core.AgnosticPitch">AgnosticPitch</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The pitch to transpose.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>interval</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The interval to transpose the pitch.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>output_format</code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[str]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The encoding format of the transposed pitch. Default is HUMDRUM.</p>
              </div>
            </td>
            <td>
                  <code><span title="kernpy.core.pitch_models.NotationEncoding.HUMDRUM">HUMDRUM</span>.value</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>direction</code></td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[str]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The direction of the transposition.'UP' or 'DOWN' Default is 'UP'.</p>
              </div>
            </td>
            <td>
                  <code><span title="kernpy.core.pitch_models.Direction.UP">UP</span>.value</code>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns (str):
    str: The transposed pitch.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">transpose_agnostic_to_encoding</span><span class="p">(</span><span class="n">AgnosticPitch</span><span class="p">(</span><span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="n">IntervalsByName</span><span class="p">[</span><span class="s1">&#39;P4&#39;</span><span class="p">])</span>
<span class="go">&#39;F4&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">transpose_agnostic_to_encoding</span><span class="p">(</span><span class="n">AgnosticPitch</span><span class="p">(</span><span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="n">IntervalsByName</span><span class="p">[</span><span class="s1">&#39;P4&#39;</span><span class="p">],</span> <span class="n">direction</span><span class="o">=</span><span class="s1">&#39;down&#39;</span><span class="p">)</span>
<span class="go">&#39;G3&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">transpose_agnostic_to_encoding</span><span class="p">(</span><span class="n">AgnosticPitch</span><span class="p">(</span><span class="s1">&#39;C#&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="n">IntervalsByName</span><span class="p">[</span><span class="s1">&#39;P4&#39;</span><span class="p">])</span>
<span class="go">&#39;F#4&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">transpose_agnostic_to_encoding</span><span class="p">(</span><span class="n">AgnosticPitch</span><span class="p">(</span><span class="s1">&#39;G&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="n">IntervalsByName</span><span class="p">[</span><span class="s1">&#39;m3&#39;</span><span class="p">],</span> <span class="n">direction</span><span class="o">=</span><span class="s1">&#39;down&#39;</span><span class="p">)</span>
<span class="go">&#39;Bb4&#39;</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/transposer.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">transpose_agnostic_to_encoding</span><span class="p">(</span>
        <span class="n">agnostic_pitch</span><span class="p">:</span> <span class="n">AgnosticPitch</span><span class="p">,</span>
        <span class="n">interval</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">output_format</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">NotationEncoding</span><span class="o">.</span><span class="n">HUMDRUM</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
        <span class="n">direction</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Direction</span><span class="o">.</span><span class="n">UP</span><span class="o">.</span><span class="n">value</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Transpose an AgnosticPitch by a given interval.</span>

<span class="sd">    Args:</span>
<span class="sd">        agnostic_pitch (AgnosticPitch): The pitch to transpose.</span>
<span class="sd">        interval (int): The interval to transpose the pitch.</span>
<span class="sd">        output_format (Optional[str]): The encoding format of the transposed pitch. Default is HUMDRUM.</span>
<span class="sd">        direction (Optional[str]): The direction of the transposition.&#39;UP&#39; or &#39;DOWN&#39; Default is &#39;UP&#39;.</span>

<span class="sd">    Returns (str):</span>
<span class="sd">        str: The transposed pitch.</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; transpose_agnostic_to_encoding(AgnosticPitch(&#39;C&#39;, 4), IntervalsByName[&#39;P4&#39;])</span>
<span class="sd">        &#39;F4&#39;</span>
<span class="sd">        &gt;&gt;&gt; transpose_agnostic_to_encoding(AgnosticPitch(&#39;C&#39;, 4), IntervalsByName[&#39;P4&#39;], direction=&#39;down&#39;)</span>
<span class="sd">        &#39;G3&#39;</span>
<span class="sd">        &gt;&gt;&gt; transpose_agnostic_to_encoding(AgnosticPitch(&#39;C#&#39;, 4), IntervalsByName[&#39;P4&#39;])</span>
<span class="sd">        &#39;F#4&#39;</span>
<span class="sd">        &gt;&gt;&gt; transpose_agnostic_to_encoding(AgnosticPitch(&#39;G&#39;, 4), IntervalsByName[&#39;m3&#39;], direction=&#39;down&#39;)</span>
<span class="sd">        &#39;Bb4&#39;</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">exporter</span> <span class="o">=</span> <span class="n">PitchExporterFactory</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">output_format</span><span class="p">)</span>
    <span class="n">transposed_pitch</span> <span class="o">=</span> <span class="n">transpose_agnostics</span><span class="p">(</span><span class="n">agnostic_pitch</span><span class="p">,</span> <span class="n">interval</span><span class="p">,</span> <span class="n">direction</span><span class="o">=</span><span class="n">direction</span><span class="p">)</span>
    <span class="n">content</span> <span class="o">=</span> <span class="n">exporter</span><span class="o">.</span><span class="n">export_pitch</span><span class="p">(</span><span class="n">transposed_pitch</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">content</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="kernpy.core.transpose_agnostics" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">transpose_agnostics</span><span class="p">(</span><span class="n">input_pitch</span><span class="p">,</span> <span class="n">interval</span><span class="p">,</span> <span class="n">direction</span><span class="o">=</span><span class="n">Direction</span><span class="o">.</span><span class="n">UP</span><span class="o">.</span><span class="n">value</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Transpose an AgnosticPitch by a given interval.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>input_pitch</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.pitch_models.AgnosticPitch" href="#kernpy.core.AgnosticPitch">AgnosticPitch</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The pitch to transpose.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>interval</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The interval to transpose the pitch.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>direction</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The direction of the transposition. 'UP' or 'DOWN'. Default is 'UP'.</p>
              </div>
            </td>
            <td>
                  <code><span title="kernpy.core.pitch_models.Direction.UP">UP</span>.value</code>
            </td>
          </tr>
      </tbody>
    </table>


<details class="returns-" open>
  <summary>Returns</summary>
  <p>AgnosticPitch: The transposed pitch.</p>
</details>

<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">transpose_agnostics</span><span class="p">(</span><span class="n">AgnosticPitch</span><span class="p">(</span><span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="n">IntervalsByName</span><span class="p">[</span><span class="s1">&#39;P4&#39;</span><span class="p">])</span>
<span class="go">AgnosticPitch(&#39;F&#39;, 4)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">transpose_agnostics</span><span class="p">(</span><span class="n">AgnosticPitch</span><span class="p">(</span><span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="n">IntervalsByName</span><span class="p">[</span><span class="s1">&#39;P4&#39;</span><span class="p">],</span> <span class="n">direction</span><span class="o">=</span><span class="s1">&#39;down&#39;</span><span class="p">)</span>
<span class="go">AgnosticPitch(&#39;G&#39;, 3)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">transpose_agnostics</span><span class="p">(</span><span class="n">AgnosticPitch</span><span class="p">(</span><span class="s1">&#39;C#&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="n">IntervalsByName</span><span class="p">[</span><span class="s1">&#39;P4&#39;</span><span class="p">])</span>
<span class="go">AgnosticPitch(&#39;F#&#39;, 4)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">transpose_agnostics</span><span class="p">(</span><span class="n">AgnosticPitch</span><span class="p">(</span><span class="s1">&#39;G&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="n">IntervalsByName</span><span class="p">[</span><span class="s1">&#39;m3&#39;</span><span class="p">],</span> <span class="n">direction</span><span class="o">=</span><span class="s1">&#39;down&#39;</span><span class="p">)</span>
<span class="go">AgnosticPitch(&#39;Bb&#39;, 4)</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/transposer.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">transpose_agnostics</span><span class="p">(</span>
        <span class="n">input_pitch</span><span class="p">:</span> <span class="n">AgnosticPitch</span><span class="p">,</span>
        <span class="n">interval</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">direction</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Direction</span><span class="o">.</span><span class="n">UP</span><span class="o">.</span><span class="n">value</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AgnosticPitch</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Transpose an AgnosticPitch by a given interval.</span>

<span class="sd">    Args:</span>
<span class="sd">        input_pitch (AgnosticPitch): The pitch to transpose.</span>
<span class="sd">        interval (int): The interval to transpose the pitch.</span>
<span class="sd">        direction (str): The direction of the transposition. &#39;UP&#39; or &#39;DOWN&#39;. Default is &#39;UP&#39;.</span>

<span class="sd">    Returns :</span>
<span class="sd">        AgnosticPitch: The transposed pitch.</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; transpose_agnostics(AgnosticPitch(&#39;C&#39;, 4), IntervalsByName[&#39;P4&#39;])</span>
<span class="sd">        AgnosticPitch(&#39;F&#39;, 4)</span>
<span class="sd">        &gt;&gt;&gt; transpose_agnostics(AgnosticPitch(&#39;C&#39;, 4), IntervalsByName[&#39;P4&#39;], direction=&#39;down&#39;)</span>
<span class="sd">        AgnosticPitch(&#39;G&#39;, 3)</span>
<span class="sd">        &gt;&gt;&gt; transpose_agnostics(AgnosticPitch(&#39;C#&#39;, 4), IntervalsByName[&#39;P4&#39;])</span>
<span class="sd">        AgnosticPitch(&#39;F#&#39;, 4)</span>
<span class="sd">        &gt;&gt;&gt; transpose_agnostics(AgnosticPitch(&#39;G&#39;, 4), IntervalsByName[&#39;m3&#39;], direction=&#39;down&#39;)</span>
<span class="sd">        AgnosticPitch(&#39;Bb&#39;, 4)</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">AgnosticPitch</span><span class="o">.</span><span class="n">to_transposed</span><span class="p">(</span><span class="n">input_pitch</span><span class="p">,</span> <span class="n">interval</span><span class="p">,</span> <span class="n">direction</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="kernpy.core.transpose_encoding_to_agnostic" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">transpose_encoding_to_agnostic</span><span class="p">(</span><span class="n">input_encoding</span><span class="p">,</span> <span class="n">interval</span><span class="p">,</span> <span class="n">input_format</span><span class="o">=</span><span class="n">NotationEncoding</span><span class="o">.</span><span class="n">HUMDRUM</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">direction</span><span class="o">=</span><span class="n">Direction</span><span class="o">.</span><span class="n">UP</span><span class="o">.</span><span class="n">value</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Transpose a pitch by a given interval.</p>
<p>The pitch must be in the American notation.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>input_encoding</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The pitch to transpose.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>interval</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The interval to transpose the pitch.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>input_format</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The encoding format of the pitch. Default is HUMDRUM.</p>
              </div>
            </td>
            <td>
                  <code><span title="kernpy.core.pitch_models.NotationEncoding.HUMDRUM">HUMDRUM</span>.value</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>direction</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The direction of the transposition.'UP' or 'DOWN' Default is 'UP'.</p>
              </div>
            </td>
            <td>
                  <code><span title="kernpy.core.pitch_models.Direction.UP">UP</span>.value</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>AgnosticPitch</code></td>            <td>
                  <code><a class="autorefs autorefs-internal" title="kernpy.core.pitch_models.AgnosticPitch" href="#kernpy.core.AgnosticPitch">AgnosticPitch</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The transposed pitch.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">transpose_encoding_to_agnostic</span><span class="p">(</span><span class="s1">&#39;ccc&#39;</span><span class="p">,</span> <span class="n">IntervalsByName</span><span class="p">[</span><span class="s1">&#39;P4&#39;</span><span class="p">],</span> <span class="n">input_format</span><span class="o">=</span><span class="s1">&#39;kern&#39;</span><span class="p">)</span>
<span class="go">AgnosticPitch(&#39;fff&#39;, 4)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">transpose_encoding_to_agnostic</span><span class="p">(</span><span class="s1">&#39;ccc&#39;</span><span class="p">,</span> <span class="n">IntervalsByName</span><span class="p">[</span><span class="s1">&#39;P4&#39;</span><span class="p">],</span> <span class="n">input_format</span><span class="o">=</span><span class="n">NotationEncoding</span><span class="o">.</span><span class="n">HUMDRUM</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
<span class="go">AgnosticPitch(&#39;fff&#39;, 4)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">transpose_encoding_to_agnostic</span><span class="p">(</span><span class="s1">&#39;ccc&#39;</span><span class="p">,</span> <span class="n">IntervalsByName</span><span class="p">[</span><span class="s1">&#39;P4&#39;</span><span class="p">],</span> <span class="n">input_format</span><span class="o">=</span><span class="s1">&#39;kern&#39;</span><span class="p">,</span> <span class="n">direction</span><span class="o">=</span><span class="s1">&#39;down&#39;</span><span class="p">)</span>
<span class="go">AgnosticPitch(&#39;gg&#39;, 3)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">transpose_encoding_to_agnostic</span><span class="p">(</span><span class="s1">&#39;ccc#&#39;</span><span class="p">,</span> <span class="n">IntervalsByName</span><span class="p">[</span><span class="s1">&#39;P4&#39;</span><span class="p">])</span>
<span class="go">AgnosticPitch(&#39;fff#&#39;, 4)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">transpose_encoding_to_agnostic</span><span class="p">(</span><span class="s1">&#39;G4&#39;</span><span class="p">,</span> <span class="n">IntervalsByName</span><span class="p">[</span><span class="s1">&#39;m3&#39;</span><span class="p">],</span> <span class="n">input_format</span><span class="o">=</span><span class="s1">&#39;american&#39;</span><span class="p">)</span>
<span class="go">AgnosticPitch(&#39;Bb4&#39;, 4)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">transpose_encoding_to_agnostic</span><span class="p">(</span><span class="s1">&#39;C3&#39;</span><span class="p">,</span> <span class="n">IntervalsByName</span><span class="p">[</span><span class="s1">&#39;P4&#39;</span><span class="p">],</span> <span class="n">input_format</span><span class="o">=</span><span class="s1">&#39;american&#39;</span><span class="p">,</span> <span class="n">direction</span><span class="o">=</span><span class="s1">&#39;down&#39;</span><span class="p">)</span>
<span class="go">AgnosticPitch(&#39;G2&#39;, 2)</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>kernpy/core/transposer.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">transpose_encoding_to_agnostic</span><span class="p">(</span>
        <span class="n">input_encoding</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">interval</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">input_format</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">NotationEncoding</span><span class="o">.</span><span class="n">HUMDRUM</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
        <span class="n">direction</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Direction</span><span class="o">.</span><span class="n">UP</span><span class="o">.</span><span class="n">value</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AgnosticPitch</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Transpose a pitch by a given interval.</span>

<span class="sd">    The pitch must be in the American notation.</span>

<span class="sd">    Args:</span>
<span class="sd">        input_encoding (str): The pitch to transpose.</span>
<span class="sd">        interval (int): The interval to transpose the pitch.</span>
<span class="sd">        input_format (str): The encoding format of the pitch. Default is HUMDRUM.</span>
<span class="sd">        direction (str): The direction of the transposition.&#39;UP&#39; or &#39;DOWN&#39; Default is &#39;UP&#39;.</span>

<span class="sd">    Returns:</span>
<span class="sd">        AgnosticPitch: The transposed pitch.</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; transpose_encoding_to_agnostic(&#39;ccc&#39;, IntervalsByName[&#39;P4&#39;], input_format=&#39;kern&#39;)</span>
<span class="sd">        AgnosticPitch(&#39;fff&#39;, 4)</span>
<span class="sd">        &gt;&gt;&gt; transpose_encoding_to_agnostic(&#39;ccc&#39;, IntervalsByName[&#39;P4&#39;], input_format=NotationEncoding.HUMDRUM.value)</span>
<span class="sd">        AgnosticPitch(&#39;fff&#39;, 4)</span>
<span class="sd">        &gt;&gt;&gt; transpose_encoding_to_agnostic(&#39;ccc&#39;, IntervalsByName[&#39;P4&#39;], input_format=&#39;kern&#39;, direction=&#39;down&#39;)</span>
<span class="sd">        AgnosticPitch(&#39;gg&#39;, 3)</span>
<span class="sd">        &gt;&gt;&gt; transpose_encoding_to_agnostic(&#39;ccc#&#39;, IntervalsByName[&#39;P4&#39;])</span>
<span class="sd">        AgnosticPitch(&#39;fff#&#39;, 4)</span>
<span class="sd">        &gt;&gt;&gt; transpose_encoding_to_agnostic(&#39;G4&#39;, IntervalsByName[&#39;m3&#39;], input_format=&#39;american&#39;)</span>
<span class="sd">        AgnosticPitch(&#39;Bb4&#39;, 4)</span>
<span class="sd">        &gt;&gt;&gt; transpose_encoding_to_agnostic(&#39;C3&#39;, IntervalsByName[&#39;P4&#39;], input_format=&#39;american&#39;, direction=&#39;down&#39;)</span>
<span class="sd">        AgnosticPitch(&#39;G2&#39;, 2)</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">importer</span> <span class="o">=</span> <span class="n">PitchImporterFactory</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">input_format</span><span class="p">)</span>
    <span class="n">pitch</span><span class="p">:</span> <span class="n">AgnosticPitch</span> <span class="o">=</span> <span class="n">importer</span><span class="o">.</span><span class="n">import_pitch</span><span class="p">(</span><span class="n">input_encoding</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">transpose_agnostics</span><span class="p">(</span><span class="n">pitch</span><span class="p">,</span> <span class="n">interval</span><span class="p">,</span> <span class="n">direction</span><span class="o">=</span><span class="n">direction</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<a id="kernpy.util"></a>
    <div class="doc doc-contents first">

        <p>kernpy.util</p>
<p>=====</p>
<p>This module contains utility functions for the kernpy package.</p>



  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h2 id="kernpy.util.StoreCache" class="doc doc-heading">
            <code>StoreCache</code>


</h2>


    <div class="doc doc-contents ">


        <p>A simple cache that stores the result of a callback function</p>

              <details class="quote">
                <summary>Source code in <code>kernpy/util/store_cache.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">StoreCache</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A simple cache that stores the result of a callback function</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Constructor</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">memory</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">request</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">callback</span><span class="p">,</span> <span class="n">request</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Request a value from the cache. If the value is not in the cache, it will be calculated by the callback function</span>
<span class="sd">        Args:</span>
<span class="sd">            callback (function): The callback function that will be called to calculate the value</span>
<span class="sd">            request (any): The request that will be passed to the callback function</span>

<span class="sd">        Returns (any): The value that was requested</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; def add_five(x):</span>
<span class="sd">            ...     return x + 5</span>
<span class="sd">            &gt;&gt;&gt; store_cache = StoreCache()</span>
<span class="sd">            &gt;&gt;&gt; store_cache.request(callback, 5)  # Call the callback function</span>
<span class="sd">            10</span>
<span class="sd">            &gt;&gt;&gt; store_cache.request(callback, 5)  # Return the value from the cache, without calling the callback function</span>
<span class="sd">            10</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">request</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">memory</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">memory</span><span class="p">[</span><span class="n">request</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">callback</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">memory</span><span class="p">[</span><span class="n">request</span><span class="p">]</span> <span class="o">=</span> <span class="n">result</span>
            <span class="k">return</span> <span class="n">result</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="kernpy.util.StoreCache.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Constructor</p>

            <details class="quote">
              <summary>Source code in <code>kernpy/util/store_cache.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span>
<span class="normal">8</span>
<span class="normal">9</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Constructor</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">memory</span> <span class="o">=</span> <span class="p">{}</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="kernpy.util.StoreCache.request" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">request</span><span class="p">(</span><span class="n">callback</span><span class="p">,</span> <span class="n">request</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Request a value from the cache. If the value is not in the cache, it will be calculated by the callback function
Args:
    callback (function): The callback function that will be called to calculate the value
    request (any): The request that will be passed to the callback function</p>
<p>Returns (any): The value that was requested</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span><span class="w"> </span><span class="nf">add_five</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">store_cache</span> <span class="o">=</span> <span class="n">StoreCache</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">store_cache</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="n">callback</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>  <span class="c1"># Call the callback function</span>
<span class="go">10</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">store_cache</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="n">callback</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>  <span class="c1"># Return the value from the cache, without calling the callback function</span>
<span class="go">10</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>kernpy/util/store_cache.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">request</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">callback</span><span class="p">,</span> <span class="n">request</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Request a value from the cache. If the value is not in the cache, it will be calculated by the callback function</span>
<span class="sd">    Args:</span>
<span class="sd">        callback (function): The callback function that will be called to calculate the value</span>
<span class="sd">        request (any): The request that will be passed to the callback function</span>

<span class="sd">    Returns (any): The value that was requested</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; def add_five(x):</span>
<span class="sd">        ...     return x + 5</span>
<span class="sd">        &gt;&gt;&gt; store_cache = StoreCache()</span>
<span class="sd">        &gt;&gt;&gt; store_cache.request(callback, 5)  # Call the callback function</span>
<span class="sd">        10</span>
<span class="sd">        &gt;&gt;&gt; store_cache.request(callback, 5)  # Return the value from the cache, without calling the callback function</span>
<span class="sd">        10</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">request</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">memory</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">memory</span><span class="p">[</span><span class="n">request</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">callback</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">memory</span><span class="p">[</span><span class="n">request</span><span class="p">]</span> <span class="o">=</span> <span class="n">result</span>
        <span class="k">return</span> <span class="n">result</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>




  </div>

    </div>

</div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <div class="md-footer" style="padding: 20px 20px;">
    <p class="md-typeset md-typeset--large" style="margin-bottom: 10px;">
        &copy; 2024 - <script>document.write(new Date().toLocaleDateString("en-US", {year: 'numeric'}));</script>

        <a href="https://www.ua.es" target="_blank" class="md-link">Universitat d'Alacant</a>
    </p>
    <p class="md-typeset md-typeset--large" style="margin-top: 10px;">
        Visit our GitHub repository <a href="https://github.com/OMR-PRAIG-UA-ES/kernpy.git" target="_blank" class="md-link">here.</a>
    </p>
</div>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.13a4f30d.min.js"></script>
      
    
  </body>
</html>